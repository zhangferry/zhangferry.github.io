<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>zhangferry</title>


    <meta name="description" content="åªæœ‰é¢‘ç‡ç›¸åŒçš„äººï¼Œæ‰èƒ½çœ‹è§å½¼æ­¤å†…å¿ƒæ·±å¤„ä¸ä¸ºäººçŸ¥çš„ä¼˜é›…ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="zhangferry">
<meta property="og:url" content="http://zhangferry.github.io/index.html">
<meta property="og:site_name" content="zhangferry">
<meta property="og:description" content="åªæœ‰é¢‘ç‡ç›¸åŒçš„äººï¼Œæ‰èƒ½çœ‹è§å½¼æ­¤å†…å¿ƒæ·±å¤„ä¸ä¸ºäººçŸ¥çš„ä¼˜é›…ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://zhangferry.github.io/images/og_image.png">
<meta property="article:author" content="zhangferry">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://zhangferry.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/tomorrow-night-bright.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
<link rel="alternate" href="/atom.xml" title="zhangferry" type="application/atom+xml">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo_2.svg" alt="zhangferry" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item is-active"
                href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item"
                href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item"
                href="/tags">æ ‡ç­¾</a>
                
                <a class="navbar-item"
                href="/about">å…³äº</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zhangferry">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/05/10/swifter_question/"><i class="fas fa-angle-double-right"></i>Swifté»„é‡‘é€‰æ‰‹é‰´å®šæ‰‹å†Œ</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-05-09T16:00:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-05-10</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-05-11T16:01:42.054Z"><i class="far fa-calendar-check">&nbsp;</i>2020-05-12</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    40 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 6048 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/05/10/swifter_question/">Swifté»„é‡‘é€‰æ‰‹é‰´å®šæ‰‹å†Œ</a>
            
        </h1> -->
        <div class="content">
            <p><img src="https://cdn.jsdelivr.net/gh/zhangferry/Images/blog/image-20200511230812677.png" alt="image-20200511230812677"></p>
<p>è¿™ç¯‡æ˜¯å¯¹<a href="https://juejin.im/post/5e96f898e51d4546c27bcf81">ä¸€æ–‡é‰´å®šæ˜¯Swiftçš„ç‹è€…ï¼Œè¿˜æ˜¯é’é“œ</a>æ–‡ç« ä¸­é—®é¢˜çš„è§£ç­”ã€‚è¿™äº›é—®é¢˜ä»…ä»…æ˜¯è¡¨å±‚æ¦‚å¿µï¼Œå±äºçŸ¥è¯†ç‚¹ï¼Œåœ¨æˆ‘çœ‹æ¥å³ä½¿éƒ½å¾ˆæ¸…æ¥šä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸Šäº†ç‹è€…ï¼Œå¦‚æœéè¦ç”¨æ®µä½ç±»æ¯”çš„è¯ï¼Œé»„é‡‘è¿˜æ˜¯åˆç†çš„ğŸ˜„ã€‚</p>
<p>Swiftæ˜¯ä¸€é—¨ä¸Šæ‰‹å®¹æ˜“ï¼Œä½†æ˜¯ç²¾é€šè¾ƒéš¾çš„è¯­è¨€ã€‚å³ä½¿ä¸‹é¢è¿™äº›å†…å®¹éƒ½ä¸æ¸…æ¥šä¹Ÿä¸å¦¨ç¢ä½ å¼€å‘ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯äº†è§£ä¹‹åå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´åŠ Swiftyçš„ä»£ç ã€‚</p>
<h2 id="ä¸€ã€-åè®®-Protocol"><a href="#ä¸€ã€-åè®®-Protocol" class="headerlink" title="ä¸€ã€ åè®® Protocol"></a>ä¸€ã€ åè®® Protocol</h2><h3 id="ExpressibleByDictionaryLiteral"><a href="#ExpressibleByDictionaryLiteral" class="headerlink" title="ExpressibleByDictionaryLiteral"></a>ExpressibleByDictionaryLiteral</h3><p><code>ExpressibleByDictionaryLiteral</code>æ˜¯å­—å…¸çš„å­—é¢é‡åè®®ï¼Œè¯¥åè®®çš„å®Œæ•´å†™æ³•ä¸ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">ExpressibleByDictionaryLiteral</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// The key type of a dictionary literal.</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Key</span></span><br><span class="line">    <span class="comment">/// The value type of a dictionary literal.</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Value</span></span><br><span class="line">    <span class="comment">/// Creates an instance initialized with the given key-value pairs.</span></span><br><span class="line">    <span class="keyword">init</span>(dictionaryLiteral elements: (<span class="type">Self</span>.<span class="type">Key</span>, <span class="type">Self</span>.<span class="type">Value</span>)...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå­—é¢é‡ï¼ˆLiteralï¼‰çš„æ„æ€æ˜¯ï¼š<strong>ç”¨äºè¡¨è¾¾æºä»£ç ä¸­ä¸€ä¸ªå›ºå®šå€¼çš„è¡¨ç¤ºæ³•ï¼ˆnotationï¼‰</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ„é€ å­—å…¸æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¿›è¡Œï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="keyword">var</span> countryCodes = <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Any</span>&gt;()</span><br><span class="line">countryCodes[<span class="string">"BR"</span>] = <span class="string">"Brazil"</span></span><br><span class="line">countryCodes[<span class="string">"GH"</span>] = <span class="string">"Ghana"</span></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒï¼š</span></span><br><span class="line"><span class="keyword">let</span> countryCodes = [<span class="string">"BR"</span>: <span class="string">"Brazil"</span>, <span class="string">"GH"</span>: <span class="string">"Ghana"</span>]</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§æ„é€ æ–¹å¼å°±æ˜¯é€šè¿‡å­—é¢é‡æ–¹å¼è¿›è¡Œæ„é€ çš„ã€‚</p>
<p>å…¶å®åŸºç¡€ç±»å‹åŸºæœ¬éƒ½æ˜¯é€šè¿‡å­—é¢é‡è¿›è¡Œæ„é€ çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> flag: <span class="type">Bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> str: <span class="type">String</span> = <span class="string">"Brazil"</span></span><br><span class="line"><span class="keyword">let</span> array: [<span class="type">String</span>] = [<span class="string">"Brazil"</span>, <span class="string">"Ghana"</span>]</span><br></pre></td></tr></table></figure>

<p>è€Œè¿™äº›éƒ½æœ‰å¯¹åº”çš„å­—é¢é‡åè®®ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExpressibleByNilLiteral</span> <span class="comment">// nilå­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByIntegerLiteral</span> <span class="comment">// æ•´æ•°å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByFloatLiteral</span> <span class="comment">// æµ®ç‚¹æ•°å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByBooleanLiteral</span> <span class="comment">// å¸ƒå°”å€¼å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByStringLiteral</span> <span class="comment">// å­—ç¬¦ä¸²å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByArrayLiteral</span> <span class="comment">// æ•°ç»„å­—é¢é‡åè®®</span></span><br></pre></td></tr></table></figure>

<h3 id="Sequence"><a href="#Sequence" class="headerlink" title="Sequence"></a>Sequence</h3><p>Sequenceç¿»è¯‘è¿‡æ¥å°±æ˜¯åºåˆ—ï¼Œè¯¥åè®®çš„ç›®çš„æ˜¯ä¸€ç³»åˆ—ç›¸åŒç±»å‹çš„å€¼çš„é›†åˆï¼Œå¹¶ä¸”æä¾›å¯¹è¿™äº›å€¼çš„è¿­ä»£èƒ½åŠ›ï¼Œè¿™é‡Œçš„è¿­ä»£å¯ä»¥ç†è§£ä¸ºéå†ï¼Œä¹Ÿå³<code>for-in</code>çš„èƒ½åŠ›ã€‚å¯ä»¥çœ‹ä¸‹è¯¥åè®®çš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Iterator</span>: <span class="type">IteratorProtocol</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">Iterator</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Sequence</code>åˆå¼•å…¥äº†å¦ä¸€ä¸ªåè®®<code>IteratorProtocol</code>ï¼Œè¯¥åè®®å°±æ˜¯ä¸ºäº†æä¾›åºåˆ—çš„è¿­ä»£èƒ½åŠ›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">IteratorProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Element</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">Self</span>.<span class="type">Element</span>?</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šå¸¸ç”¨<code>for-in</code>å®ç°æ•°ç»„çš„è¿­ä»£ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> animals = [<span class="string">"Antelope"</span>, <span class="string">"Butterfly"</span>, <span class="string">"Camel"</span>, <span class="string">"Dolphin"</span>]</span><br><span class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">    <span class="built_in">print</span>(animal)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>for-in</code>ä¼šè¢«ç¼–è¯‘å™¨ç¿»è¯‘æˆï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animalIterator = animals.makeIterator()</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">let</span> animal = animalIterator.next() &#123;</span><br><span class="line">    <span class="built_in">print</span>(animal)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p>Collectionè¯‘ä¸ºé›†åˆï¼Œå…¶ç»§æ‰¿äºSequenceã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Collection</span> : <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">  <span class="keyword">associatedtype</span> <span class="type">Index</span> : <span class="type">Comparable</span></span><br><span class="line">  <span class="keyword">var</span> startIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> endIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">subscript</span>(position: <span class="type">Index</span>) -&gt; <span class="type">Element</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">subscript</span>(bounds: <span class="type">Range</span>&lt;<span class="type">Index</span>&gt;) -&gt; <span class="type">SubSequence</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸€ä¸ªå…ƒç´ å¯ä»¥åå¤éå†å¹¶ä¸”å¯ä»¥é€šè¿‡ç´¢å¼•çš„ä¸‹æ ‡è®¿é—®çš„æœ‰é™é›†åˆï¼Œæ³¨æ„<code>Sequence</code>å¯ä»¥æ˜¯æ— é™çš„ï¼Œ<code>Collection</code>å¿…é¡»æ˜¯æœ‰é™çš„ã€‚</p>
<p><code>Collection</code>åœ¨<code>Sequence</code>çš„åŸºç¡€ä¸Šæ‰©å±•äº†ä¸‹æ ‡è®¿é—®ã€å…ƒç´ ä¸ªæ•°èƒ½ç‰¹æ€§ã€‚æˆ‘ä»¬å¸¸ç”¨çš„é›†åˆç±»å‹<code>Array</code>ï¼Œ<code>Dictionary</code>ï¼Œ<code>Set</code>éƒ½éµå¾ªè¯¥åè®®ã€‚</p>
<h3 id="CustomStringConvertible"><a href="#CustomStringConvertible" class="headerlink" title="CustomStringConvertible"></a>CustomStringConvertible</h3><p>è¿™ä¸ªåè®®è¡¨ç¤ºè‡ªå®šä¹‰ç±»å‹è¾“å‡ºçš„æ ·å¼ã€‚å…ˆæ¥çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">CustomStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä¸€ä¸ª<code>description</code>çš„å±æ€§ã€‚å®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>: <span class="title">CustomStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span>, y: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"(\(x), \(y))"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Point</span>(x: <span class="number">21</span>, y: <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(p) <span class="comment">// (21, 30)</span></span><br><span class="line"><span class="comment">//String(describing: &lt;#T##CustomStringConvertible#&gt;)</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="type">String</span>(describing: p)</span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment">// (21, 30)</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å®ç°<code>CustomStringConvertible</code>ï¼Œç›´æ¥æ‰“å°å¯¹è±¡ï¼Œç³»ç»Ÿä¼šæ ¹æ®é»˜è®¤è®¾ç½®è¿›è¡Œè¾“å‡ºã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>CustomStringConvertible</code>å¯¹è¿™ä¸€è¾“å‡ºè¡Œä¸ºè¿›è¡Œè®¾ç½®ï¼Œè¿˜æœ‰ä¸€ä¸ªåè®®æ˜¯<code>CustomDebugStringConvertible</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">CustomDebugStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> debugDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·Ÿ<code>CustomStringConvertible</code>ç”¨æ³•ä¸€æ ·ï¼Œå¯¹åº”<code>debugPrint</code>çš„è¾“å‡ºã€‚</p>
<h3 id="Hashable"><a href="#Hashable" class="headerlink" title="Hashable"></a>Hashable</h3><p>æˆ‘ä»¬å¸¸ç”¨çš„<code>Dictionary</code>ï¼Œ<code>Set</code>å‡å®ç°äº†<code>Hashable</code>åè®®ã€‚Hashçš„ç›®çš„æ˜¯ä¸ºäº†å°†æŸ¥æ‰¾é›†åˆæŸä¸€å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(1)ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç›®çš„éœ€è¦å°†é›†åˆå…ƒç´ ä¸å­˜å‚¨åœ°å€ä¹‹é—´å»ºè®®ä¸€ç§å°½å¯èƒ½ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p>
<p>æˆ‘ä»¬å†çœ‹Hashable`åè®®çš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Hashable</span> : <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„åˆ°<code>func hash(into hasher: inout Hasher)</code>ï¼ŒSwift 4.2 é€šè¿‡å¼•å…¥ <code>Hasher</code> ç±»å‹å¹¶é‡‡ç”¨æ–°çš„é€šç”¨å“ˆå¸Œå‡½æ•°è¿›ä¸€æ­¥ä¼˜åŒ– <code>Hashable</code>ã€‚</p>
<p>å¦‚æœä½ è¦è‡ªå®šä¹‰ç±»å‹å®ç° <code>Hashable</code> çš„æ–¹å¼ï¼Œå¯ä»¥é‡å†™ <code>hash(into:)</code> æ–¹æ³•è€Œä¸æ˜¯ <code>hashValue</code>ã€‚<code>hash(into:)</code> é€šè¿‡ä¼ é€’äº†ä¸€ä¸ª <code>Hasher</code> å¼•ç”¨å¯¹è±¡ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå¯¹è±¡è°ƒç”¨ <code>combine(_:)</code> æ¥æ·»åŠ ç±»å‹çš„å¿…è¦çŠ¶æ€ä¿¡æ¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift &gt;= 4.2</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> red: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> green: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> blue: <span class="type">UInt8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Synthesized by compiler</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.red)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.green)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.blue)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Default implementation from protocol extension</span></span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> hasher = <span class="type">Hasher</span>()</span><br><span class="line">        <span class="keyword">self</span>.hash(into: &amp;hasher)</span><br><span class="line">        <span class="keyword">return</span> hasher.finalize()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="https://nshipster.cn/hashable/">Hashable / Hasher</a></p>
<h3 id="Codable"><a href="#Codable" class="headerlink" title="Codable"></a>Codable</h3><p><code>Codable</code>æ˜¯å¯<code>Decodable</code>å’Œ<code>Encodable</code>çš„ç±»å‹åˆ«åã€‚å®ƒèƒ½å¤Ÿå°†ç¨‹åºå†…éƒ¨çš„æ•°æ®ç»“æ„åºåˆ—åŒ–æˆå¯äº¤æ¢æ•°æ®ï¼Œä¹Ÿèƒ½å¤Ÿå°†é€šç”¨æ•°æ®æ ¼å¼ååºåˆ—åŒ–ä¸ºå†…éƒ¨ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¤§å¤§æå‡å¯¹è±¡å’Œå…¶è¡¨ç¤ºä¹‹é—´äº’ç›¸è½¬æ¢çš„ä½“éªŒã€‚å¤„ç†çš„é—®é¢˜å°±æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„JSONè½¬æ¨¡å‹ï¼Œå’Œæ¨¡å‹è½¬JSONã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">Codable</span> = <span class="type">Decodable</span> &amp; <span class="type">Encodable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>(from decoder: <span class="type">Decoder</span>) <span class="keyword">throws</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Encodable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encode</span><span class="params">(to encoder: Encoder)</span></span> <span class="keyword">throws</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œåªä¸¾ä¸€ä¸ªç®€å•çš„è§£ç è¿‡ç¨‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//jsonæ•°æ®</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"1283984"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Mike"</span>,</span><br><span class="line">  	<span class="string">"age"</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰å¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">Codable</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">  	<span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// jsonä¸ºç½‘ç»œæ¥å£è¿”å›çš„Dataç±»å‹æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> mike = <span class="keyword">try</span>! <span class="type">JSONDecoder</span>().decode(<span class="type">Person</span>.<span class="keyword">self</span>, from: json)</span><br><span class="line"><span class="built_in">print</span>(mike)</span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šStudent(id: "1283984", name: "Mike", age: 18)</span></span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼ŒCodableè¿˜æ”¯æŒå„ç§è‡ªå®šä¹‰è§£ç¼–ç è¿‡ç¨‹ï¼Œå®Œå…¨å¯ä»¥å–ä»£<code>SwiftyJSON</code>ï¼Œ<code>HandyJSON</code>ç­‰ç¼–è§£ç åº“ã€‚</p>
<h3 id="Comparable"><a href="#Comparable" class="headerlink" title="Comparable"></a>Comparable</h3><p>è¿™ä¸ªæ˜¯ç”¨äºå®ç°æ¯”è¾ƒåŠŸèƒ½çš„åè®®ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Comparable</span> : <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> &lt; (lhs: Self, rhs: Self) -&gt; <span class="title">Bool</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">static</span> <span class="title">func</span> &lt;= (lhs: Self, rhs: Self) -&gt; <span class="title">Bool</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">static</span> <span class="title">func</span> &gt;= <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> &gt; <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ç»§æ‰¿äº<code>Equatable</code>ï¼Œå³åˆ¤ç­‰çš„åè®®ã€‚å¯ä»¥å¾ˆæ¸…æ¥šçš„ç†è§£å®ç°äº†å„ç§æ¯”è¾ƒçš„å®šä¹‰å°±å…·æœ‰äº†æ¯”è¾ƒçš„åŠŸèƒ½ã€‚è¿™ä¸ªä¸åšæ¯”è¾ƒã€‚</p>
<h3 id="RangeReplaceableCollection"><a href="#RangeReplaceableCollection" class="headerlink" title="RangeReplaceableCollection"></a>RangeReplaceableCollection</h3><p><code>RangeReplaceableCollection</code>æ”¯æŒç”¨å¦ä¸€ä¸ªé›†åˆçš„å…ƒç´ æ›¿æ¢å…ƒç´ çš„ä»»æ„å­èŒƒå›´çš„é›†åˆã€‚</p>
<p>çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">RangeReplaceableCollection</span> : <span class="title">Collection</span> <span class="title">where</span> <span class="title">Self</span>.<span class="title">SubSequence</span> : <span class="title">RangeReplaceableCollection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">SubSequence</span></span><br><span class="line">  </span><br><span class="line">  	<span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(<span class="number">_</span> newElement: <span class="keyword">Self</span>.Element)</span></span></span><br><span class="line">  	<span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">insert</span>&lt;S&gt;<span class="params">(contentsOf newElements: S, at i: <span class="keyword">Self</span>.Index)</span></span> <span class="keyword">where</span> <span class="type">S</span> : <span class="type">Collection</span>, <span class="type">Self</span>.<span class="type">Element</span> == <span class="type">S</span>.<span class="type">Element</span></span><br><span class="line">  	<span class="comment">/* æ‹¼æ¥ã€æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢çš„æ–¹æ³•ï¼Œä»–ä»¬éƒ½å…·æœ‰å¯¹ç»„å…ƒç´ çš„æ“ä½œèƒ½åŠ› */</span></span><br><span class="line">  </span><br><span class="line">  	<span class="keyword">override</span> <span class="keyword">subscript</span>(bounds: <span class="type">Self</span>.<span class="type">Index</span>) -&gt; <span class="type">Self</span>.<span class="type">Element</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">subscript</span>(bounds: <span class="type">Range</span>&lt;<span class="type">Self</span>.<span class="type">Index</span>&gt;) -&gt; <span class="type">Self</span>.<span class="type">SubSequence</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¸ªä¾‹å­ï¼ŒArrayæ”¯æŒè¯¥åè®®ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bugs = [<span class="string">"Aphid"</span>, <span class="string">"Damselfly"</span>]</span><br><span class="line">bugs.append(<span class="string">"Earwig"</span>)</span><br><span class="line">bugs.insert(contentsOf: [<span class="string">"Bumblebee"</span>, <span class="string">"Cicada"</span>], at: <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(bugs)</span><br><span class="line"><span class="comment">// Prints "["Aphid", "Bumblebee", "Cicada", "Damselfly", "Earwig"]"</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œé™„ä¸€å¼ Swiftä¸­Arrayéµå¾ªçš„åè®®å…³ç³»å›¾ï¼Œæœ‰åŠ©äºå¤§å®¶ç†è§£ä¸Šé¢è®²è§£çš„å‡ ä¸ªåè®®ä¹‹é—´çš„å…³ç³»ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/5/10/171ff1f43fb51bfc?w=1075&h=369&f=svg&s=21578" alt="img"></p>
<p>å›¾åƒæ¥æºï¼š<a href="https://swiftdoc.org/v3.1/type/array/hierarchy/">https://swiftdoc.org/v3.1/type/array/hierarchy/</a></p>
<h2 id="äºŒã€-propertyWrapper"><a href="#äºŒã€-propertyWrapper" class="headerlink" title="äºŒã€@propertyWrapper"></a>äºŒã€@propertyWrapper</h2><blockquote>
<p>é˜…è¯»ä»¥ä¸‹ä»£ç ï¼Œprint è¾“å‡ºä»€ä¹ˆ</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@propertyWrapper</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wrapper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> projectedValue: <span class="type">Wrapper</span>&lt;<span class="type">T</span>&gt; &#123; <span class="keyword">return</span> <span class="keyword">self</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123; <span class="built_in">print</span>(<span class="string">"Foo"</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HasWrapper</span> </span>&#123;</span><br><span class="line">    @<span class="type">Wrapper</span> <span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(x) <span class="comment">// 0</span></span><br><span class="line">        <span class="built_in">print</span>(_x) <span class="comment">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class="line">        <span class="built_in">print</span>($x) <span class="comment">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç çœ‹ä¼¼è¦è€ƒå¯Ÿå¯¹<code>@propertyWrapper</code>çš„ç†è§£ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šæ— ç”¨å†…å®¹ï¼Œå¯¼è‡´ä»£ç å¾ˆå¥‡æ€ªã€‚</p>
<p><code>@propertyWrapper</code>çš„æ„æ€å°±æ˜¯å±æ€§åŒ…è£…ï¼Œå®ƒå¯ä»¥å°†ä¸€ç³»åˆ—ç›¸ä¼¼çš„å±æ€§æ–¹æ³•è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨<code>UserDefaults</code>ä¸­åŠ ä¸€ä¸ªæ˜¯å¦é¦–æ¬¡å¯åŠ¨çš„å€¼ï¼Œæ­£å¸¸å¯ä»¥è¿™æ ·å¤„ç†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UserDefaults</span> </span>&#123;</span><br><span class="line">  	<span class="class"><span class="keyword">enum</span> <span class="title">Keys</span> </span>&#123;</span><br><span class="line">      <span class="keyword">static</span> <span class="keyword">let</span> isFirstLaunch = <span class="string">"isFirstLaunch"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> isFirstLaunch: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> bool(forKey: <span class="type">Keys</span>.isFirstLaunch)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">set</span>(newValue, forKey: <span class="type">Keys</span>.isFirstLaunch)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬éœ€è¦åŠ å…¥å¾ˆå¤šè¿™æ ·å±æ€§çš„è¯ï¼Œå°±éœ€è¦å†™å¤§é‡çš„<code>get</code> ã€<code>set</code>æ–¹æ³•ã€‚è€Œ<code>@propertyWrapper</code>çš„ä½œç”¨å°±æ˜¯ä¸ºå±æ€§çš„è¿™ç§è®¾ç½®æä¾›ä¸€ä¸ªæ¨¡æ¿å†™æ³•ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨å±æ€§åŒ…è£…çš„å†™æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@propertyWrapper</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UserDefaultWrapper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> key: <span class="type">String</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> defaultValue: <span class="type">T</span></span><br><span class="line">    <span class="keyword">init</span>(key: <span class="type">String</span>, defaultValue: <span class="type">T</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.key = key</span><br><span class="line">        <span class="keyword">self</span>.defaultValue = defaultValue</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="type">UserDefaults</span>.standard.object(forKey: key) <span class="keyword">as</span>? <span class="type">T</span> ?? defaultValue</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="type">UserDefaults</span>.standard.<span class="keyword">set</span>(newValue, forKey: key)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UserDefaults</span> </span>&#123;</span><br><span class="line">  	@<span class="type">UserDefaultWrapper</span>(key: <span class="type">Keys</span>.isFirstLaunch, defaultValue: <span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">var</span> isFirstLaunch: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@propertyWrapper</code>çº¦æŸçš„å¯¹è±¡å¿…é¡»è¦å®šä¹‰<code>wrappedValue</code>å±æ€§ï¼Œå› ä¸ºè¯¥å¯¹è±¡åŒ…è£¹çš„å±æ€§ä¼šèµ°åˆ°<code>wrappedValue</code>çš„å®ç°ã€‚</p>
<p>å›åˆ°å®ä¾‹ä»£ç ï¼Œå®šä¹‰äº†<code>wrappedValue</code>å´å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•å®ç°ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚æ‰€ä»¥è®¿é—®xçš„æ—¶å€™å…¶å®æ˜¯è®¿é—®<code>Wrapper</code>çš„<code>wrappedValue</code>ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‡ºä»»ä½•å®ç°æ‰€ä»¥ç›´æ¥æ‰“å°å‡º<code>0</code>ã€‚è€Œ<code>_x</code>å’Œ<code>$x</code>å¯¹åº”çš„å°±æ˜¯<code>Wrapper</code>è‡ªèº«ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://nshipster.com/propertywrapper/">Swift Property Wrappers</a></p>
<h2 id="ä¸‰ã€å…³é”®å­—"><a href="#ä¸‰ã€å…³é”®å­—" class="headerlink" title="ä¸‰ã€å…³é”®å­—"></a>ä¸‰ã€å…³é”®å­—</h2><h3 id="public-open"><a href="#public-open" class="headerlink" title="public open"></a>public open</h3><p><code>public</code> <code>open</code>ä¸ºæƒé™å…³é”®è¯ã€‚å¯¹äºä¸€ä¸ªä¸¥æ ¼çš„é¡¹ç›®æ¥è¯´ï¼Œç²¾ç¡®çš„æœ€å°åŒ–è®¿é—®æ§åˆ¶çº§åˆ«å¯¹äºä»£ç çš„ç»´æŠ¤æ¥è¯´ç›¸å½“é‡è¦çš„ã€‚å®Œæ•´çš„æƒé™å…³é”®è¯ï¼ŒæŒ‰æƒé™å¤§å°æ’åºå¦‚ä¸‹ï¼š</p>
<p><code>open &gt; public &gt; internal &gt; fileprivate &gt; private</code></p>
<ul>
<li><code>open</code>æƒé™æœ€å¤§ï¼Œå…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œç»§æ‰¿ï¼Œé‡å†™ã€‚</li>
<li><code>public</code>å…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œä½†ä¸å…è®¸ç»§æ‰¿ï¼Œé‡å†™ã€‚</li>
<li><code>internal</code>ä¸ºé»˜è®¤å…³é”®è¯ï¼Œåœ¨åŒä¸€ä¸ªmoduleå†…å¯ä»¥å…±ç”¨ã€‚</li>
<li><code>fileprivate</code>è¡¨ç¤ºä»£ç å¯ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­è¢«è®¿é—®ï¼Œè€Œä¸åšç±»å‹é™å®šã€‚</li>
<li><code>private</code>è¡¨ç¤ºä»£ç åªèƒ½åœ¨å½“å‰ä½œç”¨åŸŸæˆ–è€…åŒä¸€æ–‡ä»¶ä¸­åŒä¸€ç±»å‹çš„ä½œç”¨åŸŸä¸­è¢«ä½¿ç”¨ã€‚</li>
</ul>
<p>è¿™äº›æƒé™å…³é”®è¯å¯ä»¥ä¿®é¥°ï¼Œå±æ€§ï¼Œæ–¹æ³•å’Œç±»å‹ã€‚éœ€è¦æ³¨æ„ï¼šå½“ä¸€ä¸ªç±»å‹çš„æŸä¸€å±æ€§è¦ç”¨publicä¿®é¥°æ—¶ï¼Œè¯¥ç±»å‹è‡³å°‘è¦ç”¨publicï¼ˆæˆ–è€…openï¼‰æƒé™çš„å…³é”®è¯ä¿®å¤ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®è®¿é—®æ˜¯åˆ†å±‚çš„ï¼Œæˆ‘ä»¬ä¸ºäº†è·å–æŸä¸€å±æ€§æˆ–æ–¹æ³•éœ€è¦å…ˆè·å–è¯¥ç±»å‹ï¼Œæ‰€ä»¥å¤–å±‚ï¼ˆç±»å‹ï¼‰çš„è®¿é—®æƒé™è¦æ»¡è¶³å¤§äºç­‰äºå†…å±‚ï¼ˆç±»å‹ã€æ–¹æ³•ã€å±æ€§ï¼‰æƒé™ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html">Swift AccessControl</a></p>
<h3 id="static-class-final"><a href="#static-class-final" class="headerlink" title="static class final"></a>static class final</h3><p>åŸæ–‡ä¸­<code>final</code>è·Ÿæƒé™å…³é”®è¯æ”¾åœ¨ä¸€èµ·äº†ï¼Œå…¶å®æ˜¯ä¸åˆç†çš„ï¼Œå°±å°†å…¶æ”¾åˆ°è¿™é‡Œæ¥è®¨è®ºã€‚</p>
<p><code>static</code>é™æ€å˜é‡å…³é”®è¯ï¼Œæ¥æºäºCè¯­è¨€ã€‚</p>
<p>åœ¨Swiftä¸­å¸¸ç”¨è¯­ä»¥ä¸‹åœºæ™¯ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»…ç”¨äºç±»åå‰ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä»…æ”¯æŒclassç±»å‹</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line">  	<span class="comment">// å•ä¾‹çš„å£°æ˜</span></span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Manager</span>()</span><br><span class="line">  	<span class="comment">// å®ä¾‹å±æ€§ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"Ferry"</span></span><br><span class="line">  	<span class="comment">// å®ä¾‹å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">final</span> <span class="keyword">var</span> lastName: <span class="type">String</span> = <span class="string">"Zhang"</span></span><br><span class="line">  	<span class="comment">// ç±»å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="keyword">var</span> address: <span class="type">String</span> = <span class="string">"Beijing"</span></span><br><span class="line">  	<span class="comment">// ç±»å±æ€§ï¼Œå¯è¢«é‡å†™ã€‚æ³¨æ„åªèƒ½ä½œä¸ºè®¡ç®—å±æ€§ï¼Œè€Œä¸èƒ½ä½œä¸ºå­˜å‚¨å±æ€§</span></span><br><span class="line">  	<span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">code</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">"0122"</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  	<span class="comment">// å®ä¾‹å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// å®ä¾‹å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">removeCache</span>() </span>&#123;</span><br><span class="line">     	<span class="comment">/* code... */</span> </span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line">  	<span class="comment">// å•ä¾‹çš„å£°æ˜</span></span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Manager</span>()</span><br><span class="line">  	<span class="comment">// ç±»å±æ€§</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"Ferry"</span></span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>struct</code>å’Œ<code>enum</code>å› ä¸ºä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ä¹Ÿå°±æ— æ³•ä½¿ç”¨<code>class</code>å’Œ<code>final</code>å…³é”®è¯ï¼Œä»…èƒ½é€šè¿‡<code>static</code>å…³é”®è¯è¿›è¡Œé™å®š</p>
<h3 id="mutating-inout"><a href="#mutating-inout" class="headerlink" title="mutating inout"></a>mutating inout</h3><p>mutatingç”¨äºä¿®é¥°ä¼šæ”¹å˜è¯¥ç±»å‹çš„å‡½æ•°ä¹‹å‰ï¼ŒåŸºæœ¬éƒ½ç”¨äº<code>struct</code>å¯¹è±¡çš„ä¿®æ”¹ã€‚çœ‹ä¸‹é¢ä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">CGFloat</span></span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">CGFloat</span></span><br><span class="line">		<span class="comment">// å› ä¸ºè¯¥æ–¹æ³•æ”¹å˜äº†structçš„å±æ€§å€¼ï¼ˆxï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦åŠ ä¸Šmutating</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">moveRight</span><span class="params">(offset: CGFloat)</span></span> &#123;</span><br><span class="line">        x += offset</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  	<span class="function"><span class="keyword">func</span> <span class="title">normalSwap</span><span class="params">(a: CGFloat, b: CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = a</span><br><span class="line">        a = b</span><br><span class="line">        b = temp</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">// å°†ä¸¤ä¸ªå€¼äº¤æ¢ï¼Œéœ€ä¼ å…¥å¯¹è±¡åœ°å€ã€‚æ³¨æ„inoutéœ€è¦åŠ è½½ç±»å‹åå‰</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">inoutSwap</span><span class="params">(a: <span class="keyword">inout</span> CGFloat, b: <span class="keyword">inout</span> CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = a</span><br><span class="line">        a = b</span><br><span class="line">        b = temp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> location1: <span class="type">CGFloat</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> location2: <span class="type">CGFloat</span> = -<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="type">Point</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)</span><br><span class="line">point.moveRight(offset: location1)</span><br><span class="line"><span class="built_in">print</span>(point)	<span class="comment">//Point(x: 10.0, y: 0.0)</span></span><br><span class="line"></span><br><span class="line">point.normalSwap(a: location1, b: location2)</span><br><span class="line"><span class="built_in">print</span>(location1)	<span class="comment">//10</span></span><br><span class="line"><span class="built_in">print</span>(location2)	<span class="comment">//-10</span></span><br><span class="line"><span class="comment">// æ³¨æ„éœ€å¸¦å–å€ç¬¦&amp;</span></span><br><span class="line">point.inoutSwap(a: &amp;location1, b: &amp;location2)</span><br><span class="line"><span class="built_in">print</span>(location1)	<span class="comment">//-10</span></span><br><span class="line"><span class="built_in">print</span>(location2)	<span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<p><code>inout</code>éœ€è¦ä¼ å…¥å–å€¼ç¬¦ï¼Œæ‰€ä»¥å®ƒçš„æ”¹å˜ä¼šå¯¼è‡´è¯¥å¯¹è±¡è·Ÿç€å˜åŠ¨ã€‚å¯ä»¥å†å›çœ‹ä¸Šé¢è¯´çš„<code>Hashable</code>çš„ä¸€ä¸ªåè®®å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.red)</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.green)</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.blue)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä½¿ç”¨<code>inout</code>æ‰èƒ½ä¿®æ”¹ä¼ å…¥çš„hasherçš„å€¼ã€‚</p>
<h3 id="infix-operator"><a href="#infix-operator" class="headerlink" title="infix operator"></a>infix operator</h3><p><code>infix operator</code>å³ä¸ºä¸­ç¼€æ“ä½œç¬¦ï¼Œè¿˜æœ‰prefixã€postfixåç¼€æ“ä½œç¬¦ã€‚</p>
<p>å®ƒçš„ä½œç”¨æ˜¯è‡ªå®šä¹‰æ“ä½œç¬¦ã€‚æ¯”å¦‚Pythoné‡Œå¯ä»¥ç”¨<code>**</code>è¿›è¡Œå¹‚è¿ç®—ï¼Œä½†æ˜¯Swifté‡Œé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è‡ªå®šä¹‰æ“ä½œç¬¦æ¥å®šä¹‰ä¸€ä¸ªç”¨<code>**</code>å®ç°çš„å¹‚è¿ç®—ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸­ç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">infix</span> <span class="keyword">operator</span> **</span><br><span class="line"><span class="comment">// å®ç°è¯¥æ“ä½œç¬¦çš„é€»è¾‘ï¼Œä¸­ç¼€éœ€è¦ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> ** <span class="params">(<span class="keyword">left</span>: Double, <span class="keyword">right</span>: Double)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pow(<span class="keyword">left</span>, <span class="keyword">right</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">2</span> ** <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(value) <span class="comment">//8</span></span><br></pre></td></tr></table></figure>

<p>åŒç†æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰å‰ç¼€å’Œåç¼€æ“ä½œç¬¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰é˜¶ä¹˜æ“ä½œï¼Œåç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">postfix</span> <span class="keyword">operator</span> ~!</span><br><span class="line"><span class="keyword">postfix</span> <span class="function"><span class="keyword">func</span> ~! <span class="params">(value: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(<span class="number">_</span> value: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> value &lt;= <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value * factorial(value - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> factorial(value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰è¾“å‡ºæ“ä½œï¼Œå‰ç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">prefix</span> <span class="keyword">operator</span> &lt;&lt;</span><br><span class="line"><span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> &lt;&lt; (value: Any) &#123;</span></span><br><span class="line"><span class="function">    print(value)</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">let number1 = 4~!</span></span><br><span class="line"><span class="function">print(number1) // 24</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&lt;&lt;number1 // 24</span></span><br><span class="line"><span class="function">&lt;&lt;"zhangferry" // zhangferry</span></span><br></pre></td></tr></table></figure>

<p>å‰ç¼€å’Œåç¼€ä»…éœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå‚æ•°å³å¯ã€‚</p>
<p>å…³äºæ“ä½œç¬¦çš„æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹è¿™é‡Œï¼š<a href="https://nshipster.cn/swift-operators/">Swift Operators</a>ã€‚</p>
<p>æ³¨æ„ï¼Œå› ä¸ºè¯¥æ–‡ç« è¾ƒæ—©ï¼Œå…¶ä¸­å¯¹äºæ“ä½œç¬¦çš„ä¸€äº›å®šä¹‰å·²ç»æ”¹å˜ã€‚</p>
<h3 id="dynamicMemberLookupï¼Œ-dynamicCallable"><a href="#dynamicMemberLookupï¼Œ-dynamicCallable" class="headerlink" title="@dynamicMemberLookupï¼Œ@dynamicCallable"></a>@dynamicMemberLookupï¼Œ@dynamicCallable</h3><p>è¿™ä¸¤ä¸ªå…³é”®è¯æˆ‘ç¡®å®æ²¡æœ‰ç”¨è¿‡ï¼Œçœ‹åˆ°<code>dynamic</code>å¯ä»¥çŸ¥é“è¿™ä¸¤ä¸ªç‰¹æ€§æ˜¯ä¸ºäº†è®©Swiftå…·æœ‰åŠ¨æ€æ€§ã€‚</p>
<p><code>@dynamicMemberLookup</code>ä¸­æ–‡å«åŠ¨æ€æŸ¥æ‰¾æˆå‘˜ã€‚åœ¨ä½¿ç”¨<code>@dynamicMemberLookup</code>æ ‡è®°äº†å¯¹è±¡åï¼ˆå¯¹è±¡ã€ç»“æ„ä½“ã€æšä¸¾ã€protocolï¼‰ï¼Œå®ç°äº†<code>subscript(dynamicMember member: String)</code>æ–¹æ³•åæˆ‘ä»¬å°±å¯ä»¥è®¿é—®åˆ°å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ã€‚å¦‚æœè®¿é—®åˆ°çš„å±æ€§ä¸å­˜åœ¨ï¼Œå°±ä¼šè°ƒç”¨åˆ°å®ç°çš„ <code>subscript(dynamicMember member: String)</code>æ–¹æ³•ï¼Œkey ä½œä¸º member ä¼ å…¥è¿™ä¸ªæ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@dynamicMemberLookup</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">subscript</span>(dynamicMember member: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> properties = [<span class="string">"nickname"</span>: <span class="string">"Zhuo"</span>, <span class="string">"city"</span>: <span class="string">"Hangzhou"</span>]</span><br><span class="line">        <span class="keyword">return</span> properties[member, <span class="keyword">default</span>: <span class="string">"undefined"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰§è¡Œä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</span><br><span class="line"><span class="built_in">print</span>(p.city)	<span class="comment">//Hangzhou</span></span><br><span class="line"><span class="built_in">print</span>(p.nickname)	<span class="comment">//Zhuo</span></span><br><span class="line"><span class="built_in">print</span>(p.name)	<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ²¡æœ‰å®šä¹‰Personçš„<code>city</code>ã€<code>nickname</code>ï¼Œ<code>name</code>å±æ€§ï¼Œå´å¯ä»¥ç”¨ç‚¹è¯­æ³•å»å°è¯•è®¿é—®å®ƒã€‚å¦‚æœæ²¡æœ‰<code>@dynamicMemberLookup</code>è¿™ç§å†™æ³•ä¼šè¢«ç¼–è¯‘å™¨æ£€æŸ¥å‡ºæ¥å¹¶æŠ¥é”™ï¼Œä½†æ˜¯åŠ äº†è¯¥å…³é”®è¯ç¼–è¯‘å™¨å°±ä¸ä¼šç®¡å®ƒæ˜¯ä¸æ˜¯å­˜åœ¨éƒ½äºˆä»¥é€šè¿‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@dynamicCallable</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ç°æ–¹æ³•ä¸€</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">dynamicallyCall</span><span class="params">(withArguments: [String])</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> withArguments &#123;</span><br><span class="line">            <span class="built_in">print</span>(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å®ç°æ–¹æ³•äºŒ</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">dynamicallyCall</span><span class="params">(withKeywordArguments: KeyValuePairs&lt;String, String&gt;)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (key, value) <span class="keyword">in</span> withKeywordArguments &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"\(key) --- \(value)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</span><br><span class="line">p(<span class="string">"zhangsan"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withArguments: ["zhangsan"])</span></span><br><span class="line">p(<span class="string">"zhangsan"</span>, <span class="string">"20"</span>, <span class="string">"ç”·"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withArguments: ["zhangsan", "20", "ç”·"])</span></span><br><span class="line">p(name: <span class="string">"zhangsan"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withKeywordArguments: ["name": "zhangsan"])</span></span><br><span class="line">p(name: <span class="string">"zhangsan"</span>, age:<span class="string">"20"</span>, sex: <span class="string">"ç”·"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withKeywordArguments: ["name": "zhangsan", "age": "20", "sex": "ç”·"])</span></span><br></pre></td></tr></table></figure>

<p><code>@dynamicCallable</code>å¯ä»¥ç†è§£æˆåŠ¨æ€è°ƒç”¨ï¼Œå½“ä¸ºæŸä¸€ç±»å‹åšæ­¤å£°æ˜æ—¶ï¼Œéœ€è¦å®ç°<code>dynamicallyCall(withArguments:)</code>æˆ–è€…<code>dynamicallyCall(withKeywordArguments:)</code>ã€‚ç¼–è¯‘å™¨å°†å…è®¸ä½ è°ƒç”¨å¹¶ä¸ºå®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p>ä¸€ä¸ªåŠ¨æ€æŸ¥æ‰¾æˆå‘˜å˜é‡ï¼Œä¸€ä¸ªåŠ¨æ€æ–¹æ³•è°ƒç”¨ï¼Œå¸¦ä¸Šè¿™ä¸¤ä¸ªç‰¹æ€§Swiftå°±å¯ä»¥å˜æˆå½»å¤´å½»å°¾çš„åŠ¨æ€è¯­è¨€äº†ã€‚æ‰€ä»¥ä½œä¸ºé™æ€è¯­è¨€çš„Swiftä¹Ÿæ˜¯å¯ä»¥å…·æœ‰åŠ¨æ€ç‰¹æ€§çš„ã€‚</p>
<p>æ›´å¤šå…³äºè¿™ä¸¤ä¸ªåŠ¨æ€æ ‡è®°çš„è®¨è®ºå¯ä»¥çœ‹å“åŒå­¦çš„è¿™ç¯‡ï¼š<a href="https://juejin.im/post/5b24c9896fb9a00e69608a71">ç»†è¯´ Swift 4.2 æ–°ç‰¹æ€§ï¼šDynamic Member Lookup</a></p>
<h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><p>whereä¸€èˆ¬ç”¨ä½œæ¡ä»¶é™å®šã€‚å®ƒå¯ä»¥ç”¨åœ¨for-inã€swithã€do-catchä¸­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> numbers <span class="keyword">where</span> item % <span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"odd: \(item)"</span>)	<span class="comment">// å°†è¾“å‡º1ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ9ç­‰æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">numbers.forEach &#123; (item) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">switch</span> item &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"even: \(x)"</span>) <span class="comment">// å°†è¾“å‡º2ï¼Œ4ï¼Œ6ï¼Œ8ç­‰æ•°</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>where</code>ä¹Ÿå¯ä»¥ç”¨äºç±»å‹é™å®šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ‰©å±•ä¸€ä¸ªå­—å…¸çš„mergeå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä¸¤ä¸ªå­—å…¸è¿›è¡Œåˆå¹¶ï¼Œå¯¹äºç›¸åŒçš„<code>Key</code>å€¼ä»¥è¦åˆå¹¶çš„å­—å…¸ä¸ºå‡†ã€‚å¹¶ä¸”è¯¥æ–¹æ³•æˆ‘åªæƒ³é’ˆå¯¹<code>Key</code>å’Œ<code>Value</code>éƒ½æ˜¯<code>String</code>ç±»å‹çš„å­—å…¸ä½¿ç”¨ï¼Œå°±å¯ä»¥è¿™ä¹ˆåšï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œçš„Key Valueæ¥è‡ªäºDictionaryä¸­å®šä¹‰çš„æ³›å‹</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dictionary</span> <span class="title">where</span> <span class="title">Key</span> == <span class="title">String</span>, <span class="title">Value</span> == <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åŒä¸€ä¸ªkeyæ“ä½œè¦†ç›–æ—§å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(other: Dictionary)</span></span> -&gt; <span class="type">Dictionary</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.merging(other) &#123; <span class="number">_</span>, new <span class="keyword">in</span> new &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="autoclosure"><a href="#autoclosure" class="headerlink" title="@autoclosure"></a>@autoclosure</h3><p><code>@autoclosure</code> æ˜¯ä½¿ç”¨åœ¨é—­åŒ…ç±»å‹ä¹‹å‰ï¼Œåšçš„äº‹æƒ…å°±æ˜¯æŠŠä¸€å¥è¡¨è¾¾å¼è‡ªåŠ¨åœ°<strong>å°è£…</strong>æˆä¸€ä¸ªé—­åŒ… (closure)ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªé—­åŒ…ï¼Œå½“é—­åŒ…æ‰§è¡Œçš„ç»“æœä¸º <code>true</code> çš„æ—¶å€™è¿›è¡Œæ‰“å°ï¼Œåˆ†åˆ«ä½¿ç”¨æ™®é€šé—­åŒ…å’ŒåŠ ä¸Š<code>autoclosure</code>çš„é—­åŒ…å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueNormal</span><span class="params">(predicate: <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„@autoclosureåŠ åˆ°é—­åŒ…çš„å‰é¢</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueAutoclosure</span><span class="params">(predicate: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹å¼</span></span><br><span class="line">logIfTrueNormal(predicate: &#123;<span class="number">3</span> &gt; <span class="number">1</span>&#125;)</span><br><span class="line">logIfTrueAutoclosure(predicate: <span class="number">3</span> &gt; <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘å™¨ä¼šå°†<code>logIfTrueAutoclosure</code>å‡½æ•°å‚æ•°ä¸­çš„<code>3 &gt; 1</code>è¿™ä¸ªè¡¨è¾¾å¼è½¬æˆ<code>{3 &gt; 1}</code>è¿™ç§å°¾éšé—­åŒ…æ ·å¼ã€‚</p>
<p>é‚£è¿™ç§å†™æ³•æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªç¤ºä¾‹ä¸­ä½“ä¼šä¸€ä¸‹ï¼Œåœ¨Swiftç³»ç»Ÿæä¾›çš„å‡ ä¸ªçŸ­è·¯è¿ç®—ç¬¦ï¼ˆå³è¡¨è¾¾å¼å·¦è¾¹å¦‚æœå·²ç»ç¡®å®šç»“æœï¼Œå³è¾¹å°†ä¸å†è¿ç®—ï¼‰ä¸­å‡é‡‡ç”¨äº†<code>@autoclosure</code>æ ‡è®°çš„é—­åŒ…ã€‚é‚£<code>??</code>è¿ç®—ç¬¦ä¸¾ä¾‹ï¼Œå®ƒçš„å®ç°æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> ?? &lt;T&gt;<span class="params">(<span class="keyword">optional</span>: T?, defaultValue: @autoclosure <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>)</span><br><span class="line">    <span class="keyword">rethrows</span> -&gt; <span class="type">T</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> <span class="keyword">optional</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> .some(<span class="keyword">let</span> value):</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">  <span class="keyword">case</span> .<span class="keyword">none</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">try</span> defaultValue()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">var</span> name: <span class="type">String</span>? = <span class="string">"ferry"</span></span><br><span class="line"><span class="keyword">let</span> currentName = name ?? getDefaultName()</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä½¿ç”¨äº†<code>@autoclosure</code>æ ‡è®°é—­åŒ…ï¼Œæ‰€ä»¥<code>??</code>çš„<code>defaultValue</code>å‚æ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆå› ä¸ºæ˜¯é—­åŒ…ï¼Œæ‰€ä»¥å½“<code>name</code>éç©ºæ—¶ï¼Œç›´æ¥è¿”å›äº†è¯¥å€¼ï¼Œä¸ä¼šè°ƒç”¨<code>getDefaultName()</code>å‡½æ•°ï¼Œå‡å°‘è®¡ç®—ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/autoclosure/">@AUTOCLOSURE å’Œ ??</a>ï¼Œæ³¨æ„å› ä¸ºSwiftç‰ˆæœ¬é—®é¢˜ï¼Œå®ä¾‹ä»£ç æ— æ³•è¿è¡Œã€‚</p>
<h3 id="escaping"><a href="#escaping" class="headerlink" title="@escaping"></a>@escaping</h3><p><code>@escaping</code>ä¹Ÿæ˜¯é—­åŒ…ä¿®é¥°è¯ï¼Œç”¨å®ƒæ ‡è®°çš„é—­åŒ…è¢«ç§°ä¸ºé€ƒé€¸é—­åŒ…ï¼Œè¿˜æœ‰ä¸€ä¸ªå…³é”®è¯æ˜¯<code>@noescape</code>ï¼Œç”¨å®ƒä¿®é¥°çš„é—­åŒ…å«åšéé€ƒé€¸é—­åŒ…ã€‚åœ¨Swift3åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œé—­åŒ…é»˜è®¤ä¸ºéé€ƒé€¸é—­åŒ…ï¼Œåœ¨è¿™ä¹‹å‰é»˜è®¤é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…ã€‚</p>
<p>è¿™ä¸¤è€…çš„åŒºåˆ«ä¸»è¦åœ¨äºå£°æ˜å‘¨æœŸçš„ä¸åŒï¼Œå½“é—­åŒ…ä½œä¸ºå‚æ•°æ—¶ï¼Œå¦‚æœå…¶å£°æ˜å‘¨æœŸä¸å‡½æ•°ä¸€è‡´å°±æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œå¦‚æœå£°æ˜å‘¨æœŸå¤§äºå‡½æ•°å°±æ˜¯é€ƒé€¸é—­åŒ…ã€‚ç»“åˆç¤ºä¾‹æ¥ç†è§£ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éé€ƒé€¸é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueNormal</span><span class="params">(predicate: <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€ƒé€¸é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueEscaping</span><span class="params">(predicate: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">        <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‡½æ•°çš„é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…æ˜¯å› ä¸ºå…¶æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œåœ¨å‡½æ•°é€€å‡ºæ—¶ï¼Œè¯¥é—­åŒ…è¿˜å­˜åœ¨ï¼Œå£°æ˜å‘¨æœŸé•¿äºå‡½æ•°ã€‚</p>
<p>å¦‚æœä½ æ— æ³•åˆ¤æ–­å‡ºåº”è¯¥ä½¿ç”¨é€ƒé€¸è¿˜æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œä¹Ÿæ— éœ€æ‹…å¿ƒï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå¸®ä½ åšå‡ºåˆ¤æ–­ã€‚ç¬¬äºŒä¸ªå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬ä¸å£°æ˜é€ƒé€¸é—­åŒ…ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œè­¦å‘Šæˆ‘ä»¬ï¼š<code>Escaping closure captures non-escaping parameter &#39;predicate&#39;</code>ã€‚å½“ç„¶æˆ‘ä»¬è¿˜æ˜¯åº”è¯¥ç†è§£ä¸¤è€…çš„åŒºåˆ«ã€‚</p>
<h2 id="å››ã€é«˜é˜¶å‡½æ•°"><a href="#å››ã€é«˜é˜¶å‡½æ•°" class="headerlink" title="å››ã€é«˜é˜¶å‡½æ•°"></a>å››ã€é«˜é˜¶å‡½æ•°</h2><h3 id="Filter-Map-Reduce-flatmap-compactMap"><a href="#Filter-Map-Reduce-flatmap-compactMap" class="headerlink" title="Filter, Map, Reduce, flatmap, compactMap"></a>Filter, Map, Reduce, flatmap, compactMap</h3><p>è¿™å‡ ä¸ªé«˜é˜¶å‡½æ•°éƒ½æ˜¯å¯¹æ•°ç»„å¯¹è±¡ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å»äº†è§£ä»–ä»¬å§ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">// filter è¿‡æ»¤</span></span><br><span class="line"><span class="keyword">let</span> odd = numbers.<span class="built_in">filter</span> &#123; (number) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> number % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(odd) <span class="comment">// [1, 3, 5, 7, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> maps = odd.<span class="built_in">map</span> &#123; (number) -&gt; <span class="type">String</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"\(number)"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(maps) <span class="comment">// ["1", "3", "5", "7", "9"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// reduce ç´¯è®¡è¿ç®—</span></span><br><span class="line"><span class="keyword">let</span> result = odd.<span class="built_in">reduce</span>(<span class="number">0</span>, +)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">// 25</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// flatMap 1.æ•°ç»„å±•å¼€</span></span><br><span class="line"><span class="keyword">let</span> numberList = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]ï¼Œ [[<span class="number">6</span>]]]</span><br><span class="line"><span class="keyword">let</span> flatMapNumber = numberList.flatMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(flatMapNumber) <span class="comment">// [1, 2, 3, 4, 5, [6]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// flatMap 2.è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class="line"><span class="keyword">let</span> country = [<span class="string">"cn"</span>, <span class="string">"us"</span>, <span class="literal">nil</span>, <span class="string">"en"</span>]</span><br><span class="line"><span class="keyword">let</span> flatMap = country.flatMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(flatMap) <span class="comment">//["cn", "us", "en"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// compactMap è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class="line"><span class="keyword">let</span> compactMap = country.compactMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(compactMap) <span class="comment">// ["cn", "us", "en"]</span></span><br></pre></td></tr></table></figure>

<p>filterï¼Œreduceå…¶å®å¾ˆå¥½ç†è§£ï¼Œmapã€flatMapã€compactMapåˆšå¼€å§‹æ¥è§¦æ—¶ç¡®å®å®¹æ˜“ææ··ï¼Œè¿™ä¸ªéœ€è¦å¤šåŠ ä½¿ç”¨å’Œç»ƒä¹ ã€‚</p>
<p>æ³¨æ„åˆ°<code>flatMap</code>æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€ç§æ˜¯å±•å¼€æ•°ç»„ï¼Œå°†äºŒç»´æ•°ç»„é™ä¸ºä¸€ç»´æ•°ç»„ï¼Œä¸€ç§æ˜¯è¿‡æ»¤æ•°ç»„ä¸­çš„<code>nil</code>ã€‚åœ¨Swift4.1ç‰ˆæœ¬å·²ç»å°†<code>flatMap</code>è¿‡æ»¤æ•°ç»„ä¸­nilçš„å‡½æ•°æ ‡ä½<code>deprecated</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿‡æ»¤æ•°ç»„ä¸­nilçš„æ“ä½œåº”è¯¥ä½¿ç”¨<code>compactMap</code>å‡½æ•°ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://blog.devtang.com/2016/03/05/swift-gym-4-map-and-flatmap/#">Swift çƒ§è„‘ä½“æ“ï¼ˆå››ï¼‰ - map å’Œ flatMap</a></p>
<h2 id="äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ"><a href="#äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ" class="headerlink" title="äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ"></a>äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ</h2><h3 id="æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€"><a href="#æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€" class="headerlink" title="æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€"></a>æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€</h3><p>æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ä»ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°å˜æˆä¸€è¿ä¸²å•å‚æ•°å‡½æ•°çš„å˜æ¢ï¼Œè¿™æ˜¯å®ç°å‡½æ•°å¼ç¼–ç¨‹çš„é‡è¦æ‰‹æ®µï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥å‡½æ•°è¿”å›ç±»å‹ä¸ºï¼ˆIntï¼‰ -&gt; Bool</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greaterThan</span><span class="params">(<span class="number">_</span> comparer: Int)</span></span> -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; number <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> number &gt; comparer</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªgreaterThan10çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> greaterThan10 = greaterThan(<span class="number">10</span>)</span><br><span class="line">greaterThan10(<span class="number">13</span>)    <span class="comment">// =&gt; true</span></span><br><span class="line">greaterThan10(<span class="number">9</span>)     <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥æŸ¯é‡ŒåŒ–ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ‰¹é‡ç”Ÿæˆä¸€ç³»åˆ—ç›¸ä¼¼çš„å‡½æ•°ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/currying/">æŸ¯é‡ŒåŒ– (CURRYING)</a></p>
<h3 id="POP-ä¸-OOPçš„åŒºåˆ«"><a href="#POP-ä¸-OOPçš„åŒºåˆ«" class="headerlink" title="POP ä¸ OOPçš„åŒºåˆ«"></a><code>POP</code> ä¸ <code>OOP</code>çš„åŒºåˆ«</h3><p>OOP(object-oriented programming)é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</p>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ç»§æ‰¿ã€å°è£…ã€å¤šæ€ã€‚</p>
<p>POP(protocol-oriented programming)é¢å‘åè®®ç¼–ç¨‹ï¼š</p>
<p>é¢å‘åè®®ç¼–ç¨‹åˆ™ä¸»è¦é€šè¿‡åè®®ï¼Œåˆæˆ–å«åšæ¥å£å¯¹ä¸€ç³»åˆ—æ“ä½œè¿›è¡Œå®šä¹‰ã€‚é¢å‘åè®®ä¹Ÿæœ‰ç»§æ‰¿å°è£…å¤šæ€ï¼Œåªä¸è¿‡è¿™äº›ä¸æ˜¯é’ˆå¯¹å¯¹è±¡å»ºç«‹çš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆSwiftæ¼”å˜æˆäº†ä¸€é—¨é¢å‘åè®®çš„ç¼–ç¨‹è¯­è¨€ã€‚è¿™æ˜¯å› ä¸ºé¢å‘å¯¹è±¡å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<p>1ã€åŠ¨æ€æ´¾å‘çš„å®‰å…¨æ€§ï¼ˆè¿™åº”è¯¥æ˜¯OCçš„å›°å¢ƒï¼Œåœ¨Swiftä¸­Xcodeæ˜¯ä¸å¯èƒ½è®©è¿™ç§é—®é¢˜ç¼–è¯‘é€šè¿‡çš„ï¼‰</p>
<p>2ã€æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-Cutting Concernsï¼‰é—®é¢˜ã€‚é¢å‘å¯¹è±¡æ— æ³•æè¿°ä¸¤ä¸ªä¸åŒäº‹ç‰©å…·æœ‰æŸä¸ªç›¸åŒç‰¹æ€§è¿™ä¸€ç‚¹ã€‚</p>
<p>3ã€è±å½¢é—®é¢˜ï¼ˆæ¯”å¦‚C++ä¸­ï¼‰ã€‚C++å¯ä»¥å¤šç»§æ‰¿ï¼Œåœ¨å¤šç»§æ‰¿ä¸­ï¼Œä¸¤ä¸ªçˆ¶ç±»å®ç°äº†ç›¸åŒçš„æ–¹æ³•ï¼Œå­ç±»æ— æ³•ç¡®å®šç»§æ‰¿å“ªä¸ªçˆ¶ç±»çš„æ­¤æ–¹æ³•ï¼Œç”±äºå¤šç»§æ‰¿çš„æ‹“æ‰‘ç»“æ„æ˜¯ä¸€ä¸ªè±å½¢ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æœ‰è¢«å«åšè±å½¢ç¼ºé™·ï¼ˆDiamond Problemï¼‰ã€‚</p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<p><a href="https://swift.gg/2018/12/03/pop-vs-oop/">Swift ä¸­çš„é¢å‘åè®®ç¼–ç¨‹ï¼šæ˜¯å¦ä¼˜äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿ</a></p>
<p><a href="https://onevcat.com/2016/11/pop-cocoa-1/">é¢å‘åè®®ç¼–ç¨‹ä¸ Cocoa çš„é‚‚é€… (ä¸Š)</a></p>
<h3 id="Any-ä¸AnyObject-åŒºåˆ«"><a href="#Any-ä¸AnyObject-åŒºåˆ«" class="headerlink" title="Any ä¸AnyObject åŒºåˆ«"></a><code>Any</code> ä¸<code>AnyObject</code> åŒºåˆ«</h3><p><strong>AnyObject</strong>ï¼š æ˜¯ä¸€ä¸ªåè®®ï¼Œæ‰€æœ‰classéƒ½éµå®ˆè¯¥åè®®ï¼Œå¸¸ç”¨è¯­è·ŸOCå¯¹è±¡çš„æ•°æ®è½¬æ¢ã€‚</p>
<p><strong>Any</strong>ï¼šå®ƒå¯ä»¥ä»£è¡¨ä»»ä½•å‹åˆ¥çš„ç±»(class)ã€ç»“æ„ä½“ (struct)ã€æšä¸¾ (enum)ï¼ŒåŒ…æ‹¬å‡½å¼å’Œå¯é€‰å‹ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯ä»»ä½•ä¸œè¥¿ã€‚</p>
<h3 id="rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"><a href="#rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ" class="headerlink" title="rethrows å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"></a><code>rethrows</code> å’Œ <code>throws</code> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</h3><p>throwsæ˜¯å¤„ç†é”™è¯¯ç”¨çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸ªå¾€æ²™ç›’å†™å…¥æ–‡ä»¶çš„ä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™å…¥çš„æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">write</span><span class="params">(to url: URL, options: Data.WritingOptions = [])</span></span> <span class="keyword">throws</span></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="type">Data</span>()</span><br><span class="line">    <span class="keyword">try</span> data.write(to: localUrl)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†ä¸€ä¸ªä¼šæœ‰é”™è¯¯æŠ›å‡ºçš„å‡½æ•°æœ«å°¾åŠ ä¸Š<code>throws</code>ï¼Œåˆ™è¯¥æ–¹æ³•è°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨<code>try</code>è¯­å¥è¿›è¡Œè°ƒç”¨ï¼Œç”¨äºæç¤ºå½“å‰å‡½æ•°æ˜¯æœ‰æŠ›é”™é£é™©çš„ï¼Œå…¶ä¸­<code>catch</code>å¥æŸ„æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚</p>
<p><code>rethrows</code>ä¸<code>throws</code>å¹¶æ²¡æœ‰å¤ªå¤šä¸åŒï¼Œå®ƒä»¬éƒ½æ˜¯æ ‡è®°äº†ä¸€ä¸ªæ–¹æ³•åº”è¯¥æŠ›å‡ºé”™è¯¯ã€‚ä½†æ˜¯ <code>rethrows</code> ä¸€èˆ¬ç”¨åœ¨å‚æ•°ä¸­å«æœ‰å¯ä»¥ <code>throws</code> çš„æ–¹æ³•çš„é«˜é˜¶å‡½æ•°ä¸­ï¼ˆæƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿä¸‹æœŸç»™å‡ºç­”æ¡ˆï¼‰ã€‚</p>
<p>æŸ¥çœ‹<code>map</code>çš„æ–¹æ³•å£°æ˜ï¼Œæˆ‘ä»¬èƒ½åŒæ—¶çœ‹åˆ° <code>throws</code>,<code>rethrows</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@inlinable <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;T&gt;<span class="params">(<span class="number">_</span> transform: <span class="params">(Element)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>) <span class="keyword">rethrows</span> -&gt; [<span class="type">T</span>]</span><br></pre></td></tr></table></figure>

<p>ä¸çŸ¥é“ä½ ä»¬ç¬¬ä¸€æ¬¡è§åˆ°<code>map</code>å‡½æ•°æœ¬ä½“çš„æ—¶å€™ä¼šä¸ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆ<code>map</code>é‡Œçš„é—­åŒ…éœ€è¦æŠ›å‡ºé”™è¯¯ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™å¹¶æ²¡æœ‰ç”¨<code>try</code>è¯­æ³•ä¹Ÿå¯ä»¥æ­£å¸¸é€šè¿‡ï¼Ÿ</p>
<p>å…¶å®æ˜¯è¿™æ ·çš„ï¼Œ<code>transform</code>æ˜¯éœ€è¦æˆ‘ä»¬å®šä¹‰çš„é—­åŒ…ï¼Œå®ƒæœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿå¯èƒ½ä¸æŠ›å‡ºå¼‚å¸¸ã€‚Swiftä½œä¸ºç±»å‹å®‰å…¨çš„è¯­è¨€å°±éœ€è¦ä¿è¯åœ¨æœ‰å¼‚å¸¸çš„æ—¶å€™éœ€è¦ä½¿ç”¨tryå»è°ƒç”¨ï¼Œåœ¨æ²¡æœ‰å¼‚å¸¸çš„æ—¶å€™è¦æ­£å¸¸è°ƒç”¨ï¼Œé‚£æ€ä¹ˆå…¼å®¹è¿™ä¸¤ç§æƒ…å†µå‘¢ï¼Œè¿™å°±æ˜¯<code>rethrows</code>çš„ä½œç”¨äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">squareOf</span><span class="params">(x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;<span class="keyword">return</span> x * x&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divideTenBy</span><span class="params">(x: Int)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> x != <span class="number">0</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">CalculationError</span>.<span class="type">DivideByZero</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10.0</span> / <span class="type">Double</span>(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> theNumbers = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">let</span> squareResult = theNumbers.<span class="built_in">map</span>(squareOf(x:)) <span class="comment">// [100, 400, 9000]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> divideResult = <span class="keyword">try</span> theNumbers.<span class="built_in">map</span>(divideTenBy(x:))</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ç›´æ¥å†™<code>let divideResult = theNumbers.map(divideTenBy(x:))</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š<code>Call can throw but is not marked with &#39;try&#39;</code>ã€‚è¿™æ ·å°±å®ç°äº†æ ¹æ®æƒ…å†µå»å†³å®šæ˜¯å¦éœ€è¦ç”¨<code>try-catch</code>å»æ•è·mapé‡Œçš„å¼‚å¸¸äº†ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/error-handle/">é”™è¯¯å’Œå¼‚å¸¸å¤„ç†</a></p>
<h3 id="break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰"><a href="#break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰" class="headerlink" title="break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰"></a>break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰</h3><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œåªè¯´ç›¸å¯¹ç‰¹åˆ«çš„ç¤ºä¾‹å§ï¼Œåœ¨Swiftçš„switchè¯­å¥ï¼Œä¼šåœ¨æ¯ä¸ªcaseç»“æŸçš„æ—¶å€™è‡ªåŠ¨é€€å‡ºè¯¥switchåˆ¤æ–­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸é€€å‡ºï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªcaseçš„åˆ¤æ–­ï¼Œå¯ä»¥åŠ ä¸Š<code>fallthough</code>ã€‚</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/05/ios_photo_format_compare/"><i class="fas fa-angle-double-right"></i>iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-05T14:39:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-04-05</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-04-11T02:57:38.545Z"><i class="far fa-calendar-check">&nbsp;</i>2020-04-11</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    34 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 5035 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/05/ios_photo_format_compare/">iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©</a>
            
        </h1> -->
        <div class="content">
            <p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8ba5edf9f51?w=1022&h=512&f=png&s=436048" alt=""></p>
<h2 id="å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„"><a href="#å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„" class="headerlink" title="å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„"></a>å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„</h2><p>åœ¨è®²è§£å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼ä¹‹å‰ï¼Œæˆ‘æ„Ÿè§‰æœ‰å¿…è¦å…ˆäº†è§£ä¸‹ï¼Œå›¾ç‰‡æ˜¯å¦‚ä½•å±•ç¤ºçš„ã€‚å¦‚æœæˆ‘ä»¬è¦å±•ç¤ºä¸€å¼ å›¾ç‰‡ï¼Œä¸€èˆ¬æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Assets.xcassetsä¸­çš„å›¾ç‰‡ï¼Œä¸éœ€è¦åç¼€</span></span><br><span class="line"><span class="keyword">let</span> image = <span class="type">UIImage</span>(named: <span class="string">"icon"</span>)</span><br><span class="line"><span class="keyword">let</span> imageView = <span class="type">UIImageView</span>(frame: rect)</span><br><span class="line">imageView.image = image</span><br><span class="line">view.addSubview(imageView)</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æŒ‡å®šä½ç½®çœ‹åˆ°è¿™ä¸ªiconã€‚çœ‹ä¼¼ç®€å•çš„ä»£ç èƒŒåéšè—äº†å¾ˆå¤šç»†èŠ‚å·¥ä½œã€‚ä¸€å¼ å›¾ç‰‡çš„å±•ç¤ºï¼Œä»ä»£ç æ‰§è¡Œåˆ°å±•ç¤ºå‡ºæ¥å¤§è‡´ç»å†äº†è¿™äº›æ­¥éª¤ï¼š</p>
<p><strong>1. åŠ è½½å›¾ç‰‡</strong></p>
<ul>
<li><p>ä»ç£ç›˜ä¸­åŠ è½½ä¸€å¼ å›¾ç‰‡ï¼›</p>
</li>
<li><p>ç„¶åå°†ç”Ÿæˆçš„ <code>UIImage</code> èµ‹å€¼ç»™ <code>UIImageView</code> ï¼›</p>
</li>
<li><p>æ¥ç€ä¸€ä¸ªéšå¼çš„ <code>CATransaction</code> æ•è·åˆ°äº† <code>UIImageView</code> å›¾å±‚æ ‘çš„å˜åŒ–ï¼›</p>
</li>
<li><p>åˆ†é…å†…å­˜ç¼“å†²åŒºç”¨äºç®¡ç†æ–‡ä»¶ IO å’Œè§£å‹ç¼©æ“ä½œï¼Œå°†æ–‡ä»¶æ•°æ®ä»ç£ç›˜è¯»åˆ°å†…å­˜ä¸­ï¼›</p>
</li>
</ul>
<p><strong>2. å›¾ç‰‡è§£ç ï¼ˆè§£å‹ï¼‰</strong></p>
<ul>
<li>å°†å‹ç¼©çš„å›¾ç‰‡æ•°æ®è§£ç æˆæœªå‹ç¼©çš„ä½å›¾å½¢å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„ CPU æ“ä½œï¼Œé»˜è®¤åœ¨ä¸»çº¿ç¨‹è¿›è¡Œï¼›</li>
</ul>
<p><strong>3. å›¾ç‰‡æ¸²æŸ“</strong></p>
<ul>
<li><p><code>Core Animation</code> ä¸­<code>CALayer</code>ä½¿ç”¨è§£å‹ï¼ˆè§£ç ï¼‰çš„ä½å›¾æ•°æ®æ¸²æŸ“ <code>UIImageView</code> çš„å›¾å±‚ï¼›</p>
</li>
<li><p>CPUè®¡ç®—å¥½å›¾ç‰‡çš„Frameï¼Œå¯¹å›¾ç‰‡è§£å‹ä¹‹åï¼Œå°±ä¼šäº¤ç»™GPUæ¥åšå›¾ç‰‡æ¸²æŸ“æ¸²æŸ“æµç¨‹ï¼›</p>
</li>
<li><p>GPUè·å–è·å–å›¾ç‰‡çš„åæ ‡ï¼Œå°†åæ ‡äº¤ç»™é¡¶ç‚¹ç€è‰²å™¨(é¡¶ç‚¹è®¡ç®—)ï¼Œå°†å›¾ç‰‡å…‰æ …åŒ–(è·å–å›¾ç‰‡å¯¹åº”å±å¹•ä¸Šçš„åƒç´ ç‚¹)ï¼Œç‰‡å…ƒç€è‰²å™¨è®¡ç®—(è®¡ç®—æ¯ä¸ªåƒç´ ç‚¹çš„æœ€ç»ˆæ˜¾ç¤ºçš„é¢œè‰²å€¼)ï¼›</p>
</li>
<li><p>ä»å¸§ç¼“å­˜åŒºä¸­æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼›</p>
</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8aa5ffda915?w=1564&h=734&f=png&s=227216" alt=""></p>
<p>è¿™å…¶ä¸­æœ‰ä¸ªå…³é”®æ­¥éª¤æ˜¯å›¾ç‰‡è§£ç ã€‚é‚£ä¸ºä»€ä¹ˆè¦è§£ç å‘¢ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„å›¾ç‰‡ä¸€èˆ¬ä¸ºäº†èŠ‚çº¦ç©ºé—´éƒ½ä¼šç»è¿‡ä¸€äº›å‹ç¼©ç®—æ³•è¿›è¡Œå°è£…ï¼Œè€Œä½¿ç”¨æ—¶å±å¹•è¦ç²¾ç¡®çš„æ¸²æŸ“åˆ°æ¯ä¸ªåƒç´ ç‚¹ï¼Œè¿™å°±éœ€è¦æŠŠå‹ç¼©çš„å›¾ç‰‡è§£ç å±•å¼€ï¼Œä¾¿äºç³»ç»Ÿå¤„ç†ã€‚</p>
<h2 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h2><h3 id="æœ‰æŸvsæ— æŸ"><a href="#æœ‰æŸvsæ— æŸ" class="headerlink" title="æœ‰æŸvsæ— æŸ"></a>æœ‰æŸvsæ— æŸ</h3><p><strong>æœ‰æŸå‹ç¼©</strong>ï¼šæŒ‡åœ¨å‹ç¼©æ–‡ä»¶å¤§å°çš„è¿‡ç¨‹ä¸­ï¼ŒæŸå¤±äº†ä¸€éƒ¨åˆ†å›¾ç‰‡çš„ä¿¡æ¯ï¼Œä¹Ÿå³é™ä½äº†å›¾ç‰‡çš„è´¨é‡ï¼Œå¹¶ä¸”è¿™ç§æŸå¤±æ˜¯ä¸å¯é€†çš„ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä»æœ‰ä¸€ä¸ªæœ‰æŸå‹ç¼©è¿‡çš„å›¾ç‰‡ä¸­æ¢å¤å‡ºå…¨æ¥çš„å›¾ç‰‡ã€‚å¸¸è§çš„æœ‰æŸå‹ç¼©æ‰‹æ®µï¼Œæ˜¯æŒ‰ç…§ä¸€å®šçš„ç®—æ³•å°†ä¸´è¿‘çš„åƒç´ ç‚¹è¿›è¡Œåˆå¹¶ã€‚</p>
<p><strong>æ— æŸå‹ç¼©</strong>ï¼šåªåœ¨å‹ç¼©æ–‡ä»¶å¤§å°çš„è¿‡ç¨‹ä¸­ï¼Œå›¾ç‰‡çš„è´¨é‡æ²¡æœ‰ä»»ä½•æŸè€—ã€‚æˆ‘ä»¬ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ä»æ— æŸå‹ç¼©è¿‡çš„å›¾ç‰‡ä¸­æ¢å¤å‡ºåŸæ¥çš„ä¿¡æ¯ã€‚</p>
<h3 id="ç´¢å¼•è‰²vsç›´æ¥è‰²"><a href="#ç´¢å¼•è‰²vsç›´æ¥è‰²" class="headerlink" title="ç´¢å¼•è‰²vsç›´æ¥è‰²"></a>ç´¢å¼•è‰²vsç›´æ¥è‰²</h3><p><strong>ç´¢å¼•è‰²</strong>ï¼šç”¨ä¸€ä¸ªæ•°å­—æ¥ä»£è¡¨ï¼ˆç´¢å¼•ï¼‰ä¸€ç§é¢œè‰²ï¼Œåœ¨å­˜å‚¨å›¾ç‰‡çš„æ—¶å€™ï¼Œå­˜å‚¨ä¸€ä¸ªæ•°å­—çš„ç»„åˆï¼ŒåŒæ—¶å­˜å‚¨æ•°å­—åˆ°å›¾ç‰‡é¢œè‰²çš„æ˜ å°„ã€‚è¿™ç§æ–¹å¼åªèƒ½å­˜å‚¨æœ‰é™ç§é¢œè‰²ï¼Œé€šå¸¸æ˜¯256ç§é¢œè‰²ï¼Œå¯¹åº”åˆ°è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚çš„æ•°å­—æ¥ç´¢å¼•ä¸€ç§é¢œè‰²ã€‚</p>
<p><strong>ç›´æ¥è‰²</strong>ï¼šä½¿ç”¨å››ä¸ªæ•°å­—æ¥ä»£è¡¨ä¸€ç§é¢œè‰²ï¼Œè¿™å››ä¸ªæ•°å­—åˆ†åˆ«ä»£è¡¨è¿™ä¸ªé¢œè‰²ä¸­çº¢è‰²ã€ç»¿è‰²ã€è“è‰²ä»¥åŠé€æ˜åº¦ã€‚ç°åœ¨æµè¡Œçš„æ˜¾ç¤ºè®¾å¤‡å¯ä»¥åœ¨è¿™å››ä¸ªç»´åº¦åˆ†åˆ«æ”¯æŒ256ç§å˜åŒ–ï¼Œæ‰€ä»¥ç›´æ¥è‰²å¯ä»¥è¡¨ç¤º2çš„32æ¬¡æ–¹ç§é¢œè‰²ã€‚å½“ç„¶å¹¶éæ‰€æœ‰çš„ç›´æ¥è‰²éƒ½æ”¯æŒè¿™ä¹ˆå¤šç§ï¼Œä¸ºå‹ç¼©ç©ºé—´ä½¿ç”¨ï¼Œæœ‰å¯èƒ½åªæœ‰è¡¨è¾¾çº¢ã€ç»¿ã€è“çš„ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸ªæ•°å­—ä¹Ÿå¯èƒ½ä¸æ”¯æŒ256ç§å˜åŒ–ä¹‹å¤šã€‚</p>
<h3 id="ç‚¹é˜µå›¾vsçŸ¢é‡å›¾"><a href="#ç‚¹é˜µå›¾vsçŸ¢é‡å›¾" class="headerlink" title="ç‚¹é˜µå›¾vsçŸ¢é‡å›¾"></a>ç‚¹é˜µå›¾vsçŸ¢é‡å›¾</h3><p><strong>ç‚¹é˜µå›¾</strong>ï¼šä¹Ÿå«åšä½å›¾ï¼Œåƒç´ å›¾ã€‚æ„æˆç‚¹é˜µå›¾çš„æœ€å°å•ä½æ˜¯è±¡ç´ ï¼Œä½å›¾å°±æ˜¯ç”±è±¡ç´ é˜µåˆ—çš„æ’åˆ—æ¥å®ç°å…¶æ˜¾ç¤ºæ•ˆæœçš„ï¼Œæ¯ä¸ªè±¡ç´ æœ‰è‡ªå·±çš„é¢œè‰²ä¿¡æ¯ï¼Œåœ¨å¯¹ä½å›¾å›¾åƒè¿›è¡Œç¼–è¾‘æ“ä½œçš„æ—¶å€™ï¼Œå¯æ“ä½œçš„å¯¹è±¡æ˜¯æ¯ä¸ªè±¡ç´ ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜å›¾åƒçš„è‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦ï¼Œä»è€Œæ”¹å˜å›¾åƒçš„æ˜¾ç¤ºæ•ˆæœã€‚ç‚¹é˜µå›¾ç¼©æ”¾ä¼šå¤±çœŸï¼Œç”¨æœ€è¿‘éå¸¸æµè¡Œçš„æ²™ç”»æ¥æ¯”å–»æœ€æ°å½“ä¸è¿‡ï¼Œå½“ä½ ä»è¿œå¤„çœ‹çš„æ—¶å€™ï¼Œç”»é¢ç»†è…»å¤šå½©ï¼Œä½†æ˜¯å½“ä½ é çš„éå¸¸è¿‘çš„æ—¶å€™ï¼Œä½ å°±èƒ½çœ‹åˆ°ç»„æˆç”»é¢çš„æ¯ç²’æ²™å­ä»¥åŠæ¯ä¸ªæ²™ç²’çš„é¢œè‰²ã€‚</p>
<p><strong>çŸ¢é‡å›¾</strong>ï¼šä¹Ÿå«åšå‘é‡å›¾ã€‚çŸ¢é‡å›¾å¹¶ä¸çºªå½•ç”»é¢ä¸Šæ¯ä¸€ç‚¹çš„ä¿¡æ¯ï¼Œè€Œæ˜¯çºªå½•äº†å…ƒç´ å½¢çŠ¶åŠé¢œè‰²çš„ç®—æ³•ï¼Œå½“ä½ æ‰“å¼€ä¸€å¼ çŸ¢é‡å›¾çš„æ—¶å€™ï¼Œè½¯ä»¶å¯¹å›¾å½¢è±¡å¯¹åº”çš„å‡½æ•°è¿›è¡Œè¿ç®—ï¼Œå°†è¿ç®—ç»“æœ[å›¾å½¢çš„å½¢çŠ¶å’Œé¢œè‰²]æ˜¾ç¤ºç»™ä½ çœ‹ã€‚æ— è®ºæ˜¾ç¤ºç”»é¢æ˜¯å¤§è¿˜æ˜¯å°ï¼Œç”»é¢ä¸Šçš„å¯¹è±¡å¯¹åº”çš„ç®—æ³•æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥ï¼Œå³ä½¿å¯¹ç”»é¢è¿›è¡Œå€æ•°ç›¸å½“å¤§çš„ç¼©æ”¾ï¼Œå…¶æ˜¾ç¤ºæ•ˆæœä»ç„¶ç›¸åŒ(ä¸å¤±çœŸ)ã€‚</p>
<h2 id="å‡ ç§æ ¼å¼çš„å¯¹æ¯”"><a href="#å‡ ç§æ ¼å¼çš„å¯¹æ¯”" class="headerlink" title="å‡ ç§æ ¼å¼çš„å¯¹æ¯”"></a>å‡ ç§æ ¼å¼çš„å¯¹æ¯”</h2><p>ä¸€å¼ å›¾ç‰‡ï¼Œå¦‚æœæˆ‘ä»¬å°†å®ƒçš„æ¯ä¸€ä¸ªåƒç´ åŠå…¶å¯¹åº”çš„é¢œè‰²éƒ½å­˜å‚¨èµ·æ¥ï¼ˆBMPæ ¼å¼ï¼‰ï¼Œæ˜¯ä¼šå¾ˆå¤§çš„ã€‚ä¸ºäº†å‡å°å›¾ç‰‡å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œæ´¾ç”Ÿå‡ºäº†å„ç§ä¸åŒå‹ç¼©ç®—æ³•æ‰€ä»£è¡¨çš„å›¾ç‰‡æ ¼å¼ã€‚å¸¸è§çš„å›¾ç‰‡æ ¼å¼æœ‰pngã€jpegã€heicã€gifã€webpï¼Œsvgç­‰ã€‚</p>
<h3 id="PNG"><a href="#PNG" class="headerlink" title="PNG"></a>PNG</h3><p>PNGæœ‰ä¸¤ç§ç±»å‹ï¼šPNG-8å’ŒPNG-24ã€‚</p>
<ul>
<li><p>PNG-8æ˜¯æ— æŸçš„ã€ç´¢å¼•è‰²ã€ç‚¹é˜µå›¾ã€‚å®ƒæ”¯æŒé€æ˜åº¦çš„è°ƒèŠ‚ã€‚</p>
</li>
<li><p>PNG-24æ˜¯æ— æŸçš„ã€ç›´æ¥è‰²ã€ç‚¹é˜µå›¾ã€‚å› ä¸ºä½¿ç”¨ç›´æ¥è‰²ï¼Œé¢œè‰²èŒƒå›´æ›´å¤§ï¼Œä¹Ÿå ç”¨æ›´å¤§çš„ç©ºé—´ã€‚ä»–çš„ç›®æ ‡æ˜¯æ›¿ä»£JPEGï¼Œä½†ä¸€èˆ¬è€Œè¨€ï¼ŒPNG-24çš„æ–‡ä»¶å¤§å°æ˜¯JPEGçš„äº”å€ä¹‹å¤šï¼Œè€Œæ˜¾ç¤ºæ•ˆæœåˆ™é€šå¸¸åªèƒ½è·å¾—ä¸€ç‚¹ç‚¹æå‡ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯å¯¹å›¾ç‰‡è´¨é‡è¦æ±‚ç‰¹åˆ«é«˜ï¼Œä¸å»ºè®®ä½¿ç”¨PNG-24</p>
</li>
</ul>
<p>PNGæ˜¯è‹¹æœæ¨èçš„å›¾ç‰‡æ ¼å¼ï¼Œè€Œä¸”è¿™äº›å›¾ç‰‡ä¼šè¢«ä¸€ä¸ªå«<a href="http://pmt.sourceforge.net/pngcrush/">pngcrush</a>çš„å¼€æºå·¥å…·ä¼˜åŒ–ï¼Œè¿™æ ·iOSè®¾å¤‡å°±èƒ½åœ¨æ˜¾ç¤ºæ—¶æ›´å¿«çš„è§£å‹å’Œæ¸²æŸ“å›¾ç‰‡ã€‚è¯¥å·¥å…·ä½äºç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;Applications&#x2F;Xcode.app&#x2F;Contents&#x2F;Developer&#x2F;Platforms&#x2F;iPhoneOS.platform&#x2F;Developer&#x2F;usr&#x2F;bin</span><br></pre></td></tr></table></figure>

<h3 id="JPEG"><a href="#JPEG" class="headerlink" title="JPEG"></a>JPEG</h3><p>JPEGæ˜¯æœ‰æŸçš„ã€é‡‡ç”¨ç›´æ¥è‰²çš„ã€ç‚¹é˜µå›¾å‹ç¼©æ–¹å¼ã€‚<br>JEPGç›®æ ‡æ˜¯åœ¨ä¸å½±å“äººç±»å¯åˆ†è¾¨çš„å›¾ç‰‡è´¨é‡çš„å‰æä¸‹ï¼Œå°½å¯èƒ½çš„å‹ç¼©æ–‡ä»¶å¤§å°ã€‚ä¸€èˆ¬éƒ½æ˜¯ç”¨äºç›¸æœºå›¾ç‰‡çš„æ ¼å¼ã€‚ä½†å› ä¸ºæœ‰æŸï¼Œä¼šå¯¼è‡´å›¾ç‰‡å¤±çœŸã€‚iOSå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‹ç¼©å›¾ç‰‡ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‹ç¼©æ¯”èŒƒå›´ä»0åˆ°1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">jpegData</span><span class="params">(compressionQuality: CGFloat)</span></span> -&gt; <span class="type">Data</span>?</span><br></pre></td></tr></table></figure>

<p><strong>é¢˜å¤–è¯</strong><br>ä¸€èˆ¬æ¥è¯´ï¼Œç›¸åŒçš„å›¾ç‰‡é‡‡ç”¨JPEGçš„å‹ç¼©æ–¹å¼ä¼šæ¯”pngå¾—åˆ°æ›´å°çš„å°ºå¯¸ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ã€‚<br><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8a009a4b6af?w=1052&h=520&f=png&s=132763" alt=""><br><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8ba5f6bc8e5?w=1036&h=884&f=png&s=598026" alt=""></p>
<p>åœ¨ç½‘ä¸ŠæŸ¥äº†èµ„æ–™è¯´æ˜¯JEPGæ›´é€‚åˆå¤„ç†å¸¦æœ‰å¾ˆå¤šæ‚è‰²çš„é£æ™¯å›¾ï¼Œè€Œå¯¹äºä½¿ç”¨æ•°ä½æ¿ç­‰<strong>ç”µå­ç»˜åˆ¶</strong>çš„çº¯è‰²å¡é€šç³»é£æ ¼å›¾ç‰‡ï¼ŒJEPGçš„å‹ç¼©æ–¹å¼ä¼šé€‚å¾—å…¶åï¼Œå¯¼è‡´ä½“ç§¯æ›´å¤§ã€‚</p>
<h3 id="HEIC"><a href="#HEIC" class="headerlink" title="HEIC"></a>HEIC</h3><p>HEICæ˜¯HEIFï¼ˆHigh Efficiency Image Format é«˜æ•ˆç‡å›¾åƒæ–‡ä»¶æ ¼å¼ï¼‰çš„ä¸€ç§ã€‚å®ƒå¹¶éè‹¹æœå¼€å‘ï¼Œè€Œæ˜¯ç”±è¿åŠ¨å›¾åƒä¸“å®¶ç»„ï¼ˆMPEGï¼‰å¼€å‘ã€‚å®ƒåŒæ—¶æ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ç­‰ç‰¹æ€§ã€‚HEIFè§„èŒƒçš„å®Œæˆæ˜¯åœ¨2015å¹´ï¼Œæ˜¯è¿™å‡ ç§å›¾ç‰‡æ ¼å¼ä¸­æœ€æ–°çš„ä¸€ç§äº†ï¼Œç›®å‰é™¤äº†è‹¹æœï¼Œè¿˜æ²¡æœ‰å“ªå®¶å¤§å‚å»æ‹¥æŠ±è¿™ç§æ ¼å¼ã€‚</p>
<p>åœ¨iOS 11æ›´æ–°åï¼ŒiPhone 7åŠå…¶åç¡¬ä»¶ï¼Œåœ¨æ‹æ‘„ç…§ç‰‡æ—¶çš„é»˜è®¤å›¾åƒå­˜å‚¨æ ¼å¼ã€‚ä¸JPGç›¸æ¯”ï¼Œå®ƒå ç”¨çš„ç©ºé—´æ›´å°ï¼Œç”»è´¨æ›´åŠ æ— æŸã€‚HEICçš„ç›®çš„å°±æ˜¯ä½œä¸ºJPEGçš„ç»§ä»»è€…ï¼Œä»¥åæˆ–è®¸ä¼šæˆä¸ºä¸€ç§è¶‹åŠ¿ã€‚ç›®å‰å¯ä»¥æƒ³åˆ°çš„åœ¨å¼€å‘ä¸­çš„åº”ç”¨æ˜¯ï¼Œå¯¹äºä¸€äº›éœ€è¦ä¸‹è½½çš„å¤§å›¾å¯ä»¥è½¬æˆHEICæ ¼å¼ï¼Œä¾›å®¢æˆ·ç«¯ä½¿ç”¨ã€‚ä½†æ˜¯å½“å‰å´å¾ˆå°‘åº”ç”¨ï¼Œå¤§æ¦‚ç‡æ˜¯è€ƒè™‘åˆ°å›¾ç‰‡å…¼å®¹é—®é¢˜å§ã€‚</p>
<p><strong>é¢˜å¤–è¯</strong></p>
<p>ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œæˆ‘ç”¨ç›¸æœºï¼ˆiPhoneXRï¼‰æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œé€šè¿‡AirDropä¼ åˆ°ç”µè„‘ï¼Œæ˜¾ç¤ºä¸ºHEICæ ¼å¼ã€‚å½“æˆ‘åœ¨æ‹ç…§æ—¶é€‰æ‹©ç³»ç»Ÿè‡ªå¸¦çš„ä»»æ„ä¸€ç§æ»¤é•œï¼Œå›¾ç‰‡æ ¼å¼å°±å˜æˆäº†JPEGã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>æœ‰å°ä¼™ä¼´è§£ç­”ï¼š</p>
<p>iOSæ‹ç…§é€‰æ‹©æ»¤é•œä¼šâ€œè½¬â€ä¸ºJPEGï¼Œæ˜¯å› ä¸ºæ‹ç…§çš„æ ¼å¼è¿˜æ˜¯HEIFï¼ŒåŠ æ»¤é•œå’Œç¼–è¾‘å›¾ç‰‡éƒ½æ˜¯ç›¸å½“äºå¤åˆ¶äº†ä¸€ä»½å†åšæ“ä½œçš„ï¼Œç‚¹å‡»å¤åŸåˆä¼šâ€œè½¬â€ä¸ºHEIFã€‚</p>
<p>ç»è¿‡æµ‹è¯•ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œè€Œä¸”æ—¢ç„¶è‹¹æœæä¾›å¤åŸçš„æ“ä½œï¼Œè¯´æ˜åŸå›¾ï¼ˆHEIFï¼‰å¹¶æ²¡æœ‰è¢«è¦†ç›–ã€‚é‚£ä¸ºä»€ä¹ˆæ»¤é•œä¸èƒ½ç›´æ¥åœ¨HEIFæ ¼å¼ä¸‹æ“ä½œï¼ŒçŒœæµ‹å¯èƒ½æ˜¯è·Ÿæ»¤é•œçš„ç®—æ³•ç›¸å…³ï¼Œè¯¥ç®—æ³•åªèƒ½å¯¹JEPGæ ¼å¼ç¼–ç çš„å›¾ç‰‡è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥éœ€è¦ä¸­é—´è½¬æˆJEPGã€‚</p>
<p><strong>Live Photo</strong></p>
<p>Liveå›¾ç‰‡çš„å®è´¨æ˜¯ï¼šä¸€å¼ heicæ ¼å¼å°é¢å›¾ + movæ ¼å¼è§†é¢‘ã€‚</p>
<p>å¯¹äºLive Photoçš„å±•ç¤ºï¼Œåœ¨åŸç”Ÿåº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨<a href="https://developer.apple.com/documentation/photokit/phlivephoto">PHLivePhotoView</a>ï¼Œåœ¨Webåº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨<a href="https://developer.apple.com/documentation/livephotoskitjs">LivePhotosKit JS</a>ã€‚</p>
<h3 id="WebP"><a href="#WebP" class="headerlink" title="WebP"></a>WebP</h3><p>WebPæœ€åˆç”±Googleå‘å¸ƒäº2010å¹´ï¼Œå›¾ç‰‡æ ¼å¼æ´¾ç”Ÿè‡ªVP8è§†é¢‘ç¼–ç ï¼Œä¹ŸåŒæ—¶æ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ç­‰ç‰¹æ€§ã€‚2013å¹´ä½ï¼Œæ¨å‡ºäº†Animated WebPï¼Œè¿˜å¯ä»¥æ”¯æŒåŠ¨å›¾ã€‚</p>
<p>WebP é›†åˆäº†å¤šç§å›¾ç‰‡æ–‡ä»¶æ ¼å¼çš„ç‰¹ç‚¹ã€‚å®ƒåƒ JPEG ä¸€æ ·é€‚åˆå‹ç¼©ç…§ç‰‡å’Œå…¶ä»–ç»†èŠ‚ä¸°å¯Œçš„å›¾ç‰‡ï¼Œåƒ GIF ä¸€æ ·å¯ä»¥æ˜¾ç¤ºåŠ¨æ€å›¾ç‰‡ï¼Œåƒ PNG ä¸€æ ·æ”¯æŒé€æ˜å›¾åƒã€‚æ ¹æ® Google çš„æµ‹è¯•ï¼ŒWebP æ— æŸå‹ç¼©å›¾ç‰‡æ¯” PNG å›¾ç‰‡å°‘äº† 45ï¼… çš„æ–‡ä»¶ä½“ç§¯ï¼Œå³ä½¿è¿™äº› PNG å›¾ç‰‡åœ¨ä½¿ç”¨ <code>pngcrush</code> å’Œ <code>PNGOUT</code> å¤„ç†åï¼ŒWebP ä¾æ—§å¯ä»¥å‡å°‘ 28ï¼… çš„æ–‡ä»¶ä½“ç§¯ã€‚å¯ä»¥åœ¨<a href="https://www.upyun.com/webp?utm_source=zhihu&utm_medium=referral&utm_campaign=260228870&utm_term=webp">ç‚¹å‡»</a>è¿™é‡ŒæŸ¥çœ‹WebPå¯¹å…¶å®ƒæ ¼å¼è½¬æ¢çš„æ•ˆæœã€‚<br><img src="https://user-gold-cdn.xitu.io/2020/4/8/17158f8ce93ba11c?w=1168&h=679&f=png&s=749382" alt=""></p>
<p>å°æ˜¯WebPçš„æœ€å¤§ä¼˜ç‚¹ï¼Œå°æ„å‘³ç€æ›´å°‘çš„æµé‡ï¼Œè¿™ä¹Ÿæ˜¯å„å¤§æµé‡å…¥å£åœ¨æ„çš„åœ°æ–¹ã€‚ç›®å‰Googleã€Facebookã€é˜¿é‡Œç­‰å¤§å‚å·²ç»åœ¨å¹¿æ³›ä½¿ç”¨WebPæ ¼å¼ï¼Œå›½å†…çš„ä¸€äº›å›¾åºŠæœåŠ¡ï¼ˆä¸ƒç‰›ã€åˆæ‹äº‘ï¼‰ä¹Ÿæ”¯æŒå°†å›¾ç‰‡è‡ªåŠ¨è½¬æˆWebPæ ¼å¼ã€‚</p>
<p>è¯šç„¶WebPéå¸¸ä¼˜ç§€ï¼Œç‹¬è‡ªå®Œæˆäº†å›¾ç‰‡æ ¼å¼â€å¤§ä¸€ç»Ÿâ€çš„ä»»åŠ¡ã€‚ä½†è‹¹æœå¯¹WebPçš„æ”¯æŒå´å¾ˆå°‘ï¼ŒåªSafariç›®å‰è¿˜ä¸æ”¯æŒWebPæ˜¾ç¤ºå°±é˜»æ–­äº†å¾ˆå¤šäººåº”ç”¨WebPçš„å†³å¿ƒã€‚</p>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­æ˜¾ç¤ºWebPæ ¼å¼å›¾ç‰‡å°±ä¸å¾—ä¸å¯¼å…¥Googleçš„<code>libwebp</code>è§£ç åº“ã€‚å½“ç„¶WebPçš„è§£ç ä»»åŠ¡åœ¨iOSç«¯æœ‰äº›åº“å·²ç»å°è£…å¥½äº†ï¼ŒOCç«¯å¯ä»¥ç”¨<a href="https://github.com/SDWebImage/SDWebImageWebPCoder">SDWebImageWebPCoder</a>ï¼ŒSwiftç«¯å¯ä»¥ç”¨<a href="https://github.com/Yeatse/KingfisherWebP">KingfisherWebP</a>ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Kingfisherå±•ç¤ºWebPå›¾åƒçš„äº‹ä¾‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€é…ç½®å¯¹WebPå›¾ç‰‡çš„è§£ç ï¼ˆä»…é’ˆå¯¹WebPæ ¼å¼ï¼‰</span></span><br><span class="line"><span class="type">KingfisherManager</span>.shared.defaultOptions += [</span><br><span class="line">    .processor(<span class="type">WebPProcessor</span>.<span class="keyword">default</span>),</span><br><span class="line">    .cacheSerializer(<span class="type">WebPSerializer</span>.<span class="keyword">default</span>)</span><br><span class="line">]</span><br><span class="line"><span class="comment">// æœ¬åœ°webpå›¾ç‰‡è§£ç </span></span><br><span class="line"><span class="keyword">let</span> localUrl = <span class="type">Bundle</span>.main.url(forResource: <span class="string">"sunset"</span>, withExtension: <span class="string">"webp"</span>)</span><br><span class="line"><span class="keyword">let</span> dataProvider = <span class="type">LocalFileImageDataProvider</span>.<span class="keyword">init</span>(fileURL: localUrl!)</span><br><span class="line">imageView.kf.setImage(with: dataProvider)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿œç¨‹webpå›¾ç‰‡è§£ç ã€‚ä¸€äº›å›¾åƒæœåŠ¡å™¨å¯èƒ½æœŸæœ›â€œAcceptâ€æ ‡å¤´åŒ…å«â€œimage/webpâ€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŠ ä¸Š</span></span><br><span class="line"><span class="keyword">let</span> modifier = <span class="type">AnyModifier</span> &#123; request <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">var</span> req = request</span><br><span class="line">    req.addValue(<span class="string">"image/webp */*"</span>, forHTTPHeaderField: <span class="string">"Accept"</span>)</span><br><span class="line">    <span class="keyword">return</span> req</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">KingfisherManager</span>.shared.defaultOptions += [</span><br><span class="line">    .requestModifier(modifier),</span><br><span class="line">    <span class="comment">// ... other options</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="PDF"><a href="#PDF" class="headerlink" title="PDF"></a>PDF</h3><p>pdfå›¾ç‰‡é€šå¸¸æ˜¯çŸ¢é‡çš„ï¼Œå®ƒçš„å¯¼å…¥æ–¹å¼æœ‰äº›ç‰¹æ®Šã€‚æˆ‘ä»¬éœ€è¦åœ¨<code>Assets.xcassets</code>æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª<code>New Image Set</code>ï¼Œç„¶åå°†è¯¥æ–‡ä»¶çš„<code>Scales</code>è®¾ç½®ä¸º<code>Single Scale</code>ï¼Œæ‹–å…¥1xå°ºå¯¸çš„pdfæ–‡ä»¶å³å¯ï¼š<br><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8a0099633fa?w=1174&h=652&f=png&s=184826" alt=""></p>
<p>ä½¿ç”¨æ—¶æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“åšæ™®é€šå›¾ç‰‡å¯¹å¾…ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> image = <span class="type">UIImage</span>(named: <span class="string">"sunset"</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿è¡ŒæœŸé—´Xcodeä¼šæ ¹æ®å±å¹•çš„æ¯”ä¾‹å› å­ç”Ÿæˆå¯¹åº”å°ºå¯¸çš„pngå›¾åƒã€‚æ¯”å¦‚å¯¼å…¥ä¸€å¼ 100x100çš„pdfå›¾ç‰‡ï¼Œåœ¨2xå’Œ3xçš„æœºå‹é‡Œé¢ä¼šç”Ÿæˆå¯¹åº”çš„200x200ï¼Œ300x300çš„pngï¼ˆå¯ä»¥åœ¨Assets.carä¸­æ‰¾åˆ°ï¼‰ã€‚æ‰€ä»¥pdfåªä¸è¿‡æ˜¯Xcodeå¤„ç†å›¾ç‰‡çš„ä¸­é—´çŠ¶æ€ï¼Œä¸‹è½½åˆ°æ‰‹æœºçš„åº”ç”¨åŒ…é‡Œé¢æ˜¯æ²¡æœ‰è¿™å¼ pdfçš„ã€‚</p>
<p>è¿™ç§å¤„ç†æ–¹å¼æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œå½“è‹¹æœä»¥åå‘å¸ƒä¸€æ¬¾4xå±å¹•çš„æ‰‹æœºæ—¶ï¼Œä½¿ç”¨pdfå¤„ç†çš„å›¾ç‰‡ä¼šè‡ªé€‚åº”ç”Ÿæˆå¯¹åº”çš„4xèµ„æºï¼Œä¸éœ€è¦å†æ‰‹åŠ¨å¯¼å…¥ã€‚ä½†ç›¸æ¯”ä¼˜ç‚¹ï¼Œpdfä½œä¸ºå›¾ç‰‡èµ„æºçš„ç¼ºç‚¹æ›´å¤šã€‚</p>
<p>é¦–å…ˆæ˜¯å°ºå¯¸ä¸Šï¼Œå› ä¸ºæ˜¯è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„pngï¼Œå¹¶æ²¡æœ‰ä»»ä½•ä¼˜åŒ–å’Œå‹ç¼©ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿå¹¶ä¸èƒ½åœ¨è¿™ä¸­é—´åšä»€ä¹ˆã€‚å¯¹æ¯”ç›¸åŒå°ºå¯¸ç»è¿‡<a href="https://imageoptim.com/mac">ImageOptim</a>å‹ç¼©è¿‡çš„pngï¼Œåœ¨å¤§å°ä¸Šåè€…ä¼šæ˜¯å‰è€…çš„1/2ï¼Œç”šè‡³1/4ã€‚</p>
<p>å¦å¤–pdfå¯¹é˜´å½±å’Œæ¸å˜çš„å¤„ç†ä¼šå­˜åœ¨å¤±çœŸçš„æƒ…å†µï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d99db8700cfb?w=747&h=535&f=png&s=245741" alt=""></p>
<p>å·¦è¾¹æ˜¯pngï¼Œå³è¾¹æ˜¯pdfã€‚åœ¨ä¸€äº›æ¸å˜å’Œå…‰å½±çš„å›¾åƒéƒ¨åˆ†å¯ä»¥çœ‹å‡ºæ˜æ˜¾çš„å¤±çœŸã€‚</p>
<p>æ›´å¤šå…³äºpdfå’Œpngçš„å·®åˆ«ï¼Œå¯ä»¥çœ‹è¿™ç¯‡ï¼šWhy I donâ€™t use PDFs for iOS assets: <a href="https://bjango.com/articles/idontusepdfs/">https://bjango.com/articles/idontusepdfs/</a></p>
<h3 id="SVG-SF-Symbol"><a href="#SVG-SF-Symbol" class="headerlink" title="SVG/SF Symbol"></a>SVG/SF Symbol</h3><p>SVGæ˜¯ä¸€ç§æ— æŸçš„çŸ¢é‡å›¾ï¼Œæ˜¯ä¼—å¤šçŸ¢é‡å›¾ä¸­çš„ä¸€ç§ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ä½¿ç”¨XMLæ¥æè¿°å›¾ç‰‡ã€‚ä½¿ç”¨XMLçš„ä¼˜ç‚¹æ˜¯ï¼Œä»»ä½•æ—¶å€™ä½ éƒ½å¯ä»¥æŠŠå®ƒå½“åšä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ¥å¯¹å¾…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥éå¸¸æ–¹ä¾¿çš„ä¿®æ”¹SVGå›¾ç‰‡ï¼Œä½ æ‰€éœ€è¦çš„åªéœ€è¦ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p>
<p>åœ¨iOS13ä¹‹å‰åº”ç”¨ä¸­ç›´æ¥ä½¿ç”¨SVGçš„åœºæ™¯éå¸¸å°‘ï¼Œä½†ä»iOS13å¼€å§‹ï¼Œè‹¹æœæ¨å‡ºäº†<a href="https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/">SF Symbol</a>ï¼Œä¸€ç§svgæ ¼å¼çš„çŸ¢é‡ç¬¦å·é›†ã€‚è€Œä¸”è‹¹æœè¿˜æä¾›äº†å¤šäº1500å¤šç§iconæ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œ<a href="https://developer.apple.com/design/downloads/SF-Symbols.dmg">ä¸‹è½½</a>æŸ¥çœ‹ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8a018369cdc?w=2244&h=1310&f=png&s=682672" alt=""></p>
<p>æˆ‘ä»¬å¯ä»¥ä»ä¸­é€‰æ‹©é€‚åˆè‡ªå·±çš„iconï¼Œé€‰ä¸­ä¹‹åï¼Œä»File &gt; Export Custom Symbol Templeteä¸­å¯¼å‡ºsvgæ ¼å¼å›¾ç‰‡é›†ï¼Œç„¶åæ‹–åˆ°Xcodeçš„<code>Assets.xcassets</code>ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8c1b3fc268b?w=1362&h=516&f=png&s=115284" alt=""></p>
<p>SF Symbolæœ‰9ç§ç²—ç»†çš„è°ƒèŠ‚â€”â€”ä»ultralightåˆ°blackâ€”â€”æ¯ä¸€ç§éƒ½ç›¸å½“äº<code>San Francisco</code>ç³»ç»Ÿå­—ä½“çš„é‡é‡ï¼ˆweightï¼‰ã€‚(SF Symbolä¸­çš„SFæ˜¯<code>San Francisco</code>ï¼ˆæ—§é‡‘å±±ï¼‰çš„ç¼©å†™)ã€‚è¿™ç§å¯¹åº”ä½¿æ‚¨èƒ½å¤Ÿåœ¨ç¬¦å·å’Œç›¸é‚»æ–‡æœ¬ä¹‹é—´å®ç°ç²¾ç¡®çš„æƒé‡åŒ¹é…ï¼ŒåŒæ—¶æ”¯æŒä¸åŒå¤§å°å’Œä¸Šä¸‹æ–‡çš„çµæ´»æ€§ã€‚</p>
<p>å½“ç„¶å¦‚æœè¿™äº›å›¾æ ‡éƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰SFå›¾æ ‡ï¼Œç„¶åé€šè¿‡SF Symbol Appè¿›è¡ŒéªŒè¯å’Œå¯¼å‡ºã€‚æ“ä½œç»†èŠ‚å¯ä»¥çœ‹è¿™é‡Œï¼š<a href="https://developer.apple.com/documentation/uikit/uiimage/creating_custom_symbol_images_for_your_app">Creating Custom Symbol Images for Your App</a>ã€‚</p>
<p>SF Symbolä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> configuration = <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>.<span class="keyword">init</span>(scale: .small)</span><br><span class="line">imageView.image = <span class="type">UIImage</span>(systemName: <span class="string">"alarm"</span>, withConfiguration: configuration)</span><br></pre></td></tr></table></figure>

<p>SF Symbolå¯ä»¥ä¸€æ¬¡æ€§è§£å†³ç›¸åŒiconï¼Œä¸åŒå°ºå¯¸ï¼Œä¸åŒç²—ç»†çš„é—®é¢˜ï¼Œå®ƒè®©æˆ‘ä»¬å¤„ç†å›¾ç‰‡åƒå¤„ç†å­—ä½“ä¸€æ ·æ–¹ä¾¿ã€‚å¯ä»¥æƒ³è±¡è¿™å°±æ˜¯åº”ç”¨å›¾æ ‡çš„æœªæ¥ã€‚</p>
<p>å½“çœ‹åˆ°SF Symbolä»…æ”¯æŒiOS13+ï¼ŒwatchOS6+ï¼Œæˆ‘åˆä¸å¾—ä¸é€€å›åˆ°ç°å®ï¼Œpngä¹ŸæŒºå¥½çš„ã€‚</p>
<p><strong>é¢˜å¤–è¯</strong></p>
<p>æˆ‘åœ¨æµ‹è¯•SF Symbolå›¾æ ‡æ—¶ï¼Œä»ç”Ÿæˆçš„åº”ç”¨åŒ…ä¸­æŸ¥çœ‹å›¾ç‰‡ï¼Œä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/4/6/1714d8c263b2fb72?w=322&h=292&f=png&s=43659" alt=""></p>
<p>ä»£ç ä¸­çš„æˆ‘å°†å›¾ç‰‡è®¾ç½®ä¸º100x100ï¼Œä»…æœ‰è¿™ä¸€å¤„åœ°æ–¹ä½¿ç”¨ã€‚è·Ÿpdfç±»ä¼¼æˆ‘ä»¬æ‰¾ä¸åˆ°svgæºæ–‡ä»¶ï¼Œè¿™å¥½ç†è§£ï¼Œsvgåªæ˜¯ä¸­é—´çŠ¶æ€ï¼Œæˆ‘ä»¬æœ€ç»ˆä½¿ç”¨çš„è¿˜æ˜¯pngï¼Œä½†ä¸ºä»€ä¹ˆä¼šæœ‰å¤šä¸ªå°å°ºå¯¸çš„pngå›¾åƒå‘¢ï¼Ÿ</p>
<h2 id="å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼"><a href="#å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼" class="headerlink" title="å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼"></a>å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼</h2><p>æˆ‘ä»¬å¹³å¸¸å¼€å‘æ—¶ï¼Œä½¿ç”¨æœ€å¤šçš„å°±æ˜¯pngäº†ï¼Œç”šè‡³å¯èƒ½æ˜¯ä¸åŠ è€ƒè™‘çš„å…¨éƒ¨ä½¿ç”¨pngã€‚å…¶å®è¿™æ ·æ˜¯ä¸å¥½çš„ï¼Œæˆ‘ä»¬åº”è¯¥å……åˆ†å‘æŒ¥ä¸åŒæ ¼å¼å›¾ç‰‡çš„ä¼˜ç‚¹ï¼Œä»<strong>å…¼å®¹æ€§</strong>ã€<strong>ç©ºé—´å ç”¨</strong>ã€<strong>å±•ç¤ºæ•ˆæœ</strong>ä¸‰æ–¹é¢è€ƒé‡é€‰å–æœ€ä½³æ ¼å¼ã€‚</p>
<p>å…³äºå›¾ç‰‡æ ¼å¼çš„é€‰æ‹©ï¼Œè‹¹æœçš„<a href="https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/image-size-and-resolution/">Human Interface Guidelines</a>æœ‰ä»¥ä¸‹è¯´æ³•ï¼š</p>
<blockquote>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨PNGå›¾ç‰‡ï¼Œå› ä¸ºPNGæ”¯æŒé€æ˜æ€§ï¼Œè€Œä¸”æ˜¯æ— æŸçš„ï¼Œå‹ç¼©å·¥ä»¶ä¸ä¼šæ¨¡ç³Šé‡è¦çš„ç»†èŠ‚æˆ–æ”¹å˜é¢œè‰²ã€‚å¯¹äºéœ€è¦é˜´å½±ã€çº¹ç†å’Œé«˜å…‰æ•ˆæœçš„å¤æ‚è‰ºæœ¯å“æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚<strong>ä½¿ç”¨8ä½çš„PNGå›¾å½¢</strong>ï¼Œä¸éœ€è¦å®Œå…¨24ä½çš„é¢œè‰²ã€‚8ä½PNGå¯ä»¥åœ¨ä¸é™ä½å›¾åƒè´¨é‡çš„æƒ…å†µä¸‹å‡å°æ–‡ä»¶å¤§å°ã€‚ç²¾è‡´çš„åº”ç”¨å›¾æ ‡æœ€å¥½ä½¿ç”¨pngã€‚</p>
<p>å¯¹äºç…§ç‰‡åº”è¯¥ä½¿ç”¨JPEGæ ¼å¼ï¼Œå®ƒçš„å‹ç¼©ç®—æ³•<strong>é€šå¸¸</strong>æ¯”æ— æŸæ ¼å¼äº§ç”Ÿæ›´å°çš„å°ºå¯¸ï¼Œè€Œä¸”å¾ˆéš¾åœ¨ç…§ç‰‡ä¸­è¾¨åˆ«å‡ºæ¥ã€‚<strong>åº”è¯¥å°è¯•ä¼˜åŒ–JPEGæ–‡ä»¶ï¼Œåœ¨å¤§å°å’Œè´¨é‡ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</strong>ã€‚å¤§å¤šæ•°JPEGæ–‡ä»¶å¯ä»¥è¢«å‹ç¼©è€Œä¸ä¼šå¯¼è‡´å›¾åƒæ˜æ˜¾çš„é€€åŒ–ã€‚å³ä½¿æ˜¯å°‘é‡çš„å‹ç¼©ä¹Ÿå¯ä»¥èŠ‚çœå¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚</p>
<p>ä½¿ç”¨PDFå¤„ç†å­—å½¢å’Œå…¶ä»–éœ€è¦é«˜åˆ†è¾¨ç‡ç¼©æ”¾çš„å¹³é¢çŸ¢é‡å›¾å½¢ã€‚</p>
</blockquote>
<p>æœ€ç»ˆå¯ä»¥åšä»¥ä¸‹æ€»ç»“ã€‚</p>
<table>
<thead>
<tr>
<th>å›¾ç‰‡æ ¼å¼</th>
<th>é€‚ç”¨èŒƒå›´</th>
<th>æ³¨æ„äº‹é¡¹</th>
</tr>
</thead>
<tbody><tr>
<td>png</td>
<td>åº”ç”¨iconï¼Œç•Œé¢iconï¼Œå¡é€šé£æ ¼çš„èƒŒæ™¯å›¾</td>
<td>å¯¼å…¥é¡¹ç›®å‰å¯ä»¥ä½¿ç”¨ImageOptimè¿›è¡Œå‹ç¼©</td>
</tr>
<tr>
<td>jpeg</td>
<td>å°ºå¯¸è¾ƒå¤§çš„é£æ™¯å›¾ï¼Œç…§ç‰‡</td>
<td>ä¸æ”¯æŒé€æ˜åº¦ï¼›å› ä¸ºå¯ä»¥è°ƒèŠ‚å‹ç¼©æ¯”ï¼Œå¯ä»¥åœ¨å¤§å°å’Œè´¨é‡ä¹‹é—´å¯»æ‰¾æœ€ä½³å¹³è¡¡ã€‚</td>
</tr>
<tr>
<td>webp</td>
<td>æ”¯æŒæœ‰æŸã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ã€åŠ¨å›¾ç­‰ç‰¹æ€§ï¼Œå› ä¸ºè‹¹æœæœ¬èº«ä¸æ”¯æŒä¸€èˆ¬åªåº”ç”¨äºæœåŠ¡ç«¯è¿”å›æ¥çš„å›¾ç‰‡</td>
<td>æ— æ³•åœ¨xcodeé¢„è§ˆï¼Œä¸å»ºè®®å†…ç½®è¯¥ç±»å‹å›¾ç‰‡</td>
</tr>
<tr>
<td>pdf</td>
<td>å­—å½¢ï¼Œé«˜åˆ†è¾¨ç‡çš„çŸ¢é‡å›¾</td>
<td>å­˜åœ¨å±•å¼€å°ºå¯¸è¾ƒå¤§ï¼Œå…‰æ•ˆå¤±çœŸçš„æƒ…å†µ</td>
</tr>
<tr>
<td>svgï¼ˆsf symbolï¼‰</td>
<td>æŒ‡ç¤ºæ€§icon</td>
<td>ä»…æ”¯æŒiOS13åŠä»¥ä¸Šï¼Œç³»ç»Ÿsfç¬¦å·æ˜¯æœ‰ç‰ˆæƒçš„ï¼Œä½¿ç”¨æ—¶è¦æ³¨æ„åº”ç”¨èŒƒå›´å’Œè‹¹æœè¦æ±‚</td>
</tr>
</tbody></table>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="http://blog.leichunfeng.com/blog/2017/02/20/talking-about-the-decompression-of-the-image-in-ios/">è°ˆè°ˆ iOS ä¸­å›¾ç‰‡çš„è§£å‹ç¼©</a></p>
<p><a href="https://zhaox.github.io/multimedia/2016/01/13/introducing-image-types">å›¾ç‰‡æ ¼å¼é‚£ä¹ˆå¤šï¼Œå“ªç§æ›´é€‚åˆä½ </a></p>
<p><a href="https://github.com/wangzz/Blog/blob/master/iOS/iOS%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E9%80%89%E6%8B%A9.md">iOSå›¾ç‰‡æ ¼å¼é€‰æ‹©</a></p>
<p><a href="https://bjango.com/articles/idontusepdfs/">Why I donâ€™t use PDFs for iOS assets</a></p>
<p><a href="https://www.avanderlee.com/swift/sf-symbols-guide/">SF Symbols: The benefits and how to use them guide</a></p>
<p><a href="https://www.upyun.com/tech/article/252/1.html?utm_source=zhihu&utm_medium=referral&utm_campaign=260228870&utm_term=webp">WebP çš„å‰ä¸–ä»Šç”Ÿ</a></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/03/28/interview_kuaishou/"><i class="fas fa-angle-double-right"></i>å¿«æ‰‹iOSé¢ç»</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-03-28T05:11:27.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-03-28</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-03-29T00:13:34.821Z"><i class="far fa-calendar-check">&nbsp;</i>2020-03-29</time>
                                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    15 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2195 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/03/28/interview_kuaishou/">å¿«æ‰‹iOSé¢ç»</a>
            
        </h1> -->
        <div class="content">
            <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>è¿‡å®Œå¹´æ¥åŒ—äº¬ä¹‹åï¼Œæœ‰å‡†å¤‡çœ‹çœ‹æœºä¼šï¼Œä¹Ÿæ˜¯æƒ³äº†è§£ä¸‹å¸‚åœºè¡Œæƒ…ã€‚ç®€å†æ²¡æœ‰æŠ•å¤ªå¤šï¼Œåªå®šå‘æŠ•äº†å¤´æ¡æ•™è‚²éƒ¨é—¨ã€æŠ–éŸ³ã€å¿«æ‰‹ã€é˜¿é‡Œï¼Œè¿™äº›å…¬å¸ã€‚å¤´æ¡å’Œé˜¿é‡Œçš„ç®€å†éƒ½æ²¡è¿‡ï¼Œè‚¯å®šæ˜¯äº®ç‚¹å¤ªå°‘å§ã€‚åªæœ‰å¿«æ‰‹ç®€å†è¿‡äº†ï¼Œå¿«æ‰‹æ˜¯ä¸‰è½®æŠ€æœ¯é¢+ä¸€è½®HRé¢ï¼Œå‰ä¸¤è½®æŠ€æœ¯éƒ½æ¯”è¾ƒé¡ºåˆ©ï¼Œåˆ°ç¬¬ä¸‰è½®å´æ ½äº†ï¼Œå¾ˆç—›å¿ƒo(â•¥ï¹â•¥)oã€‚ç›®å‰å°±ä¸è€ƒè™‘æ¢å·¥ä½œäº†ï¼Œç­‰ä¸‹åŠå¹´å†è¯´äº†ï¼Œæ¥ä¸‹æ¥çš„æ—¶é—´å†å¥½å¥½ç²¾ç‚¼ä¸€ä¸‹ã€‚</p>
<p>å¿«æ‰‹æ˜¯è§†é¢‘é¢è¯•ï¼Œä¸æ”¯æŒå‘¨æœ«ï¼Œä½†æ˜¯å¯ä»¥é€‰æ‹©æ™šä¸Šæ—¶é—´ï¼Œæˆ‘è¿™å‡ æ¬¡éƒ½æ˜¯å®šåœ¨äº†æ™šä¸Šä¹ç‚¹ã€‚è§†é¢‘é¢è¯•æ˜¯é€šè¿‡ç‰›å®¢ç½‘è¿›è¡Œçš„ï¼Œä»¥ä¸‹æ˜¯æˆ‘è¿˜è®°å¾—ä¸‹æ¥çš„å„è½®é¢è¯•é¢˜ï¼Œå¯¹äºä¸€äº›iOSåŸºç¡€çŸ¥è¯†å°±ä¸åšè§£ç­”äº†ã€‚</p>
<h2 id="ä¸€é¢"><a href="#ä¸€é¢" class="headerlink" title="ä¸€é¢"></a>ä¸€é¢</h2><p>1ã€ç”¨é€’å½’å†™ä¸€ä¸ªç®—æ³•ï¼Œè®¡ç®—ä»1åˆ°100çš„å’Œã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(value: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> value &lt;= <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> number = value</span><br><span class="line">    <span class="keyword">return</span> value + sum(value: number - <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¡ç®—è¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">let</span> result = sum(value: <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>

<p>å†™å®Œç®—æ³•ä¹‹ååˆå›´ç»•ç€é—®äº†å‡ ä¸ªé—®é¢˜ï¼Œéƒ½æ˜¯ç®—æ³•åŸºç¡€ï¼š</p>
<ul>
<li>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘</li>
<li>é€’å½’ä¼šæœ‰ä»€ä¹ˆç¼ºç‚¹</li>
<li>ä¸ç”¨é€’å½’èƒ½å¦å®ç°ï¼Œå¤æ‚åº¦èƒ½å¦é™åˆ°O(1)</li>
</ul>
<p>2ã€<code>property</code>çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›å…³é”®è¯ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ</p>
<p>3ã€çˆ¶ç±»çš„<code>property</code>æ˜¯å¦‚ä½•æŸ¥æ‰¾çš„ï¼Ÿ</p>
<p>4ã€<code>NSArray</code>ã€<code>NSDictionary</code>åº”è¯¥å¦‚ä½•é€‰å…³é”®è¯ï¼Ÿ</p>
<p>5ã€<code>copy</code>å’Œ<code>muteCopy</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ·±å¤åˆ¶å’Œæµ…å¤åˆ¶æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¦‚ä½•å®ç°æ·±å¤åˆ¶ï¼Ÿ</p>
<p>6ã€ç”¨<code>runtime</code>åšè¿‡ä»€ä¹ˆäº‹æƒ…ï¼Ÿ<code>runtime</code>ä¸­çš„æ–¹æ³•äº¤æ¢æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
<p>7ã€è®²ä¸€ä¸‹å¯¹KVCåˆKVOçš„äº†è§£ï¼ŒKVCæ˜¯å¦ä¼šè°ƒç”¨<code>setter</code>æ–¹æ³•ï¼Ÿ</p>
<p>8ã€<code>__block</code>æœ‰ä»€ä¹ˆä½œç”¨</p>
<p>9ã€è¯´ä¸€ä¸‹å¯¹GCDçš„äº†è§£ï¼Œå®ƒæœ‰é‚£äº›æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿ</p>
<p>10ã€å¯¹äºŒå‰æ ‘æ˜¯å¦äº†è§£ï¼Ÿ</p>
<p>é¢è¯•å®˜æ˜¯æƒ³æ¥ç€é—®è¿™æ–¹é¢çš„é—®é¢˜çš„ã€‚æˆ‘å½“æ—¶è¯´äº†ä¸äº†è§£ï¼Œç„¶åå°±æ²¡æœ‰åç»­äº†ã€‚</p>
<h2 id="äºŒé¢"><a href="#äºŒé¢" class="headerlink" title="äºŒé¢"></a>äºŒé¢</h2><p>1ã€ARCå’ŒMRCçš„åŒºåˆ«ï¼ŒiOSæ˜¯å¦‚ä½•ç®¡ç†å¼•ç”¨è®¡æ•°çš„ï¼Œä»€ä¹ˆæƒ…å†µä¸‹å¼•ç”¨è®¡æ•°åŠ 1ä»€ä¹ˆæƒ…å†µå¼•ç”¨è®¡æ•°å‡ä¸€ï¼Ÿ</p>
<p>2ã€åœ¨MRCä¸‹æ‰§è¡Œ<code>[object autorelease]</code>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œ<code>autorelease</code>æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
<p>3ã€CoreAnimationæ˜¯å¦‚ä½•ç»˜åˆ¶å›¾åƒçš„ï¼ŒåŠ¨ç”»è¿‡ç¨‹ä¸­çš„frameèƒ½å¦è·å–åˆ°ï¼Ÿ</p>
<p>4ã€è°ˆä¸€ä¸‹å¯¹Runlopçš„äº†è§£ï¼Ÿ</p>
<p>5ã€OCå¦‚ä½•å®ç°å¤šç»§æ‰¿ï¼Ÿ</p>
<p>è¿™ä¸ªå½“æ—¶æ²¡æœ‰ç­”å¥½ã€‚å…¶å®å€ŸåŠ©äºæ¶ˆæ¯è½¬å‘ï¼Œ<code>protocol</code>å’Œç±»åˆ«éƒ½å¯ä»¥é—´æ¥å®ç°å¤šç»§æ‰¿ã€‚</p>
<p>6ã€å¯¹è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆäº†è§£ï¼Œè®²ä¸€ä¸‹å…¶ä¸­ä¸€ç§æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚</p>
<p>7ã€æœ‰æ²¡æœ‰å“ªä¸ªå¼€æºåº“è®©ä½ ç”¨çš„å¾ˆèˆ’æœï¼Œè®²ä¸€ä¸‹è®©ä½ èˆ’æœçš„åœ°æ–¹ã€‚<br>æˆ‘è¿™é‡Œè¯´äº†RxSwiftä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå’Œå“åº”å¼ç¼–ç¨‹ã€‚ç„¶åé¢è¯•å®˜é—®ï¼Œå¦‚æœè¦ç”¨OCå®ç°ä¸€å¥—RxSwifté‚£æ ·çš„é€»è¾‘åº”è¯¥æ€ä¹ˆåšã€‚æˆ‘å›ç­”çš„æ˜¯ç»“åˆKVOï¼Œå°†ä¸€äº›éœ€è¦è§‚å¯Ÿçš„å±æ€§ï¼Œé€šè¿‡KVOè¿›è¡Œç›‘å¬ï¼Œç„¶åé€šè¿‡blockå›è°ƒå‡ºæ¥ã€‚</p>
<p>8ã€ä¸€å¼ 100*100ï¼ŒRGBAçš„pngå›¾åƒè§£å‹ä¹‹åå å¤šå¤§å†…å­˜ç©ºé—´ã€‚<br>RGBA &gt; FFFFFFFF &gt; 4å­—èŠ‚<br>æ‰€ä»¥ä¼šå ç”¨ï¼š(100 * 100 * 4) / 1024 = 39KB</p>
<p>9ã€ç®—æ³•é¢˜</p>
<p>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªä¸ªæ•°å­—arrï¼Œåˆ¤æ–­æ•°ç»„arrä¸­æ˜¯å¦æ‰€æœ‰çš„æ•°å­—éƒ½åªå‡ºç°è¿‡ä¸€æ¬¡ã€‚</p>
<p>è¿™ä¸ªå¹¶æ²¡æœ‰è¦æ±‚å†™å‡ºæ¥ï¼Œè¯´æ˜¯æä¾›æ€è·¯å°±è¡Œäº†ã€‚æˆ‘å½“æ—¶ç»™çš„æ–¹æ¡ˆæ˜¯åœ¨ä¾¿åˆ©æ•°ç»„çš„æ—¶å€™ï¼Œç”¨ä¸€ä¸ªå­—å…¸æŠŠä¾¿åˆ©çš„å…ƒç´ å­˜èµ·æ¥ï¼Œå¦‚æœåœ¨åé¢çš„ä¾¿åˆ©è¿‡ç¨‹ä¸­æ–°å…ƒç´ åœ¨å­—å…¸ä¸­å­˜åœ¨è¿‡å°±è¯´æ˜ï¼Œæœ‰é‡å¤æ•°å­—å‡ºç°ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p>
<p>å½“æ—¶ä¹Ÿé—®äº†æœ‰æ²¡æœ‰åŠæ³•è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘å½“æ—¶æƒ³åˆ°äº†å°†æ•°ç»„è½¬æˆ<code>Set</code>ï¼Œç„¶åå’ŒåŸæ•°ç»„æ¯”è¾ƒï¼Œä¸¤ä¸ªé›†åˆçš„æ•°é‡æ˜¯å¦å˜åŒ–ã€‚</p>
<p>10ã€å› ä¸ºæˆ‘è·Ÿä»–ä»‹ç»è‡ªå·±Swiftç”¨çš„å¤šä¸€äº›ï¼Œç„¶åé—®äº†äº›Swiftè·ŸOCçš„åŒºåˆ«ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚</p>
<p>11ã€ä¸ºä»€ä¹ˆç¦»èŒï¼Œæœ‰ä»€ä¹ˆèŒä¸šè§„åˆ’ã€‚</p>
<h2 id="ä¸‰é¢"><a href="#ä¸‰é¢" class="headerlink" title="ä¸‰é¢"></a>ä¸‰é¢</h2><p>1ã€ç»™å®šä¸€ä¸ªIntå‹æ•°ç»„ï¼Œç”¨é‡Œé¢çš„å…ƒç´ ç»„æˆä¸€ä¸ªæœ€å¤§æ•°ï¼Œå› ä¸ºæ•°å­—å¯èƒ½éå¸¸å¤§ï¼Œç”¨å­—ç¬¦ä¸²è¾“å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,30,34,5,9]</span><br><span class="line">è¾“å‡º: 9534330</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ˜¯leetcodeçš„<a href="https://leetcode-cn.com/problems/largest-number/">179é¢˜</a>ï¼Œéš¾åº¦ä¸­ç­‰ã€‚é¢è¯•å®˜è®©å…ˆè¯´æ€è·¯ï¼Œå†å»åšé¢˜ã€‚äº‹å…ˆè¯´ä¸€ä¸‹è¿™ä¸ªé¢˜æˆ‘æ²¡æœ‰åšè¿‡ã€‚å½“æ—¶çš„æ€è·¯æ˜¯ç”¨å†’æ³¡æ³•è¿›è¡Œæ’åºï¼Œæ’åºçš„å‰ææ˜¯å°†è¾ƒå°‘ä½æ•°çš„æ•°å­—è¿›è¡Œå¾ªç¯è¡¥é½ï¼Œä¾‹å¦‚3å’Œ30çš„æ¯”è¾ƒï¼Œå˜æˆ33å’Œ30çš„æ¯”è¾ƒï¼Œ34å’Œ4çš„æ¯”è¾ƒå˜æˆ34å’Œ44çš„æ¯”è¾ƒï¼Œç„¶åå°†ç»“æœä»å¤§åˆ°å°æ•´åˆæˆå­—ç¬¦ä¸²è¾“å‡ºã€‚</p>
<p>ä½†æ˜¯åšé¢˜æ˜¯å´å‘ç°æ²¡é‚£ä¹ˆç®€å•ï¼Œä½æ•°çš„è¡¥é½å¯¹äº2ä½å’Œ3ä½æ•°çš„æ¯”è¾ƒè¿˜éœ€è¦æ±‚ä½æ•°çš„æœ€å°å…¬å€æ•°ï¼Œå°†ä»–ä»¬éƒ½è½¬æˆ6ä½æ•°æ‰èƒ½æ¯”è¾ƒã€‚åœ¨æŒ£æ‰äº†5åˆ†é’Ÿåšäº†å°±åšç½¢äº†ã€‚</p>
<p>åæ¥å†å»åšè¿™é“é¢˜ï¼Œå…¶å®è¿™å°±æ˜¯ä¸€ä¸ªæ’åºè€Œå·²ï¼Œåªä¸è¿‡ä»–çš„è§„åˆ™æ˜¯æŒ‰é«˜ä½ä¼˜å…ˆçº§æ›´é«˜çš„åŸåˆ™ï¼Œè€Œè¿™ä¸€ç‚¹è·Ÿå­—ç¬¦ä¸²çš„æ¯”è¾ƒä¿æŒä¸€è‡´ï¼Œå¦‚æœå†åŠ ä¸€äº›Swiftçš„é«˜é˜¶å‡½æ•°ï¼Œå°±å¯ä»¥å†™æˆï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestNumber</span><span class="params">(<span class="number">_</span> nums: [Int])</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">sort</span> = nums.<span class="built_in">map</span> &#123;<span class="string">"\($0)"</span>&#125;.sorted &#123; (lStr, rStr) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> lStr + rStr &gt; rStr + lStr</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="built_in">sort</span>.joined()</span><br><span class="line">    <span class="keyword">if</span> result.<span class="keyword">prefix</span>(<span class="number">1</span>) == <span class="string">"0"</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200328114843.png" alt=""></p>
<p>2ã€é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•<code>func findfile(dir: String suffix: String) -&gt; [String]</code> ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥æ–‡ä»¶å¤¹ç›®å½•ï¼Œå’Œåç¼€æ£€ç´¢å‡ºæ‰€éœ€çš„æ–‡ä»¶ã€‚</p>
<p>ä¾‹å¦‚éœ€è¦åœ¨æŸä¸ªæ–‡ä»¶ä¸­æ£€ç´¢txtæ–‡ä»¶æˆ–è€…mp4æ–‡ä»¶ï¼Œé‚£å°±ä¼ å…¥dirå’Œsuffixå°±è¡Œäº†ã€‚ç°åœ¨åˆæœ‰ä¸€äº›éœ€æ±‚ï¼Œä¾‹å¦‚éœ€è¦æ£€ç´¢utf8æ ¼å¼çš„txtæˆ–è€…h264ç¼–ç çš„mp4ï¼Œä¹Ÿä¼šæœ‰ä¸€äº›ä¾‹å¦‚æŸ¥æ‰¾æœ€è¿‘ä¸€å‘¨æ›´æ–°è¿‡çš„æ–‡ä»¶è¿™æ ·çš„éœ€æ±‚ï¼Œä½ å¦‚ä½•ä¼˜åŒ–è¿™ä¸ªç±»ï¼Œè®©å®ƒæ»¡è¶³è¿™äº›æƒ…å†µï¼Ÿ</p>
<p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯è¿™ä¹ˆå¤šéœ€æ±‚ä¸å¯èƒ½ä¸€ä¸ªæ–¹æ³•å°±å®Œæˆï¼Œéœ€è¦æ ¹æ®ä¸åŒåœºæ™¯æ‹†å‡ºä¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›åŒå±äºæ–‡ä»¶æ“ä½œï¼Œä¼šæœ‰ä¸€ä¸ªå…±åŒä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯æ£€ç´¢æ–‡ä»¶ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä¼ å…¥æ–‡ä»¶ç›®å½•ï¼Œç„¶åé€’å½’çš„è¿”å›å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶è·¯å¾„ã€‚å¤–éƒ¨ä¸åŒåœºæ™¯çš„è°ƒç”¨é€»è¾‘å°±ç”¨ä¸€ä¸ª<code>enum</code>å®Œæˆï¼Œä¸åŒå€¼å¯¹åº”ç›¸åŒèŒƒå›´çš„ä¸åŒç§ç±»ã€‚</p>
<p>é¢è¯•å®˜æ¯”è¾ƒå…³æ³¨å†…éƒ¨å…±ç”¨çš„æ–‡ä»¶æ£€ç´¢æ€ä¹ˆå†™ï¼Œä»–è¯´å­æ–‡ä»¶å¦‚æœè¿‡å¤šæ€ä¹ˆåŠï¼Œå¦‚ä½•ä¼˜åŒ–ã€‚æˆ‘æœ‰ç‚¹æ‡µï¼ŒæŸ¥æ‰¾æ–‡ä»¶è‡³å°‘æ˜¯è¦éå†ä¸€éçš„ï¼Œå­æ–‡ä»¶è¿‡å¤šï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ²¡æ³•ä¼˜åŒ–çš„å•Šã€‚ä¸­é—´å¡äº†ä¸€æ®µæ—¶é—´ï¼Œåæ¥ä»–ç»™äº†æç¤ºè¯´æ˜¯ä¸æ˜¯å¯ä»¥ç”¨blockå®ç°ï¼Œå°†æ–‡ä»¶è·¯å¾„è¿”å›å‡ºå»ï¼Œç”±å¤–éƒ¨å†³å®šå½“å‰æ–‡ä»¶æ˜¯å¦å¯ç”¨ï¼Œæœ€ç»ˆå¤–éƒ¨çš„è°ƒç”¨ç±»æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æˆ‘çš„æ–¹æ¡ˆ</span></span><br><span class="line"><span class="comment">//func findDir(_ dir: String) -&gt; [String]</span></span><br><span class="line"><span class="comment">//blockæ–¹æ¡ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDir</span><span class="params">(<span class="number">_</span> dir: String, block: <span class="params">(<span class="params">(String)</span></span></span></span> -&gt; <span class="type">Bool</span>))</span><br></pre></td></tr></table></figure>

<p>æˆ‘æƒ³æ¥ç¡®å®æ²¡æ¯›ç—…ï¼Œç”¨blockè¿”å›å†…å®¹è‡³å°‘ä¸ä¼šå°†è¯¥ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶éƒ½ç”±ä¸€ä¸ªå¯¹è±¡æŒæœ‰ï¼Œè€Œå‰é¢ä¸€å †çš„é“ºå«å…¶å®ä¹Ÿéƒ½æ˜¯ä¸ºéªŒè¯blockæ–¹æ¡ˆçš„å¥½å¤„ã€‚</p>
<p>å…¶å®äº‹åæƒ³ä¸‹è¿™ä¸ªé—®é¢˜æ²¡å•¥éš¾çš„ï¼Œè¿™ç§å†™æ³•è‡ªå·±ä¹Ÿæœ‰å†™è¿‡ï¼Œä½†å½“æ—¶å°±æ˜¯æ²¡æƒ³èµ·æ¥ï¼Œå¯èƒ½å‰é¢ä¸€åœˆçš„é“ºå«ç»™æˆ‘å¸¦åäº†å§ï¼Œè¯´äºä¹Ÿä¸äºï¼Œä»¥åå¤šå¤šåŠªåŠ›å§ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ•´ä½“æ¥çœ‹ï¼Œå¿«æ‰‹çš„é¢è¯•é¢˜è·Ÿæˆ‘åœ¨åˆ«å¤„çœ‹åˆ°çš„iOSé¢è¯•é¢˜å¯¹æ¯”è¦ç®€å•äº›ï¼Œä¸€é¢ä¸»è¦æ˜¯åŸºç¡€çŸ¥è¯†ï¼ŒäºŒé¢è€ƒå¯Ÿæ›´å…¨é¢ä¸€äº›ï¼Œæ›´å¤šè®©è‡ªå·±è°ˆä¸€äº›å¯¹æŠ€æœ¯çš„ç†è§£ï¼Œä¸‰é¢åˆ™æ˜¯æ›´åå®è·µä¸€äº›ã€‚</p>
<p>ç®—æ³•è™½ç„¶ä¸‰è½®éƒ½æœ‰ï¼Œä½†ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œå³ä½¿å†™ä¸å‡ºæ¥ï¼Œæœ‰æ€è·¯ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å½“ç„¶å†™å‡ºæ¥è‚¯å®šæ˜¯åŠ åˆ†é¡¹ï¼Œæ‰€ä»¥å¤§å®¶å‡†å¤‡é¢è¯•æ—¶ï¼Œåº”è¯¥éƒ½çœ‹ä¸€ä¸‹ã€‚ç®—æ³•ç›¸å…³çš„ï¼Œæ’åºï¼Œæ•°ç»„ï¼ŒäºŒå‰æ ‘ï¼Œè¿™å‡ ç±»æ˜¯é‡ç‚¹ã€‚</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/23/runtime_objc_class/"><i class="fas fa-angle-double-right"></i>Runtimeå†…å­˜æ¨¡å‹æ¢ç©¶</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-23T05:28:09.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-02-23</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-04-11T02:38:53.306Z"><i class="far fa-calendar-check">&nbsp;</i>2020-04-11</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2081 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/23/runtime_objc_class/">Runtimeå†…å­˜æ¨¡å‹æ¢ç©¶</a>
            
        </h1> -->
        <div class="content">
            <p><img src="https://raw.githubusercontent.com/zhangferry/Images/master/blog/laptop-2838917_1280.jpg" alt=""></p>
<blockquote>
<p>Objective-Cæ˜¯ä¸€ç§é€šç”¨ã€é«˜çº§ã€é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ‰©å±•äº†æ ‡å‡†çš„ANSI Cç¼–ç¨‹è¯­è¨€ï¼Œå°†Smalltalkå¼çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶åŠ å…¥åˆ°ANSI Cä¸­ã€‚</p>
</blockquote>
<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒObjective-C = C + Runtimeï¼ŒRuntimeæ˜¯å°†Cè¯­è¨€å…·æœ‰é¢å‘å¯¹è±¡åŠŸèƒ½çš„æ¨åŠ¨å‰‚ï¼Œæ˜¯iOSå¼€å‘ä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬å¯ä»¥åœ¨è‹¹æœå¼€æºçš„ <a href="https://opensource.apple.com/tarballs/objc4/">runtime</a>ï¼ˆå½“å‰çš„æœ€æ–°ç‰ˆæœ¬objc4-779.1.tar.gzï¼‰ä¸­å¯ä»¥å‘ç°ä¸€äº› Objective-C å¯¹è±¡æ¨¡å‹çš„å®ç°ç»†èŠ‚ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/02/23/runtime_objc_class/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/01/vscode_python/"><i class="fas fa-angle-double-right"></i>VSCodeé…ç½®Pythonç‰ˆæœ¬</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-01T03:28:09.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-02-01</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-03-08T12:38:19.739Z"><i class="far fa-calendar-check">&nbsp;</i>2020-03-08</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1315 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/01/vscode_python/">VSCodeé…ç½®Pythonç‰ˆæœ¬</a>
            
        </h1> -->
        <div class="content">
            <p>åˆšå­¦ä¹ Pythonæ²¡å¤šä¹…ï¼Œå¯¹VSCodeä¹Ÿä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œåœ¨ä¸€æ¬¡è§£é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ æ·±äº†å¯¹è¿™ä¸¤è€…çš„å°è±¡ï¼Œäºæ˜¯è®°å½•ä¸€ä¸‹ã€‚</p>
<p>ç¯å¢ƒï¼šMac OS 10.15ï¼ŒVSCode 1.41.1</p>
<h2 id="é—®é¢˜å®šä½"><a href="#é—®é¢˜å®šä½" class="headerlink" title="é—®é¢˜å®šä½"></a>é—®é¢˜å®šä½</h2><p>æˆ‘åœ¨å°è¯•ç”¨VSCodeå†™pythonçˆ¬è™«ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜<code>ImportError: No module named requests</code>ã€‚</p>
<p>é€šè¿‡é—®é¢˜æè¿°å¾ˆå®¹æ˜“çŸ¥é“é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥äº†<code>requests</code>åº“ï¼Œä½†æ˜¯VSCodeå´æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªåº“ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/02/01/vscode_python/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/01/01/2019-year-summary/"><i class="fas fa-angle-double-right"></i>2019å¹´æ€»ç»“</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-01-01T12:10:25.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-01-01</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-03-08T12:38:41.828Z"><i class="far fa-calendar-check">&nbsp;</i>2020-03-08</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    32 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 4786 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/01/01/2019-year-summary/">2019å¹´æ€»ç»“</a>
            
        </h1> -->
        <div class="content">
            <blockquote>
<p>å¥½åƒéšç€å¹´é¾„çš„å¢é•¿ï¼Œå¯¹æ—¶é—´çš„æ„ŸçŸ¥å°±å˜å¾—è¶Šæ¥è¶Šå¼±äº†ã€‚æ€»æ„Ÿè§‰2019å¹´è¿˜æ˜¯ä¸€ä¸ªå¾ˆæ–°é²œçš„å¹´ä»½ï¼Œä½†å®ƒå´å·²ç»èµ°å®Œäº†ï¼Œ2020å¹´å¥½åƒå¾ˆé¥è¿œçš„æ ·å­ï¼Œä½†å®ƒå·²ç»åˆ°æ¥äº†ã€‚æ¥ä¸ªæ€»ç»“å§ï¼Œ2019å¹´ï¼Œè¿™ä¸€å¹´æœ‰å¤ªå¤šçš„é…¸ç”œè‹¦è¾£ã€‚ä»å·¥ä½œã€ç”Ÿæ´»å’Œè§„åˆ’ä¸‰ä¸ªæ–¹é¢å±•å¼€è¯´å§ã€‚</p>
</blockquote>
<h2 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h2><p><img src="https://raw.githubusercontent.com/zhangferry/Images/master/blog/thought-catalog-505eectW54k-unsplash.jpg" alt=""></p>
<p>å¹´åˆåŸé¡¹ç›®ç»„æœ‰ä¸€ä½å¾ˆå‰å®³çš„å¼€å‘ç¦»èŒäº†ï¼Œå½“æ—¶æ˜¯æˆ‘ä¿©å…±åŒè´Ÿè´£ä¸€ä¸ªé¡¹ç›®ã€‚ä»–å¼€å‘ç»éªŒæ¯”æˆ‘å¤šï¼Œè€Œä¸”å·¥ä½œæ€åº¦å’Œä¹ æƒ¯éƒ½å¾ˆå¥½ï¼Œæ˜¯æˆ‘è§è¿‡çš„æœªæ•°ä¸å¤šè®©æˆ‘ç§°èµçš„ç¨‹åºå‘˜ã€‚æ›¾ç»ä¸€èµ·å·¥ä½œçš„å°†è¿‘ä¸€å¹´å¤šæ—¶é—´é‡Œï¼Œæˆ‘éƒ½ä»¥ä»–ä¸ºå­¦ä¹ æ¦œæ ·ã€‚å¯¹äºä»–çš„ç¦»èŒï¼Œæˆ‘çº ç»“äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œè‡ªè®¤è¿™æ˜¯å¯¹æˆ‘å¯¹å…¬å¸çš„ä¸€å¤§æŸå¤±ã€‚</p>
<p>åæ¥å¾ˆé•¿çš„æ—¶é—´é‡Œï¼Œä¸€ç›´éƒ½æ²¡æœ‰æ‹›åˆ°åˆé€‚çš„äººï¼Œæˆ‘ä¾¿ä¸€ä¸ªäººæ‰›èµ·äº†é¡¹ç›®ã€‚å¾ˆå¤šä¹‹å‰åº”è¯¥æ˜¯ä¸¤ä¸ªäººä¸€èµ·å•†é‡çš„é—®é¢˜éƒ½éœ€è¦è‡ªå·±ä¸€ä¸ªäººå»æ€è€ƒè§£å†³æ–¹å¼ï¼Œæ¸æ¸çš„æˆ‘ä¸æ–­ç£¨ç»ƒè‡ªå·±çš„ç‹¬ç«‹æ€è€ƒèƒ½åŠ›ã€‚å¤§åŠå¹´ä¸‹æ¥ï¼Œçªç„¶æ„Ÿè§‰è‡ªå·±è¢«é€¼ç€æˆé•¿äº†è®¸å¤šï¼Œä»ä¸€ä¸ªå´‡æ‹œåˆ«äººï¼Œå‘åˆ«äººå­¦ä¹ çš„è§’è‰²å˜æˆäº†ä¸€ä¸ªä¸æƒ§æ€•ä»»ä½•æŠ€æœ¯éš¾é¢˜ï¼Œèƒ½å¤Ÿå¸®åŠ©åˆ«äººè§£å†³å›°éš¾çš„è§’è‰²ã€‚</p>
<p>2019å¹´å­¦ä¼šçš„ç¬¬ä¸€ä¸ªæœ€é‡è¦çš„é“ç†ï¼Œ<strong>å¾ˆå¤šæ—¶å€™æœ‰ä¸€ä¸ªå¯ä»¥ä¾èµ–çš„å¯¹è±¡ï¼Œæ˜¯ä¼šå‡å¼±è‡ªå·±æ¢ç´¢å’Œå°è¯•çš„åŠ¨åŠ›ï¼Œè€Œå¼€å‘å¾ˆå¤šæ—¶å€™å¯¹æŠ€èƒ½çš„ç†è§£å’ŒæŒæ¡ï¼Œä¹ƒè‡³ä¸ªäººè¿›æ­¥ï¼Œéƒ½æ˜¯è¦ä¾é è‡ªå·±çš„æ¢ç´¢è·å–çš„</strong>ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/01/01/2019-year-summary/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/12/07/transfom_oc_to_swift/"><i class="fas fa-angle-double-right"></i>OCé¡¹ç›®è½¬SwiftæŒ‡å—</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-07T10:28:09.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-07</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-03-08T12:38:31.328Z"><i class="far fa-calendar-check">&nbsp;</i>2020-03-08</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    23 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 3480 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/12/07/transfom_oc_to_swift/">OCé¡¹ç›®è½¬SwiftæŒ‡å—</a>
            
        </h1> -->
        <div class="content">
            <p><img src="https://raw.githubusercontent.com/zhangferry/Images/master/blog/web-3967926_1280.jpg" alt=""></p>
<blockquote>
<p>è¿è¡Œç¯å¢ƒï¼šXcode 11.1 Swift5.0</p>
</blockquote>
<p>æœ€è¿‘å‚ä¸çš„ä¸€ä¸ªé¡¹ç›®éœ€è¦ä»Objective-Cï¼ˆä»¥ä¸‹ç®€ç§°OCï¼‰è½¬åˆ°Swiftï¼ŒæœŸé—´é‡åˆ°äº†ä¸€äº›å‘ï¼Œäºæ˜¯æœ‰äº†è¿™ç¯‡æ€»ç»“æ€§çš„æ–‡æ¡£ã€‚å¦‚æœä½ ä¹Ÿæœ‰å°†OCé¡¹ç›®SwiftåŒ–çš„éœ€æ±‚ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒã€‚</p>
<p>OCè½¬Swiftæœ‰ä¸€ä¸ªå¤§å‰æå°±æ˜¯ä½ è¦å¯¹Swiftæœ‰ä¸€å®šçš„äº†è§£ï¼Œç†Ÿæ‚‰Swiftè¯­æ³•ï¼Œæœ€å¥½æ˜¯å®Œæ•´çœ‹è¿‡ä¸€éå®˜æ–¹çš„<a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html">Language Guide</a>ã€‚</p>
<p>è½¬æ¢çš„è¿‡ç¨‹åˆ†è‡ªåŠ¨åŒ–å’Œæ‰‹åŠ¨è½¬è¯‘ï¼Œé‰´äºè‡ªåŠ¨åŒ–å·¥å…·çš„è¯†åˆ«ç‡ä¸èƒ½è®©äººæ»¡æ„ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨è½¬æ¢çš„ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/12/07/transfom_oc_to_swift/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/22/ios_architecture_patterns/"><i class="fas fa-angle-double-right"></i>ã€è¯‘ã€‘iOS æ¶æ„æ¨¡å¼--æµ…æMVC, MVP, MVVM å’Œ VIPER</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-22T06:39:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-11-22</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-03-08T12:39:27.146Z"><i class="far fa-calendar-check">&nbsp;</i>2020-03-08</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    37 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 5554 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/22/ios_architecture_patterns/">ã€è¯‘ã€‘iOS æ¶æ„æ¨¡å¼--æµ…æMVC, MVP, MVVM å’Œ VIPER</a>
            
        </h1> -->
        <div class="content">
            <blockquote>
<p>ä½œè€…ï¼šBohdan Orlov<br>åŸæ–‡åœ°å€ï¼š<a href="https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52">https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52</a></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191122154526.png" alt=""></p>
<p>åœ¨iOSå¼€å‘è¿‡ç¨‹ä¸­ä½ æ˜¯å¦å¯¹MVCçš„ä½¿ç”¨æ„Ÿè§‰å¾ˆåˆ«æ‰­ï¼Ÿä½ æ˜¯å¦å¯¹è½¬å‘MVVMæœ‰ç–‘æƒ‘ï¼Ÿä½ å¬è¯´è¿‡VIPERï¼Œä½†ä¸æ¸…æ¥šè¿™ä¸ªä¸œè¥¿æ˜¯å¦å€¼å¾—ä¸€è¯•ã€‚</p>
<p>æ¥ç€è¯»ä¸‹å»ï¼Œä½ ä¼šæ‰¾åˆ°ä¸Šé¢è¿™äº›é—®é¢˜çš„ç­”æ¡ˆã€‚å¦‚æœè¯»å®Œä»ä¸èƒ½è§£æƒ‘ï¼Œæ¬¢è¿åˆ°è¯„è®ºåŒºæ¶æˆ‘ã€‚</p>
<p>æ¥ä¸‹æ¥ä½ å°†åœ¨iOSç¯å¢ƒä¸‹æ„å»ºå…³äºæ¶æ„æ¨¡å¼çš„çŸ¥è¯†ä½“ç³»ã€‚æˆ‘ä»¬å°†ç®€è¦æ„å»ºä¸€äº›ç»å…¸çš„ä¾‹å­ï¼Œå¹¶åœ¨ç†è®ºå’Œå®è·µä¸Šè¿›è¡Œæ¯”è¾ƒä»–ä»¬çš„ä¸åŒã€‚å¦‚æœä½ éœ€è¦æ›´å¤šå…³äºä»»ä½•ä¸€ä¸ªç‰¹å®šçš„ç»†èŠ‚ï¼Œè¯·å…³æ³¨æˆ‘ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/11/22/ios_architecture_patterns/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/09/thanks_letter/"><i class="fas fa-angle-double-right"></i>æ„Ÿè°¢å¤§å®¶çš„å¸®åŠ©</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-09T05:58:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-11-09</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2019-11-09T12:29:39.375Z"><i class="far fa-calendar-check">&nbsp;</i>2019-11-09</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1540 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/09/thanks_letter/">æ„Ÿè°¢å¤§å®¶çš„å¸®åŠ©</a>
            
        </h1> -->
        <div class="content">
            <h2 id="å¥½æ¶ˆæ¯"><a href="#å¥½æ¶ˆæ¯" class="headerlink" title="å¥½æ¶ˆæ¯"></a>å¥½æ¶ˆæ¯</h2><p>å¼€å§‹æ°´æ»´ç­¹ä¹‹åï¼Œçˆ¶äº²æ²»ç—…çš„æ¶ˆæ¯å¤§å®¶å°±éƒ½çŸ¥é“äº†ï¼ŒæœŸé—´æ”¶åˆ°äº†å¾ˆå¤šæ¥è‡ªäº²å‹çš„æ”¯æŒå’Œå¸®åŠ©ã€‚å…ˆå‘Šè¯‰å¤§å®¶å¥½æ¶ˆæ¯ï¼Œçˆ¶äº²æ‰‹æœ¯å®Œäº†ï¼Œå¹¶ä¸”èº«ä½“æ¢å¤ä¸€åˆ‡æ­£å¸¸ï¼Œå·²äº11æœˆ8å·ä¸­åˆä»é‡ç—‡ç›‘æŠ¤å®¤è½¬åˆ°æ— èŒç—…æˆ¿ï¼Œè¿˜éœ€è¦åœ¨é‡Œé¢å¾…å¤Ÿäº”å¤©æ‰è½¬åˆ°æ™®é€šç—…æˆ¿ã€‚å…³äºçœ‹ç—…æ‰€éœ€è¦çš„ç­¹æ¬¾ï¼Œä¹Ÿå¾—åˆ°äº†è§£å†³ã€‚ä»Šå¤©æ™šä¸Š7ç‚¹å·¦å³ï¼Œæˆ‘å·²ç»ç»ˆæ­¢äº†è¿™æ¬¡ç­¹æ¬¾ã€‚</p>
<p>çœ‹ç—…èµ„é‡‘é—®é¢˜èƒ½å¿«é€Ÿè§£å†³ï¼Œé™¤äº†æ¥è‡ªæ°´æ»´ç­¹çš„ç­¹æ¬¾ï¼Œè¿˜æœ‰å°±æ˜¯å…¬å¸çš„å¤§åŠ›æ”¯æŒã€‚ä¸‰ä½è€æ¿å¸®åŠ©äº†2ä¸‡å…ƒï¼Œè¿˜ç ´æ ¼æå‰ç»™æˆ‘å‘äº†å¹´ç»ˆå¥–ï¼Œç®—ä¸Šæ°´æ»´ç­¹ä¸­çš„63588å…ƒï¼Œä¸€ç›´åˆ°å‡ºé™¢åº”è¯¥æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/11/09/thanks_letter/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/08/shuidi/"><i class="fas fa-angle-double-right"></i>å…³äºæ°´æ»´ç­¹</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-07T23:08:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-11-08</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2019-11-09T12:29:39.315Z"><i class="far fa-calendar-check">&nbsp;</i>2019-11-09</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1556 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/08/shuidi/">å…³äºæ°´æ»´ç­¹</a>
            
        </h1> -->
        <div class="content">
            <p>å¾ˆå¤šæœ‹å‹å› ä¸ºæˆ‘çš„åŸå› å…³æ³¨å¹¶å‚ä¸åˆ°æ°´æ»´ç­¹ä¸­ï¼Œæœ‰äº›å°ä¼™ä¼´å› ä¸ºæ‹…å¿ƒæ°´æ»´ç­¹æœ‰æ‰‹ç»­è´¹ç”¨å°±ç›´æ¥æŠŠé’±æ‰“ç»™æˆ‘ã€‚ä¸ºäº†æ‰“æ¶ˆå¤§å®¶çš„é¡¾è™‘ï¼Œæˆ‘èŠ±äº†äº›æ—¶é—´ç†è§£æ°´æ»´ç­¹èƒŒåçš„ä¸€äº›äº‹æƒ…ã€‚</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/11/08/shuidi/#more">é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/page/0/">ä¸Šä¸€é¡µ</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/2/">ä¸‹ä¸€é¡µ</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/2/">2</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/6/">6</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="zhangferry">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        zhangferry
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        iOSå¼€å‘
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>åŒ—äº¬</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            59
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            4
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            29
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/zhangferry" target="_blank" rel="noopener">
                å…³æ³¨æˆ‘</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/zhangferry">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Weibo" href="https://weibo.com/2947186387/profile">
                
                <i class="fab fa-weibo"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="https://zhangferry.com/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="http://colin1994.github.io/" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Colin</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">colin1994.github.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.evenvi.com/" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Evenvi</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.evenvi.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æ ‡ç­¾äº‘
        </h3>
        <a href="/tags/ANCS/" style="font-size: 10px;">ANCS</a> <a href="/tags/AVPlayer/" style="font-size: 11.67px;">AVPlayer</a> <a href="/tags/Cocoapods/" style="font-size: 10px;">Cocoapods</a> <a href="/tags/DFU/" style="font-size: 10px;">DFU</a> <a href="/tags/Hexo/" style="font-size: 11.67px;">Hexo</a> <a href="/tags/Hybrid/" style="font-size: 10px;">Hybrid</a> <a href="/tags/Notification/" style="font-size: 10px;">Notification</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/UI/" style="font-size: 13.33px;">UI</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 13.33px;">åšå®¢</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 10px;">å·¥ä½œ</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">å·¥å…·</a> <a href="/tags/%E6%8B%9B%E8%81%98/" style="font-size: 10px;">æ‹›è˜</a> <a href="/tags/%E6%9C%88%E6%8A%A5/" style="font-size: 18.33px;">æœˆæŠ¥</a> <a href="/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/" style="font-size: 10px;">æœ¬åœ°åŒ–</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 16.67px;">ç”Ÿæ´»</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 10px;">ç¨‹åºå‘˜</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">ç®—æ³•</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 10px;">ç¿»è¯‘</a> <a href="/tags/%E8%93%9D%E7%89%99/" style="font-size: 15px;">è“ç‰™</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">è®¡ç®—æœºç½‘ç»œ</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 11.67px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E9%98%85%E8%AF%BB/" style="font-size: 10px;">é˜…è¯»</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 11.67px;">é¢è¯•</a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" style="font-size: 10px;">é»‘è‹¹æœ</a>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/10/swifter_question/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Swifté»„é‡‘é€‰æ‰‹é‰´å®šæ‰‹å†Œ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T16:00:34.000Z">2020-05-10</time></div>
                    <a href="/2020/05/10/swifter_question/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Swifté»„é‡‘é€‰æ‰‹é‰´å®šæ‰‹å†Œ</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/04/05/ios_photo_format_compare/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-05T14:39:34.000Z">2020-04-05</time></div>
                    <a href="/2020/04/05/ios_photo_format_compare/" class="title has-link-black-ter is-size-6 has-text-weight-normal">iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/28/interview_kuaishou/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å¿«æ‰‹iOSé¢ç»">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-28T05:11:27.000Z">2020-03-28</time></div>
                    <a href="/2020/03/28/interview_kuaishou/" class="title has-link-black-ter is-size-6 has-text-weight-normal">å¿«æ‰‹iOSé¢ç»</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/23/runtime_objc_class/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Runtimeå†…å­˜æ¨¡å‹æ¢ç©¶">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-23T05:28:09.000Z">2020-02-23</time></div>
                    <a href="/2020/02/23/runtime_objc_class/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Runtimeå†…å­˜æ¨¡å‹æ¢ç©¶</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/01/vscode_python/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="VSCodeé…ç½®Pythonç‰ˆæœ¬">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-01T03:28:09.000Z">2020-02-01</time></div>
                    <a href="/2020/02/01/vscode_python/" class="title has-link-black-ter is-size-6 has-text-weight-normal">VSCodeé…ç½®Pythonç‰ˆæœ¬</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            å½’æ¡£
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">äº”æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">å››æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">ä¸‰æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">äºŒæœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">ä¸€æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">åäºŒæœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">åä¸€æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">ä¸ƒæœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">å…­æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">äº”æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">å››æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">ä¸‰æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">äºŒæœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">ä¸€æœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">åäºŒæœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">åä¸€æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">åæœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">ä¹æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">ä¸ƒæœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">å…­æœˆ 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">ä¸€æœˆ 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">åäºŒæœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">åæœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">ä¹æœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/03/">
                <span class="level-start">
                    <span class="level-item">ä¸‰æœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                æ ‡ç­¾
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ANCS/">
                        <span class="tag">ANCS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AVPlayer/">
                        <span class="tag">AVPlayer</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cocoapods/">
                        <span class="tag">Cocoapods</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DFU/">
                        <span class="tag">DFU</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hybrid/">
                        <span class="tag">Hybrid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Notification/">
                        <span class="tag">Notification</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Swift/">
                        <span class="tag">Swift</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UI/">
                        <span class="tag">UI</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iOS/">
                        <span class="tag">iOS</span>
                        <span class="tag is-grey">15</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2/">
                        <span class="tag">åšå®¢</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%B7%A5%E4%BD%9C/">
                        <span class="tag">å·¥ä½œ</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/">
                        <span class="tag">å·¥å…·</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%8B%9B%E8%81%98/">
                        <span class="tag">æ‹›è˜</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%9C%88%E6%8A%A5/">
                        <span class="tag">æœˆæŠ¥</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/">
                        <span class="tag">æœ¬åœ°åŒ–</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%94%9F%E6%B4%BB/">
                        <span class="tag">ç”Ÿæ´»</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/">
                        <span class="tag">ç¨‹åºå‘˜</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="tag">ç®—æ³•</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BF%BB%E8%AF%91/">
                        <span class="tag">ç¿»è¯‘</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%93%9D%E7%89%99/">
                        <span class="tag">è“ç‰™</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                        <span class="tag">è®¡ç®—æœºç½‘ç»œ</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">
                        <span class="tag">è®¾è®¡æ¨¡å¼</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E9%98%85%E8%AF%BB/">
                        <span class="tag">é˜…è¯»</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/">
                        <span class="tag">é¢è¯•</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/">
                        <span class="tag">é»‘è‹¹æœ</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
        </div>
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo_2.svg" alt="zhangferry" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 zhangferry&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢
                </span>
                <span id="busuanzi_container_site_pv">
                å…±<span id="busuanzi_value_site_pv">0</span>è®¿é—®é‡
              </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://zhangferry.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>