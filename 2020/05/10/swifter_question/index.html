<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯ - zhangferry</title>


    <meta name="description" content="è¿™ç¯‡æ˜¯å¯¹ä¸€æ–‡é‰´å®šæ˜¯Swiftçš„ç‹è€…ï¼Œè¿˜æ˜¯é’é“œæ–‡ç« ä¸­é—®é¢˜çš„è§£ç­”ã€‚è¿™äº›é—®é¢˜ä»…ä»…æ˜¯è¡¨å±‚æ¦‚å¿µï¼Œå±äºçŸ¥è¯†ç‚¹ï¼Œåœ¨æˆ‘çœ‹æ¥å³ä½¿éƒ½å¾ˆæ¸…æ¥šä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸Šäº†ç‹è€…ï¼Œå¦‚æœéè¦ç”¨æ®µä½ç±»æ¯”çš„è¯ï¼Œé»„é‡‘è¿˜æ˜¯åˆç†çš„ğŸ˜„ã€‚ Swiftæ˜¯ä¸€é—¨ä¸Šæ‰‹å®¹æ˜“ï¼Œä½†æ˜¯ç²¾é€šè¾ƒéš¾çš„è¯­è¨€ã€‚å³ä½¿ä¸‹é¢è¿™äº›å†…å®¹éƒ½ä¸æ¸…æ¥šä¹Ÿä¸å¦¨ç¢ä½ å¼€å‘ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯äº†è§£ä¹‹åå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´åŠ Swiftyçš„ä»£ç ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯">
<meta property="og:url" content="http://zhangferry.github.io/2020/05/10/swifter_question/index.html">
<meta property="og:site_name" content="zhangferry">
<meta property="og:description" content="è¿™ç¯‡æ˜¯å¯¹ä¸€æ–‡é‰´å®šæ˜¯Swiftçš„ç‹è€…ï¼Œè¿˜æ˜¯é’é“œæ–‡ç« ä¸­é—®é¢˜çš„è§£ç­”ã€‚è¿™äº›é—®é¢˜ä»…ä»…æ˜¯è¡¨å±‚æ¦‚å¿µï¼Œå±äºçŸ¥è¯†ç‚¹ï¼Œåœ¨æˆ‘çœ‹æ¥å³ä½¿éƒ½å¾ˆæ¸…æ¥šä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸Šäº†ç‹è€…ï¼Œå¦‚æœéè¦ç”¨æ®µä½ç±»æ¯”çš„è¯ï¼Œé»„é‡‘è¿˜æ˜¯åˆç†çš„ğŸ˜„ã€‚ Swiftæ˜¯ä¸€é—¨ä¸Šæ‰‹å®¹æ˜“ï¼Œä½†æ˜¯ç²¾é€šè¾ƒéš¾çš„è¯­è¨€ã€‚å³ä½¿ä¸‹é¢è¿™äº›å†…å®¹éƒ½ä¸æ¸…æ¥šä¹Ÿä¸å¦¨ç¢ä½ å¼€å‘ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯äº†è§£ä¹‹åå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´åŠ Swiftyçš„ä»£ç ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://zhangferry.github.io/images/og_image.png">
<meta property="article:published_time" content="2020-05-09T16:00:34.000Z">
<meta property="article:modified_time" content="2020-05-22T14:31:51.519Z">
<meta property="article:author" content="zhangferry">
<meta property="article:tag" content="Swift">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://zhangferry.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/tomorrow-night-bright.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
<link rel="alternate" href="/atom.xml" title="zhangferry" type="application/atom+xml">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo_2.svg" alt="Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item"
                href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item"
                href="/tags">æ ‡ç­¾</a>
                
                <a class="navbar-item"
                href="/about">å…³äº</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zhangferry">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <i class="fas fa-angle-double-right"></i>Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-05-09T16:00:34.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2020-05-10</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2020-05-22T14:31:51.519Z"><i class="far fa-calendar-check">&nbsp;</i>2020-05-22</time>
                                
                
                
                <span class="level-item has-text-grey">
                    
                    
                    40 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 6049 ä¸ªå­—)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®
                </span>
                
            </div>
        </div>
        
        <!-- <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯
            
        </h1> -->
        <div class="content">
            <p><img src="https://cdn.jsdelivr.net/gh/zhangferry/Images/blog/image-20200511230812677.png" alt="image-20200511230812677"></p>
<p>è¿™ç¯‡æ˜¯å¯¹<a href="https://juejin.im/post/5e96f898e51d4546c27bcf81">ä¸€æ–‡é‰´å®šæ˜¯Swiftçš„ç‹è€…ï¼Œè¿˜æ˜¯é’é“œ</a>æ–‡ç« ä¸­é—®é¢˜çš„è§£ç­”ã€‚è¿™äº›é—®é¢˜ä»…ä»…æ˜¯è¡¨å±‚æ¦‚å¿µï¼Œå±äºçŸ¥è¯†ç‚¹ï¼Œåœ¨æˆ‘çœ‹æ¥å³ä½¿éƒ½å¾ˆæ¸…æ¥šä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸Šäº†ç‹è€…ï¼Œå¦‚æœéè¦ç”¨æ®µä½ç±»æ¯”çš„è¯ï¼Œé»„é‡‘è¿˜æ˜¯åˆç†çš„ğŸ˜„ã€‚</p>
<p>Swiftæ˜¯ä¸€é—¨ä¸Šæ‰‹å®¹æ˜“ï¼Œä½†æ˜¯ç²¾é€šè¾ƒéš¾çš„è¯­è¨€ã€‚å³ä½¿ä¸‹é¢è¿™äº›å†…å®¹éƒ½ä¸æ¸…æ¥šä¹Ÿä¸å¦¨ç¢ä½ å¼€å‘ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯äº†è§£ä¹‹åå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´åŠ Swiftyçš„ä»£ç ã€‚</p>
<a id="more"></a>

<h2 id="ä¸€ã€-åè®®-Protocol"><a href="#ä¸€ã€-åè®®-Protocol" class="headerlink" title="ä¸€ã€ åè®® Protocol"></a>ä¸€ã€ åè®® Protocol</h2><h3 id="ExpressibleByDictionaryLiteral"><a href="#ExpressibleByDictionaryLiteral" class="headerlink" title="ExpressibleByDictionaryLiteral"></a>ExpressibleByDictionaryLiteral</h3><p><code>ExpressibleByDictionaryLiteral</code>æ˜¯å­—å…¸çš„å­—é¢é‡åè®®ï¼Œè¯¥åè®®çš„å®Œæ•´å†™æ³•ä¸ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">ExpressibleByDictionaryLiteral</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// The key type of a dictionary literal.</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Key</span></span><br><span class="line">    <span class="comment">/// The value type of a dictionary literal.</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Value</span></span><br><span class="line">    <span class="comment">/// Creates an instance initialized with the given key-value pairs.</span></span><br><span class="line">    <span class="keyword">init</span>(dictionaryLiteral elements: (<span class="type">Self</span>.<span class="type">Key</span>, <span class="type">Self</span>.<span class="type">Value</span>)...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå­—é¢é‡ï¼ˆLiteralï¼‰çš„æ„æ€æ˜¯ï¼š<strong>ç”¨äºè¡¨è¾¾æºä»£ç ä¸­ä¸€ä¸ªå›ºå®šå€¼çš„è¡¨ç¤ºæ³•ï¼ˆnotationï¼‰</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ„é€ å­—å…¸æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¿›è¡Œï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="keyword">var</span> countryCodes = <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Any</span>&gt;()</span><br><span class="line">countryCodes[<span class="string">"BR"</span>] = <span class="string">"Brazil"</span></span><br><span class="line">countryCodes[<span class="string">"GH"</span>] = <span class="string">"Ghana"</span></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒï¼š</span></span><br><span class="line"><span class="keyword">let</span> countryCodes = [<span class="string">"BR"</span>: <span class="string">"Brazil"</span>, <span class="string">"GH"</span>: <span class="string">"Ghana"</span>]</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§æ„é€ æ–¹å¼å°±æ˜¯é€šè¿‡å­—é¢é‡æ–¹å¼è¿›è¡Œæ„é€ çš„ã€‚</p>
<p>å…¶å®åŸºç¡€ç±»å‹åŸºæœ¬éƒ½æ˜¯é€šè¿‡å­—é¢é‡è¿›è¡Œæ„é€ çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> flag: <span class="type">Bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> str: <span class="type">String</span> = <span class="string">"Brazil"</span></span><br><span class="line"><span class="keyword">let</span> array: [<span class="type">String</span>] = [<span class="string">"Brazil"</span>, <span class="string">"Ghana"</span>]</span><br></pre></td></tr></table></figure>

<p>è€Œè¿™äº›éƒ½æœ‰å¯¹åº”çš„å­—é¢é‡åè®®ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExpressibleByNilLiteral</span> <span class="comment">// nilå­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByIntegerLiteral</span> <span class="comment">// æ•´æ•°å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByFloatLiteral</span> <span class="comment">// æµ®ç‚¹æ•°å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByBooleanLiteral</span> <span class="comment">// å¸ƒå°”å€¼å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByStringLiteral</span> <span class="comment">// å­—ç¬¦ä¸²å­—é¢é‡åè®®</span></span><br><span class="line"><span class="type">ExpressibleByArrayLiteral</span> <span class="comment">// æ•°ç»„å­—é¢é‡åè®®</span></span><br></pre></td></tr></table></figure>

<h3 id="Sequence"><a href="#Sequence" class="headerlink" title="Sequence"></a>Sequence</h3><p>Sequenceç¿»è¯‘è¿‡æ¥å°±æ˜¯åºåˆ—ï¼Œè¯¥åè®®çš„ç›®çš„æ˜¯ä¸€ç³»åˆ—ç›¸åŒç±»å‹çš„å€¼çš„é›†åˆï¼Œå¹¶ä¸”æä¾›å¯¹è¿™äº›å€¼çš„è¿­ä»£èƒ½åŠ›ï¼Œè¿™é‡Œçš„è¿­ä»£å¯ä»¥ç†è§£ä¸ºéå†ï¼Œä¹Ÿå³<code>for-in</code>çš„èƒ½åŠ›ã€‚å¯ä»¥çœ‹ä¸‹è¯¥åè®®çš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Iterator</span>: <span class="type">IteratorProtocol</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">Iterator</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Sequence</code>åˆå¼•å…¥äº†å¦ä¸€ä¸ªåè®®<code>IteratorProtocol</code>ï¼Œè¯¥åè®®å°±æ˜¯ä¸ºäº†æä¾›åºåˆ—çš„è¿­ä»£èƒ½åŠ›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">IteratorProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Element</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">Self</span>.<span class="type">Element</span>?</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šå¸¸ç”¨<code>for-in</code>å®ç°æ•°ç»„çš„è¿­ä»£ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> animals = [<span class="string">"Antelope"</span>, <span class="string">"Butterfly"</span>, <span class="string">"Camel"</span>, <span class="string">"Dolphin"</span>]</span><br><span class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> animals &#123;</span><br><span class="line">    <span class="built_in">print</span>(animal)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>for-in</code>ä¼šè¢«ç¼–è¯‘å™¨ç¿»è¯‘æˆï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animalIterator = animals.makeIterator()</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">let</span> animal = animalIterator.next() &#123;</span><br><span class="line">    <span class="built_in">print</span>(animal)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p>Collectionè¯‘ä¸ºé›†åˆï¼Œå…¶ç»§æ‰¿äºSequenceã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Collection</span> : <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">  <span class="keyword">associatedtype</span> <span class="type">Index</span> : <span class="type">Comparable</span></span><br><span class="line">  <span class="keyword">var</span> startIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> endIndex: <span class="type">Index</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">subscript</span>(position: <span class="type">Index</span>) -&gt; <span class="type">Element</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  <span class="keyword">subscript</span>(bounds: <span class="type">Range</span>&lt;<span class="type">Index</span>&gt;) -&gt; <span class="type">SubSequence</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸€ä¸ªå…ƒç´ å¯ä»¥åå¤éå†å¹¶ä¸”å¯ä»¥é€šè¿‡ç´¢å¼•çš„ä¸‹æ ‡è®¿é—®çš„æœ‰é™é›†åˆï¼Œæ³¨æ„<code>Sequence</code>å¯ä»¥æ˜¯æ— é™çš„ï¼Œ<code>Collection</code>å¿…é¡»æ˜¯æœ‰é™çš„ã€‚</p>
<p><code>Collection</code>åœ¨<code>Sequence</code>çš„åŸºç¡€ä¸Šæ‰©å±•äº†ä¸‹æ ‡è®¿é—®ã€å…ƒç´ ä¸ªæ•°èƒ½ç‰¹æ€§ã€‚æˆ‘ä»¬å¸¸ç”¨çš„é›†åˆç±»å‹<code>Array</code>ï¼Œ<code>Dictionary</code>ï¼Œ<code>Set</code>éƒ½éµå¾ªè¯¥åè®®ã€‚</p>
<h3 id="CustomStringConvertible"><a href="#CustomStringConvertible" class="headerlink" title="CustomStringConvertible"></a>CustomStringConvertible</h3><p>è¿™ä¸ªåè®®è¡¨ç¤ºè‡ªå®šä¹‰ç±»å‹è¾“å‡ºçš„æ ·å¼ã€‚å…ˆæ¥çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">CustomStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä¸€ä¸ª<code>description</code>çš„å±æ€§ã€‚å®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>: <span class="title">CustomStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span>, y: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"(\(x), \(y))"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Point</span>(x: <span class="number">21</span>, y: <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(p) <span class="comment">// (21, 30)</span></span><br><span class="line"><span class="comment">//String(describing: &lt;#T##CustomStringConvertible#&gt;)</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="type">String</span>(describing: p)</span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment">// (21, 30)</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å®ç°<code>CustomStringConvertible</code>ï¼Œç›´æ¥æ‰“å°å¯¹è±¡ï¼Œç³»ç»Ÿä¼šæ ¹æ®é»˜è®¤è®¾ç½®è¿›è¡Œè¾“å‡ºã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>CustomStringConvertible</code>å¯¹è¿™ä¸€è¾“å‡ºè¡Œä¸ºè¿›è¡Œè®¾ç½®ï¼Œè¿˜æœ‰ä¸€ä¸ªåè®®æ˜¯<code>CustomDebugStringConvertible</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">CustomDebugStringConvertible</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> debugDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·Ÿ<code>CustomStringConvertible</code>ç”¨æ³•ä¸€æ ·ï¼Œå¯¹åº”<code>debugPrint</code>çš„è¾“å‡ºã€‚</p>
<h3 id="Hashable"><a href="#Hashable" class="headerlink" title="Hashable"></a>Hashable</h3><p>æˆ‘ä»¬å¸¸ç”¨çš„<code>Dictionary</code>ï¼Œ<code>Set</code>å‡å®ç°äº†<code>Hashable</code>åè®®ã€‚Hashçš„ç›®çš„æ˜¯ä¸ºäº†å°†æŸ¥æ‰¾é›†åˆæŸä¸€å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(1)ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç›®çš„éœ€è¦å°†é›†åˆå…ƒç´ ä¸å­˜å‚¨åœ°å€ä¹‹é—´å»ºè®®ä¸€ç§å°½å¯èƒ½ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p>
<p>æˆ‘ä»¬å†çœ‹Hashable`åè®®çš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Hashable</span> : <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„åˆ°<code>func hash(into hasher: inout Hasher)</code>ï¼ŒSwift 4.2 é€šè¿‡å¼•å…¥ <code>Hasher</code> ç±»å‹å¹¶é‡‡ç”¨æ–°çš„é€šç”¨å“ˆå¸Œå‡½æ•°è¿›ä¸€æ­¥ä¼˜åŒ– <code>Hashable</code>ã€‚</p>
<p>å¦‚æœä½ è¦è‡ªå®šä¹‰ç±»å‹å®ç° <code>Hashable</code> çš„æ–¹å¼ï¼Œå¯ä»¥é‡å†™ <code>hash(into:)</code> æ–¹æ³•è€Œä¸æ˜¯ <code>hashValue</code>ã€‚<code>hash(into:)</code> é€šè¿‡ä¼ é€’äº†ä¸€ä¸ª <code>Hasher</code> å¼•ç”¨å¯¹è±¡ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå¯¹è±¡è°ƒç”¨ <code>combine(_:)</code> æ¥æ·»åŠ ç±»å‹çš„å¿…è¦çŠ¶æ€ä¿¡æ¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift &gt;= 4.2</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> red: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> green: <span class="type">UInt8</span></span><br><span class="line">    <span class="keyword">let</span> blue: <span class="type">UInt8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Synthesized by compiler</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.red)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.green)</span><br><span class="line">        hasher.combine(<span class="keyword">self</span>.blue)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Default implementation from protocol extension</span></span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> hasher = <span class="type">Hasher</span>()</span><br><span class="line">        <span class="keyword">self</span>.hash(into: &amp;hasher)</span><br><span class="line">        <span class="keyword">return</span> hasher.finalize()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="https://nshipster.cn/hashable/">Hashable / Hasher</a></p>
<h3 id="Codable"><a href="#Codable" class="headerlink" title="Codable"></a>Codable</h3><p><code>Codable</code>æ˜¯å¯<code>Decodable</code>å’Œ<code>Encodable</code>çš„ç±»å‹åˆ«åã€‚å®ƒèƒ½å¤Ÿå°†ç¨‹åºå†…éƒ¨çš„æ•°æ®ç»“æ„åºåˆ—åŒ–æˆå¯äº¤æ¢æ•°æ®ï¼Œä¹Ÿèƒ½å¤Ÿå°†é€šç”¨æ•°æ®æ ¼å¼ååºåˆ—åŒ–ä¸ºå†…éƒ¨ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¤§å¤§æå‡å¯¹è±¡å’Œå…¶è¡¨ç¤ºä¹‹é—´äº’ç›¸è½¬æ¢çš„ä½“éªŒã€‚å¤„ç†çš„é—®é¢˜å°±æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„JSONè½¬æ¨¡å‹ï¼Œå’Œæ¨¡å‹è½¬JSONã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">Codable</span> = <span class="type">Decodable</span> &amp; <span class="type">Encodable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>(from decoder: <span class="type">Decoder</span>) <span class="keyword">throws</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Encodable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encode</span><span class="params">(to encoder: Encoder)</span></span> <span class="keyword">throws</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œåªä¸¾ä¸€ä¸ªç®€å•çš„è§£ç è¿‡ç¨‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//jsonæ•°æ®</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="string">"1283984"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Mike"</span>,</span><br><span class="line">  	<span class="string">"age"</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰å¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">Codable</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">  	<span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// jsonä¸ºç½‘ç»œæ¥å£è¿”å›çš„Dataç±»å‹æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> mike = <span class="keyword">try</span>! <span class="type">JSONDecoder</span>().decode(<span class="type">Person</span>.<span class="keyword">self</span>, from: json)</span><br><span class="line"><span class="built_in">print</span>(mike)</span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šStudent(id: "1283984", name: "Mike", age: 18)</span></span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼ŒCodableè¿˜æ”¯æŒå„ç§è‡ªå®šä¹‰è§£ç¼–ç è¿‡ç¨‹ï¼Œå®Œå…¨å¯ä»¥å–ä»£<code>SwiftyJSON</code>ï¼Œ<code>HandyJSON</code>ç­‰ç¼–è§£ç åº“ã€‚</p>
<h3 id="Comparable"><a href="#Comparable" class="headerlink" title="Comparable"></a>Comparable</h3><p>è¿™ä¸ªæ˜¯ç”¨äºå®ç°æ¯”è¾ƒåŠŸèƒ½çš„åè®®ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Comparable</span> : <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> &lt; (lhs: Self, rhs: Self) -&gt; <span class="title">Bool</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">static</span> <span class="title">func</span> &lt;= (lhs: Self, rhs: Self) -&gt; <span class="title">Bool</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">static</span> <span class="title">func</span> &gt;= <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> &gt; <span class="params">(lhs: <span class="keyword">Self</span>, rhs: <span class="keyword">Self</span>)</span></span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ç»§æ‰¿äº<code>Equatable</code>ï¼Œå³åˆ¤ç­‰çš„åè®®ã€‚å¯ä»¥å¾ˆæ¸…æ¥šçš„ç†è§£å®ç°äº†å„ç§æ¯”è¾ƒçš„å®šä¹‰å°±å…·æœ‰äº†æ¯”è¾ƒçš„åŠŸèƒ½ã€‚è¿™ä¸ªä¸åšæ¯”è¾ƒã€‚</p>
<h3 id="RangeReplaceableCollection"><a href="#RangeReplaceableCollection" class="headerlink" title="RangeReplaceableCollection"></a>RangeReplaceableCollection</h3><p><code>RangeReplaceableCollection</code>æ”¯æŒç”¨å¦ä¸€ä¸ªé›†åˆçš„å…ƒç´ æ›¿æ¢å…ƒç´ çš„ä»»æ„å­èŒƒå›´çš„é›†åˆã€‚</p>
<p>çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">RangeReplaceableCollection</span> : <span class="title">Collection</span> <span class="title">where</span> <span class="title">Self</span>.<span class="title">SubSequence</span> : <span class="title">RangeReplaceableCollection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">SubSequence</span></span><br><span class="line">  </span><br><span class="line">  	<span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(<span class="number">_</span> newElement: <span class="keyword">Self</span>.Element)</span></span></span><br><span class="line">  	<span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">insert</span>&lt;S&gt;<span class="params">(contentsOf newElements: S, at i: <span class="keyword">Self</span>.Index)</span></span> <span class="keyword">where</span> <span class="type">S</span> : <span class="type">Collection</span>, <span class="type">Self</span>.<span class="type">Element</span> == <span class="type">S</span>.<span class="type">Element</span></span><br><span class="line">  	<span class="comment">/* æ‹¼æ¥ã€æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢çš„æ–¹æ³•ï¼Œä»–ä»¬éƒ½å…·æœ‰å¯¹ç»„å…ƒç´ çš„æ“ä½œèƒ½åŠ› */</span></span><br><span class="line">  </span><br><span class="line">  	<span class="keyword">override</span> <span class="keyword">subscript</span>(bounds: <span class="type">Self</span>.<span class="type">Index</span>) -&gt; <span class="type">Self</span>.<span class="type">Element</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">subscript</span>(bounds: <span class="type">Range</span>&lt;<span class="type">Self</span>.<span class="type">Index</span>&gt;) -&gt; <span class="type">Self</span>.<span class="type">SubSequence</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¸ªä¾‹å­ï¼ŒArrayæ”¯æŒè¯¥åè®®ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bugs = [<span class="string">"Aphid"</span>, <span class="string">"Damselfly"</span>]</span><br><span class="line">bugs.append(<span class="string">"Earwig"</span>)</span><br><span class="line">bugs.insert(contentsOf: [<span class="string">"Bumblebee"</span>, <span class="string">"Cicada"</span>], at: <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(bugs)</span><br><span class="line"><span class="comment">// Prints "["Aphid", "Bumblebee", "Cicada", "Damselfly", "Earwig"]"</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œé™„ä¸€å¼ Swiftä¸­Arrayéµå¾ªçš„åè®®å…³ç³»å›¾ï¼Œæœ‰åŠ©äºå¤§å®¶ç†è§£ä¸Šé¢è®²è§£çš„å‡ ä¸ªåè®®ä¹‹é—´çš„å…³ç³»ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/5/10/171ff1f43fb51bfc?w=1075&h=369&f=svg&s=21578" alt="img"></p>
<p>å›¾åƒæ¥æºï¼š<a href="https://swiftdoc.org/v3.1/type/array/hierarchy/">https://swiftdoc.org/v3.1/type/array/hierarchy/</a></p>
<h2 id="äºŒã€-propertyWrapper"><a href="#äºŒã€-propertyWrapper" class="headerlink" title="äºŒã€@propertyWrapper"></a>äºŒã€@propertyWrapper</h2><blockquote>
<p>é˜…è¯»ä»¥ä¸‹ä»£ç ï¼Œprint è¾“å‡ºä»€ä¹ˆ</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@propertyWrapper</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wrapper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> projectedValue: <span class="type">Wrapper</span>&lt;<span class="type">T</span>&gt; &#123; <span class="keyword">return</span> <span class="keyword">self</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123; <span class="built_in">print</span>(<span class="string">"Foo"</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HasWrapper</span> </span>&#123;</span><br><span class="line">    @<span class="type">Wrapper</span> <span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(x) <span class="comment">// 0</span></span><br><span class="line">        <span class="built_in">print</span>(_x) <span class="comment">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class="line">        <span class="built_in">print</span>($x) <span class="comment">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç çœ‹ä¼¼è¦è€ƒå¯Ÿå¯¹<code>@propertyWrapper</code>çš„ç†è§£ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šæ— ç”¨å†…å®¹ï¼Œå¯¼è‡´ä»£ç å¾ˆå¥‡æ€ªã€‚</p>
<p><code>@propertyWrapper</code>çš„æ„æ€å°±æ˜¯å±æ€§åŒ…è£…ï¼Œå®ƒå¯ä»¥å°†ä¸€ç³»åˆ—ç›¸ä¼¼çš„å±æ€§æ–¹æ³•è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨<code>UserDefaults</code>ä¸­åŠ ä¸€ä¸ªæ˜¯å¦é¦–æ¬¡å¯åŠ¨çš„å€¼ï¼Œæ­£å¸¸å¯ä»¥è¿™æ ·å¤„ç†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UserDefaults</span> </span>&#123;</span><br><span class="line">  	<span class="class"><span class="keyword">enum</span> <span class="title">Keys</span> </span>&#123;</span><br><span class="line">      <span class="keyword">static</span> <span class="keyword">let</span> isFirstLaunch = <span class="string">"isFirstLaunch"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> isFirstLaunch: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> bool(forKey: <span class="type">Keys</span>.isFirstLaunch)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">set</span>(newValue, forKey: <span class="type">Keys</span>.isFirstLaunch)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬éœ€è¦åŠ å…¥å¾ˆå¤šè¿™æ ·å±æ€§çš„è¯ï¼Œå°±éœ€è¦å†™å¤§é‡çš„<code>get</code> ã€<code>set</code>æ–¹æ³•ã€‚è€Œ<code>@propertyWrapper</code>çš„ä½œç”¨å°±æ˜¯ä¸ºå±æ€§çš„è¿™ç§è®¾ç½®æä¾›ä¸€ä¸ªæ¨¡æ¿å†™æ³•ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨å±æ€§åŒ…è£…çš„å†™æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@propertyWrapper</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UserDefaultWrapper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> key: <span class="type">String</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> defaultValue: <span class="type">T</span></span><br><span class="line">    <span class="keyword">init</span>(key: <span class="type">String</span>, defaultValue: <span class="type">T</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.key = key</span><br><span class="line">        <span class="keyword">self</span>.defaultValue = defaultValue</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="type">UserDefaults</span>.standard.object(forKey: key) <span class="keyword">as</span>? <span class="type">T</span> ?? defaultValue</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="type">UserDefaults</span>.standard.<span class="keyword">set</span>(newValue, forKey: key)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDefaults</span> </span>&#123;</span><br><span class="line">  	@<span class="type">UserDefaultWrapper</span>(key: <span class="type">Keys</span>.isFirstLaunch, defaultValue: <span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">var</span> isFirstLaunch: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@propertyWrapper</code>çº¦æŸçš„å¯¹è±¡å¿…é¡»è¦å®šä¹‰<code>wrappedValue</code>å±æ€§ï¼Œå› ä¸ºè¯¥å¯¹è±¡åŒ…è£¹çš„å±æ€§ä¼šèµ°åˆ°<code>wrappedValue</code>çš„å®ç°ã€‚</p>
<p>å›åˆ°å®ä¾‹ä»£ç ï¼Œå®šä¹‰äº†<code>wrappedValue</code>å´å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•å®ç°ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚æ‰€ä»¥è®¿é—®xçš„æ—¶å€™å…¶å®æ˜¯è®¿é—®<code>Wrapper</code>çš„<code>wrappedValue</code>ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‡ºä»»ä½•å®ç°æ‰€ä»¥ç›´æ¥æ‰“å°å‡º<code>0</code>ã€‚è€Œ<code>_x</code>å’Œ<code>$x</code>å¯¹åº”çš„å°±æ˜¯<code>Wrapper</code>è‡ªèº«ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://nshipster.com/propertywrapper/">Swift Property Wrappers</a></p>
<h2 id="ä¸‰ã€å…³é”®å­—"><a href="#ä¸‰ã€å…³é”®å­—" class="headerlink" title="ä¸‰ã€å…³é”®å­—"></a>ä¸‰ã€å…³é”®å­—</h2><h3 id="public-open"><a href="#public-open" class="headerlink" title="public open"></a>public open</h3><p><code>public</code> <code>open</code>ä¸ºæƒé™å…³é”®è¯ã€‚å¯¹äºä¸€ä¸ªä¸¥æ ¼çš„é¡¹ç›®æ¥è¯´ï¼Œç²¾ç¡®çš„æœ€å°åŒ–è®¿é—®æ§åˆ¶çº§åˆ«å¯¹äºä»£ç çš„ç»´æŠ¤æ¥è¯´ç›¸å½“é‡è¦çš„ã€‚å®Œæ•´çš„æƒé™å…³é”®è¯ï¼ŒæŒ‰æƒé™å¤§å°æ’åºå¦‚ä¸‹ï¼š</p>
<p><code>open &gt; public &gt; internal &gt; fileprivate &gt; private</code></p>
<ul>
<li><code>open</code>æƒé™æœ€å¤§ï¼Œå…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œç»§æ‰¿ï¼Œé‡å†™ã€‚</li>
<li><code>public</code>å…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œä½†ä¸å…è®¸ç»§æ‰¿ï¼Œé‡å†™ã€‚</li>
<li><code>internal</code>ä¸ºé»˜è®¤å…³é”®è¯ï¼Œåœ¨åŒä¸€ä¸ªmoduleå†…å¯ä»¥å…±ç”¨ã€‚</li>
<li><code>fileprivate</code>è¡¨ç¤ºä»£ç å¯ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­è¢«è®¿é—®ï¼Œè€Œä¸åšç±»å‹é™å®šã€‚</li>
<li><code>private</code>è¡¨ç¤ºä»£ç åªèƒ½åœ¨å½“å‰ä½œç”¨åŸŸæˆ–è€…åŒä¸€æ–‡ä»¶ä¸­åŒä¸€ç±»å‹çš„ä½œç”¨åŸŸä¸­è¢«ä½¿ç”¨ã€‚</li>
</ul>
<p>è¿™äº›æƒé™å…³é”®è¯å¯ä»¥ä¿®é¥°ï¼Œå±æ€§ï¼Œæ–¹æ³•å’Œç±»å‹ã€‚éœ€è¦æ³¨æ„ï¼šå½“ä¸€ä¸ªç±»å‹çš„æŸä¸€å±æ€§è¦ç”¨publicä¿®é¥°æ—¶ï¼Œè¯¥ç±»å‹è‡³å°‘è¦ç”¨publicï¼ˆæˆ–è€…openï¼‰æƒé™çš„å…³é”®è¯ä¿®å¤ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®è®¿é—®æ˜¯åˆ†å±‚çš„ï¼Œæˆ‘ä»¬ä¸ºäº†è·å–æŸä¸€å±æ€§æˆ–æ–¹æ³•éœ€è¦å…ˆè·å–è¯¥ç±»å‹ï¼Œæ‰€ä»¥å¤–å±‚ï¼ˆç±»å‹ï¼‰çš„è®¿é—®æƒé™è¦æ»¡è¶³å¤§äºç­‰äºå†…å±‚ï¼ˆç±»å‹ã€æ–¹æ³•ã€å±æ€§ï¼‰æƒé™ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html">Swift AccessControl</a></p>
<h3 id="static-class-final"><a href="#static-class-final" class="headerlink" title="static class final"></a>static class final</h3><p>åŸæ–‡ä¸­<code>final</code>è·Ÿæƒé™å…³é”®è¯æ”¾åœ¨ä¸€èµ·äº†ï¼Œå…¶å®æ˜¯ä¸åˆç†çš„ï¼Œå°±å°†å…¶æ”¾åˆ°è¿™é‡Œæ¥è®¨è®ºã€‚</p>
<p><code>static</code>é™æ€å˜é‡å…³é”®è¯ï¼Œæ¥æºäºCè¯­è¨€ã€‚</p>
<p>åœ¨Swiftä¸­å¸¸ç”¨è¯­ä»¥ä¸‹åœºæ™¯ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»…ç”¨äºç±»åå‰ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä»…æ”¯æŒclassç±»å‹</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line">  	<span class="comment">// å•ä¾‹çš„å£°æ˜</span></span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Manager</span>()</span><br><span class="line">  	<span class="comment">// å®ä¾‹å±æ€§ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"Ferry"</span></span><br><span class="line">  	<span class="comment">// å®ä¾‹å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">final</span> <span class="keyword">var</span> lastName: <span class="type">String</span> = <span class="string">"Zhang"</span></span><br><span class="line">  	<span class="comment">// ç±»å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="keyword">var</span> address: <span class="type">String</span> = <span class="string">"Beijing"</span></span><br><span class="line">  	<span class="comment">// ç±»å±æ€§ï¼Œå¯è¢«é‡å†™ã€‚æ³¨æ„åªèƒ½ä½œä¸ºè®¡ç®—å±æ€§ï¼Œè€Œä¸èƒ½ä½œä¸ºå­˜å‚¨å±æ€§</span></span><br><span class="line">  	<span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">code</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    		<span class="keyword">return</span> <span class="string">"0122"</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  	<span class="comment">// å®ä¾‹å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// å®ä¾‹å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">removeCache</span>() </span>&#123;</span><br><span class="line">     	<span class="comment">/* code... */</span> </span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line">  	<span class="comment">// å•ä¾‹çš„å£°æ˜</span></span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Manager</span>()</span><br><span class="line">  	<span class="comment">// ç±»å±æ€§</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"Ferry"</span></span><br><span class="line">  	<span class="comment">// ç±»å‡½æ•°</span></span><br><span class="line">  	<span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">()</span></span> &#123;</span><br><span class="line">      <span class="comment">/* code... */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>struct</code>å’Œ<code>enum</code>å› ä¸ºä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ä¹Ÿå°±æ— æ³•ä½¿ç”¨<code>class</code>å’Œ<code>final</code>å…³é”®è¯ï¼Œä»…èƒ½é€šè¿‡<code>static</code>å…³é”®è¯è¿›è¡Œé™å®š</p>
<h3 id="mutating-inout"><a href="#mutating-inout" class="headerlink" title="mutating inout"></a>mutating inout</h3><p>mutatingç”¨äºä¿®é¥°ä¼šæ”¹å˜è¯¥ç±»å‹çš„å‡½æ•°ä¹‹å‰ï¼ŒåŸºæœ¬éƒ½ç”¨äº<code>struct</code>å¯¹è±¡çš„ä¿®æ”¹ã€‚çœ‹ä¸‹é¢ä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">CGFloat</span></span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">CGFloat</span></span><br><span class="line">		<span class="comment">// å› ä¸ºè¯¥æ–¹æ³•æ”¹å˜äº†structçš„å±æ€§å€¼ï¼ˆxï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦åŠ ä¸Šmutating</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">moveRight</span><span class="params">(offset: CGFloat)</span></span> &#123;</span><br><span class="line">        x += offset</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  	<span class="function"><span class="keyword">func</span> <span class="title">normalSwap</span><span class="params">(a: CGFloat, b: CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = a</span><br><span class="line">        a = b</span><br><span class="line">        b = temp</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">// å°†ä¸¤ä¸ªå€¼äº¤æ¢ï¼Œéœ€ä¼ å…¥å¯¹è±¡åœ°å€ã€‚æ³¨æ„inoutéœ€è¦åŠ è½½ç±»å‹åå‰</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">inoutSwap</span><span class="params">(a: <span class="keyword">inout</span> CGFloat, b: <span class="keyword">inout</span> CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = a</span><br><span class="line">        a = b</span><br><span class="line">        b = temp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> location1: <span class="type">CGFloat</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> location2: <span class="type">CGFloat</span> = -<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="type">Point</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)</span><br><span class="line">point.moveRight(offset: location1)</span><br><span class="line"><span class="built_in">print</span>(point)	<span class="comment">//Point(x: 10.0, y: 0.0)</span></span><br><span class="line"></span><br><span class="line">point.normalSwap(a: location1, b: location2)</span><br><span class="line"><span class="built_in">print</span>(location1)	<span class="comment">//10</span></span><br><span class="line"><span class="built_in">print</span>(location2)	<span class="comment">//-10</span></span><br><span class="line"><span class="comment">// æ³¨æ„éœ€å¸¦å–å€ç¬¦&amp;</span></span><br><span class="line">point.inoutSwap(a: &amp;location1, b: &amp;location2)</span><br><span class="line"><span class="built_in">print</span>(location1)	<span class="comment">//-10</span></span><br><span class="line"><span class="built_in">print</span>(location2)	<span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<p><code>inout</code>éœ€è¦ä¼ å…¥å–å€¼ç¬¦ï¼Œæ‰€ä»¥å®ƒçš„æ”¹å˜ä¼šå¯¼è‡´è¯¥å¯¹è±¡è·Ÿç€å˜åŠ¨ã€‚å¯ä»¥å†å›çœ‹ä¸Šé¢è¯´çš„<code>Hashable</code>çš„ä¸€ä¸ªåè®®å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.red)</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.green)</span><br><span class="line">    hasher.combine(<span class="keyword">self</span>.blue)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä½¿ç”¨<code>inout</code>æ‰èƒ½ä¿®æ”¹ä¼ å…¥çš„hasherçš„å€¼ã€‚</p>
<h3 id="infix-operator"><a href="#infix-operator" class="headerlink" title="infix operator"></a>infix operator</h3><p><code>infix operator</code>å³ä¸ºä¸­ç¼€æ“ä½œç¬¦ï¼Œè¿˜æœ‰prefixã€postfixåç¼€æ“ä½œç¬¦ã€‚</p>
<p>å®ƒçš„ä½œç”¨æ˜¯è‡ªå®šä¹‰æ“ä½œç¬¦ã€‚æ¯”å¦‚Pythoné‡Œå¯ä»¥ç”¨<code>**</code>è¿›è¡Œå¹‚è¿ç®—ï¼Œä½†æ˜¯Swifté‡Œé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è‡ªå®šä¹‰æ“ä½œç¬¦æ¥å®šä¹‰ä¸€ä¸ªç”¨<code>**</code>å®ç°çš„å¹‚è¿ç®—ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸­ç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">infix</span> <span class="keyword">operator</span> **</span><br><span class="line"><span class="comment">// å®ç°è¯¥æ“ä½œç¬¦çš„é€»è¾‘ï¼Œä¸­ç¼€éœ€è¦ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> ** <span class="params">(<span class="keyword">left</span>: Double, <span class="keyword">right</span>: Double)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pow(<span class="keyword">left</span>, <span class="keyword">right</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">2</span> ** <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(value) <span class="comment">//8</span></span><br></pre></td></tr></table></figure>

<p>åŒç†æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰å‰ç¼€å’Œåç¼€æ“ä½œç¬¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰é˜¶ä¹˜æ“ä½œï¼Œåç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">postfix</span> <span class="keyword">operator</span> ~!</span><br><span class="line"><span class="keyword">postfix</span> <span class="function"><span class="keyword">func</span> ~! <span class="params">(value: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(<span class="number">_</span> value: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> value &lt;= <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value * factorial(value - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> factorial(value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰è¾“å‡ºæ“ä½œï¼Œå‰ç¼€æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">prefix</span> <span class="keyword">operator</span> &lt;&lt;</span><br><span class="line"><span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> &lt;&lt; (value: Any) &#123;</span></span><br><span class="line"><span class="function">    print(value)</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">let number1 = 4~!</span></span><br><span class="line"><span class="function">print(number1) // 24</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&lt;&lt;number1 // 24</span></span><br><span class="line"><span class="function">&lt;&lt;"zhangferry" // zhangferry</span></span><br></pre></td></tr></table></figure>

<p>å‰ç¼€å’Œåç¼€ä»…éœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå‚æ•°å³å¯ã€‚</p>
<p>å…³äºæ“ä½œç¬¦çš„æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹è¿™é‡Œï¼š<a href="https://nshipster.cn/swift-operators/">Swift Operators</a>ã€‚</p>
<p>æ³¨æ„ï¼Œå› ä¸ºè¯¥æ–‡ç« è¾ƒæ—©ï¼Œå…¶ä¸­å¯¹äºæ“ä½œç¬¦çš„ä¸€äº›å®šä¹‰å·²ç»æ”¹å˜ã€‚</p>
<h3 id="dynamicMemberLookupï¼Œ-dynamicCallable"><a href="#dynamicMemberLookupï¼Œ-dynamicCallable" class="headerlink" title="@dynamicMemberLookupï¼Œ@dynamicCallable"></a>@dynamicMemberLookupï¼Œ@dynamicCallable</h3><p>è¿™ä¸¤ä¸ªå…³é”®è¯æˆ‘ç¡®å®æ²¡æœ‰ç”¨è¿‡ï¼Œçœ‹åˆ°<code>dynamic</code>å¯ä»¥çŸ¥é“è¿™ä¸¤ä¸ªç‰¹æ€§æ˜¯ä¸ºäº†è®©Swiftå…·æœ‰åŠ¨æ€æ€§ã€‚</p>
<p><code>@dynamicMemberLookup</code>ä¸­æ–‡å«åŠ¨æ€æŸ¥æ‰¾æˆå‘˜ã€‚åœ¨ä½¿ç”¨<code>@dynamicMemberLookup</code>æ ‡è®°äº†å¯¹è±¡åï¼ˆå¯¹è±¡ã€ç»“æ„ä½“ã€æšä¸¾ã€protocolï¼‰ï¼Œå®ç°äº†<code>subscript(dynamicMember member: String)</code>æ–¹æ³•åæˆ‘ä»¬å°±å¯ä»¥è®¿é—®åˆ°å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ã€‚å¦‚æœè®¿é—®åˆ°çš„å±æ€§ä¸å­˜åœ¨ï¼Œå°±ä¼šè°ƒç”¨åˆ°å®ç°çš„ <code>subscript(dynamicMember member: String)</code>æ–¹æ³•ï¼Œkey ä½œä¸º member ä¼ å…¥è¿™ä¸ªæ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@dynamicMemberLookup</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">subscript</span>(dynamicMember member: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> properties = [<span class="string">"nickname"</span>: <span class="string">"Zhuo"</span>, <span class="string">"city"</span>: <span class="string">"Hangzhou"</span>]</span><br><span class="line">        <span class="keyword">return</span> properties[member, <span class="keyword">default</span>: <span class="string">"undefined"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰§è¡Œä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</span><br><span class="line"><span class="built_in">print</span>(p.city)	<span class="comment">//Hangzhou</span></span><br><span class="line"><span class="built_in">print</span>(p.nickname)	<span class="comment">//Zhuo</span></span><br><span class="line"><span class="built_in">print</span>(p.name)	<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ²¡æœ‰å®šä¹‰Personçš„<code>city</code>ã€<code>nickname</code>ï¼Œ<code>name</code>å±æ€§ï¼Œå´å¯ä»¥ç”¨ç‚¹è¯­æ³•å»å°è¯•è®¿é—®å®ƒã€‚å¦‚æœæ²¡æœ‰<code>@dynamicMemberLookup</code>è¿™ç§å†™æ³•ä¼šè¢«ç¼–è¯‘å™¨æ£€æŸ¥å‡ºæ¥å¹¶æŠ¥é”™ï¼Œä½†æ˜¯åŠ äº†è¯¥å…³é”®è¯ç¼–è¯‘å™¨å°±ä¸ä¼šç®¡å®ƒæ˜¯ä¸æ˜¯å­˜åœ¨éƒ½äºˆä»¥é€šè¿‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@dynamicCallable</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ç°æ–¹æ³•ä¸€</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">dynamicallyCall</span><span class="params">(withArguments: [String])</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> withArguments &#123;</span><br><span class="line">            <span class="built_in">print</span>(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å®ç°æ–¹æ³•äºŒ</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">dynamicallyCall</span><span class="params">(withKeywordArguments: KeyValuePairs&lt;String, String&gt;)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (key, value) <span class="keyword">in</span> withKeywordArguments &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"\(key) --- \(value)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</span><br><span class="line">p(<span class="string">"zhangsan"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withArguments: ["zhangsan"])</span></span><br><span class="line">p(<span class="string">"zhangsan"</span>, <span class="string">"20"</span>, <span class="string">"ç”·"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withArguments: ["zhangsan", "20", "ç”·"])</span></span><br><span class="line">p(name: <span class="string">"zhangsan"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withKeywordArguments: ["name": "zhangsan"])</span></span><br><span class="line">p(name: <span class="string">"zhangsan"</span>, age:<span class="string">"20"</span>, sex: <span class="string">"ç”·"</span>)</span><br><span class="line"><span class="comment">// ç­‰äº p.dynamicallyCall(withKeywordArguments: ["name": "zhangsan", "age": "20", "sex": "ç”·"])</span></span><br></pre></td></tr></table></figure>

<p><code>@dynamicCallable</code>å¯ä»¥ç†è§£æˆåŠ¨æ€è°ƒç”¨ï¼Œå½“ä¸ºæŸä¸€ç±»å‹åšæ­¤å£°æ˜æ—¶ï¼Œéœ€è¦å®ç°<code>dynamicallyCall(withArguments:)</code>æˆ–è€…<code>dynamicallyCall(withKeywordArguments:)</code>ã€‚ç¼–è¯‘å™¨å°†å…è®¸ä½ è°ƒç”¨å¹¶ä¸ºå®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p>ä¸€ä¸ªåŠ¨æ€æŸ¥æ‰¾æˆå‘˜å˜é‡ï¼Œä¸€ä¸ªåŠ¨æ€æ–¹æ³•è°ƒç”¨ï¼Œå¸¦ä¸Šè¿™ä¸¤ä¸ªç‰¹æ€§Swiftå°±å¯ä»¥å˜æˆå½»å¤´å½»å°¾çš„åŠ¨æ€è¯­è¨€äº†ã€‚æ‰€ä»¥ä½œä¸ºé™æ€è¯­è¨€çš„Swiftä¹Ÿæ˜¯å¯ä»¥å…·æœ‰åŠ¨æ€ç‰¹æ€§çš„ã€‚</p>
<p>æ›´å¤šå…³äºè¿™ä¸¤ä¸ªåŠ¨æ€æ ‡è®°çš„è®¨è®ºå¯ä»¥çœ‹å“åŒå­¦çš„è¿™ç¯‡ï¼š<a href="https://juejin.im/post/5b24c9896fb9a00e69608a71">ç»†è¯´ Swift 4.2 æ–°ç‰¹æ€§ï¼šDynamic Member Lookup</a></p>
<h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><p>whereä¸€èˆ¬ç”¨ä½œæ¡ä»¶é™å®šã€‚å®ƒå¯ä»¥ç”¨åœ¨for-inã€swithã€do-catchä¸­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> numbers <span class="keyword">where</span> item % <span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"odd: \(item)"</span>)	<span class="comment">// å°†è¾“å‡º1ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ9ç­‰æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">numbers.forEach &#123; (item) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">switch</span> item &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"even: \(x)"</span>) <span class="comment">// å°†è¾“å‡º2ï¼Œ4ï¼Œ6ï¼Œ8ç­‰æ•°</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>where</code>ä¹Ÿå¯ä»¥ç”¨äºç±»å‹é™å®šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ‰©å±•ä¸€ä¸ªå­—å…¸çš„mergeå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä¸¤ä¸ªå­—å…¸è¿›è¡Œåˆå¹¶ï¼Œå¯¹äºç›¸åŒçš„<code>Key</code>å€¼ä»¥è¦åˆå¹¶çš„å­—å…¸ä¸ºå‡†ã€‚å¹¶ä¸”è¯¥æ–¹æ³•æˆ‘åªæƒ³é’ˆå¯¹<code>Key</code>å’Œ<code>Value</code>éƒ½æ˜¯<code>String</code>ç±»å‹çš„å­—å…¸ä½¿ç”¨ï¼Œå°±å¯ä»¥è¿™ä¹ˆåšï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œçš„Key Valueæ¥è‡ªäºDictionaryä¸­å®šä¹‰çš„æ³›å‹</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dictionary</span> <span class="title">where</span> <span class="title">Key</span> == <span class="title">String</span>, <span class="title">Value</span> == <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åŒä¸€ä¸ªkeyæ“ä½œè¦†ç›–æ—§å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(other: Dictionary)</span></span> -&gt; <span class="type">Dictionary</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.merging(other) &#123; <span class="number">_</span>, new <span class="keyword">in</span> new &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="autoclosure"><a href="#autoclosure" class="headerlink" title="@autoclosure"></a>@autoclosure</h3><p><code>@autoclosure</code> æ˜¯ä½¿ç”¨åœ¨é—­åŒ…ç±»å‹ä¹‹å‰ï¼Œåšçš„äº‹æƒ…å°±æ˜¯æŠŠä¸€å¥è¡¨è¾¾å¼è‡ªåŠ¨åœ°<strong>å°è£…</strong>æˆä¸€ä¸ªé—­åŒ… (closure)ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªé—­åŒ…ï¼Œå½“é—­åŒ…æ‰§è¡Œçš„ç»“æœä¸º <code>true</code> çš„æ—¶å€™è¿›è¡Œæ‰“å°ï¼Œåˆ†åˆ«ä½¿ç”¨æ™®é€šé—­åŒ…å’ŒåŠ ä¸Š<code>autoclosure</code>çš„é—­åŒ…å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueNormal</span><span class="params">(predicate: <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„@autoclosureåŠ åˆ°é—­åŒ…çš„å‰é¢</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueAutoclosure</span><span class="params">(predicate: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹å¼</span></span><br><span class="line">logIfTrueNormal(predicate: &#123;<span class="number">3</span> &gt; <span class="number">1</span>&#125;)</span><br><span class="line">logIfTrueAutoclosure(predicate: <span class="number">3</span> &gt; <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘å™¨ä¼šå°†<code>logIfTrueAutoclosure</code>å‡½æ•°å‚æ•°ä¸­çš„<code>3 &gt; 1</code>è¿™ä¸ªè¡¨è¾¾å¼è½¬æˆ<code>{3 &gt; 1}</code>è¿™ç§å°¾éšé—­åŒ…æ ·å¼ã€‚</p>
<p>é‚£è¿™ç§å†™æ³•æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªç¤ºä¾‹ä¸­ä½“ä¼šä¸€ä¸‹ï¼Œåœ¨Swiftç³»ç»Ÿæä¾›çš„å‡ ä¸ªçŸ­è·¯è¿ç®—ç¬¦ï¼ˆå³è¡¨è¾¾å¼å·¦è¾¹å¦‚æœå·²ç»ç¡®å®šç»“æœï¼Œå³è¾¹å°†ä¸å†è¿ç®—ï¼‰ä¸­å‡é‡‡ç”¨äº†<code>@autoclosure</code>æ ‡è®°çš„é—­åŒ…ã€‚é‚£<code>??</code>è¿ç®—ç¬¦ä¸¾ä¾‹ï¼Œå®ƒçš„å®ç°æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> ?? &lt;T&gt;<span class="params">(<span class="keyword">optional</span>: T?, defaultValue: @autoclosure <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>)</span><br><span class="line">    <span class="keyword">rethrows</span> -&gt; <span class="type">T</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> <span class="keyword">optional</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> .some(<span class="keyword">let</span> value):</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">  <span class="keyword">case</span> .<span class="keyword">none</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">try</span> defaultValue()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">var</span> name: <span class="type">String</span>? = <span class="string">"ferry"</span></span><br><span class="line"><span class="keyword">let</span> currentName = name ?? getDefaultName()</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä½¿ç”¨äº†<code>@autoclosure</code>æ ‡è®°é—­åŒ…ï¼Œæ‰€ä»¥<code>??</code>çš„<code>defaultValue</code>å‚æ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆå› ä¸ºæ˜¯é—­åŒ…ï¼Œæ‰€ä»¥å½“<code>name</code>éç©ºæ—¶ï¼Œç›´æ¥è¿”å›äº†è¯¥å€¼ï¼Œä¸ä¼šè°ƒç”¨<code>getDefaultName()</code>å‡½æ•°ï¼Œå‡å°‘è®¡ç®—ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/autoclosure/">@AUTOCLOSURE å’Œ ??</a>ï¼Œæ³¨æ„å› ä¸ºSwiftç‰ˆæœ¬é—®é¢˜ï¼Œå®ä¾‹ä»£ç æ— æ³•è¿è¡Œã€‚</p>
<h3 id="escaping"><a href="#escaping" class="headerlink" title="@escaping"></a>@escaping</h3><p><code>@escaping</code>ä¹Ÿæ˜¯é—­åŒ…ä¿®é¥°è¯ï¼Œç”¨å®ƒæ ‡è®°çš„é—­åŒ…è¢«ç§°ä¸ºé€ƒé€¸é—­åŒ…ï¼Œè¿˜æœ‰ä¸€ä¸ªå…³é”®è¯æ˜¯<code>@noescape</code>ï¼Œç”¨å®ƒä¿®é¥°çš„é—­åŒ…å«åšéé€ƒé€¸é—­åŒ…ã€‚åœ¨Swift3åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œé—­åŒ…é»˜è®¤ä¸ºéé€ƒé€¸é—­åŒ…ï¼Œåœ¨è¿™ä¹‹å‰é»˜è®¤é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…ã€‚</p>
<p>è¿™ä¸¤è€…çš„åŒºåˆ«ä¸»è¦åœ¨äºå£°æ˜å‘¨æœŸçš„ä¸åŒï¼Œå½“é—­åŒ…ä½œä¸ºå‚æ•°æ—¶ï¼Œå¦‚æœå…¶å£°æ˜å‘¨æœŸä¸å‡½æ•°ä¸€è‡´å°±æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œå¦‚æœå£°æ˜å‘¨æœŸå¤§äºå‡½æ•°å°±æ˜¯é€ƒé€¸é—­åŒ…ã€‚ç»“åˆç¤ºä¾‹æ¥ç†è§£ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éé€ƒé€¸é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueNormal</span><span class="params">(predicate: <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€ƒé€¸é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueEscaping</span><span class="params">(predicate: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">        <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"True"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‡½æ•°çš„é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…æ˜¯å› ä¸ºå…¶æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œåœ¨å‡½æ•°é€€å‡ºæ—¶ï¼Œè¯¥é—­åŒ…è¿˜å­˜åœ¨ï¼Œå£°æ˜å‘¨æœŸé•¿äºå‡½æ•°ã€‚</p>
<p>å¦‚æœä½ æ— æ³•åˆ¤æ–­å‡ºåº”è¯¥ä½¿ç”¨é€ƒé€¸è¿˜æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œä¹Ÿæ— éœ€æ‹…å¿ƒï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå¸®ä½ åšå‡ºåˆ¤æ–­ã€‚ç¬¬äºŒä¸ªå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬ä¸å£°æ˜é€ƒé€¸é—­åŒ…ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œè­¦å‘Šæˆ‘ä»¬ï¼š<code>Escaping closure captures non-escaping parameter &#39;predicate&#39;</code>ã€‚å½“ç„¶æˆ‘ä»¬è¿˜æ˜¯åº”è¯¥ç†è§£ä¸¤è€…çš„åŒºåˆ«ã€‚</p>
<h2 id="å››ã€é«˜é˜¶å‡½æ•°"><a href="#å››ã€é«˜é˜¶å‡½æ•°" class="headerlink" title="å››ã€é«˜é˜¶å‡½æ•°"></a>å››ã€é«˜é˜¶å‡½æ•°</h2><h3 id="Filter-Map-Reduce-flatmap-compactMap"><a href="#Filter-Map-Reduce-flatmap-compactMap" class="headerlink" title="Filter, Map, Reduce, flatmap, compactMap"></a>Filter, Map, Reduce, flatmap, compactMap</h3><p>è¿™å‡ ä¸ªé«˜é˜¶å‡½æ•°éƒ½æ˜¯å¯¹æ•°ç»„å¯¹è±¡ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å»äº†è§£ä»–ä»¬å§ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">// filter è¿‡æ»¤</span></span><br><span class="line"><span class="keyword">let</span> odd = numbers.<span class="built_in">filter</span> &#123; (number) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> number % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(odd) <span class="comment">// [1, 3, 5, 7, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> maps = odd.<span class="built_in">map</span> &#123; (number) -&gt; <span class="type">String</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"\(number)"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(maps) <span class="comment">// ["1", "3", "5", "7", "9"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// reduce ç´¯è®¡è¿ç®—</span></span><br><span class="line"><span class="keyword">let</span> result = odd.<span class="built_in">reduce</span>(<span class="number">0</span>, +)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">// 25</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// flatMap 1.æ•°ç»„å±•å¼€</span></span><br><span class="line"><span class="keyword">let</span> numberList = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]ï¼Œ [[<span class="number">6</span>]]]</span><br><span class="line"><span class="keyword">let</span> flatMapNumber = numberList.flatMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(flatMapNumber) <span class="comment">// [1, 2, 3, 4, 5, [6]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// flatMap 2.è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class="line"><span class="keyword">let</span> country = [<span class="string">"cn"</span>, <span class="string">"us"</span>, <span class="literal">nil</span>, <span class="string">"en"</span>]</span><br><span class="line"><span class="keyword">let</span> flatMap = country.flatMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(flatMap) <span class="comment">//["cn", "us", "en"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// compactMap è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class="line"><span class="keyword">let</span> compactMap = country.compactMap &#123; (value) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(compactMap) <span class="comment">// ["cn", "us", "en"]</span></span><br></pre></td></tr></table></figure>

<p>filterï¼Œreduceå…¶å®å¾ˆå¥½ç†è§£ï¼Œmapã€flatMapã€compactMapåˆšå¼€å§‹æ¥è§¦æ—¶ç¡®å®å®¹æ˜“ææ··ï¼Œè¿™ä¸ªéœ€è¦å¤šåŠ ä½¿ç”¨å’Œç»ƒä¹ ã€‚</p>
<p>æ³¨æ„åˆ°<code>flatMap</code>æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€ç§æ˜¯å±•å¼€æ•°ç»„ï¼Œå°†äºŒç»´æ•°ç»„é™ä¸ºä¸€ç»´æ•°ç»„ï¼Œä¸€ç§æ˜¯è¿‡æ»¤æ•°ç»„ä¸­çš„<code>nil</code>ã€‚åœ¨Swift4.1ç‰ˆæœ¬å·²ç»å°†<code>flatMap</code>è¿‡æ»¤æ•°ç»„ä¸­nilçš„å‡½æ•°æ ‡ä½<code>deprecated</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿‡æ»¤æ•°ç»„ä¸­nilçš„æ“ä½œåº”è¯¥ä½¿ç”¨<code>compactMap</code>å‡½æ•°ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://blog.devtang.com/2016/03/05/swift-gym-4-map-and-flatmap/#">Swift çƒ§è„‘ä½“æ“ï¼ˆå››ï¼‰ - map å’Œ flatMap</a></p>
<h2 id="äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ"><a href="#äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ" class="headerlink" title="äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ"></a>äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ</h2><h3 id="æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€"><a href="#æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€" class="headerlink" title="æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€"></a>æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€</h3><p>æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ä»ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°å˜æˆä¸€è¿ä¸²å•å‚æ•°å‡½æ•°çš„å˜æ¢ï¼Œè¿™æ˜¯å®ç°å‡½æ•°å¼ç¼–ç¨‹çš„é‡è¦æ‰‹æ®µï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥å‡½æ•°è¿”å›ç±»å‹ä¸ºï¼ˆIntï¼‰ -&gt; Bool</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greaterThan</span><span class="params">(<span class="number">_</span> comparer: Int)</span></span> -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; number <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> number &gt; comparer</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªgreaterThan10çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> greaterThan10 = greaterThan(<span class="number">10</span>)</span><br><span class="line">greaterThan10(<span class="number">13</span>)    <span class="comment">// =&gt; true</span></span><br><span class="line">greaterThan10(<span class="number">9</span>)     <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥æŸ¯é‡ŒåŒ–ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ‰¹é‡ç”Ÿæˆä¸€ç³»åˆ—ç›¸ä¼¼çš„å‡½æ•°ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/currying/">æŸ¯é‡ŒåŒ– (CURRYING)</a></p>
<h3 id="POP-ä¸-OOPçš„åŒºåˆ«"><a href="#POP-ä¸-OOPçš„åŒºåˆ«" class="headerlink" title="POP ä¸ OOPçš„åŒºåˆ«"></a><code>POP</code> ä¸ <code>OOP</code>çš„åŒºåˆ«</h3><p>OOP(object-oriented programming)é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</p>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ç»§æ‰¿ã€å°è£…ã€å¤šæ€ã€‚</p>
<p>POP(protocol-oriented programming)é¢å‘åè®®ç¼–ç¨‹ï¼š</p>
<p>é¢å‘åè®®ç¼–ç¨‹åˆ™ä¸»è¦é€šè¿‡åè®®ï¼Œåˆæˆ–å«åšæ¥å£å¯¹ä¸€ç³»åˆ—æ“ä½œè¿›è¡Œå®šä¹‰ã€‚é¢å‘åè®®ä¹Ÿæœ‰ç»§æ‰¿å°è£…å¤šæ€ï¼Œåªä¸è¿‡è¿™äº›ä¸æ˜¯é’ˆå¯¹å¯¹è±¡å»ºç«‹çš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆSwiftæ¼”å˜æˆäº†ä¸€é—¨é¢å‘åè®®çš„ç¼–ç¨‹è¯­è¨€ã€‚è¿™æ˜¯å› ä¸ºé¢å‘å¯¹è±¡å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<p>1ã€åŠ¨æ€æ´¾å‘çš„å®‰å…¨æ€§ï¼ˆè¿™åº”è¯¥æ˜¯OCçš„å›°å¢ƒï¼Œåœ¨Swiftä¸­Xcodeæ˜¯ä¸å¯èƒ½è®©è¿™ç§é—®é¢˜ç¼–è¯‘é€šè¿‡çš„ï¼‰</p>
<p>2ã€æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-Cutting Concernsï¼‰é—®é¢˜ã€‚é¢å‘å¯¹è±¡æ— æ³•æè¿°ä¸¤ä¸ªä¸åŒäº‹ç‰©å…·æœ‰æŸä¸ªç›¸åŒç‰¹æ€§è¿™ä¸€ç‚¹ã€‚</p>
<p>3ã€è±å½¢é—®é¢˜ï¼ˆæ¯”å¦‚C++ä¸­ï¼‰ã€‚C++å¯ä»¥å¤šç»§æ‰¿ï¼Œåœ¨å¤šç»§æ‰¿ä¸­ï¼Œä¸¤ä¸ªçˆ¶ç±»å®ç°äº†ç›¸åŒçš„æ–¹æ³•ï¼Œå­ç±»æ— æ³•ç¡®å®šç»§æ‰¿å“ªä¸ªçˆ¶ç±»çš„æ­¤æ–¹æ³•ï¼Œç”±äºå¤šç»§æ‰¿çš„æ‹“æ‰‘ç»“æ„æ˜¯ä¸€ä¸ªè±å½¢ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æœ‰è¢«å«åšè±å½¢ç¼ºé™·ï¼ˆDiamond Problemï¼‰ã€‚</p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<p><a href="https://swift.gg/2018/12/03/pop-vs-oop/">Swift ä¸­çš„é¢å‘åè®®ç¼–ç¨‹ï¼šæ˜¯å¦ä¼˜äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿ</a></p>
<p><a href="https://onevcat.com/2016/11/pop-cocoa-1/">é¢å‘åè®®ç¼–ç¨‹ä¸ Cocoa çš„é‚‚é€… (ä¸Š)</a></p>
<h3 id="Any-ä¸AnyObject-åŒºåˆ«"><a href="#Any-ä¸AnyObject-åŒºåˆ«" class="headerlink" title="Any ä¸AnyObject åŒºåˆ«"></a><code>Any</code> ä¸<code>AnyObject</code> åŒºåˆ«</h3><p><strong>AnyObject</strong>ï¼š æ˜¯ä¸€ä¸ªåè®®ï¼Œæ‰€æœ‰classéƒ½éµå®ˆè¯¥åè®®ï¼Œå¸¸ç”¨è¯­è·ŸOCå¯¹è±¡çš„æ•°æ®è½¬æ¢ã€‚</p>
<p><strong>Any</strong>ï¼šå®ƒå¯ä»¥ä»£è¡¨ä»»ä½•å‹åˆ¥çš„ç±»(class)ã€ç»“æ„ä½“ (struct)ã€æšä¸¾ (enum)ï¼ŒåŒ…æ‹¬å‡½å¼å’Œå¯é€‰å‹ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯ä»»ä½•ä¸œè¥¿ã€‚</p>
<h3 id="rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"><a href="#rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ" class="headerlink" title="rethrows å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"></a><code>rethrows</code> å’Œ <code>throws</code> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</h3><p>throwsæ˜¯å¤„ç†é”™è¯¯ç”¨çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸ªå¾€æ²™ç›’å†™å…¥æ–‡ä»¶çš„ä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™å…¥çš„æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">write</span><span class="params">(to url: URL, options: Data.WritingOptions = [])</span></span> <span class="keyword">throws</span></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="type">Data</span>()</span><br><span class="line">    <span class="keyword">try</span> data.write(to: localUrl)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†ä¸€ä¸ªä¼šæœ‰é”™è¯¯æŠ›å‡ºçš„å‡½æ•°æœ«å°¾åŠ ä¸Š<code>throws</code>ï¼Œåˆ™è¯¥æ–¹æ³•è°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨<code>try</code>è¯­å¥è¿›è¡Œè°ƒç”¨ï¼Œç”¨äºæç¤ºå½“å‰å‡½æ•°æ˜¯æœ‰æŠ›é”™é£é™©çš„ï¼Œå…¶ä¸­<code>catch</code>å¥æŸ„æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚</p>
<p><code>rethrows</code>ä¸<code>throws</code>å¹¶æ²¡æœ‰å¤ªå¤šä¸åŒï¼Œå®ƒä»¬éƒ½æ˜¯æ ‡è®°äº†ä¸€ä¸ªæ–¹æ³•åº”è¯¥æŠ›å‡ºé”™è¯¯ã€‚ä½†æ˜¯ <code>rethrows</code> ä¸€èˆ¬ç”¨åœ¨å‚æ•°ä¸­å«æœ‰å¯ä»¥ <code>throws</code> çš„æ–¹æ³•çš„é«˜é˜¶å‡½æ•°ä¸­ï¼ˆæƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿä¸‹æœŸç»™å‡ºç­”æ¡ˆï¼‰ã€‚</p>
<p>æŸ¥çœ‹<code>map</code>çš„æ–¹æ³•å£°æ˜ï¼Œæˆ‘ä»¬èƒ½åŒæ—¶çœ‹åˆ° <code>throws</code>,<code>rethrows</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@inlinable <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;T&gt;<span class="params">(<span class="number">_</span> transform: <span class="params">(Element)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>) <span class="keyword">rethrows</span> -&gt; [<span class="type">T</span>]</span><br></pre></td></tr></table></figure>

<p>ä¸çŸ¥é“ä½ ä»¬ç¬¬ä¸€æ¬¡è§åˆ°<code>map</code>å‡½æ•°æœ¬ä½“çš„æ—¶å€™ä¼šä¸ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆ<code>map</code>é‡Œçš„é—­åŒ…éœ€è¦æŠ›å‡ºé”™è¯¯ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™å¹¶æ²¡æœ‰ç”¨<code>try</code>è¯­æ³•ä¹Ÿå¯ä»¥æ­£å¸¸é€šè¿‡ï¼Ÿ</p>
<p>å…¶å®æ˜¯è¿™æ ·çš„ï¼Œ<code>transform</code>æ˜¯éœ€è¦æˆ‘ä»¬å®šä¹‰çš„é—­åŒ…ï¼Œå®ƒæœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿå¯èƒ½ä¸æŠ›å‡ºå¼‚å¸¸ã€‚Swiftä½œä¸ºç±»å‹å®‰å…¨çš„è¯­è¨€å°±éœ€è¦ä¿è¯åœ¨æœ‰å¼‚å¸¸çš„æ—¶å€™éœ€è¦ä½¿ç”¨tryå»è°ƒç”¨ï¼Œåœ¨æ²¡æœ‰å¼‚å¸¸çš„æ—¶å€™è¦æ­£å¸¸è°ƒç”¨ï¼Œé‚£æ€ä¹ˆå…¼å®¹è¿™ä¸¤ç§æƒ…å†µå‘¢ï¼Œè¿™å°±æ˜¯<code>rethrows</code>çš„ä½œç”¨äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">squareOf</span><span class="params">(x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;<span class="keyword">return</span> x * x&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divideTenBy</span><span class="params">(x: Int)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> x != <span class="number">0</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">CalculationError</span>.<span class="type">DivideByZero</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10.0</span> / <span class="type">Double</span>(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> theNumbers = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">let</span> squareResult = theNumbers.<span class="built_in">map</span>(squareOf(x:)) <span class="comment">// [100, 400, 9000]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> divideResult = <span class="keyword">try</span> theNumbers.<span class="built_in">map</span>(divideTenBy(x:))</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error &#123;</span><br><span class="line">    <span class="built_in">print</span>(error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ç›´æ¥å†™<code>let divideResult = theNumbers.map(divideTenBy(x:))</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š<code>Call can throw but is not marked with &#39;try&#39;</code>ã€‚è¿™æ ·å°±å®ç°äº†æ ¹æ®æƒ…å†µå»å†³å®šæ˜¯å¦éœ€è¦ç”¨<code>try-catch</code>å»æ•è·mapé‡Œçš„å¼‚å¸¸äº†ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://swifter.tips/error-handle/">é”™è¯¯å’Œå¼‚å¸¸å¤„ç†</a></p>
<h3 id="break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰"><a href="#break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰" class="headerlink" title="break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰"></a>break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰</h3><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œåªè¯´ç›¸å¯¹ç‰¹åˆ«çš„ç¤ºä¾‹å§ï¼Œåœ¨Swiftçš„switchè¯­å¥ï¼Œä¼šåœ¨æ¯ä¸ªcaseç»“æŸçš„æ—¶å€™è‡ªåŠ¨é€€å‡ºè¯¥switchåˆ¤æ–­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸é€€å‡ºï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªcaseçš„åˆ¤æ–­ï¼Œå¯ä»¥åŠ ä¸Š<code>fallthough</code>ã€‚</p>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/Swift/" rel="tag">Swift</a>
                </div>
            </div>
        </div>
        
        
        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>æ”¯ä»˜å®</span>
    <div class="qrcode"><img src="/images/alipay.jpeg" alt="æ”¯ä»˜å®"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>å¾®ä¿¡</span>
    <div class="qrcode"><img src="/images/wechatpay.jpg" alt="å¾®ä¿¡"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2020/05/22/ios_code_checker/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">å¦‚ä½•é€šè¿‡é™æ€åˆ†ææé«˜iOSä»£ç è´¨é‡</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2020/04/05/ios_photo_format_compare/">
                <span class="level-item">iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">è¯„è®º</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://zhangferry.github.io/2020/05/10/swifter_question/';
        this.page.identifier = '2020/05/10/swifter_question/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'https-zhangferry-github-io' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="zhangferry">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        zhangferry
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        iOSå¼€å‘
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>åŒ—äº¬</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            60
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            4
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            31
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/zhangferry" target="_blank" rel="noopener">
                å…³æ³¨æˆ‘</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/zhangferry">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Weibo" href="https://weibo.com/2947186387/profile">
                
                <i class="fab fa-weibo"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="https://zhangferry.com/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        

    <div class="card widget column-left is-sticky" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    ç›®å½•
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#ä¸€ã€-åè®®-Protocol">
        <span class="has-mr-6">1</span>
        <span>ä¸€ã€ åè®® Protocol</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#ExpressibleByDictionaryLiteral">
        <span class="has-mr-6">1.1</span>
        <span>ExpressibleByDictionaryLiteral</span>
        </a></li><li>
        <a class="is-flex" href="#Sequence">
        <span class="has-mr-6">1.2</span>
        <span>Sequence</span>
        </a></li><li>
        <a class="is-flex" href="#Collection">
        <span class="has-mr-6">1.3</span>
        <span>Collection</span>
        </a></li><li>
        <a class="is-flex" href="#CustomStringConvertible">
        <span class="has-mr-6">1.4</span>
        <span>CustomStringConvertible</span>
        </a></li><li>
        <a class="is-flex" href="#Hashable">
        <span class="has-mr-6">1.5</span>
        <span>Hashable</span>
        </a></li><li>
        <a class="is-flex" href="#Codable">
        <span class="has-mr-6">1.6</span>
        <span>Codable</span>
        </a></li><li>
        <a class="is-flex" href="#Comparable">
        <span class="has-mr-6">1.7</span>
        <span>Comparable</span>
        </a></li><li>
        <a class="is-flex" href="#RangeReplaceableCollection">
        <span class="has-mr-6">1.8</span>
        <span>RangeReplaceableCollection</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#äºŒã€-propertyWrapper">
        <span class="has-mr-6">2</span>
        <span>äºŒã€@propertyWrapper</span>
        </a></li><li>
        <a class="is-flex" href="#ä¸‰ã€å…³é”®å­—">
        <span class="has-mr-6">3</span>
        <span>ä¸‰ã€å…³é”®å­—</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#public-open">
        <span class="has-mr-6">3.1</span>
        <span>public open</span>
        </a></li><li>
        <a class="is-flex" href="#static-class-final">
        <span class="has-mr-6">3.2</span>
        <span>static class final</span>
        </a></li><li>
        <a class="is-flex" href="#mutating-inout">
        <span class="has-mr-6">3.3</span>
        <span>mutating inout</span>
        </a></li><li>
        <a class="is-flex" href="#infix-operator">
        <span class="has-mr-6">3.4</span>
        <span>infix operator</span>
        </a></li><li>
        <a class="is-flex" href="#dynamicMemberLookupï¼Œ-dynamicCallable">
        <span class="has-mr-6">3.5</span>
        <span>@dynamicMemberLookupï¼Œ@dynamicCallable</span>
        </a></li><li>
        <a class="is-flex" href="#where">
        <span class="has-mr-6">3.6</span>
        <span>where</span>
        </a></li><li>
        <a class="is-flex" href="#autoclosure">
        <span class="has-mr-6">3.7</span>
        <span>@autoclosure</span>
        </a></li><li>
        <a class="is-flex" href="#escaping">
        <span class="has-mr-6">3.8</span>
        <span>@escaping</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#å››ã€é«˜é˜¶å‡½æ•°">
        <span class="has-mr-6">4</span>
        <span>å››ã€é«˜é˜¶å‡½æ•°</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Filter-Map-Reduce-flatmap-compactMap">
        <span class="has-mr-6">4.1</span>
        <span>Filter, Map, Reduce, flatmap, compactMap</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ">
        <span class="has-mr-6">5</span>
        <span>äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€">
        <span class="has-mr-6">5.1</span>
        <span>æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€</span>
        </a></li><li>
        <a class="is-flex" href="#POP-ä¸-OOPçš„åŒºåˆ«">
        <span class="has-mr-6">5.2</span>
        <span>POP ä¸ OOPçš„åŒºåˆ«</span>
        </a></li><li>
        <a class="is-flex" href="#Any-ä¸AnyObject-åŒºåˆ«">
        <span class="has-mr-6">5.3</span>
        <span>Any ä¸AnyObject åŒºåˆ«</span>
        </a></li><li>
        <a class="is-flex" href="#rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ">
        <span class="has-mr-6">5.4</span>
        <span>rethrows å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</span>
        </a></li><li>
        <a class="is-flex" href="#break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰">
        <span class="has-mr-6">5.5</span>
        <span>break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰</span>
        </a></li></ul></li></ul>
            </div>
        </div>
    </div>

    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
        </div>
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo_2.svg" alt="Swiftè¿›é˜¶é»„é‡‘ä¹‹è·¯" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 zhangferry&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢
                </span>
                <span id="busuanzi_container_site_pv">
                å…±<span id="busuanzi_value_site_pv">0</span>è®¿é—®é‡
              </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://zhangferry.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>