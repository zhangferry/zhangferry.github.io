[{"title":"Swifté»„é‡‘é€‰æ‰‹é‰´å®šæ‰‹å†Œ","url":"http://zhangferry.github.io/2020/05/10/swifter_question/","content":"<p><img src=\"https://cdn.jsdelivr.net/gh/zhangferry/Images/blog/image-20200511230812677.png\" alt=\"image-20200511230812677\"></p>\n<p>è¿™ç¯‡æ˜¯å¯¹<a href=\"https://juejin.im/post/5e96f898e51d4546c27bcf81\">ä¸€æ–‡é‰´å®šæ˜¯Swiftçš„ç‹è€…ï¼Œè¿˜æ˜¯é’é“œ</a>æ–‡ç« ä¸­é—®é¢˜çš„è§£ç­”ã€‚è¿™äº›é—®é¢˜ä»…ä»…æ˜¯è¡¨å±‚æ¦‚å¿µï¼Œå±äºçŸ¥è¯†ç‚¹ï¼Œåœ¨æˆ‘çœ‹æ¥å³ä½¿éƒ½å¾ˆæ¸…æ¥šä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸Šäº†ç‹è€…ï¼Œå¦‚æœéè¦ç”¨æ®µä½ç±»æ¯”çš„è¯ï¼Œé»„é‡‘è¿˜æ˜¯åˆç†çš„ğŸ˜„ã€‚</p>\n<p>Swiftæ˜¯ä¸€é—¨ä¸Šæ‰‹å®¹æ˜“ï¼Œä½†æ˜¯ç²¾é€šè¾ƒéš¾çš„è¯­è¨€ã€‚å³ä½¿ä¸‹é¢è¿™äº›å†…å®¹éƒ½ä¸æ¸…æ¥šä¹Ÿä¸å¦¨ç¢ä½ å¼€å‘ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯äº†è§£ä¹‹åå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´åŠ Swiftyçš„ä»£ç ã€‚</p>\n<h2 id=\"ä¸€ã€-åè®®-Protocol\"><a href=\"#ä¸€ã€-åè®®-Protocol\" class=\"headerlink\" title=\"ä¸€ã€ åè®® Protocol\"></a>ä¸€ã€ åè®® Protocol</h2><h3 id=\"ExpressibleByDictionaryLiteral\"><a href=\"#ExpressibleByDictionaryLiteral\" class=\"headerlink\" title=\"ExpressibleByDictionaryLiteral\"></a>ExpressibleByDictionaryLiteral</h3><p><code>ExpressibleByDictionaryLiteral</code>æ˜¯å­—å…¸çš„å­—é¢é‡åè®®ï¼Œè¯¥åè®®çš„å®Œæ•´å†™æ³•ä¸ºï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">ExpressibleByDictionaryLiteral</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/// The key type of a dictionary literal.</span></span><br><span class=\"line\">    <span class=\"keyword\">associatedtype</span> <span class=\"type\">Key</span></span><br><span class=\"line\">    <span class=\"comment\">/// The value type of a dictionary literal.</span></span><br><span class=\"line\">    <span class=\"keyword\">associatedtype</span> <span class=\"type\">Value</span></span><br><span class=\"line\">    <span class=\"comment\">/// Creates an instance initialized with the given key-value pairs.</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(dictionaryLiteral elements: (<span class=\"type\">Self</span>.<span class=\"type\">Key</span>, <span class=\"type\">Self</span>.<span class=\"type\">Value</span>)...)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é¦–å…ˆå­—é¢é‡ï¼ˆLiteralï¼‰çš„æ„æ€æ˜¯ï¼š<strong>ç”¨äºè¡¨è¾¾æºä»£ç ä¸­ä¸€ä¸ªå›ºå®šå€¼çš„è¡¨ç¤ºæ³•ï¼ˆnotationï¼‰</strong>ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ„é€ å­—å…¸æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¿›è¡Œï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ–¹æ³•ä¸€ï¼š</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> countryCodes = <span class=\"type\">Dictionary</span>&lt;<span class=\"type\">String</span>, <span class=\"type\">Any</span>&gt;()</span><br><span class=\"line\">countryCodes[<span class=\"string\">\"BR\"</span>] = <span class=\"string\">\"Brazil\"</span></span><br><span class=\"line\">countryCodes[<span class=\"string\">\"GH\"</span>] = <span class=\"string\">\"Ghana\"</span></span><br><span class=\"line\"><span class=\"comment\">// æ–¹æ³•äºŒï¼š</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> countryCodes = [<span class=\"string\">\"BR\"</span>: <span class=\"string\">\"Brazil\"</span>, <span class=\"string\">\"GH\"</span>: <span class=\"string\">\"Ghana\"</span>]</span><br></pre></td></tr></table></figure>\n\n<p>ç¬¬äºŒç§æ„é€ æ–¹å¼å°±æ˜¯é€šè¿‡å­—é¢é‡æ–¹å¼è¿›è¡Œæ„é€ çš„ã€‚</p>\n<p>å…¶å®åŸºç¡€ç±»å‹åŸºæœ¬éƒ½æ˜¯é€šè¿‡å­—é¢é‡è¿›è¡Œæ„é€ çš„ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> num: <span class=\"type\">Int</span> = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> flag: <span class=\"type\">Bool</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str: <span class=\"type\">String</span> = <span class=\"string\">\"Brazil\"</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> array: [<span class=\"type\">String</span>] = [<span class=\"string\">\"Brazil\"</span>, <span class=\"string\">\"Ghana\"</span>]</span><br></pre></td></tr></table></figure>\n\n<p>è€Œè¿™äº›éƒ½æœ‰å¯¹åº”çš„å­—é¢é‡åè®®ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">ExpressibleByNilLiteral</span> <span class=\"comment\">// nilå­—é¢é‡åè®®</span></span><br><span class=\"line\"><span class=\"type\">ExpressibleByIntegerLiteral</span> <span class=\"comment\">// æ•´æ•°å­—é¢é‡åè®®</span></span><br><span class=\"line\"><span class=\"type\">ExpressibleByFloatLiteral</span> <span class=\"comment\">// æµ®ç‚¹æ•°å­—é¢é‡åè®®</span></span><br><span class=\"line\"><span class=\"type\">ExpressibleByBooleanLiteral</span> <span class=\"comment\">// å¸ƒå°”å€¼å­—é¢é‡åè®®</span></span><br><span class=\"line\"><span class=\"type\">ExpressibleByStringLiteral</span> <span class=\"comment\">// å­—ç¬¦ä¸²å­—é¢é‡åè®®</span></span><br><span class=\"line\"><span class=\"type\">ExpressibleByArrayLiteral</span> <span class=\"comment\">// æ•°ç»„å­—é¢é‡åè®®</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Sequence\"><a href=\"#Sequence\" class=\"headerlink\" title=\"Sequence\"></a>Sequence</h3><p>Sequenceç¿»è¯‘è¿‡æ¥å°±æ˜¯åºåˆ—ï¼Œè¯¥åè®®çš„ç›®çš„æ˜¯ä¸€ç³»åˆ—ç›¸åŒç±»å‹çš„å€¼çš„é›†åˆï¼Œå¹¶ä¸”æä¾›å¯¹è¿™äº›å€¼çš„è¿­ä»£èƒ½åŠ›ï¼Œè¿™é‡Œçš„è¿­ä»£å¯ä»¥ç†è§£ä¸ºéå†ï¼Œä¹Ÿå³<code>for-in</code>çš„èƒ½åŠ›ã€‚å¯ä»¥çœ‹ä¸‹è¯¥åè®®çš„å®šä¹‰ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Sequence</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">associatedtype</span> <span class=\"type\">Iterator</span>: <span class=\"type\">IteratorProtocol</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">makeIterator</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Iterator</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>Sequence</code>åˆå¼•å…¥äº†å¦ä¸€ä¸ªåè®®<code>IteratorProtocol</code>ï¼Œè¯¥åè®®å°±æ˜¯ä¸ºäº†æä¾›åºåˆ—çš„è¿­ä»£èƒ½åŠ›ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">IteratorProtocol</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">associatedtype</span> <span class=\"type\">Element</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">next</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Self</span>.<span class=\"type\">Element</span>?</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬é€šå¸¸ç”¨<code>for-in</code>å®ç°æ•°ç»„çš„è¿­ä»£ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> animals = [<span class=\"string\">\"Antelope\"</span>, <span class=\"string\">\"Butterfly\"</span>, <span class=\"string\">\"Camel\"</span>, <span class=\"string\">\"Dolphin\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> animal <span class=\"keyword\">in</span> animals &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(animal)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„<code>for-in</code>ä¼šè¢«ç¼–è¯‘å™¨ç¿»è¯‘æˆï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> animalIterator = animals.makeIterator()</span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">let</span> animal = animalIterator.next() &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(animal)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Collection\"><a href=\"#Collection\" class=\"headerlink\" title=\"Collection\"></a>Collection</h3><p>Collectionè¯‘ä¸ºé›†åˆï¼Œå…¶ç»§æ‰¿äºSequenceã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Collection</span> : <span class=\"title\">Sequence</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">associatedtype</span> <span class=\"type\">Index</span> : <span class=\"type\">Comparable</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> startIndex: <span class=\"type\">Index</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> endIndex: <span class=\"type\">Index</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> isEmpty: <span class=\"type\">Bool</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> <span class=\"built_in\">count</span>: <span class=\"type\">Int</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">subscript</span>(position: <span class=\"type\">Index</span>) -&gt; <span class=\"type\">Element</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">  <span class=\"keyword\">subscript</span>(bounds: <span class=\"type\">Range</span>&lt;<span class=\"type\">Index</span>&gt;) -&gt; <span class=\"type\">SubSequence</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ˜¯ä¸€ä¸ªå…ƒç´ å¯ä»¥åå¤éå†å¹¶ä¸”å¯ä»¥é€šè¿‡ç´¢å¼•çš„ä¸‹æ ‡è®¿é—®çš„æœ‰é™é›†åˆï¼Œæ³¨æ„<code>Sequence</code>å¯ä»¥æ˜¯æ— é™çš„ï¼Œ<code>Collection</code>å¿…é¡»æ˜¯æœ‰é™çš„ã€‚</p>\n<p><code>Collection</code>åœ¨<code>Sequence</code>çš„åŸºç¡€ä¸Šæ‰©å±•äº†ä¸‹æ ‡è®¿é—®ã€å…ƒç´ ä¸ªæ•°èƒ½ç‰¹æ€§ã€‚æˆ‘ä»¬å¸¸ç”¨çš„é›†åˆç±»å‹<code>Array</code>ï¼Œ<code>Dictionary</code>ï¼Œ<code>Set</code>éƒ½éµå¾ªè¯¥åè®®ã€‚</p>\n<h3 id=\"CustomStringConvertible\"><a href=\"#CustomStringConvertible\" class=\"headerlink\" title=\"CustomStringConvertible\"></a>CustomStringConvertible</h3><p>è¿™ä¸ªåè®®è¡¨ç¤ºè‡ªå®šä¹‰ç±»å‹è¾“å‡ºçš„æ ·å¼ã€‚å…ˆæ¥çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">CustomStringConvertible</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> description: <span class=\"type\">String</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åªæœ‰ä¸€ä¸ª<code>description</code>çš„å±æ€§ã€‚å®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Point</span>: <span class=\"title\">CustomStringConvertible</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> x: <span class=\"type\">Int</span>, y: <span class=\"type\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> description: <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"(\\(x), \\(y))\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"type\">Point</span>(x: <span class=\"number\">21</span>, y: <span class=\"number\">30</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(p) <span class=\"comment\">// (21, 30)</span></span><br><span class=\"line\"><span class=\"comment\">//String(describing: &lt;#T##CustomStringConvertible#&gt;)</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> s = <span class=\"type\">String</span>(describing: p)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(s) <span class=\"comment\">// (21, 30)</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä¸å®ç°<code>CustomStringConvertible</code>ï¼Œç›´æ¥æ‰“å°å¯¹è±¡ï¼Œç³»ç»Ÿä¼šæ ¹æ®é»˜è®¤è®¾ç½®è¿›è¡Œè¾“å‡ºã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>CustomStringConvertible</code>å¯¹è¿™ä¸€è¾“å‡ºè¡Œä¸ºè¿›è¡Œè®¾ç½®ï¼Œè¿˜æœ‰ä¸€ä¸ªåè®®æ˜¯<code>CustomDebugStringConvertible</code>ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">CustomDebugStringConvertible</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> debugDescription: <span class=\"type\">String</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è·Ÿ<code>CustomStringConvertible</code>ç”¨æ³•ä¸€æ ·ï¼Œå¯¹åº”<code>debugPrint</code>çš„è¾“å‡ºã€‚</p>\n<h3 id=\"Hashable\"><a href=\"#Hashable\" class=\"headerlink\" title=\"Hashable\"></a>Hashable</h3><p>æˆ‘ä»¬å¸¸ç”¨çš„<code>Dictionary</code>ï¼Œ<code>Set</code>å‡å®ç°äº†<code>Hashable</code>åè®®ã€‚Hashçš„ç›®çš„æ˜¯ä¸ºäº†å°†æŸ¥æ‰¾é›†åˆæŸä¸€å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(1)ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç›®çš„éœ€è¦å°†é›†åˆå…ƒç´ ä¸å­˜å‚¨åœ°å€ä¹‹é—´å»ºè®®ä¸€ç§å°½å¯èƒ½ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p>\n<p>æˆ‘ä»¬å†çœ‹Hashable`åè®®çš„å®šä¹‰ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Hashable</span> : <span class=\"title\">Equatable</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> hashValue: <span class=\"type\">Int</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hash</span><span class=\"params\">(into hasher: <span class=\"keyword\">inout</span> Hasher)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Equatable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> == <span class=\"params\">(lhs: <span class=\"keyword\">Self</span>, rhs: <span class=\"keyword\">Self</span>)</span></span> -&gt; <span class=\"type\">Bool</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„åˆ°<code>func hash(into hasher: inout Hasher)</code>ï¼ŒSwift 4.2 é€šè¿‡å¼•å…¥ <code>Hasher</code> ç±»å‹å¹¶é‡‡ç”¨æ–°çš„é€šç”¨å“ˆå¸Œå‡½æ•°è¿›ä¸€æ­¥ä¼˜åŒ– <code>Hashable</code>ã€‚</p>\n<p>å¦‚æœä½ è¦è‡ªå®šä¹‰ç±»å‹å®ç° <code>Hashable</code> çš„æ–¹å¼ï¼Œå¯ä»¥é‡å†™ <code>hash(into:)</code> æ–¹æ³•è€Œä¸æ˜¯ <code>hashValue</code>ã€‚<code>hash(into:)</code> é€šè¿‡ä¼ é€’äº†ä¸€ä¸ª <code>Hasher</code> å¼•ç”¨å¯¹è±¡ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå¯¹è±¡è°ƒç”¨ <code>combine(_:)</code> æ¥æ·»åŠ ç±»å‹çš„å¿…è¦çŠ¶æ€ä¿¡æ¯ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Swift &gt;= 4.2</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Color</span>: <span class=\"title\">Hashable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> red: <span class=\"type\">UInt8</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> green: <span class=\"type\">UInt8</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> blue: <span class=\"type\">UInt8</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Synthesized by compiler</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hash</span><span class=\"params\">(into hasher: <span class=\"keyword\">inout</span> Hasher)</span></span> &#123;</span><br><span class=\"line\">        hasher.combine(<span class=\"keyword\">self</span>.red)</span><br><span class=\"line\">        hasher.combine(<span class=\"keyword\">self</span>.green)</span><br><span class=\"line\">        hasher.combine(<span class=\"keyword\">self</span>.blue)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Default implementation from protocol extension</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> hashValue: <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> hasher = <span class=\"type\">Hasher</span>()</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.hash(into: &amp;hasher)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> hasher.finalize()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å‚è€ƒï¼š<a href=\"https://nshipster.cn/hashable/\">Hashable / Hasher</a></p>\n<h3 id=\"Codable\"><a href=\"#Codable\" class=\"headerlink\" title=\"Codable\"></a>Codable</h3><p><code>Codable</code>æ˜¯å¯<code>Decodable</code>å’Œ<code>Encodable</code>çš„ç±»å‹åˆ«åã€‚å®ƒèƒ½å¤Ÿå°†ç¨‹åºå†…éƒ¨çš„æ•°æ®ç»“æ„åºåˆ—åŒ–æˆå¯äº¤æ¢æ•°æ®ï¼Œä¹Ÿèƒ½å¤Ÿå°†é€šç”¨æ•°æ®æ ¼å¼ååºåˆ—åŒ–ä¸ºå†…éƒ¨ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¤§å¤§æå‡å¯¹è±¡å’Œå…¶è¡¨ç¤ºä¹‹é—´äº’ç›¸è½¬æ¢çš„ä½“éªŒã€‚å¤„ç†çš„é—®é¢˜å°±æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„JSONè½¬æ¨¡å‹ï¼Œå’Œæ¨¡å‹è½¬JSONã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">typealias</span> <span class=\"type\">Codable</span> = <span class=\"type\">Decodable</span> &amp; <span class=\"type\">Encodable</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">init</span>(from decoder: <span class=\"type\">Decoder</span>) <span class=\"keyword\">throws</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Encodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">encode</span><span class=\"params\">(to encoder: Encoder)</span></span> <span class=\"keyword\">throws</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œåªä¸¾ä¸€ä¸ªç®€å•çš„è§£ç è¿‡ç¨‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//jsonæ•°æ®</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"id\"</span>: <span class=\"string\">\"1283984\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Mike\"</span>,</span><br><span class=\"line\">  \t<span class=\"string\">\"age\"</span>: <span class=\"number\">18</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// å®šä¹‰å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span>: <span class=\"title\">Codable</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> name: <span class=\"type\">String</span></span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> age: <span class=\"type\">Int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// jsonä¸ºç½‘ç»œæ¥å£è¿”å›çš„Dataç±»å‹æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> mike = <span class=\"keyword\">try</span>! <span class=\"type\">JSONDecoder</span>().decode(<span class=\"type\">Person</span>.<span class=\"keyword\">self</span>, from: json)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(mike)</span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºï¼šStudent(id: \"1283984\", name: \"Mike\", age: 18)</span></span><br></pre></td></tr></table></figure>\n\n<p>æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼ŒCodableè¿˜æ”¯æŒå„ç§è‡ªå®šä¹‰è§£ç¼–ç è¿‡ç¨‹ï¼Œå®Œå…¨å¯ä»¥å–ä»£<code>SwiftyJSON</code>ï¼Œ<code>HandyJSON</code>ç­‰ç¼–è§£ç åº“ã€‚</p>\n<h3 id=\"Comparable\"><a href=\"#Comparable\" class=\"headerlink\" title=\"Comparable\"></a>Comparable</h3><p>è¿™ä¸ªæ˜¯ç”¨äºå®ç°æ¯”è¾ƒåŠŸèƒ½çš„åè®®ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Comparable</span> : <span class=\"title\">Equatable</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> &lt; (lhs: Self, rhs: Self) -&gt; <span class=\"title\">Bool</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">static</span> <span class=\"title\">func</span> &lt;= (lhs: Self, rhs: Self) -&gt; <span class=\"title\">Bool</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">static</span> <span class=\"title\">func</span> &gt;= <span class=\"params\">(lhs: <span class=\"keyword\">Self</span>, rhs: <span class=\"keyword\">Self</span>)</span></span> -&gt; <span class=\"type\">Bool</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> &gt; <span class=\"params\">(lhs: <span class=\"keyword\">Self</span>, rhs: <span class=\"keyword\">Self</span>)</span></span> -&gt; <span class=\"type\">Bool</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…¶ç»§æ‰¿äº<code>Equatable</code>ï¼Œå³åˆ¤ç­‰çš„åè®®ã€‚å¯ä»¥å¾ˆæ¸…æ¥šçš„ç†è§£å®ç°äº†å„ç§æ¯”è¾ƒçš„å®šä¹‰å°±å…·æœ‰äº†æ¯”è¾ƒçš„åŠŸèƒ½ã€‚è¿™ä¸ªä¸åšæ¯”è¾ƒã€‚</p>\n<h3 id=\"RangeReplaceableCollection\"><a href=\"#RangeReplaceableCollection\" class=\"headerlink\" title=\"RangeReplaceableCollection\"></a>RangeReplaceableCollection</h3><p><code>RangeReplaceableCollection</code>æ”¯æŒç”¨å¦ä¸€ä¸ªé›†åˆçš„å…ƒç´ æ›¿æ¢å…ƒç´ çš„ä»»æ„å­èŒƒå›´çš„é›†åˆã€‚</p>\n<p>çœ‹ä¸‹å®ƒçš„å®šä¹‰ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">RangeReplaceableCollection</span> : <span class=\"title\">Collection</span> <span class=\"title\">where</span> <span class=\"title\">Self</span>.<span class=\"title\">SubSequence</span> : <span class=\"title\">RangeReplaceableCollection</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">associatedtype</span> <span class=\"type\">SubSequence</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  \t<span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">append</span><span class=\"params\">(<span class=\"number\">_</span> newElement: <span class=\"keyword\">Self</span>.Element)</span></span></span><br><span class=\"line\">  \t<span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">insert</span>&lt;S&gt;<span class=\"params\">(contentsOf newElements: S, at i: <span class=\"keyword\">Self</span>.Index)</span></span> <span class=\"keyword\">where</span> <span class=\"type\">S</span> : <span class=\"type\">Collection</span>, <span class=\"type\">Self</span>.<span class=\"type\">Element</span> == <span class=\"type\">S</span>.<span class=\"type\">Element</span></span><br><span class=\"line\">  \t<span class=\"comment\">/* æ‹¼æ¥ã€æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢çš„æ–¹æ³•ï¼Œä»–ä»¬éƒ½å…·æœ‰å¯¹ç»„å…ƒç´ çš„æ“ä½œèƒ½åŠ› */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  \t<span class=\"keyword\">override</span> <span class=\"keyword\">subscript</span>(bounds: <span class=\"type\">Self</span>.<span class=\"type\">Index</span>) -&gt; <span class=\"type\">Self</span>.<span class=\"type\">Element</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"keyword\">subscript</span>(bounds: <span class=\"type\">Range</span>&lt;<span class=\"type\">Self</span>.<span class=\"type\">Index</span>&gt;) -&gt; <span class=\"type\">Self</span>.<span class=\"type\">SubSequence</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸¾ä¸ªä¾‹å­ï¼ŒArrayæ”¯æŒè¯¥åè®®ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bugs = [<span class=\"string\">\"Aphid\"</span>, <span class=\"string\">\"Damselfly\"</span>]</span><br><span class=\"line\">bugs.append(<span class=\"string\">\"Earwig\"</span>)</span><br><span class=\"line\">bugs.insert(contentsOf: [<span class=\"string\">\"Bumblebee\"</span>, <span class=\"string\">\"Cicada\"</span>], at: <span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(bugs)</span><br><span class=\"line\"><span class=\"comment\">// Prints \"[\"Aphid\", \"Bumblebee\", \"Cicada\", \"Damselfly\", \"Earwig\"]\"</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œé™„ä¸€å¼ Swiftä¸­Arrayéµå¾ªçš„åè®®å…³ç³»å›¾ï¼Œæœ‰åŠ©äºå¤§å®¶ç†è§£ä¸Šé¢è®²è§£çš„å‡ ä¸ªåè®®ä¹‹é—´çš„å…³ç³»ï¼š</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/10/171ff1f43fb51bfc?w=1075&h=369&f=svg&s=21578\" alt=\"img\"></p>\n<p>å›¾åƒæ¥æºï¼š<a href=\"https://swiftdoc.org/v3.1/type/array/hierarchy/\">https://swiftdoc.org/v3.1/type/array/hierarchy/</a></p>\n<h2 id=\"äºŒã€-propertyWrapper\"><a href=\"#äºŒã€-propertyWrapper\" class=\"headerlink\" title=\"äºŒã€@propertyWrapper\"></a>äºŒã€@propertyWrapper</h2><blockquote>\n<p>é˜…è¯»ä»¥ä¸‹ä»£ç ï¼Œprint è¾“å‡ºä»€ä¹ˆ</p>\n</blockquote>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@propertyWrapper</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Wrapper</span>&lt;<span class=\"title\">T</span>&gt; </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> wrappedValue: <span class=\"type\">T</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> projectedValue: <span class=\"type\">Wrapper</span>&lt;<span class=\"type\">T</span>&gt; &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">self</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span> &#123; <span class=\"built_in\">print</span>(<span class=\"string\">\"Foo\"</span>) &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">HasWrapper</span> </span>&#123;</span><br><span class=\"line\">    @<span class=\"type\">Wrapper</span> <span class=\"keyword\">var</span> x = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">foo</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(x) <span class=\"comment\">// 0</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(_x) <span class=\"comment\">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>($x) <span class=\"comment\">// Wrapper&lt;Int&gt;(wrappedValue: 0)</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ®µä»£ç çœ‹ä¼¼è¦è€ƒå¯Ÿå¯¹<code>@propertyWrapper</code>çš„ç†è§£ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šæ— ç”¨å†…å®¹ï¼Œå¯¼è‡´ä»£ç å¾ˆå¥‡æ€ªã€‚</p>\n<p><code>@propertyWrapper</code>çš„æ„æ€å°±æ˜¯å±æ€§åŒ…è£…ï¼Œå®ƒå¯ä»¥å°†ä¸€ç³»åˆ—ç›¸ä¼¼çš„å±æ€§æ–¹æ³•è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨<code>UserDefaults</code>ä¸­åŠ ä¸€ä¸ªæ˜¯å¦é¦–æ¬¡å¯åŠ¨çš„å€¼ï¼Œæ­£å¸¸å¯ä»¥è¿™æ ·å¤„ç†ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">UserDefaults</span> </span>&#123;</span><br><span class=\"line\">  \t<span class=\"class\"><span class=\"keyword\">enum</span> <span class=\"title\">Keys</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">static</span> <span class=\"keyword\">let</span> isFirstLaunch = <span class=\"string\">\"isFirstLaunch\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> isFirstLaunch: <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">get</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> bool(forKey: <span class=\"type\">Keys</span>.isFirstLaunch)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">set</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">set</span>(newValue, forKey: <span class=\"type\">Keys</span>.isFirstLaunch)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæˆ‘ä»¬éœ€è¦åŠ å…¥å¾ˆå¤šè¿™æ ·å±æ€§çš„è¯ï¼Œå°±éœ€è¦å†™å¤§é‡çš„<code>get</code> ã€<code>set</code>æ–¹æ³•ã€‚è€Œ<code>@propertyWrapper</code>çš„ä½œç”¨å°±æ˜¯ä¸ºå±æ€§çš„è¿™ç§è®¾ç½®æä¾›ä¸€ä¸ªæ¨¡æ¿å†™æ³•ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨å±æ€§åŒ…è£…çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@propertyWrapper</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">UserDefaultWrapper</span>&lt;<span class=\"title\">T</span>&gt; </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">let</span> key: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">let</span> defaultValue: <span class=\"type\">T</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(key: <span class=\"type\">String</span>, defaultValue: <span class=\"type\">T</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.key = key</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.defaultValue = defaultValue</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> wrappedValue: <span class=\"type\">T</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">get</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">UserDefaults</span>.standard.object(forKey: key) <span class=\"keyword\">as</span>? <span class=\"type\">T</span> ?? defaultValue</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">set</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">UserDefaults</span>.standard.<span class=\"keyword\">set</span>(newValue, forKey: key)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">UserDefaults</span> </span>&#123;</span><br><span class=\"line\">  \t@<span class=\"type\">UserDefaultWrapper</span>(key: <span class=\"type\">Keys</span>.isFirstLaunch, defaultValue: <span class=\"literal\">false</span>)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> isFirstLaunch: <span class=\"type\">Bool</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>@propertyWrapper</code>çº¦æŸçš„å¯¹è±¡å¿…é¡»è¦å®šä¹‰<code>wrappedValue</code>å±æ€§ï¼Œå› ä¸ºè¯¥å¯¹è±¡åŒ…è£¹çš„å±æ€§ä¼šèµ°åˆ°<code>wrappedValue</code>çš„å®ç°ã€‚</p>\n<p>å›åˆ°å®ä¾‹ä»£ç ï¼Œå®šä¹‰äº†<code>wrappedValue</code>å´å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•å®ç°ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚æ‰€ä»¥è®¿é—®xçš„æ—¶å€™å…¶å®æ˜¯è®¿é—®<code>Wrapper</code>çš„<code>wrappedValue</code>ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‡ºä»»ä½•å®ç°æ‰€ä»¥ç›´æ¥æ‰“å°å‡º<code>0</code>ã€‚è€Œ<code>_x</code>å’Œ<code>$x</code>å¯¹åº”çš„å°±æ˜¯<code>Wrapper</code>è‡ªèº«ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://nshipster.com/propertywrapper/\">Swift Property Wrappers</a></p>\n<h2 id=\"ä¸‰ã€å…³é”®å­—\"><a href=\"#ä¸‰ã€å…³é”®å­—\" class=\"headerlink\" title=\"ä¸‰ã€å…³é”®å­—\"></a>ä¸‰ã€å…³é”®å­—</h2><h3 id=\"public-open\"><a href=\"#public-open\" class=\"headerlink\" title=\"public open\"></a>public open</h3><p><code>public</code> <code>open</code>ä¸ºæƒé™å…³é”®è¯ã€‚å¯¹äºä¸€ä¸ªä¸¥æ ¼çš„é¡¹ç›®æ¥è¯´ï¼Œç²¾ç¡®çš„æœ€å°åŒ–è®¿é—®æ§åˆ¶çº§åˆ«å¯¹äºä»£ç çš„ç»´æŠ¤æ¥è¯´ç›¸å½“é‡è¦çš„ã€‚å®Œæ•´çš„æƒé™å…³é”®è¯ï¼ŒæŒ‰æƒé™å¤§å°æ’åºå¦‚ä¸‹ï¼š</p>\n<p><code>open &gt; public &gt; internal &gt; fileprivate &gt; private</code></p>\n<ul>\n<li><code>open</code>æƒé™æœ€å¤§ï¼Œå…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œç»§æ‰¿ï¼Œé‡å†™ã€‚</li>\n<li><code>public</code>å…è®¸å¤–éƒ¨moduleè®¿é—®ï¼Œä½†ä¸å…è®¸ç»§æ‰¿ï¼Œé‡å†™ã€‚</li>\n<li><code>internal</code>ä¸ºé»˜è®¤å…³é”®è¯ï¼Œåœ¨åŒä¸€ä¸ªmoduleå†…å¯ä»¥å…±ç”¨ã€‚</li>\n<li><code>fileprivate</code>è¡¨ç¤ºä»£ç å¯ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­è¢«è®¿é—®ï¼Œè€Œä¸åšç±»å‹é™å®šã€‚</li>\n<li><code>private</code>è¡¨ç¤ºä»£ç åªèƒ½åœ¨å½“å‰ä½œç”¨åŸŸæˆ–è€…åŒä¸€æ–‡ä»¶ä¸­åŒä¸€ç±»å‹çš„ä½œç”¨åŸŸä¸­è¢«ä½¿ç”¨ã€‚</li>\n</ul>\n<p>è¿™äº›æƒé™å…³é”®è¯å¯ä»¥ä¿®é¥°ï¼Œå±æ€§ï¼Œæ–¹æ³•å’Œç±»å‹ã€‚éœ€è¦æ³¨æ„ï¼šå½“ä¸€ä¸ªç±»å‹çš„æŸä¸€å±æ€§è¦ç”¨publicä¿®é¥°æ—¶ï¼Œè¯¥ç±»å‹è‡³å°‘è¦ç”¨publicï¼ˆæˆ–è€…openï¼‰æƒé™çš„å…³é”®è¯ä¿®å¤ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®è®¿é—®æ˜¯åˆ†å±‚çš„ï¼Œæˆ‘ä»¬ä¸ºäº†è·å–æŸä¸€å±æ€§æˆ–æ–¹æ³•éœ€è¦å…ˆè·å–è¯¥ç±»å‹ï¼Œæ‰€ä»¥å¤–å±‚ï¼ˆç±»å‹ï¼‰çš„è®¿é—®æƒé™è¦æ»¡è¶³å¤§äºç­‰äºå†…å±‚ï¼ˆç±»å‹ã€æ–¹æ³•ã€å±æ€§ï¼‰æƒé™ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html\">Swift AccessControl</a></p>\n<h3 id=\"static-class-final\"><a href=\"#static-class-final\" class=\"headerlink\" title=\"static class final\"></a>static class final</h3><p>åŸæ–‡ä¸­<code>final</code>è·Ÿæƒé™å…³é”®è¯æ”¾åœ¨ä¸€èµ·äº†ï¼Œå…¶å®æ˜¯ä¸åˆç†çš„ï¼Œå°±å°†å…¶æ”¾åˆ°è¿™é‡Œæ¥è®¨è®ºã€‚</p>\n<p><code>static</code>é™æ€å˜é‡å…³é”®è¯ï¼Œæ¥æºäºCè¯­è¨€ã€‚</p>\n<p>åœ¨Swiftä¸­å¸¸ç”¨è¯­ä»¥ä¸‹åœºæ™¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä»…ç”¨äºç±»åå‰ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä»…æ”¯æŒclassç±»å‹</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Manager</span> </span>&#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// å•ä¾‹çš„å£°æ˜</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">static</span> <span class=\"keyword\">let</span> shared = <span class=\"type\">Manager</span>()</span><br><span class=\"line\">  \t<span class=\"comment\">// å®ä¾‹å±æ€§ï¼Œå¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> name: <span class=\"type\">String</span> = <span class=\"string\">\"Ferry\"</span></span><br><span class=\"line\">  \t<span class=\"comment\">// å®ä¾‹å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"keyword\">final</span> <span class=\"keyword\">var</span> lastName: <span class=\"type\">String</span> = <span class=\"string\">\"Zhang\"</span></span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å±æ€§ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"keyword\">static</span> <span class=\"keyword\">var</span> address: <span class=\"type\">String</span> = <span class=\"string\">\"Beijing\"</span></span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å±æ€§ï¼Œå¯è¢«é‡å†™ã€‚æ³¨æ„åªèƒ½ä½œä¸ºè®¡ç®—å±æ€§ï¼Œè€Œä¸èƒ½ä½œä¸ºå­˜å‚¨å±æ€§</span></span><br><span class=\"line\">  \t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">var</span> <span class=\"title\">code</span>: <span class=\"title\">String</span> </span>&#123;</span><br><span class=\"line\">    \t\t<span class=\"keyword\">return</span> <span class=\"string\">\"0122\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  \t<span class=\"comment\">// å®ä¾‹å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">download</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* code... */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  \t<span class=\"comment\">// å®ä¾‹å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"keyword\">final</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">download</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* code... */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å‡½æ•°ï¼Œå¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">func</span> <span class=\"title\">removeCache</span>() </span>&#123;</span><br><span class=\"line\">     \t<span class=\"comment\">/* code... */</span> </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å‡½æ•°ï¼Œä¸å¯è¢«é‡å†™</span></span><br><span class=\"line\">  \t<span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">download</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* code... */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Manager</span> </span>&#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// å•ä¾‹çš„å£°æ˜</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">static</span> <span class=\"keyword\">let</span> shared = <span class=\"type\">Manager</span>()</span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å±æ€§</span></span><br><span class=\"line\">  \t<span class=\"keyword\">static</span> <span class=\"keyword\">var</span> name: <span class=\"type\">String</span> = <span class=\"string\">\"Ferry\"</span></span><br><span class=\"line\">  \t<span class=\"comment\">// ç±»å‡½æ•°</span></span><br><span class=\"line\">  \t<span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">download</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/* code... */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>struct</code>å’Œ<code>enum</code>å› ä¸ºä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ä¹Ÿå°±æ— æ³•ä½¿ç”¨<code>class</code>å’Œ<code>final</code>å…³é”®è¯ï¼Œä»…èƒ½é€šè¿‡<code>static</code>å…³é”®è¯è¿›è¡Œé™å®š</p>\n<h3 id=\"mutating-inout\"><a href=\"#mutating-inout\" class=\"headerlink\" title=\"mutating inout\"></a>mutating inout</h3><p>mutatingç”¨äºä¿®é¥°ä¼šæ”¹å˜è¯¥ç±»å‹çš„å‡½æ•°ä¹‹å‰ï¼ŒåŸºæœ¬éƒ½ç”¨äº<code>struct</code>å¯¹è±¡çš„ä¿®æ”¹ã€‚çœ‹ä¸‹é¢ä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> x: <span class=\"type\">CGFloat</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> y: <span class=\"type\">CGFloat</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å› ä¸ºè¯¥æ–¹æ³•æ”¹å˜äº†structçš„å±æ€§å€¼ï¼ˆxï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦åŠ ä¸Šmutating</span></span><br><span class=\"line\">    <span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">moveRight</span><span class=\"params\">(offset: CGFloat)</span></span> &#123;</span><br><span class=\"line\">        x += offset</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">normalSwap</span><span class=\"params\">(a: CGFloat, b: CGFloat)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> temp = a</span><br><span class=\"line\">        a = b</span><br><span class=\"line\">        b = temp</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å°†ä¸¤ä¸ªå€¼äº¤æ¢ï¼Œéœ€ä¼ å…¥å¯¹è±¡åœ°å€ã€‚æ³¨æ„inoutéœ€è¦åŠ è½½ç±»å‹åå‰</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">inoutSwap</span><span class=\"params\">(a: <span class=\"keyword\">inout</span> CGFloat, b: <span class=\"keyword\">inout</span> CGFloat)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> temp = a</span><br><span class=\"line\">        a = b</span><br><span class=\"line\">        b = temp</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> location1: <span class=\"type\">CGFloat</span> = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> location2: <span class=\"type\">CGFloat</span> = -<span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> point = <span class=\"type\">Point</span>.<span class=\"keyword\">init</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>)</span><br><span class=\"line\">point.moveRight(offset: location1)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(point)\t<span class=\"comment\">//Point(x: 10.0, y: 0.0)</span></span><br><span class=\"line\"></span><br><span class=\"line\">point.normalSwap(a: location1, b: location2)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(location1)\t<span class=\"comment\">//10</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(location2)\t<span class=\"comment\">//-10</span></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„éœ€å¸¦å–å€ç¬¦&amp;</span></span><br><span class=\"line\">point.inoutSwap(a: &amp;location1, b: &amp;location2)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(location1)\t<span class=\"comment\">//-10</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(location2)\t<span class=\"comment\">//10</span></span><br></pre></td></tr></table></figure>\n\n<p><code>inout</code>éœ€è¦ä¼ å…¥å–å€¼ç¬¦ï¼Œæ‰€ä»¥å®ƒçš„æ”¹å˜ä¼šå¯¼è‡´è¯¥å¯¹è±¡è·Ÿç€å˜åŠ¨ã€‚å¯ä»¥å†å›çœ‹ä¸Šé¢è¯´çš„<code>Hashable</code>çš„ä¸€ä¸ªåè®®å®ç°ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hash</span><span class=\"params\">(into hasher: <span class=\"keyword\">inout</span> Hasher)</span></span> &#123;</span><br><span class=\"line\">    hasher.combine(<span class=\"keyword\">self</span>.red)</span><br><span class=\"line\">    hasher.combine(<span class=\"keyword\">self</span>.green)</span><br><span class=\"line\">    hasher.combine(<span class=\"keyword\">self</span>.blue)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åªæœ‰ä½¿ç”¨<code>inout</code>æ‰èƒ½ä¿®æ”¹ä¼ å…¥çš„hasherçš„å€¼ã€‚</p>\n<h3 id=\"infix-operator\"><a href=\"#infix-operator\" class=\"headerlink\" title=\"infix operator\"></a>infix operator</h3><p><code>infix operator</code>å³ä¸ºä¸­ç¼€æ“ä½œç¬¦ï¼Œè¿˜æœ‰prefixã€postfixåç¼€æ“ä½œç¬¦ã€‚</p>\n<p>å®ƒçš„ä½œç”¨æ˜¯è‡ªå®šä¹‰æ“ä½œç¬¦ã€‚æ¯”å¦‚Pythoné‡Œå¯ä»¥ç”¨<code>**</code>è¿›è¡Œå¹‚è¿ç®—ï¼Œä½†æ˜¯Swifté‡Œé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è‡ªå®šä¹‰æ“ä½œç¬¦æ¥å®šä¹‰ä¸€ä¸ªç”¨<code>**</code>å®ç°çš„å¹‚è¿ç®—ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å®šä¹‰ä¸­ç¼€æ“ä½œç¬¦</span></span><br><span class=\"line\"><span class=\"keyword\">infix</span> <span class=\"keyword\">operator</span> **</span><br><span class=\"line\"><span class=\"comment\">// å®ç°è¯¥æ“ä½œç¬¦çš„é€»è¾‘ï¼Œä¸­ç¼€éœ€è¦ä¸¤ä¸ªå‚æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> ** <span class=\"params\">(<span class=\"keyword\">left</span>: Double, <span class=\"keyword\">right</span>: Double)</span></span> -&gt; <span class=\"type\">Double</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> pow(<span class=\"keyword\">left</span>, <span class=\"keyword\">right</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> number = <span class=\"number\">2</span> ** <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(value) <span class=\"comment\">//8</span></span><br></pre></td></tr></table></figure>\n\n<p>åŒç†æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰å‰ç¼€å’Œåç¼€æ“ä½œç¬¦ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å®šä¹‰é˜¶ä¹˜æ“ä½œï¼Œåç¼€æ“ä½œç¬¦</span></span><br><span class=\"line\"><span class=\"keyword\">postfix</span> <span class=\"keyword\">operator</span> ~!</span><br><span class=\"line\"><span class=\"keyword\">postfix</span> <span class=\"function\"><span class=\"keyword\">func</span> ~! <span class=\"params\">(value: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">factorial</span><span class=\"params\">(<span class=\"number\">_</span> value: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> value &lt;= <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> value * factorial(value - <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> factorial(value)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å®šä¹‰è¾“å‡ºæ“ä½œï¼Œå‰ç¼€æ“ä½œç¬¦</span></span><br><span class=\"line\"><span class=\"keyword\">prefix</span> <span class=\"keyword\">operator</span> &lt;&lt;</span><br><span class=\"line\"><span class=\"keyword\">prefix</span> <span class=\"function\"><span class=\"keyword\">func</span> &lt;&lt; (value: Any) &#123;</span></span><br><span class=\"line\"><span class=\"function\">    print(value)</span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">let number1 = 4~!</span></span><br><span class=\"line\"><span class=\"function\">print(number1) // 24</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">&lt;&lt;number1 // 24</span></span><br><span class=\"line\"><span class=\"function\">&lt;&lt;\"zhangferry\" // zhangferry</span></span><br></pre></td></tr></table></figure>\n\n<p>å‰ç¼€å’Œåç¼€ä»…éœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå‚æ•°å³å¯ã€‚</p>\n<p>å…³äºæ“ä½œç¬¦çš„æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹è¿™é‡Œï¼š<a href=\"https://nshipster.cn/swift-operators/\">Swift Operators</a>ã€‚</p>\n<p>æ³¨æ„ï¼Œå› ä¸ºè¯¥æ–‡ç« è¾ƒæ—©ï¼Œå…¶ä¸­å¯¹äºæ“ä½œç¬¦çš„ä¸€äº›å®šä¹‰å·²ç»æ”¹å˜ã€‚</p>\n<h3 id=\"dynamicMemberLookupï¼Œ-dynamicCallable\"><a href=\"#dynamicMemberLookupï¼Œ-dynamicCallable\" class=\"headerlink\" title=\"@dynamicMemberLookupï¼Œ@dynamicCallable\"></a>@dynamicMemberLookupï¼Œ@dynamicCallable</h3><p>è¿™ä¸¤ä¸ªå…³é”®è¯æˆ‘ç¡®å®æ²¡æœ‰ç”¨è¿‡ï¼Œçœ‹åˆ°<code>dynamic</code>å¯ä»¥çŸ¥é“è¿™ä¸¤ä¸ªç‰¹æ€§æ˜¯ä¸ºäº†è®©Swiftå…·æœ‰åŠ¨æ€æ€§ã€‚</p>\n<p><code>@dynamicMemberLookup</code>ä¸­æ–‡å«åŠ¨æ€æŸ¥æ‰¾æˆå‘˜ã€‚åœ¨ä½¿ç”¨<code>@dynamicMemberLookup</code>æ ‡è®°äº†å¯¹è±¡åï¼ˆå¯¹è±¡ã€ç»“æ„ä½“ã€æšä¸¾ã€protocolï¼‰ï¼Œå®ç°äº†<code>subscript(dynamicMember member: String)</code>æ–¹æ³•åæˆ‘ä»¬å°±å¯ä»¥è®¿é—®åˆ°å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ã€‚å¦‚æœè®¿é—®åˆ°çš„å±æ€§ä¸å­˜åœ¨ï¼Œå°±ä¼šè°ƒç”¨åˆ°å®ç°çš„ <code>subscript(dynamicMember member: String)</code>æ–¹æ³•ï¼Œkey ä½œä¸º member ä¼ å…¥è¿™ä¸ªæ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@dynamicMemberLookup</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">subscript</span>(dynamicMember member: <span class=\"type\">String</span>) -&gt; <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> properties = [<span class=\"string\">\"nickname\"</span>: <span class=\"string\">\"Zhuo\"</span>, <span class=\"string\">\"city\"</span>: <span class=\"string\">\"Hangzhou\"</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> properties[member, <span class=\"keyword\">default</span>: <span class=\"string\">\"undefined\"</span>]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æ‰§è¡Œä»¥ä¸‹ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"type\">Person</span>()</span><br><span class=\"line\"><span class=\"built_in\">print</span>(p.city)\t<span class=\"comment\">//Hangzhou</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(p.nickname)\t<span class=\"comment\">//Zhuo</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(p.name)\t<span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æ²¡æœ‰å®šä¹‰Personçš„<code>city</code>ã€<code>nickname</code>ï¼Œ<code>name</code>å±æ€§ï¼Œå´å¯ä»¥ç”¨ç‚¹è¯­æ³•å»å°è¯•è®¿é—®å®ƒã€‚å¦‚æœæ²¡æœ‰<code>@dynamicMemberLookup</code>è¿™ç§å†™æ³•ä¼šè¢«ç¼–è¯‘å™¨æ£€æŸ¥å‡ºæ¥å¹¶æŠ¥é”™ï¼Œä½†æ˜¯åŠ äº†è¯¥å…³é”®è¯ç¼–è¯‘å™¨å°±ä¸ä¼šç®¡å®ƒæ˜¯ä¸æ˜¯å­˜åœ¨éƒ½äºˆä»¥é€šè¿‡ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@dynamicCallable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å®ç°æ–¹æ³•ä¸€</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">dynamicallyCall</span><span class=\"params\">(withArguments: [String])</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> withArguments &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(item)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å®ç°æ–¹æ³•äºŒ</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">dynamicallyCall</span><span class=\"params\">(withKeywordArguments: KeyValuePairs&lt;String, String&gt;)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (key, value) <span class=\"keyword\">in</span> withKeywordArguments &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"\\(key) --- \\(value)\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"type\">Person</span>()</span><br><span class=\"line\">p(<span class=\"string\">\"zhangsan\"</span>)</span><br><span class=\"line\"><span class=\"comment\">// ç­‰äº p.dynamicallyCall(withArguments: [\"zhangsan\"])</span></span><br><span class=\"line\">p(<span class=\"string\">\"zhangsan\"</span>, <span class=\"string\">\"20\"</span>, <span class=\"string\">\"ç”·\"</span>)</span><br><span class=\"line\"><span class=\"comment\">// ç­‰äº p.dynamicallyCall(withArguments: [\"zhangsan\", \"20\", \"ç”·\"])</span></span><br><span class=\"line\">p(name: <span class=\"string\">\"zhangsan\"</span>)</span><br><span class=\"line\"><span class=\"comment\">// ç­‰äº p.dynamicallyCall(withKeywordArguments: [\"name\": \"zhangsan\"])</span></span><br><span class=\"line\">p(name: <span class=\"string\">\"zhangsan\"</span>, age:<span class=\"string\">\"20\"</span>, sex: <span class=\"string\">\"ç”·\"</span>)</span><br><span class=\"line\"><span class=\"comment\">// ç­‰äº p.dynamicallyCall(withKeywordArguments: [\"name\": \"zhangsan\", \"age\": \"20\", \"sex\": \"ç”·\"])</span></span><br></pre></td></tr></table></figure>\n\n<p><code>@dynamicCallable</code>å¯ä»¥ç†è§£æˆåŠ¨æ€è°ƒç”¨ï¼Œå½“ä¸ºæŸä¸€ç±»å‹åšæ­¤å£°æ˜æ—¶ï¼Œéœ€è¦å®ç°<code>dynamicallyCall(withArguments:)</code>æˆ–è€…<code>dynamicallyCall(withKeywordArguments:)</code>ã€‚ç¼–è¯‘å™¨å°†å…è®¸ä½ è°ƒç”¨å¹¶ä¸ºå®šä¹‰çš„æ–¹æ³•ã€‚</p>\n<p>ä¸€ä¸ªåŠ¨æ€æŸ¥æ‰¾æˆå‘˜å˜é‡ï¼Œä¸€ä¸ªåŠ¨æ€æ–¹æ³•è°ƒç”¨ï¼Œå¸¦ä¸Šè¿™ä¸¤ä¸ªç‰¹æ€§Swiftå°±å¯ä»¥å˜æˆå½»å¤´å½»å°¾çš„åŠ¨æ€è¯­è¨€äº†ã€‚æ‰€ä»¥ä½œä¸ºé™æ€è¯­è¨€çš„Swiftä¹Ÿæ˜¯å¯ä»¥å…·æœ‰åŠ¨æ€ç‰¹æ€§çš„ã€‚</p>\n<p>æ›´å¤šå…³äºè¿™ä¸¤ä¸ªåŠ¨æ€æ ‡è®°çš„è®¨è®ºå¯ä»¥çœ‹å“åŒå­¦çš„è¿™ç¯‡ï¼š<a href=\"https://juejin.im/post/5b24c9896fb9a00e69608a71\">ç»†è¯´ Swift 4.2 æ–°ç‰¹æ€§ï¼šDynamic Member Lookup</a></p>\n<h3 id=\"where\"><a href=\"#where\" class=\"headerlink\" title=\"where\"></a>where</h3><p>whereä¸€èˆ¬ç”¨ä½œæ¡ä»¶é™å®šã€‚å®ƒå¯ä»¥ç”¨åœ¨for-inã€swithã€do-catchä¸­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> numbers <span class=\"keyword\">where</span> item % <span class=\"number\">2</span> == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">\"odd: \\(item)\"</span>)\t<span class=\"comment\">// å°†è¾“å‡º1ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ9ç­‰æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">numbers.forEach &#123; (item) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> item &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"keyword\">let</span> x <span class=\"keyword\">where</span> x % <span class=\"number\">2</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"even: \\(x)\"</span>) <span class=\"comment\">// å°†è¾“å‡º2ï¼Œ4ï¼Œ6ï¼Œ8ç­‰æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        <span class=\"keyword\">break</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>where</code>ä¹Ÿå¯ä»¥ç”¨äºç±»å‹é™å®šã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥æ‰©å±•ä¸€ä¸ªå­—å…¸çš„mergeå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä¸¤ä¸ªå­—å…¸è¿›è¡Œåˆå¹¶ï¼Œå¯¹äºç›¸åŒçš„<code>Key</code>å€¼ä»¥è¦åˆå¹¶çš„å­—å…¸ä¸ºå‡†ã€‚å¹¶ä¸”è¯¥æ–¹æ³•æˆ‘åªæƒ³é’ˆå¯¹<code>Key</code>å’Œ<code>Value</code>éƒ½æ˜¯<code>String</code>ç±»å‹çš„å­—å…¸ä½¿ç”¨ï¼Œå°±å¯ä»¥è¿™ä¹ˆåšï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿™é‡Œçš„Key Valueæ¥è‡ªäºDictionaryä¸­å®šä¹‰çš„æ³›å‹</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">Dictionary</span> <span class=\"title\">where</span> <span class=\"title\">Key</span> == <span class=\"title\">String</span>, <span class=\"title\">Value</span> == <span class=\"title\">String</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//åŒä¸€ä¸ªkeyæ“ä½œè¦†ç›–æ—§å€¼</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">merge</span><span class=\"params\">(other: Dictionary)</span></span> -&gt; <span class=\"type\">Dictionary</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>.merging(other) &#123; <span class=\"number\">_</span>, new <span class=\"keyword\">in</span> new &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"autoclosure\"><a href=\"#autoclosure\" class=\"headerlink\" title=\"@autoclosure\"></a>@autoclosure</h3><p><code>@autoclosure</code> æ˜¯ä½¿ç”¨åœ¨é—­åŒ…ç±»å‹ä¹‹å‰ï¼Œåšçš„äº‹æƒ…å°±æ˜¯æŠŠä¸€å¥è¡¨è¾¾å¼è‡ªåŠ¨åœ°<strong>å°è£…</strong>æˆä¸€ä¸ªé—­åŒ… (closure)ã€‚</p>\n<p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªé—­åŒ…ï¼Œå½“é—­åŒ…æ‰§è¡Œçš„ç»“æœä¸º <code>true</code> çš„æ—¶å€™è¿›è¡Œæ‰“å°ï¼Œåˆ†åˆ«ä½¿ç”¨æ™®é€šé—­åŒ…å’ŒåŠ ä¸Š<code>autoclosure</code>çš„é—­åŒ…å®ç°ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">logIfTrueNormal</span><span class=\"params\">(predicate: <span class=\"params\">()</span></span></span> -&gt; <span class=\"type\">Bool</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> predicate() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"True\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„@autoclosureåŠ åˆ°é—­åŒ…çš„å‰é¢</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">logIfTrueAutoclosure</span><span class=\"params\">(predicate: @autoclosure <span class=\"params\">()</span></span></span> -&gt; <span class=\"type\">Bool</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> predicate() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"True\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨æ–¹å¼</span></span><br><span class=\"line\">logIfTrueNormal(predicate: &#123;<span class=\"number\">3</span> &gt; <span class=\"number\">1</span>&#125;)</span><br><span class=\"line\">logIfTrueAutoclosure(predicate: <span class=\"number\">3</span> &gt; <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n\n<p>ç¼–è¯‘å™¨ä¼šå°†<code>logIfTrueAutoclosure</code>å‡½æ•°å‚æ•°ä¸­çš„<code>3 &gt; 1</code>è¿™ä¸ªè¡¨è¾¾å¼è½¬æˆ<code>{3 &gt; 1}</code>è¿™ç§å°¾éšé—­åŒ…æ ·å¼ã€‚</p>\n<p>é‚£è¿™ç§å†™æ³•æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªç¤ºä¾‹ä¸­ä½“ä¼šä¸€ä¸‹ï¼Œåœ¨Swiftç³»ç»Ÿæä¾›çš„å‡ ä¸ªçŸ­è·¯è¿ç®—ç¬¦ï¼ˆå³è¡¨è¾¾å¼å·¦è¾¹å¦‚æœå·²ç»ç¡®å®šç»“æœï¼Œå³è¾¹å°†ä¸å†è¿ç®—ï¼‰ä¸­å‡é‡‡ç”¨äº†<code>@autoclosure</code>æ ‡è®°çš„é—­åŒ…ã€‚é‚£<code>??</code>è¿ç®—ç¬¦ä¸¾ä¾‹ï¼Œå®ƒçš„å®ç°æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> ?? &lt;T&gt;<span class=\"params\">(<span class=\"keyword\">optional</span>: T?, defaultValue: @autoclosure <span class=\"params\">()</span></span></span> <span class=\"keyword\">throws</span> -&gt; <span class=\"type\">T</span>)</span><br><span class=\"line\">    <span class=\"keyword\">rethrows</span> -&gt; <span class=\"type\">T</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> <span class=\"keyword\">optional</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> .some(<span class=\"keyword\">let</span> value):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value</span><br><span class=\"line\">  <span class=\"keyword\">case</span> .<span class=\"keyword\">none</span>:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">try</span> defaultValue()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name: <span class=\"type\">String</span>? = <span class=\"string\">\"ferry\"</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> currentName = name ?? getDefaultName()</span><br></pre></td></tr></table></figure>\n\n<p>å› ä¸ºä½¿ç”¨äº†<code>@autoclosure</code>æ ‡è®°é—­åŒ…ï¼Œæ‰€ä»¥<code>??</code>çš„<code>defaultValue</code>å‚æ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆå› ä¸ºæ˜¯é—­åŒ…ï¼Œæ‰€ä»¥å½“<code>name</code>éç©ºæ—¶ï¼Œç›´æ¥è¿”å›äº†è¯¥å€¼ï¼Œä¸ä¼šè°ƒç”¨<code>getDefaultName()</code>å‡½æ•°ï¼Œå‡å°‘è®¡ç®—ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://swifter.tips/autoclosure/\">@AUTOCLOSURE å’Œ ??</a>ï¼Œæ³¨æ„å› ä¸ºSwiftç‰ˆæœ¬é—®é¢˜ï¼Œå®ä¾‹ä»£ç æ— æ³•è¿è¡Œã€‚</p>\n<h3 id=\"escaping\"><a href=\"#escaping\" class=\"headerlink\" title=\"@escaping\"></a>@escaping</h3><p><code>@escaping</code>ä¹Ÿæ˜¯é—­åŒ…ä¿®é¥°è¯ï¼Œç”¨å®ƒæ ‡è®°çš„é—­åŒ…è¢«ç§°ä¸ºé€ƒé€¸é—­åŒ…ï¼Œè¿˜æœ‰ä¸€ä¸ªå…³é”®è¯æ˜¯<code>@noescape</code>ï¼Œç”¨å®ƒä¿®é¥°çš„é—­åŒ…å«åšéé€ƒé€¸é—­åŒ…ã€‚åœ¨Swift3åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œé—­åŒ…é»˜è®¤ä¸ºéé€ƒé€¸é—­åŒ…ï¼Œåœ¨è¿™ä¹‹å‰é»˜è®¤é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…ã€‚</p>\n<p>è¿™ä¸¤è€…çš„åŒºåˆ«ä¸»è¦åœ¨äºå£°æ˜å‘¨æœŸçš„ä¸åŒï¼Œå½“é—­åŒ…ä½œä¸ºå‚æ•°æ—¶ï¼Œå¦‚æœå…¶å£°æ˜å‘¨æœŸä¸å‡½æ•°ä¸€è‡´å°±æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œå¦‚æœå£°æ˜å‘¨æœŸå¤§äºå‡½æ•°å°±æ˜¯é€ƒé€¸é—­åŒ…ã€‚ç»“åˆç¤ºä¾‹æ¥ç†è§£ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// éé€ƒé€¸é—­åŒ…</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">logIfTrueNormal</span><span class=\"params\">(predicate: <span class=\"params\">()</span></span></span> -&gt; <span class=\"type\">Bool</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> predicate() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"True\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// é€ƒé€¸é—­åŒ…</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">logIfTrueEscaping</span><span class=\"params\">(predicate: @escaping <span class=\"params\">()</span></span></span> -&gt; <span class=\"type\">Bool</span>) &#123;</span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.main.async &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> predicate() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"True\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç¬¬äºŒä¸ªå‡½æ•°çš„é—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…æ˜¯å› ä¸ºå…¶æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œåœ¨å‡½æ•°é€€å‡ºæ—¶ï¼Œè¯¥é—­åŒ…è¿˜å­˜åœ¨ï¼Œå£°æ˜å‘¨æœŸé•¿äºå‡½æ•°ã€‚</p>\n<p>å¦‚æœä½ æ— æ³•åˆ¤æ–­å‡ºåº”è¯¥ä½¿ç”¨é€ƒé€¸è¿˜æ˜¯éé€ƒé€¸é—­åŒ…ï¼Œä¹Ÿæ— éœ€æ‹…å¿ƒï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå¸®ä½ åšå‡ºåˆ¤æ–­ã€‚ç¬¬äºŒä¸ªå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬ä¸å£°æ˜é€ƒé€¸é—­åŒ…ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œè­¦å‘Šæˆ‘ä»¬ï¼š<code>Escaping closure captures non-escaping parameter &#39;predicate&#39;</code>ã€‚å½“ç„¶æˆ‘ä»¬è¿˜æ˜¯åº”è¯¥ç†è§£ä¸¤è€…çš„åŒºåˆ«ã€‚</p>\n<h2 id=\"å››ã€é«˜é˜¶å‡½æ•°\"><a href=\"#å››ã€é«˜é˜¶å‡½æ•°\" class=\"headerlink\" title=\"å››ã€é«˜é˜¶å‡½æ•°\"></a>å››ã€é«˜é˜¶å‡½æ•°</h2><h3 id=\"Filter-Map-Reduce-flatmap-compactMap\"><a href=\"#Filter-Map-Reduce-flatmap-compactMap\" class=\"headerlink\" title=\"Filter, Map, Reduce, flatmap, compactMap\"></a>Filter, Map, Reduce, flatmap, compactMap</h3><p>è¿™å‡ ä¸ªé«˜é˜¶å‡½æ•°éƒ½æ˜¯å¯¹æ•°ç»„å¯¹è±¡ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å»äº†è§£ä»–ä»¬å§ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>]</span><br><span class=\"line\"><span class=\"comment\">// filter è¿‡æ»¤</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> odd = numbers.<span class=\"built_in\">filter</span> &#123; (number) -&gt; <span class=\"type\">Bool</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> number % <span class=\"number\">2</span> == <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(odd) <span class=\"comment\">// [1, 3, 5, 7, 9]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//map è½¬æ¢</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> maps = odd.<span class=\"built_in\">map</span> &#123; (number) -&gt; <span class=\"type\">String</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"\\(number)\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(maps) <span class=\"comment\">// [\"1\", \"3\", \"5\", \"7\", \"9\"]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// reduce ç´¯è®¡è¿ç®—</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> result = odd.<span class=\"built_in\">reduce</span>(<span class=\"number\">0</span>, +)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(result) <span class=\"comment\">// 25</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// flatMap 1.æ•°ç»„å±•å¼€</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> numberList = [[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>], [<span class=\"number\">4</span>, <span class=\"number\">5</span>]ï¼Œ [[<span class=\"number\">6</span>]]]</span><br><span class=\"line\"><span class=\"keyword\">let</span> flatMapNumber = numberList.flatMap &#123; (value) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(flatMapNumber) <span class=\"comment\">// [1, 2, 3, 4, 5, [6]]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// flatMap 2.è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> country = [<span class=\"string\">\"cn\"</span>, <span class=\"string\">\"us\"</span>, <span class=\"literal\">nil</span>, <span class=\"string\">\"en\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> flatMap = country.flatMap &#123; (value) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(flatMap) <span class=\"comment\">//[\"cn\", \"us\", \"en\"]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// compactMap è¿‡æ»¤æ•°ç»„ä¸­çš„nil</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> compactMap = country.compactMap &#123; (value) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(compactMap) <span class=\"comment\">// [\"cn\", \"us\", \"en\"]</span></span><br></pre></td></tr></table></figure>\n\n<p>filterï¼Œreduceå…¶å®å¾ˆå¥½ç†è§£ï¼Œmapã€flatMapã€compactMapåˆšå¼€å§‹æ¥è§¦æ—¶ç¡®å®å®¹æ˜“ææ··ï¼Œè¿™ä¸ªéœ€è¦å¤šåŠ ä½¿ç”¨å’Œç»ƒä¹ ã€‚</p>\n<p>æ³¨æ„åˆ°<code>flatMap</code>æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€ç§æ˜¯å±•å¼€æ•°ç»„ï¼Œå°†äºŒç»´æ•°ç»„é™ä¸ºä¸€ç»´æ•°ç»„ï¼Œä¸€ç§æ˜¯è¿‡æ»¤æ•°ç»„ä¸­çš„<code>nil</code>ã€‚åœ¨Swift4.1ç‰ˆæœ¬å·²ç»å°†<code>flatMap</code>è¿‡æ»¤æ•°ç»„ä¸­nilçš„å‡½æ•°æ ‡ä½<code>deprecated</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿‡æ»¤æ•°ç»„ä¸­nilçš„æ“ä½œåº”è¯¥ä½¿ç”¨<code>compactMap</code>å‡½æ•°ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://blog.devtang.com/2016/03/05/swift-gym-4-map-and-flatmap/#\">Swift çƒ§è„‘ä½“æ“ï¼ˆå››ï¼‰ - map å’Œ flatMap</a></p>\n<h2 id=\"äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ\"><a href=\"#äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ\"></a>äº”ã€å‡ ä¸ªSwiftä¸­çš„æ¦‚å¿µ</h2><h3 id=\"æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€\"><a href=\"#æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€\" class=\"headerlink\" title=\"æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€\"></a>æŸ¯é‡ŒåŒ–ä»€ä¹ˆæ„æ€</h3><p>æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ä»ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°å˜æˆä¸€è¿ä¸²å•å‚æ•°å‡½æ•°çš„å˜æ¢ï¼Œè¿™æ˜¯å®ç°å‡½æ•°å¼ç¼–ç¨‹çš„é‡è¦æ‰‹æ®µï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¯¥å‡½æ•°è¿”å›ç±»å‹ä¸ºï¼ˆIntï¼‰ -&gt; Bool</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">greaterThan</span><span class=\"params\">(<span class=\"number\">_</span> comparer: Int)</span></span> -&gt; (<span class=\"type\">Int</span>) -&gt; <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123; number <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> number &gt; comparer</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// å®šä¹‰ä¸€ä¸ªgreaterThan10çš„å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> greaterThan10 = greaterThan(<span class=\"number\">10</span>)</span><br><span class=\"line\">greaterThan10(<span class=\"number\">13</span>)    <span class=\"comment\">// =&gt; true</span></span><br><span class=\"line\">greaterThan10(<span class=\"number\">9</span>)     <span class=\"comment\">// =&gt; false</span></span><br></pre></td></tr></table></figure>\n\n<p>æ‰€ä»¥æŸ¯é‡ŒåŒ–ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ‰¹é‡ç”Ÿæˆä¸€ç³»åˆ—ç›¸ä¼¼çš„å‡½æ•°ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://swifter.tips/currying/\">æŸ¯é‡ŒåŒ– (CURRYING)</a></p>\n<h3 id=\"POP-ä¸-OOPçš„åŒºåˆ«\"><a href=\"#POP-ä¸-OOPçš„åŒºåˆ«\" class=\"headerlink\" title=\"POP ä¸ OOPçš„åŒºåˆ«\"></a><code>POP</code> ä¸ <code>OOP</code>çš„åŒºåˆ«</h3><p>OOP(object-oriented programming)é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</p>\n<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ç»§æ‰¿ã€å°è£…ã€å¤šæ€ã€‚</p>\n<p>POP(protocol-oriented programming)é¢å‘åè®®ç¼–ç¨‹ï¼š</p>\n<p>é¢å‘åè®®ç¼–ç¨‹åˆ™ä¸»è¦é€šè¿‡åè®®ï¼Œåˆæˆ–å«åšæ¥å£å¯¹ä¸€ç³»åˆ—æ“ä½œè¿›è¡Œå®šä¹‰ã€‚é¢å‘åè®®ä¹Ÿæœ‰ç»§æ‰¿å°è£…å¤šæ€ï¼Œåªä¸è¿‡è¿™äº›ä¸æ˜¯é’ˆå¯¹å¯¹è±¡å»ºç«‹çš„ã€‚</p>\n<p>ä¸ºä»€ä¹ˆSwiftæ¼”å˜æˆäº†ä¸€é—¨é¢å‘åè®®çš„ç¼–ç¨‹è¯­è¨€ã€‚è¿™æ˜¯å› ä¸ºé¢å‘å¯¹è±¡å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>\n<p>1ã€åŠ¨æ€æ´¾å‘çš„å®‰å…¨æ€§ï¼ˆè¿™åº”è¯¥æ˜¯OCçš„å›°å¢ƒï¼Œåœ¨Swiftä¸­Xcodeæ˜¯ä¸å¯èƒ½è®©è¿™ç§é—®é¢˜ç¼–è¯‘é€šè¿‡çš„ï¼‰</p>\n<p>2ã€æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-Cutting Concernsï¼‰é—®é¢˜ã€‚é¢å‘å¯¹è±¡æ— æ³•æè¿°ä¸¤ä¸ªä¸åŒäº‹ç‰©å…·æœ‰æŸä¸ªç›¸åŒç‰¹æ€§è¿™ä¸€ç‚¹ã€‚</p>\n<p>3ã€è±å½¢é—®é¢˜ï¼ˆæ¯”å¦‚C++ä¸­ï¼‰ã€‚C++å¯ä»¥å¤šç»§æ‰¿ï¼Œåœ¨å¤šç»§æ‰¿ä¸­ï¼Œä¸¤ä¸ªçˆ¶ç±»å®ç°äº†ç›¸åŒçš„æ–¹æ³•ï¼Œå­ç±»æ— æ³•ç¡®å®šç»§æ‰¿å“ªä¸ªçˆ¶ç±»çš„æ­¤æ–¹æ³•ï¼Œç”±äºå¤šç»§æ‰¿çš„æ‹“æ‰‘ç»“æ„æ˜¯ä¸€ä¸ªè±å½¢ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æœ‰è¢«å«åšè±å½¢ç¼ºé™·ï¼ˆDiamond Problemï¼‰ã€‚</p>\n<p>å‚è€ƒæ–‡ç« ï¼š</p>\n<p><a href=\"https://swift.gg/2018/12/03/pop-vs-oop/\">Swift ä¸­çš„é¢å‘åè®®ç¼–ç¨‹ï¼šæ˜¯å¦ä¼˜äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿ</a></p>\n<p><a href=\"https://onevcat.com/2016/11/pop-cocoa-1/\">é¢å‘åè®®ç¼–ç¨‹ä¸ Cocoa çš„é‚‚é€… (ä¸Š)</a></p>\n<h3 id=\"Any-ä¸AnyObject-åŒºåˆ«\"><a href=\"#Any-ä¸AnyObject-åŒºåˆ«\" class=\"headerlink\" title=\"Any ä¸AnyObject åŒºåˆ«\"></a><code>Any</code> ä¸<code>AnyObject</code> åŒºåˆ«</h3><p><strong>AnyObject</strong>ï¼š æ˜¯ä¸€ä¸ªåè®®ï¼Œæ‰€æœ‰classéƒ½éµå®ˆè¯¥åè®®ï¼Œå¸¸ç”¨è¯­è·ŸOCå¯¹è±¡çš„æ•°æ®è½¬æ¢ã€‚</p>\n<p><strong>Any</strong>ï¼šå®ƒå¯ä»¥ä»£è¡¨ä»»ä½•å‹åˆ¥çš„ç±»(class)ã€ç»“æ„ä½“ (struct)ã€æšä¸¾ (enum)ï¼ŒåŒ…æ‹¬å‡½å¼å’Œå¯é€‰å‹ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯ä»»ä½•ä¸œè¥¿ã€‚</p>\n<h3 id=\"rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\"><a href=\"#rethrows-å’Œ-throws-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\" class=\"headerlink\" title=\"rethrows å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\"></a><code>rethrows</code> å’Œ <code>throws</code> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</h3><p>throwsæ˜¯å¤„ç†é”™è¯¯ç”¨çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸ªå¾€æ²™ç›’å†™å…¥æ–‡ä»¶çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å†™å…¥çš„æ–¹æ³•å®šä¹‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">write</span><span class=\"params\">(to url: URL, options: Data.WritingOptions = [])</span></span> <span class=\"keyword\">throws</span></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> data = <span class=\"type\">Data</span>()</span><br><span class=\"line\">    <span class=\"keyword\">try</span> data.write(to: localUrl)</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> error &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(error.localizedDescription)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å°†ä¸€ä¸ªä¼šæœ‰é”™è¯¯æŠ›å‡ºçš„å‡½æ•°æœ«å°¾åŠ ä¸Š<code>throws</code>ï¼Œåˆ™è¯¥æ–¹æ³•è°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨<code>try</code>è¯­å¥è¿›è¡Œè°ƒç”¨ï¼Œç”¨äºæç¤ºå½“å‰å‡½æ•°æ˜¯æœ‰æŠ›é”™é£é™©çš„ï¼Œå…¶ä¸­<code>catch</code>å¥æŸ„æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚</p>\n<p><code>rethrows</code>ä¸<code>throws</code>å¹¶æ²¡æœ‰å¤ªå¤šä¸åŒï¼Œå®ƒä»¬éƒ½æ˜¯æ ‡è®°äº†ä¸€ä¸ªæ–¹æ³•åº”è¯¥æŠ›å‡ºé”™è¯¯ã€‚ä½†æ˜¯ <code>rethrows</code> ä¸€èˆ¬ç”¨åœ¨å‚æ•°ä¸­å«æœ‰å¯ä»¥ <code>throws</code> çš„æ–¹æ³•çš„é«˜é˜¶å‡½æ•°ä¸­ï¼ˆæƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿä¸‹æœŸç»™å‡ºç­”æ¡ˆï¼‰ã€‚</p>\n<p>æŸ¥çœ‹<code>map</code>çš„æ–¹æ³•å£°æ˜ï¼Œæˆ‘ä»¬èƒ½åŒæ—¶çœ‹åˆ° <code>throws</code>,<code>rethrows</code>ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@inlinable <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">map</span>&lt;T&gt;<span class=\"params\">(<span class=\"number\">_</span> transform: <span class=\"params\">(Element)</span></span></span> <span class=\"keyword\">throws</span> -&gt; <span class=\"type\">T</span>) <span class=\"keyword\">rethrows</span> -&gt; [<span class=\"type\">T</span>]</span><br></pre></td></tr></table></figure>\n\n<p>ä¸çŸ¥é“ä½ ä»¬ç¬¬ä¸€æ¬¡è§åˆ°<code>map</code>å‡½æ•°æœ¬ä½“çš„æ—¶å€™ä¼šä¸ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆ<code>map</code>é‡Œçš„é—­åŒ…éœ€è¦æŠ›å‡ºé”™è¯¯ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™å¹¶æ²¡æœ‰ç”¨<code>try</code>è¯­æ³•ä¹Ÿå¯ä»¥æ­£å¸¸é€šè¿‡ï¼Ÿ</p>\n<p>å…¶å®æ˜¯è¿™æ ·çš„ï¼Œ<code>transform</code>æ˜¯éœ€è¦æˆ‘ä»¬å®šä¹‰çš„é—­åŒ…ï¼Œå®ƒæœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿå¯èƒ½ä¸æŠ›å‡ºå¼‚å¸¸ã€‚Swiftä½œä¸ºç±»å‹å®‰å…¨çš„è¯­è¨€å°±éœ€è¦ä¿è¯åœ¨æœ‰å¼‚å¸¸çš„æ—¶å€™éœ€è¦ä½¿ç”¨tryå»è°ƒç”¨ï¼Œåœ¨æ²¡æœ‰å¼‚å¸¸çš„æ—¶å€™è¦æ­£å¸¸è°ƒç”¨ï¼Œé‚£æ€ä¹ˆå…¼å®¹è¿™ä¸¤ç§æƒ…å†µå‘¢ï¼Œè¿™å°±æ˜¯<code>rethrows</code>çš„ä½œç”¨äº†ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">squareOf</span><span class=\"params\">(x: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;<span class=\"keyword\">return</span> x * x&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">divideTenBy</span><span class=\"params\">(x: Int)</span></span> <span class=\"keyword\">throws</span> -&gt; <span class=\"type\">Double</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">guard</span> x != <span class=\"number\">0</span> <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"type\">CalculationError</span>.<span class=\"type\">DivideByZero</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">10.0</span> / <span class=\"type\">Double</span>(x)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> theNumbers = [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> squareResult = theNumbers.<span class=\"built_in\">map</span>(squareOf(x:)) <span class=\"comment\">// [100, 400, 9000]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> divideResult = <span class=\"keyword\">try</span> theNumbers.<span class=\"built_in\">map</span>(divideTenBy(x:))</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> error &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(error)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬ç›´æ¥å†™<code>let divideResult = theNumbers.map(divideTenBy(x:))</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š<code>Call can throw but is not marked with &#39;try&#39;</code>ã€‚è¿™æ ·å°±å®ç°äº†æ ¹æ®æƒ…å†µå»å†³å®šæ˜¯å¦éœ€è¦ç”¨<code>try-catch</code>å»æ•è·mapé‡Œçš„å¼‚å¸¸äº†ã€‚</p>\n<p>å‚è€ƒï¼š<a href=\"https://swifter.tips/error-handle/\">é”™è¯¯å’Œå¼‚å¸¸å¤„ç†</a></p>\n<h3 id=\"break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰\"><a href=\"#break-return-continue-fallthough-åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰\" class=\"headerlink\" title=\"break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰\"></a>break return continue fallthough åœ¨è¯­å¥ä¸­çš„å«ä¹‰ï¼ˆswitchã€whileã€forï¼‰</h3><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œåªè¯´ç›¸å¯¹ç‰¹åˆ«çš„ç¤ºä¾‹å§ï¼Œåœ¨Swiftçš„switchè¯­å¥ï¼Œä¼šåœ¨æ¯ä¸ªcaseç»“æŸçš„æ—¶å€™è‡ªåŠ¨é€€å‡ºè¯¥switchåˆ¤æ–­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸é€€å‡ºï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªcaseçš„åˆ¤æ–­ï¼Œå¯ä»¥åŠ ä¸Š<code>fallthough</code>ã€‚</p>\n","categories":[],"tags":["Swift"]},{"title":"iOSå¼€å‘å›¾ç‰‡æ ¼å¼é€‰æ‹©","url":"http://zhangferry.github.io/2020/04/05/ios_photo_format_compare/","content":"<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8ba5edf9f51?w=1022&h=512&f=png&s=436048\" alt=\"\"></p>\n<h2 id=\"å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„\"><a href=\"#å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„\" class=\"headerlink\" title=\"å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„\"></a>å›¾ç‰‡æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„</h2><p>åœ¨è®²è§£å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼ä¹‹å‰ï¼Œæˆ‘æ„Ÿè§‰æœ‰å¿…è¦å…ˆäº†è§£ä¸‹ï¼Œå›¾ç‰‡æ˜¯å¦‚ä½•å±•ç¤ºçš„ã€‚å¦‚æœæˆ‘ä»¬è¦å±•ç¤ºä¸€å¼ å›¾ç‰‡ï¼Œä¸€èˆ¬æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// Assets.xcassetsä¸­çš„å›¾ç‰‡ï¼Œä¸éœ€è¦åç¼€</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"icon\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> imageView = <span class=\"type\">UIImageView</span>(frame: rect)</span><br><span class=\"line\">imageView.image = image</span><br><span class=\"line\">view.addSubview(imageView)</span><br></pre></td></tr></table></figure>\n\n<p>è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æŒ‡å®šä½ç½®çœ‹åˆ°è¿™ä¸ªiconã€‚çœ‹ä¼¼ç®€å•çš„ä»£ç èƒŒåéšè—äº†å¾ˆå¤šç»†èŠ‚å·¥ä½œã€‚ä¸€å¼ å›¾ç‰‡çš„å±•ç¤ºï¼Œä»ä»£ç æ‰§è¡Œåˆ°å±•ç¤ºå‡ºæ¥å¤§è‡´ç»å†äº†è¿™äº›æ­¥éª¤ï¼š</p>\n<p><strong>1. åŠ è½½å›¾ç‰‡</strong></p>\n<ul>\n<li><p>ä»ç£ç›˜ä¸­åŠ è½½ä¸€å¼ å›¾ç‰‡ï¼›</p>\n</li>\n<li><p>ç„¶åå°†ç”Ÿæˆçš„ <code>UIImage</code> èµ‹å€¼ç»™ <code>UIImageView</code> ï¼›</p>\n</li>\n<li><p>æ¥ç€ä¸€ä¸ªéšå¼çš„ <code>CATransaction</code> æ•è·åˆ°äº† <code>UIImageView</code> å›¾å±‚æ ‘çš„å˜åŒ–ï¼›</p>\n</li>\n<li><p>åˆ†é…å†…å­˜ç¼“å†²åŒºç”¨äºç®¡ç†æ–‡ä»¶ IO å’Œè§£å‹ç¼©æ“ä½œï¼Œå°†æ–‡ä»¶æ•°æ®ä»ç£ç›˜è¯»åˆ°å†…å­˜ä¸­ï¼›</p>\n</li>\n</ul>\n<p><strong>2. å›¾ç‰‡è§£ç ï¼ˆè§£å‹ï¼‰</strong></p>\n<ul>\n<li>å°†å‹ç¼©çš„å›¾ç‰‡æ•°æ®è§£ç æˆæœªå‹ç¼©çš„ä½å›¾å½¢å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„ CPU æ“ä½œï¼Œé»˜è®¤åœ¨ä¸»çº¿ç¨‹è¿›è¡Œï¼›</li>\n</ul>\n<p><strong>3. å›¾ç‰‡æ¸²æŸ“</strong></p>\n<ul>\n<li><p><code>Core Animation</code> ä¸­<code>CALayer</code>ä½¿ç”¨è§£å‹ï¼ˆè§£ç ï¼‰çš„ä½å›¾æ•°æ®æ¸²æŸ“ <code>UIImageView</code> çš„å›¾å±‚ï¼›</p>\n</li>\n<li><p>CPUè®¡ç®—å¥½å›¾ç‰‡çš„Frameï¼Œå¯¹å›¾ç‰‡è§£å‹ä¹‹åï¼Œå°±ä¼šäº¤ç»™GPUæ¥åšå›¾ç‰‡æ¸²æŸ“æ¸²æŸ“æµç¨‹ï¼›</p>\n</li>\n<li><p>GPUè·å–è·å–å›¾ç‰‡çš„åæ ‡ï¼Œå°†åæ ‡äº¤ç»™é¡¶ç‚¹ç€è‰²å™¨(é¡¶ç‚¹è®¡ç®—)ï¼Œå°†å›¾ç‰‡å…‰æ …åŒ–(è·å–å›¾ç‰‡å¯¹åº”å±å¹•ä¸Šçš„åƒç´ ç‚¹)ï¼Œç‰‡å…ƒç€è‰²å™¨è®¡ç®—(è®¡ç®—æ¯ä¸ªåƒç´ ç‚¹çš„æœ€ç»ˆæ˜¾ç¤ºçš„é¢œè‰²å€¼)ï¼›</p>\n</li>\n<li><p>ä»å¸§ç¼“å­˜åŒºä¸­æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼›</p>\n</li>\n</ul>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8aa5ffda915?w=1564&h=734&f=png&s=227216\" alt=\"\"></p>\n<p>è¿™å…¶ä¸­æœ‰ä¸ªå…³é”®æ­¥éª¤æ˜¯å›¾ç‰‡è§£ç ã€‚é‚£ä¸ºä»€ä¹ˆè¦è§£ç å‘¢ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„å›¾ç‰‡ä¸€èˆ¬ä¸ºäº†èŠ‚çº¦ç©ºé—´éƒ½ä¼šç»è¿‡ä¸€äº›å‹ç¼©ç®—æ³•è¿›è¡Œå°è£…ï¼Œè€Œä½¿ç”¨æ—¶å±å¹•è¦ç²¾ç¡®çš„æ¸²æŸ“åˆ°æ¯ä¸ªåƒç´ ç‚¹ï¼Œè¿™å°±éœ€è¦æŠŠå‹ç¼©çš„å›¾ç‰‡è§£ç å±•å¼€ï¼Œä¾¿äºç³»ç»Ÿå¤„ç†ã€‚</p>\n<h2 id=\"åè¯è§£é‡Š\"><a href=\"#åè¯è§£é‡Š\" class=\"headerlink\" title=\"åè¯è§£é‡Š\"></a>åè¯è§£é‡Š</h2><h3 id=\"æœ‰æŸvsæ— æŸ\"><a href=\"#æœ‰æŸvsæ— æŸ\" class=\"headerlink\" title=\"æœ‰æŸvsæ— æŸ\"></a>æœ‰æŸvsæ— æŸ</h3><p><strong>æœ‰æŸå‹ç¼©</strong>ï¼šæŒ‡åœ¨å‹ç¼©æ–‡ä»¶å¤§å°çš„è¿‡ç¨‹ä¸­ï¼ŒæŸå¤±äº†ä¸€éƒ¨åˆ†å›¾ç‰‡çš„ä¿¡æ¯ï¼Œä¹Ÿå³é™ä½äº†å›¾ç‰‡çš„è´¨é‡ï¼Œå¹¶ä¸”è¿™ç§æŸå¤±æ˜¯ä¸å¯é€†çš„ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä»æœ‰ä¸€ä¸ªæœ‰æŸå‹ç¼©è¿‡çš„å›¾ç‰‡ä¸­æ¢å¤å‡ºå…¨æ¥çš„å›¾ç‰‡ã€‚å¸¸è§çš„æœ‰æŸå‹ç¼©æ‰‹æ®µï¼Œæ˜¯æŒ‰ç…§ä¸€å®šçš„ç®—æ³•å°†ä¸´è¿‘çš„åƒç´ ç‚¹è¿›è¡Œåˆå¹¶ã€‚</p>\n<p><strong>æ— æŸå‹ç¼©</strong>ï¼šåªåœ¨å‹ç¼©æ–‡ä»¶å¤§å°çš„è¿‡ç¨‹ä¸­ï¼Œå›¾ç‰‡çš„è´¨é‡æ²¡æœ‰ä»»ä½•æŸè€—ã€‚æˆ‘ä»¬ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ä»æ— æŸå‹ç¼©è¿‡çš„å›¾ç‰‡ä¸­æ¢å¤å‡ºåŸæ¥çš„ä¿¡æ¯ã€‚</p>\n<h3 id=\"ç´¢å¼•è‰²vsç›´æ¥è‰²\"><a href=\"#ç´¢å¼•è‰²vsç›´æ¥è‰²\" class=\"headerlink\" title=\"ç´¢å¼•è‰²vsç›´æ¥è‰²\"></a>ç´¢å¼•è‰²vsç›´æ¥è‰²</h3><p><strong>ç´¢å¼•è‰²</strong>ï¼šç”¨ä¸€ä¸ªæ•°å­—æ¥ä»£è¡¨ï¼ˆç´¢å¼•ï¼‰ä¸€ç§é¢œè‰²ï¼Œåœ¨å­˜å‚¨å›¾ç‰‡çš„æ—¶å€™ï¼Œå­˜å‚¨ä¸€ä¸ªæ•°å­—çš„ç»„åˆï¼ŒåŒæ—¶å­˜å‚¨æ•°å­—åˆ°å›¾ç‰‡é¢œè‰²çš„æ˜ å°„ã€‚è¿™ç§æ–¹å¼åªèƒ½å­˜å‚¨æœ‰é™ç§é¢œè‰²ï¼Œé€šå¸¸æ˜¯256ç§é¢œè‰²ï¼Œå¯¹åº”åˆ°è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚çš„æ•°å­—æ¥ç´¢å¼•ä¸€ç§é¢œè‰²ã€‚</p>\n<p><strong>ç›´æ¥è‰²</strong>ï¼šä½¿ç”¨å››ä¸ªæ•°å­—æ¥ä»£è¡¨ä¸€ç§é¢œè‰²ï¼Œè¿™å››ä¸ªæ•°å­—åˆ†åˆ«ä»£è¡¨è¿™ä¸ªé¢œè‰²ä¸­çº¢è‰²ã€ç»¿è‰²ã€è“è‰²ä»¥åŠé€æ˜åº¦ã€‚ç°åœ¨æµè¡Œçš„æ˜¾ç¤ºè®¾å¤‡å¯ä»¥åœ¨è¿™å››ä¸ªç»´åº¦åˆ†åˆ«æ”¯æŒ256ç§å˜åŒ–ï¼Œæ‰€ä»¥ç›´æ¥è‰²å¯ä»¥è¡¨ç¤º2çš„32æ¬¡æ–¹ç§é¢œè‰²ã€‚å½“ç„¶å¹¶éæ‰€æœ‰çš„ç›´æ¥è‰²éƒ½æ”¯æŒè¿™ä¹ˆå¤šç§ï¼Œä¸ºå‹ç¼©ç©ºé—´ä½¿ç”¨ï¼Œæœ‰å¯èƒ½åªæœ‰è¡¨è¾¾çº¢ã€ç»¿ã€è“çš„ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸ªæ•°å­—ä¹Ÿå¯èƒ½ä¸æ”¯æŒ256ç§å˜åŒ–ä¹‹å¤šã€‚</p>\n<h3 id=\"ç‚¹é˜µå›¾vsçŸ¢é‡å›¾\"><a href=\"#ç‚¹é˜µå›¾vsçŸ¢é‡å›¾\" class=\"headerlink\" title=\"ç‚¹é˜µå›¾vsçŸ¢é‡å›¾\"></a>ç‚¹é˜µå›¾vsçŸ¢é‡å›¾</h3><p><strong>ç‚¹é˜µå›¾</strong>ï¼šä¹Ÿå«åšä½å›¾ï¼Œåƒç´ å›¾ã€‚æ„æˆç‚¹é˜µå›¾çš„æœ€å°å•ä½æ˜¯è±¡ç´ ï¼Œä½å›¾å°±æ˜¯ç”±è±¡ç´ é˜µåˆ—çš„æ’åˆ—æ¥å®ç°å…¶æ˜¾ç¤ºæ•ˆæœçš„ï¼Œæ¯ä¸ªè±¡ç´ æœ‰è‡ªå·±çš„é¢œè‰²ä¿¡æ¯ï¼Œåœ¨å¯¹ä½å›¾å›¾åƒè¿›è¡Œç¼–è¾‘æ“ä½œçš„æ—¶å€™ï¼Œå¯æ“ä½œçš„å¯¹è±¡æ˜¯æ¯ä¸ªè±¡ç´ ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜å›¾åƒçš„è‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦ï¼Œä»è€Œæ”¹å˜å›¾åƒçš„æ˜¾ç¤ºæ•ˆæœã€‚ç‚¹é˜µå›¾ç¼©æ”¾ä¼šå¤±çœŸï¼Œç”¨æœ€è¿‘éå¸¸æµè¡Œçš„æ²™ç”»æ¥æ¯”å–»æœ€æ°å½“ä¸è¿‡ï¼Œå½“ä½ ä»è¿œå¤„çœ‹çš„æ—¶å€™ï¼Œç”»é¢ç»†è…»å¤šå½©ï¼Œä½†æ˜¯å½“ä½ é çš„éå¸¸è¿‘çš„æ—¶å€™ï¼Œä½ å°±èƒ½çœ‹åˆ°ç»„æˆç”»é¢çš„æ¯ç²’æ²™å­ä»¥åŠæ¯ä¸ªæ²™ç²’çš„é¢œè‰²ã€‚</p>\n<p><strong>çŸ¢é‡å›¾</strong>ï¼šä¹Ÿå«åšå‘é‡å›¾ã€‚çŸ¢é‡å›¾å¹¶ä¸çºªå½•ç”»é¢ä¸Šæ¯ä¸€ç‚¹çš„ä¿¡æ¯ï¼Œè€Œæ˜¯çºªå½•äº†å…ƒç´ å½¢çŠ¶åŠé¢œè‰²çš„ç®—æ³•ï¼Œå½“ä½ æ‰“å¼€ä¸€å¼ çŸ¢é‡å›¾çš„æ—¶å€™ï¼Œè½¯ä»¶å¯¹å›¾å½¢è±¡å¯¹åº”çš„å‡½æ•°è¿›è¡Œè¿ç®—ï¼Œå°†è¿ç®—ç»“æœ[å›¾å½¢çš„å½¢çŠ¶å’Œé¢œè‰²]æ˜¾ç¤ºç»™ä½ çœ‹ã€‚æ— è®ºæ˜¾ç¤ºç”»é¢æ˜¯å¤§è¿˜æ˜¯å°ï¼Œç”»é¢ä¸Šçš„å¯¹è±¡å¯¹åº”çš„ç®—æ³•æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥ï¼Œå³ä½¿å¯¹ç”»é¢è¿›è¡Œå€æ•°ç›¸å½“å¤§çš„ç¼©æ”¾ï¼Œå…¶æ˜¾ç¤ºæ•ˆæœä»ç„¶ç›¸åŒ(ä¸å¤±çœŸ)ã€‚</p>\n<h2 id=\"å‡ ç§æ ¼å¼çš„å¯¹æ¯”\"><a href=\"#å‡ ç§æ ¼å¼çš„å¯¹æ¯”\" class=\"headerlink\" title=\"å‡ ç§æ ¼å¼çš„å¯¹æ¯”\"></a>å‡ ç§æ ¼å¼çš„å¯¹æ¯”</h2><p>ä¸€å¼ å›¾ç‰‡ï¼Œå¦‚æœæˆ‘ä»¬å°†å®ƒçš„æ¯ä¸€ä¸ªåƒç´ åŠå…¶å¯¹åº”çš„é¢œè‰²éƒ½å­˜å‚¨èµ·æ¥ï¼ˆBMPæ ¼å¼ï¼‰ï¼Œæ˜¯ä¼šå¾ˆå¤§çš„ã€‚ä¸ºäº†å‡å°å›¾ç‰‡å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œæ´¾ç”Ÿå‡ºäº†å„ç§ä¸åŒå‹ç¼©ç®—æ³•æ‰€ä»£è¡¨çš„å›¾ç‰‡æ ¼å¼ã€‚å¸¸è§çš„å›¾ç‰‡æ ¼å¼æœ‰pngã€jpegã€heicã€gifã€webpï¼Œsvgç­‰ã€‚</p>\n<h3 id=\"PNG\"><a href=\"#PNG\" class=\"headerlink\" title=\"PNG\"></a>PNG</h3><p>PNGæœ‰ä¸¤ç§ç±»å‹ï¼šPNG-8å’ŒPNG-24ã€‚</p>\n<ul>\n<li><p>PNG-8æ˜¯æ— æŸçš„ã€ç´¢å¼•è‰²ã€ç‚¹é˜µå›¾ã€‚å®ƒæ”¯æŒé€æ˜åº¦çš„è°ƒèŠ‚ã€‚</p>\n</li>\n<li><p>PNG-24æ˜¯æ— æŸçš„ã€ç›´æ¥è‰²ã€ç‚¹é˜µå›¾ã€‚å› ä¸ºä½¿ç”¨ç›´æ¥è‰²ï¼Œé¢œè‰²èŒƒå›´æ›´å¤§ï¼Œä¹Ÿå ç”¨æ›´å¤§çš„ç©ºé—´ã€‚ä»–çš„ç›®æ ‡æ˜¯æ›¿ä»£JPEGï¼Œä½†ä¸€èˆ¬è€Œè¨€ï¼ŒPNG-24çš„æ–‡ä»¶å¤§å°æ˜¯JPEGçš„äº”å€ä¹‹å¤šï¼Œè€Œæ˜¾ç¤ºæ•ˆæœåˆ™é€šå¸¸åªèƒ½è·å¾—ä¸€ç‚¹ç‚¹æå‡ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯å¯¹å›¾ç‰‡è´¨é‡è¦æ±‚ç‰¹åˆ«é«˜ï¼Œä¸å»ºè®®ä½¿ç”¨PNG-24</p>\n</li>\n</ul>\n<p>PNGæ˜¯è‹¹æœæ¨èçš„å›¾ç‰‡æ ¼å¼ï¼Œè€Œä¸”è¿™äº›å›¾ç‰‡ä¼šè¢«ä¸€ä¸ªå«<a href=\"http://pmt.sourceforge.net/pngcrush/\">pngcrush</a>çš„å¼€æºå·¥å…·ä¼˜åŒ–ï¼Œè¿™æ ·iOSè®¾å¤‡å°±èƒ½åœ¨æ˜¾ç¤ºæ—¶æ›´å¿«çš„è§£å‹å’Œæ¸²æŸ“å›¾ç‰‡ã€‚è¯¥å·¥å…·ä½äºç›®å½•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;Applications&#x2F;Xcode.app&#x2F;Contents&#x2F;Developer&#x2F;Platforms&#x2F;iPhoneOS.platform&#x2F;Developer&#x2F;usr&#x2F;bin</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"JPEG\"><a href=\"#JPEG\" class=\"headerlink\" title=\"JPEG\"></a>JPEG</h3><p>JPEGæ˜¯æœ‰æŸçš„ã€é‡‡ç”¨ç›´æ¥è‰²çš„ã€ç‚¹é˜µå›¾å‹ç¼©æ–¹å¼ã€‚<br>JEPGç›®æ ‡æ˜¯åœ¨ä¸å½±å“äººç±»å¯åˆ†è¾¨çš„å›¾ç‰‡è´¨é‡çš„å‰æä¸‹ï¼Œå°½å¯èƒ½çš„å‹ç¼©æ–‡ä»¶å¤§å°ã€‚ä¸€èˆ¬éƒ½æ˜¯ç”¨äºç›¸æœºå›¾ç‰‡çš„æ ¼å¼ã€‚ä½†å› ä¸ºæœ‰æŸï¼Œä¼šå¯¼è‡´å›¾ç‰‡å¤±çœŸã€‚iOSå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‹ç¼©å›¾ç‰‡ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‹ç¼©æ¯”èŒƒå›´ä»0åˆ°1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">jpegData</span><span class=\"params\">(compressionQuality: CGFloat)</span></span> -&gt; <span class=\"type\">Data</span>?</span><br></pre></td></tr></table></figure>\n\n<p><strong>é¢˜å¤–è¯</strong><br>ä¸€èˆ¬æ¥è¯´ï¼Œç›¸åŒçš„å›¾ç‰‡é‡‡ç”¨JPEGçš„å‹ç¼©æ–¹å¼ä¼šæ¯”pngå¾—åˆ°æ›´å°çš„å°ºå¯¸ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ã€‚<br><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8a009a4b6af?w=1052&h=520&f=png&s=132763\" alt=\"\"><br><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8ba5f6bc8e5?w=1036&h=884&f=png&s=598026\" alt=\"\"></p>\n<p>åœ¨ç½‘ä¸ŠæŸ¥äº†èµ„æ–™è¯´æ˜¯JEPGæ›´é€‚åˆå¤„ç†å¸¦æœ‰å¾ˆå¤šæ‚è‰²çš„é£æ™¯å›¾ï¼Œè€Œå¯¹äºä½¿ç”¨æ•°ä½æ¿ç­‰<strong>ç”µå­ç»˜åˆ¶</strong>çš„çº¯è‰²å¡é€šç³»é£æ ¼å›¾ç‰‡ï¼ŒJEPGçš„å‹ç¼©æ–¹å¼ä¼šé€‚å¾—å…¶åï¼Œå¯¼è‡´ä½“ç§¯æ›´å¤§ã€‚</p>\n<h3 id=\"HEIC\"><a href=\"#HEIC\" class=\"headerlink\" title=\"HEIC\"></a>HEIC</h3><p>HEICæ˜¯HEIFï¼ˆHigh Efficiency Image Format é«˜æ•ˆç‡å›¾åƒæ–‡ä»¶æ ¼å¼ï¼‰çš„ä¸€ç§ã€‚å®ƒå¹¶éè‹¹æœå¼€å‘ï¼Œè€Œæ˜¯ç”±è¿åŠ¨å›¾åƒä¸“å®¶ç»„ï¼ˆMPEGï¼‰å¼€å‘ã€‚å®ƒåŒæ—¶æ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ç­‰ç‰¹æ€§ã€‚HEIFè§„èŒƒçš„å®Œæˆæ˜¯åœ¨2015å¹´ï¼Œæ˜¯è¿™å‡ ç§å›¾ç‰‡æ ¼å¼ä¸­æœ€æ–°çš„ä¸€ç§äº†ï¼Œç›®å‰é™¤äº†è‹¹æœï¼Œè¿˜æ²¡æœ‰å“ªå®¶å¤§å‚å»æ‹¥æŠ±è¿™ç§æ ¼å¼ã€‚</p>\n<p>åœ¨iOS 11æ›´æ–°åï¼ŒiPhone 7åŠå…¶åç¡¬ä»¶ï¼Œåœ¨æ‹æ‘„ç…§ç‰‡æ—¶çš„é»˜è®¤å›¾åƒå­˜å‚¨æ ¼å¼ã€‚ä¸JPGç›¸æ¯”ï¼Œå®ƒå ç”¨çš„ç©ºé—´æ›´å°ï¼Œç”»è´¨æ›´åŠ æ— æŸã€‚HEICçš„ç›®çš„å°±æ˜¯ä½œä¸ºJPEGçš„ç»§ä»»è€…ï¼Œä»¥åæˆ–è®¸ä¼šæˆä¸ºä¸€ç§è¶‹åŠ¿ã€‚ç›®å‰å¯ä»¥æƒ³åˆ°çš„åœ¨å¼€å‘ä¸­çš„åº”ç”¨æ˜¯ï¼Œå¯¹äºä¸€äº›éœ€è¦ä¸‹è½½çš„å¤§å›¾å¯ä»¥è½¬æˆHEICæ ¼å¼ï¼Œä¾›å®¢æˆ·ç«¯ä½¿ç”¨ã€‚ä½†æ˜¯å½“å‰å´å¾ˆå°‘åº”ç”¨ï¼Œå¤§æ¦‚ç‡æ˜¯è€ƒè™‘åˆ°å›¾ç‰‡å…¼å®¹é—®é¢˜å§ã€‚</p>\n<p><strong>é¢˜å¤–è¯</strong></p>\n<p>ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œæˆ‘ç”¨ç›¸æœºï¼ˆiPhoneXRï¼‰æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œé€šè¿‡AirDropä¼ åˆ°ç”µè„‘ï¼Œæ˜¾ç¤ºä¸ºHEICæ ¼å¼ã€‚å½“æˆ‘åœ¨æ‹ç…§æ—¶é€‰æ‹©ç³»ç»Ÿè‡ªå¸¦çš„ä»»æ„ä¸€ç§æ»¤é•œï¼Œå›¾ç‰‡æ ¼å¼å°±å˜æˆäº†JPEGã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>\n<p>æœ‰å°ä¼™ä¼´è§£ç­”ï¼š</p>\n<p>iOSæ‹ç…§é€‰æ‹©æ»¤é•œä¼šâ€œè½¬â€ä¸ºJPEGï¼Œæ˜¯å› ä¸ºæ‹ç…§çš„æ ¼å¼è¿˜æ˜¯HEIFï¼ŒåŠ æ»¤é•œå’Œç¼–è¾‘å›¾ç‰‡éƒ½æ˜¯ç›¸å½“äºå¤åˆ¶äº†ä¸€ä»½å†åšæ“ä½œçš„ï¼Œç‚¹å‡»å¤åŸåˆä¼šâ€œè½¬â€ä¸ºHEIFã€‚</p>\n<p>ç»è¿‡æµ‹è¯•ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œè€Œä¸”æ—¢ç„¶è‹¹æœæä¾›å¤åŸçš„æ“ä½œï¼Œè¯´æ˜åŸå›¾ï¼ˆHEIFï¼‰å¹¶æ²¡æœ‰è¢«è¦†ç›–ã€‚é‚£ä¸ºä»€ä¹ˆæ»¤é•œä¸èƒ½ç›´æ¥åœ¨HEIFæ ¼å¼ä¸‹æ“ä½œï¼ŒçŒœæµ‹å¯èƒ½æ˜¯è·Ÿæ»¤é•œçš„ç®—æ³•ç›¸å…³ï¼Œè¯¥ç®—æ³•åªèƒ½å¯¹JEPGæ ¼å¼ç¼–ç çš„å›¾ç‰‡è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥éœ€è¦ä¸­é—´è½¬æˆJEPGã€‚</p>\n<p><strong>Live Photo</strong></p>\n<p>Liveå›¾ç‰‡çš„å®è´¨æ˜¯ï¼šä¸€å¼ heicæ ¼å¼å°é¢å›¾ + movæ ¼å¼è§†é¢‘ã€‚</p>\n<p>å¯¹äºLive Photoçš„å±•ç¤ºï¼Œåœ¨åŸç”Ÿåº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨<a href=\"https://developer.apple.com/documentation/photokit/phlivephoto\">PHLivePhotoView</a>ï¼Œåœ¨Webåº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨<a href=\"https://developer.apple.com/documentation/livephotoskitjs\">LivePhotosKit JS</a>ã€‚</p>\n<h3 id=\"WebP\"><a href=\"#WebP\" class=\"headerlink\" title=\"WebP\"></a>WebP</h3><p>WebPæœ€åˆç”±Googleå‘å¸ƒäº2010å¹´ï¼Œå›¾ç‰‡æ ¼å¼æ´¾ç”Ÿè‡ªVP8è§†é¢‘ç¼–ç ï¼Œä¹ŸåŒæ—¶æ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ç­‰ç‰¹æ€§ã€‚2013å¹´ä½ï¼Œæ¨å‡ºäº†Animated WebPï¼Œè¿˜å¯ä»¥æ”¯æŒåŠ¨å›¾ã€‚</p>\n<p>WebP é›†åˆäº†å¤šç§å›¾ç‰‡æ–‡ä»¶æ ¼å¼çš„ç‰¹ç‚¹ã€‚å®ƒåƒ JPEG ä¸€æ ·é€‚åˆå‹ç¼©ç…§ç‰‡å’Œå…¶ä»–ç»†èŠ‚ä¸°å¯Œçš„å›¾ç‰‡ï¼Œåƒ GIF ä¸€æ ·å¯ä»¥æ˜¾ç¤ºåŠ¨æ€å›¾ç‰‡ï¼Œåƒ PNG ä¸€æ ·æ”¯æŒé€æ˜å›¾åƒã€‚æ ¹æ® Google çš„æµ‹è¯•ï¼ŒWebP æ— æŸå‹ç¼©å›¾ç‰‡æ¯” PNG å›¾ç‰‡å°‘äº† 45ï¼… çš„æ–‡ä»¶ä½“ç§¯ï¼Œå³ä½¿è¿™äº› PNG å›¾ç‰‡åœ¨ä½¿ç”¨ <code>pngcrush</code> å’Œ <code>PNGOUT</code> å¤„ç†åï¼ŒWebP ä¾æ—§å¯ä»¥å‡å°‘ 28ï¼… çš„æ–‡ä»¶ä½“ç§¯ã€‚å¯ä»¥åœ¨<a href=\"https://www.upyun.com/webp?utm_source=zhihu&utm_medium=referral&utm_campaign=260228870&utm_term=webp\">ç‚¹å‡»</a>è¿™é‡ŒæŸ¥çœ‹WebPå¯¹å…¶å®ƒæ ¼å¼è½¬æ¢çš„æ•ˆæœã€‚<br><img src=\"https://user-gold-cdn.xitu.io/2020/4/8/17158f8ce93ba11c?w=1168&h=679&f=png&s=749382\" alt=\"\"></p>\n<p>å°æ˜¯WebPçš„æœ€å¤§ä¼˜ç‚¹ï¼Œå°æ„å‘³ç€æ›´å°‘çš„æµé‡ï¼Œè¿™ä¹Ÿæ˜¯å„å¤§æµé‡å…¥å£åœ¨æ„çš„åœ°æ–¹ã€‚ç›®å‰Googleã€Facebookã€é˜¿é‡Œç­‰å¤§å‚å·²ç»åœ¨å¹¿æ³›ä½¿ç”¨WebPæ ¼å¼ï¼Œå›½å†…çš„ä¸€äº›å›¾åºŠæœåŠ¡ï¼ˆä¸ƒç‰›ã€åˆæ‹äº‘ï¼‰ä¹Ÿæ”¯æŒå°†å›¾ç‰‡è‡ªåŠ¨è½¬æˆWebPæ ¼å¼ã€‚</p>\n<p>è¯šç„¶WebPéå¸¸ä¼˜ç§€ï¼Œç‹¬è‡ªå®Œæˆäº†å›¾ç‰‡æ ¼å¼â€å¤§ä¸€ç»Ÿâ€çš„ä»»åŠ¡ã€‚ä½†è‹¹æœå¯¹WebPçš„æ”¯æŒå´å¾ˆå°‘ï¼ŒåªSafariç›®å‰è¿˜ä¸æ”¯æŒWebPæ˜¾ç¤ºå°±é˜»æ–­äº†å¾ˆå¤šäººåº”ç”¨WebPçš„å†³å¿ƒã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­æ˜¾ç¤ºWebPæ ¼å¼å›¾ç‰‡å°±ä¸å¾—ä¸å¯¼å…¥Googleçš„<code>libwebp</code>è§£ç åº“ã€‚å½“ç„¶WebPçš„è§£ç ä»»åŠ¡åœ¨iOSç«¯æœ‰äº›åº“å·²ç»å°è£…å¥½äº†ï¼ŒOCç«¯å¯ä»¥ç”¨<a href=\"https://github.com/SDWebImage/SDWebImageWebPCoder\">SDWebImageWebPCoder</a>ï¼ŒSwiftç«¯å¯ä»¥ç”¨<a href=\"https://github.com/Yeatse/KingfisherWebP\">KingfisherWebP</a>ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Kingfisherå±•ç¤ºWebPå›¾åƒçš„äº‹ä¾‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å…¨å±€é…ç½®å¯¹WebPå›¾ç‰‡çš„è§£ç ï¼ˆä»…é’ˆå¯¹WebPæ ¼å¼ï¼‰</span></span><br><span class=\"line\"><span class=\"type\">KingfisherManager</span>.shared.defaultOptions += [</span><br><span class=\"line\">    .processor(<span class=\"type\">WebPProcessor</span>.<span class=\"keyword\">default</span>),</span><br><span class=\"line\">    .cacheSerializer(<span class=\"type\">WebPSerializer</span>.<span class=\"keyword\">default</span>)</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"comment\">// æœ¬åœ°webpå›¾ç‰‡è§£ç </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> localUrl = <span class=\"type\">Bundle</span>.main.url(forResource: <span class=\"string\">\"sunset\"</span>, withExtension: <span class=\"string\">\"webp\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> dataProvider = <span class=\"type\">LocalFileImageDataProvider</span>.<span class=\"keyword\">init</span>(fileURL: localUrl!)</span><br><span class=\"line\">imageView.kf.setImage(with: dataProvider)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿œç¨‹webpå›¾ç‰‡è§£ç ã€‚ä¸€äº›å›¾åƒæœåŠ¡å™¨å¯èƒ½æœŸæœ›â€œAcceptâ€æ ‡å¤´åŒ…å«â€œimage/webpâ€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŠ ä¸Š</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> modifier = <span class=\"type\">AnyModifier</span> &#123; request <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> req = request</span><br><span class=\"line\">    req.addValue(<span class=\"string\">\"image/webp */*\"</span>, forHTTPHeaderField: <span class=\"string\">\"Accept\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> req</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">KingfisherManager</span>.shared.defaultOptions += [</span><br><span class=\"line\">    .requestModifier(modifier),</span><br><span class=\"line\">    <span class=\"comment\">// ... other options</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"PDF\"><a href=\"#PDF\" class=\"headerlink\" title=\"PDF\"></a>PDF</h3><p>pdfå›¾ç‰‡é€šå¸¸æ˜¯çŸ¢é‡çš„ï¼Œå®ƒçš„å¯¼å…¥æ–¹å¼æœ‰äº›ç‰¹æ®Šã€‚æˆ‘ä»¬éœ€è¦åœ¨<code>Assets.xcassets</code>æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª<code>New Image Set</code>ï¼Œç„¶åå°†è¯¥æ–‡ä»¶çš„<code>Scales</code>è®¾ç½®ä¸º<code>Single Scale</code>ï¼Œæ‹–å…¥1xå°ºå¯¸çš„pdfæ–‡ä»¶å³å¯ï¼š<br><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8a0099633fa?w=1174&h=652&f=png&s=184826\" alt=\"\"></p>\n<p>ä½¿ç”¨æ—¶æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“åšæ™®é€šå›¾ç‰‡å¯¹å¾…ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"sunset\"</span>)</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿è¡ŒæœŸé—´Xcodeä¼šæ ¹æ®å±å¹•çš„æ¯”ä¾‹å› å­ç”Ÿæˆå¯¹åº”å°ºå¯¸çš„pngå›¾åƒã€‚æ¯”å¦‚å¯¼å…¥ä¸€å¼ 100x100çš„pdfå›¾ç‰‡ï¼Œåœ¨2xå’Œ3xçš„æœºå‹é‡Œé¢ä¼šç”Ÿæˆå¯¹åº”çš„200x200ï¼Œ300x300çš„pngï¼ˆå¯ä»¥åœ¨Assets.carä¸­æ‰¾åˆ°ï¼‰ã€‚æ‰€ä»¥pdfåªä¸è¿‡æ˜¯Xcodeå¤„ç†å›¾ç‰‡çš„ä¸­é—´çŠ¶æ€ï¼Œä¸‹è½½åˆ°æ‰‹æœºçš„åº”ç”¨åŒ…é‡Œé¢æ˜¯æ²¡æœ‰è¿™å¼ pdfçš„ã€‚</p>\n<p>è¿™ç§å¤„ç†æ–¹å¼æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œå½“è‹¹æœä»¥åå‘å¸ƒä¸€æ¬¾4xå±å¹•çš„æ‰‹æœºæ—¶ï¼Œä½¿ç”¨pdfå¤„ç†çš„å›¾ç‰‡ä¼šè‡ªé€‚åº”ç”Ÿæˆå¯¹åº”çš„4xèµ„æºï¼Œä¸éœ€è¦å†æ‰‹åŠ¨å¯¼å…¥ã€‚ä½†ç›¸æ¯”ä¼˜ç‚¹ï¼Œpdfä½œä¸ºå›¾ç‰‡èµ„æºçš„ç¼ºç‚¹æ›´å¤šã€‚</p>\n<p>é¦–å…ˆæ˜¯å°ºå¯¸ä¸Šï¼Œå› ä¸ºæ˜¯è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„pngï¼Œå¹¶æ²¡æœ‰ä»»ä½•ä¼˜åŒ–å’Œå‹ç¼©ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿå¹¶ä¸èƒ½åœ¨è¿™ä¸­é—´åšä»€ä¹ˆã€‚å¯¹æ¯”ç›¸åŒå°ºå¯¸ç»è¿‡<a href=\"https://imageoptim.com/mac\">ImageOptim</a>å‹ç¼©è¿‡çš„pngï¼Œåœ¨å¤§å°ä¸Šåè€…ä¼šæ˜¯å‰è€…çš„1/2ï¼Œç”šè‡³1/4ã€‚</p>\n<p>å¦å¤–pdfå¯¹é˜´å½±å’Œæ¸å˜çš„å¤„ç†ä¼šå­˜åœ¨å¤±çœŸçš„æƒ…å†µï¼š</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d99db8700cfb?w=747&h=535&f=png&s=245741\" alt=\"\"></p>\n<p>å·¦è¾¹æ˜¯pngï¼Œå³è¾¹æ˜¯pdfã€‚åœ¨ä¸€äº›æ¸å˜å’Œå…‰å½±çš„å›¾åƒéƒ¨åˆ†å¯ä»¥çœ‹å‡ºæ˜æ˜¾çš„å¤±çœŸã€‚</p>\n<p>æ›´å¤šå…³äºpdfå’Œpngçš„å·®åˆ«ï¼Œå¯ä»¥çœ‹è¿™ç¯‡ï¼šWhy I donâ€™t use PDFs for iOS assets: <a href=\"https://bjango.com/articles/idontusepdfs/\">https://bjango.com/articles/idontusepdfs/</a></p>\n<h3 id=\"SVG-SF-Symbol\"><a href=\"#SVG-SF-Symbol\" class=\"headerlink\" title=\"SVG/SF Symbol\"></a>SVG/SF Symbol</h3><p>SVGæ˜¯ä¸€ç§æ— æŸçš„çŸ¢é‡å›¾ï¼Œæ˜¯ä¼—å¤šçŸ¢é‡å›¾ä¸­çš„ä¸€ç§ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ä½¿ç”¨XMLæ¥æè¿°å›¾ç‰‡ã€‚ä½¿ç”¨XMLçš„ä¼˜ç‚¹æ˜¯ï¼Œä»»ä½•æ—¶å€™ä½ éƒ½å¯ä»¥æŠŠå®ƒå½“åšä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ¥å¯¹å¾…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥éå¸¸æ–¹ä¾¿çš„ä¿®æ”¹SVGå›¾ç‰‡ï¼Œä½ æ‰€éœ€è¦çš„åªéœ€è¦ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p>\n<p>åœ¨iOS13ä¹‹å‰åº”ç”¨ä¸­ç›´æ¥ä½¿ç”¨SVGçš„åœºæ™¯éå¸¸å°‘ï¼Œä½†ä»iOS13å¼€å§‹ï¼Œè‹¹æœæ¨å‡ºäº†<a href=\"https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/\">SF Symbol</a>ï¼Œä¸€ç§svgæ ¼å¼çš„çŸ¢é‡ç¬¦å·é›†ã€‚è€Œä¸”è‹¹æœè¿˜æä¾›äº†å¤šäº1500å¤šç§iconæ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œ<a href=\"https://developer.apple.com/design/downloads/SF-Symbols.dmg\">ä¸‹è½½</a>æŸ¥çœ‹ã€‚</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8a018369cdc?w=2244&h=1310&f=png&s=682672\" alt=\"\"></p>\n<p>æˆ‘ä»¬å¯ä»¥ä»ä¸­é€‰æ‹©é€‚åˆè‡ªå·±çš„iconï¼Œé€‰ä¸­ä¹‹åï¼Œä»File &gt; Export Custom Symbol Templeteä¸­å¯¼å‡ºsvgæ ¼å¼å›¾ç‰‡é›†ï¼Œç„¶åæ‹–åˆ°Xcodeçš„<code>Assets.xcassets</code>ã€‚</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8c1b3fc268b?w=1362&h=516&f=png&s=115284\" alt=\"\"></p>\n<p>SF Symbolæœ‰9ç§ç²—ç»†çš„è°ƒèŠ‚â€”â€”ä»ultralightåˆ°blackâ€”â€”æ¯ä¸€ç§éƒ½ç›¸å½“äº<code>San Francisco</code>ç³»ç»Ÿå­—ä½“çš„é‡é‡ï¼ˆweightï¼‰ã€‚(SF Symbolä¸­çš„SFæ˜¯<code>San Francisco</code>ï¼ˆæ—§é‡‘å±±ï¼‰çš„ç¼©å†™)ã€‚è¿™ç§å¯¹åº”ä½¿æ‚¨èƒ½å¤Ÿåœ¨ç¬¦å·å’Œç›¸é‚»æ–‡æœ¬ä¹‹é—´å®ç°ç²¾ç¡®çš„æƒé‡åŒ¹é…ï¼ŒåŒæ—¶æ”¯æŒä¸åŒå¤§å°å’Œä¸Šä¸‹æ–‡çš„çµæ´»æ€§ã€‚</p>\n<p>å½“ç„¶å¦‚æœè¿™äº›å›¾æ ‡éƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰SFå›¾æ ‡ï¼Œç„¶åé€šè¿‡SF Symbol Appè¿›è¡ŒéªŒè¯å’Œå¯¼å‡ºã€‚æ“ä½œç»†èŠ‚å¯ä»¥çœ‹è¿™é‡Œï¼š<a href=\"https://developer.apple.com/documentation/uikit/uiimage/creating_custom_symbol_images_for_your_app\">Creating Custom Symbol Images for Your App</a>ã€‚</p>\n<p>SF Symbolä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> configuration = <span class=\"type\">UIImage</span>.<span class=\"type\">SymbolConfiguration</span>.<span class=\"keyword\">init</span>(scale: .small)</span><br><span class=\"line\">imageView.image = <span class=\"type\">UIImage</span>(systemName: <span class=\"string\">\"alarm\"</span>, withConfiguration: configuration)</span><br></pre></td></tr></table></figure>\n\n<p>SF Symbolå¯ä»¥ä¸€æ¬¡æ€§è§£å†³ç›¸åŒiconï¼Œä¸åŒå°ºå¯¸ï¼Œä¸åŒç²—ç»†çš„é—®é¢˜ï¼Œå®ƒè®©æˆ‘ä»¬å¤„ç†å›¾ç‰‡åƒå¤„ç†å­—ä½“ä¸€æ ·æ–¹ä¾¿ã€‚å¯ä»¥æƒ³è±¡è¿™å°±æ˜¯åº”ç”¨å›¾æ ‡çš„æœªæ¥ã€‚</p>\n<p>å½“çœ‹åˆ°SF Symbolä»…æ”¯æŒiOS13+ï¼ŒwatchOS6+ï¼Œæˆ‘åˆä¸å¾—ä¸é€€å›åˆ°ç°å®ï¼Œpngä¹ŸæŒºå¥½çš„ã€‚</p>\n<p><strong>é¢˜å¤–è¯</strong></p>\n<p>æˆ‘åœ¨æµ‹è¯•SF Symbolå›¾æ ‡æ—¶ï¼Œä»ç”Ÿæˆçš„åº”ç”¨åŒ…ä¸­æŸ¥çœ‹å›¾ç‰‡ï¼Œä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/4/6/1714d8c263b2fb72?w=322&h=292&f=png&s=43659\" alt=\"\"></p>\n<p>ä»£ç ä¸­çš„æˆ‘å°†å›¾ç‰‡è®¾ç½®ä¸º100x100ï¼Œä»…æœ‰è¿™ä¸€å¤„åœ°æ–¹ä½¿ç”¨ã€‚è·Ÿpdfç±»ä¼¼æˆ‘ä»¬æ‰¾ä¸åˆ°svgæºæ–‡ä»¶ï¼Œè¿™å¥½ç†è§£ï¼Œsvgåªæ˜¯ä¸­é—´çŠ¶æ€ï¼Œæˆ‘ä»¬æœ€ç»ˆä½¿ç”¨çš„è¿˜æ˜¯pngï¼Œä½†ä¸ºä»€ä¹ˆä¼šæœ‰å¤šä¸ªå°å°ºå¯¸çš„pngå›¾åƒå‘¢ï¼Ÿ</p>\n<h2 id=\"å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼\"><a href=\"#å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼\" class=\"headerlink\" title=\"å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼\"></a>å¦‚ä½•é€‰æ‹©å›¾ç‰‡æ ¼å¼</h2><p>æˆ‘ä»¬å¹³å¸¸å¼€å‘æ—¶ï¼Œä½¿ç”¨æœ€å¤šçš„å°±æ˜¯pngäº†ï¼Œç”šè‡³å¯èƒ½æ˜¯ä¸åŠ è€ƒè™‘çš„å…¨éƒ¨ä½¿ç”¨pngã€‚å…¶å®è¿™æ ·æ˜¯ä¸å¥½çš„ï¼Œæˆ‘ä»¬åº”è¯¥å……åˆ†å‘æŒ¥ä¸åŒæ ¼å¼å›¾ç‰‡çš„ä¼˜ç‚¹ï¼Œä»<strong>å…¼å®¹æ€§</strong>ã€<strong>ç©ºé—´å ç”¨</strong>ã€<strong>å±•ç¤ºæ•ˆæœ</strong>ä¸‰æ–¹é¢è€ƒé‡é€‰å–æœ€ä½³æ ¼å¼ã€‚</p>\n<p>å…³äºå›¾ç‰‡æ ¼å¼çš„é€‰æ‹©ï¼Œè‹¹æœçš„<a href=\"https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/image-size-and-resolution/\">Human Interface Guidelines</a>æœ‰ä»¥ä¸‹è¯´æ³•ï¼š</p>\n<blockquote>\n<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨PNGå›¾ç‰‡ï¼Œå› ä¸ºPNGæ”¯æŒé€æ˜æ€§ï¼Œè€Œä¸”æ˜¯æ— æŸçš„ï¼Œå‹ç¼©å·¥ä»¶ä¸ä¼šæ¨¡ç³Šé‡è¦çš„ç»†èŠ‚æˆ–æ”¹å˜é¢œè‰²ã€‚å¯¹äºéœ€è¦é˜´å½±ã€çº¹ç†å’Œé«˜å…‰æ•ˆæœçš„å¤æ‚è‰ºæœ¯å“æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚<strong>ä½¿ç”¨8ä½çš„PNGå›¾å½¢</strong>ï¼Œä¸éœ€è¦å®Œå…¨24ä½çš„é¢œè‰²ã€‚8ä½PNGå¯ä»¥åœ¨ä¸é™ä½å›¾åƒè´¨é‡çš„æƒ…å†µä¸‹å‡å°æ–‡ä»¶å¤§å°ã€‚ç²¾è‡´çš„åº”ç”¨å›¾æ ‡æœ€å¥½ä½¿ç”¨pngã€‚</p>\n<p>å¯¹äºç…§ç‰‡åº”è¯¥ä½¿ç”¨JPEGæ ¼å¼ï¼Œå®ƒçš„å‹ç¼©ç®—æ³•<strong>é€šå¸¸</strong>æ¯”æ— æŸæ ¼å¼äº§ç”Ÿæ›´å°çš„å°ºå¯¸ï¼Œè€Œä¸”å¾ˆéš¾åœ¨ç…§ç‰‡ä¸­è¾¨åˆ«å‡ºæ¥ã€‚<strong>åº”è¯¥å°è¯•ä¼˜åŒ–JPEGæ–‡ä»¶ï¼Œåœ¨å¤§å°å’Œè´¨é‡ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</strong>ã€‚å¤§å¤šæ•°JPEGæ–‡ä»¶å¯ä»¥è¢«å‹ç¼©è€Œä¸ä¼šå¯¼è‡´å›¾åƒæ˜æ˜¾çš„é€€åŒ–ã€‚å³ä½¿æ˜¯å°‘é‡çš„å‹ç¼©ä¹Ÿå¯ä»¥èŠ‚çœå¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚</p>\n<p>ä½¿ç”¨PDFå¤„ç†å­—å½¢å’Œå…¶ä»–éœ€è¦é«˜åˆ†è¾¨ç‡ç¼©æ”¾çš„å¹³é¢çŸ¢é‡å›¾å½¢ã€‚</p>\n</blockquote>\n<p>æœ€ç»ˆå¯ä»¥åšä»¥ä¸‹æ€»ç»“ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>å›¾ç‰‡æ ¼å¼</th>\n<th>é€‚ç”¨èŒƒå›´</th>\n<th>æ³¨æ„äº‹é¡¹</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>png</td>\n<td>åº”ç”¨iconï¼Œç•Œé¢iconï¼Œå¡é€šé£æ ¼çš„èƒŒæ™¯å›¾</td>\n<td>å¯¼å…¥é¡¹ç›®å‰å¯ä»¥ä½¿ç”¨ImageOptimè¿›è¡Œå‹ç¼©</td>\n</tr>\n<tr>\n<td>jpeg</td>\n<td>å°ºå¯¸è¾ƒå¤§çš„é£æ™¯å›¾ï¼Œç…§ç‰‡</td>\n<td>ä¸æ”¯æŒé€æ˜åº¦ï¼›å› ä¸ºå¯ä»¥è°ƒèŠ‚å‹ç¼©æ¯”ï¼Œå¯ä»¥åœ¨å¤§å°å’Œè´¨é‡ä¹‹é—´å¯»æ‰¾æœ€ä½³å¹³è¡¡ã€‚</td>\n</tr>\n<tr>\n<td>webp</td>\n<td>æ”¯æŒæœ‰æŸã€æ— æŸå‹ç¼©ã€é€æ˜åº¦ã€åŠ¨å›¾ç­‰ç‰¹æ€§ï¼Œå› ä¸ºè‹¹æœæœ¬èº«ä¸æ”¯æŒä¸€èˆ¬åªåº”ç”¨äºæœåŠ¡ç«¯è¿”å›æ¥çš„å›¾ç‰‡</td>\n<td>æ— æ³•åœ¨xcodeé¢„è§ˆï¼Œä¸å»ºè®®å†…ç½®è¯¥ç±»å‹å›¾ç‰‡</td>\n</tr>\n<tr>\n<td>pdf</td>\n<td>å­—å½¢ï¼Œé«˜åˆ†è¾¨ç‡çš„çŸ¢é‡å›¾</td>\n<td>å­˜åœ¨å±•å¼€å°ºå¯¸è¾ƒå¤§ï¼Œå…‰æ•ˆå¤±çœŸçš„æƒ…å†µ</td>\n</tr>\n<tr>\n<td>svgï¼ˆsf symbolï¼‰</td>\n<td>æŒ‡ç¤ºæ€§icon</td>\n<td>ä»…æ”¯æŒiOS13åŠä»¥ä¸Šï¼Œç³»ç»Ÿsfç¬¦å·æ˜¯æœ‰ç‰ˆæƒçš„ï¼Œä½¿ç”¨æ—¶è¦æ³¨æ„åº”ç”¨èŒƒå›´å’Œè‹¹æœè¦æ±‚</td>\n</tr>\n</tbody></table>\n<h2 id=\"å¼•ç”¨\"><a href=\"#å¼•ç”¨\" class=\"headerlink\" title=\"å¼•ç”¨\"></a>å¼•ç”¨</h2><p><a href=\"http://blog.leichunfeng.com/blog/2017/02/20/talking-about-the-decompression-of-the-image-in-ios/\">è°ˆè°ˆ iOS ä¸­å›¾ç‰‡çš„è§£å‹ç¼©</a></p>\n<p><a href=\"https://zhaox.github.io/multimedia/2016/01/13/introducing-image-types\">å›¾ç‰‡æ ¼å¼é‚£ä¹ˆå¤šï¼Œå“ªç§æ›´é€‚åˆä½ </a></p>\n<p><a href=\"https://github.com/wangzz/Blog/blob/master/iOS/iOS%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E9%80%89%E6%8B%A9.md\">iOSå›¾ç‰‡æ ¼å¼é€‰æ‹©</a></p>\n<p><a href=\"https://bjango.com/articles/idontusepdfs/\">Why I donâ€™t use PDFs for iOS assets</a></p>\n<p><a href=\"https://www.avanderlee.com/swift/sf-symbols-guide/\">SF Symbols: The benefits and how to use them guide</a></p>\n<p><a href=\"https://www.upyun.com/tech/article/252/1.html?utm_source=zhihu&utm_medium=referral&utm_campaign=260228870&utm_term=webp\">WebP çš„å‰ä¸–ä»Šç”Ÿ</a></p>\n","categories":[],"tags":["iOS","UI"]},{"title":"å¿«æ‰‹iOSé¢ç»","url":"http://zhangferry.github.io/2020/03/28/interview_kuaishou/","content":"<h2 id=\"èƒŒæ™¯\"><a href=\"#èƒŒæ™¯\" class=\"headerlink\" title=\"èƒŒæ™¯\"></a>èƒŒæ™¯</h2><p>è¿‡å®Œå¹´æ¥åŒ—äº¬ä¹‹åï¼Œæœ‰å‡†å¤‡çœ‹çœ‹æœºä¼šï¼Œä¹Ÿæ˜¯æƒ³äº†è§£ä¸‹å¸‚åœºè¡Œæƒ…ã€‚ç®€å†æ²¡æœ‰æŠ•å¤ªå¤šï¼Œåªå®šå‘æŠ•äº†å¤´æ¡æ•™è‚²éƒ¨é—¨ã€æŠ–éŸ³ã€å¿«æ‰‹ã€é˜¿é‡Œï¼Œè¿™äº›å…¬å¸ã€‚å¤´æ¡å’Œé˜¿é‡Œçš„ç®€å†éƒ½æ²¡è¿‡ï¼Œè‚¯å®šæ˜¯äº®ç‚¹å¤ªå°‘å§ã€‚åªæœ‰å¿«æ‰‹ç®€å†è¿‡äº†ï¼Œå¿«æ‰‹æ˜¯ä¸‰è½®æŠ€æœ¯é¢+ä¸€è½®HRé¢ï¼Œå‰ä¸¤è½®æŠ€æœ¯éƒ½æ¯”è¾ƒé¡ºåˆ©ï¼Œåˆ°ç¬¬ä¸‰è½®å´æ ½äº†ï¼Œå¾ˆç—›å¿ƒo(â•¥ï¹â•¥)oã€‚ç›®å‰å°±ä¸è€ƒè™‘æ¢å·¥ä½œäº†ï¼Œç­‰ä¸‹åŠå¹´å†è¯´äº†ï¼Œæ¥ä¸‹æ¥çš„æ—¶é—´å†å¥½å¥½ç²¾ç‚¼ä¸€ä¸‹ã€‚</p>\n<p>å¿«æ‰‹æ˜¯è§†é¢‘é¢è¯•ï¼Œä¸æ”¯æŒå‘¨æœ«ï¼Œä½†æ˜¯å¯ä»¥é€‰æ‹©æ™šä¸Šæ—¶é—´ï¼Œæˆ‘è¿™å‡ æ¬¡éƒ½æ˜¯å®šåœ¨äº†æ™šä¸Šä¹ç‚¹ã€‚è§†é¢‘é¢è¯•æ˜¯é€šè¿‡ç‰›å®¢ç½‘è¿›è¡Œçš„ï¼Œä»¥ä¸‹æ˜¯æˆ‘è¿˜è®°å¾—ä¸‹æ¥çš„å„è½®é¢è¯•é¢˜ï¼Œå¯¹äºä¸€äº›iOSåŸºç¡€çŸ¥è¯†å°±ä¸åšè§£ç­”äº†ã€‚</p>\n<h2 id=\"ä¸€é¢\"><a href=\"#ä¸€é¢\" class=\"headerlink\" title=\"ä¸€é¢\"></a>ä¸€é¢</h2><p>1ã€ç”¨é€’å½’å†™ä¸€ä¸ªç®—æ³•ï¼Œè®¡ç®—ä»1åˆ°100çš„å’Œã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">sum</span><span class=\"params\">(value: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> value &lt;= <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> number = value</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value + sum(value: number - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—è¿‡ç¨‹</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> result = sum(value: <span class=\"number\">100</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(result)</span><br></pre></td></tr></table></figure>\n\n<p>å†™å®Œç®—æ³•ä¹‹ååˆå›´ç»•ç€é—®äº†å‡ ä¸ªé—®é¢˜ï¼Œéƒ½æ˜¯ç®—æ³•åŸºç¡€ï¼š</p>\n<ul>\n<li>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘</li>\n<li>é€’å½’ä¼šæœ‰ä»€ä¹ˆç¼ºç‚¹</li>\n<li>ä¸ç”¨é€’å½’èƒ½å¦å®ç°ï¼Œå¤æ‚åº¦èƒ½å¦é™åˆ°O(1)</li>\n</ul>\n<p>2ã€<code>property</code>çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›å…³é”®è¯ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ</p>\n<p>3ã€çˆ¶ç±»çš„<code>property</code>æ˜¯å¦‚ä½•æŸ¥æ‰¾çš„ï¼Ÿ</p>\n<p>4ã€<code>NSArray</code>ã€<code>NSDictionary</code>åº”è¯¥å¦‚ä½•é€‰å…³é”®è¯ï¼Ÿ</p>\n<p>5ã€<code>copy</code>å’Œ<code>muteCopy</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ·±å¤åˆ¶å’Œæµ…å¤åˆ¶æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¦‚ä½•å®ç°æ·±å¤åˆ¶ï¼Ÿ</p>\n<p>6ã€ç”¨<code>runtime</code>åšè¿‡ä»€ä¹ˆäº‹æƒ…ï¼Ÿ<code>runtime</code>ä¸­çš„æ–¹æ³•äº¤æ¢æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>\n<p>7ã€è®²ä¸€ä¸‹å¯¹KVCåˆKVOçš„äº†è§£ï¼ŒKVCæ˜¯å¦ä¼šè°ƒç”¨<code>setter</code>æ–¹æ³•ï¼Ÿ</p>\n<p>8ã€<code>__block</code>æœ‰ä»€ä¹ˆä½œç”¨</p>\n<p>9ã€è¯´ä¸€ä¸‹å¯¹GCDçš„äº†è§£ï¼Œå®ƒæœ‰é‚£äº›æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿ</p>\n<p>10ã€å¯¹äºŒå‰æ ‘æ˜¯å¦äº†è§£ï¼Ÿ</p>\n<p>é¢è¯•å®˜æ˜¯æƒ³æ¥ç€é—®è¿™æ–¹é¢çš„é—®é¢˜çš„ã€‚æˆ‘å½“æ—¶è¯´äº†ä¸äº†è§£ï¼Œç„¶åå°±æ²¡æœ‰åç»­äº†ã€‚</p>\n<h2 id=\"äºŒé¢\"><a href=\"#äºŒé¢\" class=\"headerlink\" title=\"äºŒé¢\"></a>äºŒé¢</h2><p>1ã€ARCå’ŒMRCçš„åŒºåˆ«ï¼ŒiOSæ˜¯å¦‚ä½•ç®¡ç†å¼•ç”¨è®¡æ•°çš„ï¼Œä»€ä¹ˆæƒ…å†µä¸‹å¼•ç”¨è®¡æ•°åŠ 1ä»€ä¹ˆæƒ…å†µå¼•ç”¨è®¡æ•°å‡ä¸€ï¼Ÿ</p>\n<p>2ã€åœ¨MRCä¸‹æ‰§è¡Œ<code>[object autorelease]</code>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œ<code>autorelease</code>æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>\n<p>3ã€CoreAnimationæ˜¯å¦‚ä½•ç»˜åˆ¶å›¾åƒçš„ï¼ŒåŠ¨ç”»è¿‡ç¨‹ä¸­çš„frameèƒ½å¦è·å–åˆ°ï¼Ÿ</p>\n<p>4ã€è°ˆä¸€ä¸‹å¯¹Runlopçš„äº†è§£ï¼Ÿ</p>\n<p>5ã€OCå¦‚ä½•å®ç°å¤šç»§æ‰¿ï¼Ÿ</p>\n<p>è¿™ä¸ªå½“æ—¶æ²¡æœ‰ç­”å¥½ã€‚å…¶å®å€ŸåŠ©äºæ¶ˆæ¯è½¬å‘ï¼Œ<code>protocol</code>å’Œç±»åˆ«éƒ½å¯ä»¥é—´æ¥å®ç°å¤šç»§æ‰¿ã€‚</p>\n<p>6ã€å¯¹è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆäº†è§£ï¼Œè®²ä¸€ä¸‹å…¶ä¸­ä¸€ç§æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚</p>\n<p>7ã€æœ‰æ²¡æœ‰å“ªä¸ªå¼€æºåº“è®©ä½ ç”¨çš„å¾ˆèˆ’æœï¼Œè®²ä¸€ä¸‹è®©ä½ èˆ’æœçš„åœ°æ–¹ã€‚<br>æˆ‘è¿™é‡Œè¯´äº†RxSwiftä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå’Œå“åº”å¼ç¼–ç¨‹ã€‚ç„¶åé¢è¯•å®˜é—®ï¼Œå¦‚æœè¦ç”¨OCå®ç°ä¸€å¥—RxSwifté‚£æ ·çš„é€»è¾‘åº”è¯¥æ€ä¹ˆåšã€‚æˆ‘å›ç­”çš„æ˜¯ç»“åˆKVOï¼Œå°†ä¸€äº›éœ€è¦è§‚å¯Ÿçš„å±æ€§ï¼Œé€šè¿‡KVOè¿›è¡Œç›‘å¬ï¼Œç„¶åé€šè¿‡blockå›è°ƒå‡ºæ¥ã€‚</p>\n<p>8ã€ä¸€å¼ 100*100ï¼ŒRGBAçš„pngå›¾åƒè§£å‹ä¹‹åå å¤šå¤§å†…å­˜ç©ºé—´ã€‚<br>RGBA &gt; FFFFFFFF &gt; 4å­—èŠ‚<br>æ‰€ä»¥ä¼šå ç”¨ï¼š(100 * 100 * 4) / 1024 = 39KB</p>\n<p>9ã€ç®—æ³•é¢˜</p>\n<p>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªä¸ªæ•°å­—arrï¼Œåˆ¤æ–­æ•°ç»„arrä¸­æ˜¯å¦æ‰€æœ‰çš„æ•°å­—éƒ½åªå‡ºç°è¿‡ä¸€æ¬¡ã€‚</p>\n<p>è¿™ä¸ªå¹¶æ²¡æœ‰è¦æ±‚å†™å‡ºæ¥ï¼Œè¯´æ˜¯æä¾›æ€è·¯å°±è¡Œäº†ã€‚æˆ‘å½“æ—¶ç»™çš„æ–¹æ¡ˆæ˜¯åœ¨ä¾¿åˆ©æ•°ç»„çš„æ—¶å€™ï¼Œç”¨ä¸€ä¸ªå­—å…¸æŠŠä¾¿åˆ©çš„å…ƒç´ å­˜èµ·æ¥ï¼Œå¦‚æœåœ¨åé¢çš„ä¾¿åˆ©è¿‡ç¨‹ä¸­æ–°å…ƒç´ åœ¨å­—å…¸ä¸­å­˜åœ¨è¿‡å°±è¯´æ˜ï¼Œæœ‰é‡å¤æ•°å­—å‡ºç°ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p>\n<p>å½“æ—¶ä¹Ÿé—®äº†æœ‰æ²¡æœ‰åŠæ³•è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘å½“æ—¶æƒ³åˆ°äº†å°†æ•°ç»„è½¬æˆ<code>Set</code>ï¼Œç„¶åå’ŒåŸæ•°ç»„æ¯”è¾ƒï¼Œä¸¤ä¸ªé›†åˆçš„æ•°é‡æ˜¯å¦å˜åŒ–ã€‚</p>\n<p>10ã€å› ä¸ºæˆ‘è·Ÿä»–ä»‹ç»è‡ªå·±Swiftç”¨çš„å¤šä¸€äº›ï¼Œç„¶åé—®äº†äº›Swiftè·ŸOCçš„åŒºåˆ«ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚</p>\n<p>11ã€ä¸ºä»€ä¹ˆç¦»èŒï¼Œæœ‰ä»€ä¹ˆèŒä¸šè§„åˆ’ã€‚</p>\n<h2 id=\"ä¸‰é¢\"><a href=\"#ä¸‰é¢\" class=\"headerlink\" title=\"ä¸‰é¢\"></a>ä¸‰é¢</h2><p>1ã€ç»™å®šä¸€ä¸ªIntå‹æ•°ç»„ï¼Œç”¨é‡Œé¢çš„å…ƒç´ ç»„æˆä¸€ä¸ªæœ€å¤§æ•°ï¼Œå› ä¸ºæ•°å­—å¯èƒ½éå¸¸å¤§ï¼Œç”¨å­—ç¬¦ä¸²è¾“å‡ºã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">è¾“å…¥: [3,30,34,5,9]</span><br><span class=\"line\">è¾“å‡º: 9534330</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ˜¯leetcodeçš„<a href=\"https://leetcode-cn.com/problems/largest-number/\">179é¢˜</a>ï¼Œéš¾åº¦ä¸­ç­‰ã€‚é¢è¯•å®˜è®©å…ˆè¯´æ€è·¯ï¼Œå†å»åšé¢˜ã€‚äº‹å…ˆè¯´ä¸€ä¸‹è¿™ä¸ªé¢˜æˆ‘æ²¡æœ‰åšè¿‡ã€‚å½“æ—¶çš„æ€è·¯æ˜¯ç”¨å†’æ³¡æ³•è¿›è¡Œæ’åºï¼Œæ’åºçš„å‰ææ˜¯å°†è¾ƒå°‘ä½æ•°çš„æ•°å­—è¿›è¡Œå¾ªç¯è¡¥é½ï¼Œä¾‹å¦‚3å’Œ30çš„æ¯”è¾ƒï¼Œå˜æˆ33å’Œ30çš„æ¯”è¾ƒï¼Œ34å’Œ4çš„æ¯”è¾ƒå˜æˆ34å’Œ44çš„æ¯”è¾ƒï¼Œç„¶åå°†ç»“æœä»å¤§åˆ°å°æ•´åˆæˆå­—ç¬¦ä¸²è¾“å‡ºã€‚</p>\n<p>ä½†æ˜¯åšé¢˜æ˜¯å´å‘ç°æ²¡é‚£ä¹ˆç®€å•ï¼Œä½æ•°çš„è¡¥é½å¯¹äº2ä½å’Œ3ä½æ•°çš„æ¯”è¾ƒè¿˜éœ€è¦æ±‚ä½æ•°çš„æœ€å°å…¬å€æ•°ï¼Œå°†ä»–ä»¬éƒ½è½¬æˆ6ä½æ•°æ‰èƒ½æ¯”è¾ƒã€‚åœ¨æŒ£æ‰äº†5åˆ†é’Ÿåšäº†å°±åšç½¢äº†ã€‚</p>\n<p>åæ¥å†å»åšè¿™é“é¢˜ï¼Œå…¶å®è¿™å°±æ˜¯ä¸€ä¸ªæ’åºè€Œå·²ï¼Œåªä¸è¿‡ä»–çš„è§„åˆ™æ˜¯æŒ‰é«˜ä½ä¼˜å…ˆçº§æ›´é«˜çš„åŸåˆ™ï¼Œè€Œè¿™ä¸€ç‚¹è·Ÿå­—ç¬¦ä¸²çš„æ¯”è¾ƒä¿æŒä¸€è‡´ï¼Œå¦‚æœå†åŠ ä¸€äº›Swiftçš„é«˜é˜¶å‡½æ•°ï¼Œå°±å¯ä»¥å†™æˆï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">largestNumber</span><span class=\"params\">(<span class=\"number\">_</span> nums: [Int])</span></span> -&gt; <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"built_in\">sort</span> = nums.<span class=\"built_in\">map</span> &#123;<span class=\"string\">\"\\($0)\"</span>&#125;.sorted &#123; (lStr, rStr) -&gt; <span class=\"type\">Bool</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> lStr + rStr &gt; rStr + lStr</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = <span class=\"built_in\">sort</span>.joined()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> result.<span class=\"keyword\">prefix</span>(<span class=\"number\">1</span>) == <span class=\"string\">\"0\"</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"0\"</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200328114843.png\" alt=\"\"></p>\n<p>2ã€é¡¹ç›®ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•<code>func findfile(dir: String suffix: String) -&gt; [String]</code> ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥æ–‡ä»¶å¤¹ç›®å½•ï¼Œå’Œåç¼€æ£€ç´¢å‡ºæ‰€éœ€çš„æ–‡ä»¶ã€‚</p>\n<p>ä¾‹å¦‚éœ€è¦åœ¨æŸä¸ªæ–‡ä»¶ä¸­æ£€ç´¢txtæ–‡ä»¶æˆ–è€…mp4æ–‡ä»¶ï¼Œé‚£å°±ä¼ å…¥dirå’Œsuffixå°±è¡Œäº†ã€‚ç°åœ¨åˆæœ‰ä¸€äº›éœ€æ±‚ï¼Œä¾‹å¦‚éœ€è¦æ£€ç´¢utf8æ ¼å¼çš„txtæˆ–è€…h264ç¼–ç çš„mp4ï¼Œä¹Ÿä¼šæœ‰ä¸€äº›ä¾‹å¦‚æŸ¥æ‰¾æœ€è¿‘ä¸€å‘¨æ›´æ–°è¿‡çš„æ–‡ä»¶è¿™æ ·çš„éœ€æ±‚ï¼Œä½ å¦‚ä½•ä¼˜åŒ–è¿™ä¸ªç±»ï¼Œè®©å®ƒæ»¡è¶³è¿™äº›æƒ…å†µï¼Ÿ</p>\n<p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯è¿™ä¹ˆå¤šéœ€æ±‚ä¸å¯èƒ½ä¸€ä¸ªæ–¹æ³•å°±å®Œæˆï¼Œéœ€è¦æ ¹æ®ä¸åŒåœºæ™¯æ‹†å‡ºä¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›åŒå±äºæ–‡ä»¶æ“ä½œï¼Œä¼šæœ‰ä¸€ä¸ªå…±åŒä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯æ£€ç´¢æ–‡ä»¶ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä¼ å…¥æ–‡ä»¶ç›®å½•ï¼Œç„¶åé€’å½’çš„è¿”å›å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶è·¯å¾„ã€‚å¤–éƒ¨ä¸åŒåœºæ™¯çš„è°ƒç”¨é€»è¾‘å°±ç”¨ä¸€ä¸ª<code>enum</code>å®Œæˆï¼Œä¸åŒå€¼å¯¹åº”ç›¸åŒèŒƒå›´çš„ä¸åŒç§ç±»ã€‚</p>\n<p>é¢è¯•å®˜æ¯”è¾ƒå…³æ³¨å†…éƒ¨å…±ç”¨çš„æ–‡ä»¶æ£€ç´¢æ€ä¹ˆå†™ï¼Œä»–è¯´å­æ–‡ä»¶å¦‚æœè¿‡å¤šæ€ä¹ˆåŠï¼Œå¦‚ä½•ä¼˜åŒ–ã€‚æˆ‘æœ‰ç‚¹æ‡µï¼ŒæŸ¥æ‰¾æ–‡ä»¶è‡³å°‘æ˜¯è¦éå†ä¸€éçš„ï¼Œå­æ–‡ä»¶è¿‡å¤šï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ²¡æ³•ä¼˜åŒ–çš„å•Šã€‚ä¸­é—´å¡äº†ä¸€æ®µæ—¶é—´ï¼Œåæ¥ä»–ç»™äº†æç¤ºè¯´æ˜¯ä¸æ˜¯å¯ä»¥ç”¨blockå®ç°ï¼Œå°†æ–‡ä»¶è·¯å¾„è¿”å›å‡ºå»ï¼Œç”±å¤–éƒ¨å†³å®šå½“å‰æ–‡ä»¶æ˜¯å¦å¯ç”¨ï¼Œæœ€ç»ˆå¤–éƒ¨çš„è°ƒç”¨ç±»æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æˆ‘çš„æ–¹æ¡ˆ</span></span><br><span class=\"line\"><span class=\"comment\">//func findDir(_ dir: String) -&gt; [String]</span></span><br><span class=\"line\"><span class=\"comment\">//blockæ–¹æ¡ˆ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">findDir</span><span class=\"params\">(<span class=\"number\">_</span> dir: String, block: <span class=\"params\">(<span class=\"params\">(String)</span></span></span></span> -&gt; <span class=\"type\">Bool</span>))</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘æƒ³æ¥ç¡®å®æ²¡æ¯›ç—…ï¼Œç”¨blockè¿”å›å†…å®¹è‡³å°‘ä¸ä¼šå°†è¯¥ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶éƒ½ç”±ä¸€ä¸ªå¯¹è±¡æŒæœ‰ï¼Œè€Œå‰é¢ä¸€å †çš„é“ºå«å…¶å®ä¹Ÿéƒ½æ˜¯ä¸ºéªŒè¯blockæ–¹æ¡ˆçš„å¥½å¤„ã€‚</p>\n<p>å…¶å®äº‹åæƒ³ä¸‹è¿™ä¸ªé—®é¢˜æ²¡å•¥éš¾çš„ï¼Œè¿™ç§å†™æ³•è‡ªå·±ä¹Ÿæœ‰å†™è¿‡ï¼Œä½†å½“æ—¶å°±æ˜¯æ²¡æƒ³èµ·æ¥ï¼Œå¯èƒ½å‰é¢ä¸€åœˆçš„é“ºå«ç»™æˆ‘å¸¦åäº†å§ï¼Œè¯´äºä¹Ÿä¸äºï¼Œä»¥åå¤šå¤šåŠªåŠ›å§ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æ•´ä½“æ¥çœ‹ï¼Œå¿«æ‰‹çš„é¢è¯•é¢˜è·Ÿæˆ‘åœ¨åˆ«å¤„çœ‹åˆ°çš„iOSé¢è¯•é¢˜å¯¹æ¯”è¦ç®€å•äº›ï¼Œä¸€é¢ä¸»è¦æ˜¯åŸºç¡€çŸ¥è¯†ï¼ŒäºŒé¢è€ƒå¯Ÿæ›´å…¨é¢ä¸€äº›ï¼Œæ›´å¤šè®©è‡ªå·±è°ˆä¸€äº›å¯¹æŠ€æœ¯çš„ç†è§£ï¼Œä¸‰é¢åˆ™æ˜¯æ›´åå®è·µä¸€äº›ã€‚</p>\n<p>ç®—æ³•è™½ç„¶ä¸‰è½®éƒ½æœ‰ï¼Œä½†ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œå³ä½¿å†™ä¸å‡ºæ¥ï¼Œæœ‰æ€è·¯ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å½“ç„¶å†™å‡ºæ¥è‚¯å®šæ˜¯åŠ åˆ†é¡¹ï¼Œæ‰€ä»¥å¤§å®¶å‡†å¤‡é¢è¯•æ—¶ï¼Œåº”è¯¥éƒ½çœ‹ä¸€ä¸‹ã€‚ç®—æ³•ç›¸å…³çš„ï¼Œæ’åºï¼Œæ•°ç»„ï¼ŒäºŒå‰æ ‘ï¼Œè¿™å‡ ç±»æ˜¯é‡ç‚¹ã€‚</p>\n","categories":["iOS"],"tags":["é¢è¯•"]},{"title":"Runtimeå†…å­˜æ¨¡å‹æ¢ç©¶","url":"http://zhangferry.github.io/2020/02/23/runtime_objc_class/","content":"<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/laptop-2838917_1280.jpg\" alt=\"\"></p>\n<blockquote>\n<p>Objective-Cæ˜¯ä¸€ç§é€šç”¨ã€é«˜çº§ã€é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ‰©å±•äº†æ ‡å‡†çš„ANSI Cç¼–ç¨‹è¯­è¨€ï¼Œå°†Smalltalkå¼çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶åŠ å…¥åˆ°ANSI Cä¸­ã€‚</p>\n</blockquote>\n<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒObjective-C = C + Runtimeï¼ŒRuntimeæ˜¯å°†Cè¯­è¨€å…·æœ‰é¢å‘å¯¹è±¡åŠŸèƒ½çš„æ¨åŠ¨å‰‚ï¼Œæ˜¯iOSå¼€å‘ä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬å¯ä»¥åœ¨è‹¹æœå¼€æºçš„ <a href=\"https://opensource.apple.com/tarballs/objc4/\">runtime</a>ï¼ˆå½“å‰çš„æœ€æ–°ç‰ˆæœ¬objc4-779.1.tar.gzï¼‰ä¸­å¯ä»¥å‘ç°ä¸€äº› Objective-C å¯¹è±¡æ¨¡å‹çš„å®ç°ç»†èŠ‚ã€‚</p>\n<a id=\"more\"></a>\n\n<h2 id=\"NSObjectçš„å®ç°\"><a href=\"#NSObjectçš„å®ç°\" class=\"headerlink\" title=\"NSObjectçš„å®ç°\"></a>NSObjectçš„å®ç°</h2><p>OCä¸­å‡ ä¹æ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿è‡ª<code>NSObject</code>ï¼ŒOCçš„åŠ¨æ€æ€§ä¹Ÿæ˜¯é€šè¿‡NSObjectå®ç°çš„ï¼Œé‚£å°±ä»NSObjectå¼€å§‹æ¢ç´¢ã€‚</p>\n<p>åœ¨<code>runtime</code>æºç ä¸­çš„<code>NSObject.h</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°<code>NSObject</code>çš„å®šä¹‰ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">@interface</span> <span class=\"title\">NSObject</span> &lt;<span class=\"title\">NSObject</span>&gt; </span>&#123;</span><br><span class=\"line\">    Class isa  OBJC_ISA_AVAILABILITY;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥çœ‹å‡º<code>NSObject</code>é‡Œæœ‰ä¸€ä¸ªæŒ‡å‘<code>Class</code>çš„<code>isa</code>ï¼Œå…¶ä¸­å¯¹äºClassçš„å®šä¹‰åœ¨<code>objc.h</code>ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// An opaque type that represents an Objective-C class.</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> objc_class *Class;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// Represents an instance of a class.</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> objc_object &#123;</span><br><span class=\"line\">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>objc_class</code>ä»£è¡¨ç±»å¯¹è±¡ï¼Œ<code>objc_object</code>ä»£è¡¨å®ä¾‹å¯¹è±¡ï¼Œ<code>objc_object</code>çš„<code>isa</code>æŒ‡å‘<code>objc_class</code>ã€‚<br>è¿™é‡Œå¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œå®ä¾‹å¯¹è±¡çš„isaæ˜¯æŒ‡å‘ç±»ï¼ˆç±»å¯¹è±¡ï¼‰çš„ã€‚å…¶å®ç±»ï¼ˆobjc_classï¼‰ä¹Ÿæœ‰ä¸€ä¸ªisaå±æ€§ï¼Œé‚£å®ƒæŒ‡å‘ä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<h3 id=\"Meta-Classï¼ˆå…ƒç±»ï¼‰\"><a href=\"#Meta-Classï¼ˆå…ƒç±»ï¼‰\" class=\"headerlink\" title=\"Meta Classï¼ˆå…ƒç±»ï¼‰\"></a>Meta Classï¼ˆå…ƒç±»ï¼‰</h3><p>è¿™é‡Œruntimeä¸ºäº†è®¾è®¡ä¸Šçš„ç»Ÿä¸€æ€§ï¼Œå¼•å…¥äº†å…ƒç±»ï¼ˆmeta classï¼‰çš„æ¦‚å¿µã€‚</p>\n<p>å¯¹è±¡çš„å®ä¾‹æ–¹æ³•è°ƒç”¨æ—¶ï¼Œé€šè¿‡å¯¹è±¡çš„ isa åœ¨ç±»ä¸­è·å–æ–¹æ³•çš„å®ç°ã€‚ç±»å¯¹è±¡çš„ç±»æ–¹æ³•è°ƒç”¨æ—¶ï¼Œé€šè¿‡ç±»çš„ isa åœ¨å…ƒç±»ä¸­è·å–æ–¹æ³•çš„å®ç°ã€‚</p>\n<p><code>objc_class</code>çš„isaæŒ‡å‘meta classï¼Œç”šè‡³meta classä¹Ÿæœ‰isaæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘æ ¹å…ƒç±»ï¼ˆroot meta classï¼‰ã€‚å®ä¾‹å¯¹è±¡ï¼Œç±»å¯¹è±¡ï¼Œå…ƒç±»å’Œæ ¹å…ƒç±»çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200223121419.png\" alt=\"\"></p>\n<p>ç±»å’Œå…ƒç±»å½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„é—­ç¯ï¼Œå…¶ä¸­æœ‰ä¸¤æ¡å…³ç³»éœ€è¦æ³¨æ„ï¼š</p>\n<ul>\n<li>å…ƒç±»çš„isaå‡æŒ‡å‘æ ¹å…ƒç±»ï¼Œæ ¹å…ƒç±»æŒ‡å‘è‡ªå·±</li>\n<li>æ ¹å…ƒç±»ç»§æ‰¿æ ¹ç±»ï¼ˆNSObjectï¼‰</li>\n</ul>\n<h2 id=\"ObjectiveC1-0æ•°æ®æ¨¡å‹\"><a href=\"#ObjectiveC1-0æ•°æ®æ¨¡å‹\" class=\"headerlink\" title=\"ObjectiveC1.0æ•°æ®æ¨¡å‹\"></a>ObjectiveC1.0æ•°æ®æ¨¡å‹</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨<code>runtime.h</code>ä¸­æŸ¥çœ‹<code>objc_class</code>çš„å®šä¹‰ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> objc_class &#123;</span><br><span class=\"line\">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#if !__OBJC2__</span></span><br><span class=\"line\">    Class _Nullable super_class                              OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> * _Nonnull name                               OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> version                                             OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> info                                                OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> instance_size                                       OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> objc_ivar_list * _Nullable ivars                  OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> objc_method_list * _Nullable * _Nullable methodLists                    OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> objc_cache * _Nonnull cache                       OBJC2_UNAVAILABLE;</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> objc_protocol_list * _Nullable protocols          OBJC2_UNAVAILABLE;</span><br><span class=\"line\"><span class=\"meta\">#endif</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125; OBJC2_UNAVAILABLE;</span><br><span class=\"line\"><span class=\"comment\">/* Use `Class` instead of `struct objc_class *` */</span></span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„è¿™ä¸¤ä¸ªå®å‘½ä»¤ï¼š<code>!__OBJC2__</code>å’Œ<code>OBJC2_UNAVAILABLE</code>ï¼Œä»–ä»¬å‡æ˜¯ä¸ºäº†æç¤ºå½“å‰çš„<code>objc_class</code>ç»“æ„æ˜¯Objc2ä¹‹å‰çš„ç»“æ„è®¾è®¡ï¼Œå³Objc1.0çš„è®¾è®¡ã€‚</p>\n<p>ä»è¿™ä¸ª<code>objc_class</code>çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒåŒ…å«äº†è¶…ç±»çš„æŒ‡é’ˆ(<code>super_class</code>)ï¼Œç±»å(<code>name</code>)ï¼Œå®ä¾‹å¤§å°(<code>instance_size</code>)ï¼Œ<code>objc_ivar_list</code>æˆå‘˜å˜é‡åˆ—è¡¨çš„æŒ‡é’ˆ(<code>ivars</code>)ï¼ŒæŒ‡å‘<code>objc_method_list</code><strong>æŒ‡é’ˆçš„æŒ‡é’ˆ</strong>(<code>methodLists</code>)ã€‚</p>\n<p>æ³¨æ„<code>*methodLists</code>æ˜¯æŒ‡å‘æ–¹æ³•åˆ—è¡¨çš„æŒ‡é’ˆï¼Œå¯ä»¥åŠ¨æ€ä¿®æ”¹<code>*methodLists</code>çš„å€¼æ¥æ·»åŠ æˆå‘˜æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯Categoryå®ç°çš„åŸç†ï¼ŒåŒæ ·è§£é‡Šäº†Categoryä¸èƒ½æ·»åŠ å±æ€§çš„åŸå› ã€‚</p>\n<p>å‰©ä¸‹çš„<code>objc_cache</code>ä»£è¡¨å‡½æ•°çš„ç¼“å­˜åˆ—è¡¨ï¼Œ<code>objc_protocol_list</code>ä»£è¡¨åè®®åˆ—è¡¨ã€‚</p>\n<h3 id=\"Objectiveè¯­è¨€å†å²\"><a href=\"#Objectiveè¯­è¨€å†å²\" class=\"headerlink\" title=\"Objectiveè¯­è¨€å†å²\"></a>Objectiveè¯­è¨€å†å²</h3><p>æˆ‘åœ¨ç½‘ä¸ŠæŸ¥èµ„æ–™çš„æ—¶å€™å‘ç°å…³äºruntimeçš„æ–‡ç« éå¸¸å¤šï¼Œä½†æç¤ºæ•°æ®æ¨¡å‹åœ¨OC1.0å’Œ2.0ä¹‹é—´åŒºåˆ«çš„éå¸¸å°‘ï¼Œå…¶å®è¿™ä¸€ç‚¹å¾ˆé‡è¦çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘å°†è¿™æ®µæ ‡é¢˜å‘½åä¸ºObjective-C1.0æ•°æ®æ¨¡å‹çš„åŸå› ã€‚</p>\n<p>è¿™é‡Œè¡¥ä¸€ç‚¹<code>Objective-C</code>è¯­è¨€çš„å‘å±•å†å²ï¼ˆ<a href=\"https://zh.wikipedia.org/wiki/Objective-C\">ç»´åŸºç™¾ç§‘</a>ï¼‰ï¼š</p>\n<blockquote>\n<p> Objective-C1.0 å³Objective-C++ ç”±Stepstone å…¬å¸çš„å¸ƒè±å¾·Â·è€ƒå…‹æ–¯ï¼ˆBrad Coxï¼‰å’Œ æ±¤å§†Â·æ´›å¤«ï¼ˆTom Loveï¼‰ åœ¨ 1980 å¹´ä»£å‘æ˜ã€‚å®ƒæ˜¯GCCçš„ä¸€ä¸ªå‰ç«¯ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æ··åˆC++ä¸Objective-Cè¯­æ³•çš„æºæ–‡ä»¶ã€‚Objective-C++æ˜¯C++çš„æ‰©å±•ï¼Œç±»ä¼¼äºObjective-Cæ˜¯Cçš„æ‰©å±•ã€‚</p>\n<p> Objective-C2.0 åœ¨2006å¹´7æœˆè‹¹æœå…¨çƒå¼€å‘è€…ä¼šè®®ä¸­ï¼ŒAppleå®£å¸ƒäº†â€œObjective-C 2.0â€çš„å‘å¸ƒï¼Œå…¶å¢åŠ äº†â€œç°ä»£çš„åƒåœ¾æ”¶é›†ï¼Œè¯­æ³•æ”¹è¿›ï¼Œè¿è¡Œæ—¶æ€§èƒ½æ”¹è¿›ï¼Œä»¥åŠ64ä½æ”¯æŒâ€ã€‚</p>\n</blockquote>\n<h2 id=\"Objective2-0æ•°æ®æ¨¡å‹\"><a href=\"#Objective2-0æ•°æ®æ¨¡å‹\" class=\"headerlink\" title=\"Objective2.0æ•°æ®æ¨¡å‹\"></a>Objective2.0æ•°æ®æ¨¡å‹</h2><p>å¯ä»¥åœ¨objc-runtim-new.hæ–‡ä»¶æ‰¾åˆ°æ–°ç‰ˆå¯¹<code>objc_class</code>çš„æ•°æ®æ¨¡å‹å®šä¹‰ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> objc_class : objc_object &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Class ISA;</span></span><br><span class=\"line\">    Class superclass;</span><br><span class=\"line\">    cache_t cache;             <span class=\"comment\">// formerly cache pointer and vtable</span></span><br><span class=\"line\">    class_data_bits_t bits;    <span class=\"comment\">// class_rw_t * plus custom rr/alloc flags</span></span><br><span class=\"line\">    class_rw_t *data() <span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> bits.data();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> objc_object &#123;</span><br><span class=\"line\">private:</span><br><span class=\"line\">    isa_t isa;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">union</span> isa_t </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    isa_t() &#123; &#125;</span><br><span class=\"line\">    isa_t(uintptr_t value) : bits(value) &#123; &#125;</span><br><span class=\"line\">    Class cls;</span><br><span class=\"line\">    uintptr_t bits;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¼šå‘ç°<code>objc_class</code>ä¸å†æ˜¯ä¸€ä¸ªå•ç‹¬çš„ç»“æ„ä½“ï¼Œè€Œæ˜¯ç»§æ‰¿äº<code>objc_object</code>ï¼Œobjc_objectå†…éƒ¨çš„<code>isa</code>å˜æˆäº†<code>isa_t</code>çš„<a href=\"https://baike.baidu.com/item/%E8%81%94%E5%90%88%E4%BD%93\">è”åˆä½“</a>ã€‚</p>\n<h3 id=\"class-data-bits-t\"><a href=\"#class-data-bits-t\" class=\"headerlink\" title=\"class_data_bits_t\"></a>class_data_bits_t</h3><p>æˆ‘ä»¬å†å›æ¥çœ‹ç±»ä¸­çš„å…¶ä»–å±æ€§ï¼Œä¹‹å‰è¡¨ç¤ºç±»çš„å±æ€§ã€æ–¹æ³•ã€ä»¥åŠéµå¾ªçš„åè®®éƒ½æ”¾åœ¨äº†<code>class_data_bits_t</code>ä¸­ï¼Œæ›´å‡†ç¡®çš„è¯´æ˜¯æ”¾åœ¨äº†<code>class_rw_t</code>ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> class_data_bits_t &#123;</span><br><span class=\"line\">    friend objc_class;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Values are the FAST_ flags above.</span></span><br><span class=\"line\">    uintptr_t bits;</span><br><span class=\"line\">    </span><br><span class=\"line\">    class_rw_t* data() <span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (class_rw_t *)(bits &amp; FAST_DATA_MASK);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> class_rw_t &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Be warned that Symbolication knows the layout of this structure.</span></span><br><span class=\"line\">    uint32_t flags;</span><br><span class=\"line\">    uint16_t version;</span><br><span class=\"line\">    uint16_t witness;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> class_ro_t *ro;</span><br><span class=\"line\"></span><br><span class=\"line\">    method_array_t methods;</span><br><span class=\"line\">    property_array_t properties;</span><br><span class=\"line\">    protocol_array_t protocols;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> class_ro_t &#123;</span><br><span class=\"line\">    uint32_t flags;</span><br><span class=\"line\">    uint32_t instanceStart;</span><br><span class=\"line\">    uint32_t instanceSize;</span><br><span class=\"line\"><span class=\"meta\">#ifdef __LP64__</span></span><br><span class=\"line\">    uint32_t reserved;</span><br><span class=\"line\"><span class=\"meta\">#endif</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> uint8_t * ivarLayout;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> * name;</span><br><span class=\"line\">    method_list_t * baseMethodList;</span><br><span class=\"line\">    protocol_list_t * baseProtocols;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> ivar_list_t * ivars;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> uint8_t * weakIvarLayout;</span><br><span class=\"line\">    property_list_t *baseProperties;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œé¢å¼•å…¥äº†<code>class_rw_t</code>å’Œ<code>class_ro_t</code>ï¼ˆrw-readwriteï¼Œro-readonlyï¼‰ä¸¤ä¸ªç»“æ„ä½“ã€‚å¯ä»¥çœ‹åˆ°<code>class_rw_t</code>æ˜¯åŒ…å«ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆ<code>ro</code>ï¼Œç»“æ„ä½“ä¸º<code>class_ro_t</code>ã€‚è¿™é‡Œå­˜å‚¨äº†å½“å‰ç±»åœ¨ç¼–è¯‘æœŸå°±å·²ç»ç¡®å®šçš„å±æ€§ã€æ–¹æ³•ä»¥åŠéµå¾ªçš„åè®®ã€‚åœ¨ ObjC è¿è¡Œæ—¶çš„æ—¶å€™ä¼šè°ƒç”¨ <code>realizeClass</code> æ–¹æ³•ï¼Œå°†<code>class_ro_t</code>ä¼ å…¥<code>class_rw_t</code>ï¼Œæ‰€ä»¥æ–°ç‰ˆçš„åŠ¨æ€æ€§æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å®ç°çš„ã€‚</p>\n<h3 id=\"cache-t\"><a href=\"#cache-t\" class=\"headerlink\" title=\"cache_t\"></a>cache_t</h3><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> cache_t &#123;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> bucket_t *emptyBuckets();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">struct</span> bucket_t *buckets();</span><br><span class=\"line\">    mask_t mask();</span><br><span class=\"line\">    mask_t occupied();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> bucket_t &#123;</span><br><span class=\"line\">    <span class=\"comment\">// IMP-first is better for arm64e ptrauth and no worse for arm64.</span></span><br><span class=\"line\">    <span class=\"comment\">// SEL-first is better for armv7* and i386 and x86_64.</span></span><br><span class=\"line\"><span class=\"meta\">#if __arm64__</span></span><br><span class=\"line\">    explicit_atomic&lt;uintptr_t&gt; _imp;</span><br><span class=\"line\">    explicit_atomic&lt;SEL&gt; _sel;</span><br><span class=\"line\"><span class=\"meta\">#else</span></span><br><span class=\"line\">    explicit_atomic&lt;SEL&gt; _sel;</span><br><span class=\"line\">    explicit_atomic&lt;uintptr_t&gt; _imp;</span><br><span class=\"line\"><span class=\"meta\">#endif</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>cache_t</code>æ˜¯<code>objc_class</code>ä¸­çš„ç¼“å­˜ç»“æ„ä½“ï¼Œé‡Œé¢é€šè¿‡<code>bucket_t</code>ç»“æ„ä½“å­˜å‚¨ä¸€äº›æœ€è¿‘è°ƒç”¨çš„å‡½æ•°ã€‚è®¾ç½®cacheæœ€å¤§çš„åŸå› å°±æ˜¯OCä¸ºåŠ¨æ€è¯­è¨€ï¼Œå‡½æ•°çš„æ‰§è¡Œæ˜¯é€šè¿‡æ¶ˆæ¯è°ƒç”¨å®ç°çš„ï¼Œæ¶ˆæ¯è°ƒç”¨ä¼šé¦–å…ˆæŸ¥æ‰¾å½“å‰ç±»ä¸­çš„æ–¹æ³•åˆ—è¡¨ï¼Œå¦‚æœæ‰¾ä¸åˆ°ä¼šæŸ¥æ‰¾çˆ¶ç±»ï¼Œç›´åˆ°æ£€ç´¢è‡³<code>NSObject</code>ä¾ç„¶æ‰¾ä¸åˆ°å‡½æ•°å®ç°ï¼Œå°±ä¼šè¿›å…¥æ¶ˆæ¯è½¬å‘æµç¨‹ã€‚è€Œä¸ºäº†èŠ‚çœæ¯æ¬¡æŸ¥æ‰¾å‡½æ•°è¡¨çš„å¼€é”€ï¼Œå‘æ˜äº†<code>cache_t</code>ã€‚æˆ‘ä»¬ä»<code>bucket_t</code>çš„å†…è”å‡½æ•°ä¸­å¯ä»¥çœ‹å‡ºï¼Œç¼“å­˜çš„SELå’ŒIMPéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡ŒåŠ è½½çš„ã€‚</p>\n<h3 id=\"method-t\"><a href=\"#method-t\" class=\"headerlink\" title=\"method_t\"></a>method_t</h3><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> method_t &#123;</span><br><span class=\"line\">    SEL name;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *types;</span><br><span class=\"line\">    MethodListIMP imp;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">struct</span> SortBySELAddress :</span><br><span class=\"line\">        public std::binary_function&lt;<span class=\"keyword\">const</span> method_t&amp;,</span><br><span class=\"line\">                                    <span class=\"keyword\">const</span> method_t&amp;, <span class=\"keyword\">bool</span>&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">bool</span> operator() (<span class=\"keyword\">const</span> method_t&amp; lhs,</span><br><span class=\"line\">                         <span class=\"keyword\">const</span> method_t&amp; rhs)</span><br><span class=\"line\">        &#123; <span class=\"keyword\">return</span> lhs.name &lt; rhs.name; &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯å‡½æ•°çš„ç»“æ„ä½“ï¼Œé‡Œé¢åŒ…å«3ä¸ªæˆå‘˜å˜é‡ã€‚<code>SEL</code>æ˜¯æ–¹æ³•çš„åå­—nameã€‚<code>types</code>æ˜¯ç±»å‹ç¼–ç ï¼Œç±»å‹å¯å‚è€ƒ<a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html\">Type Encoding</a>ã€‚<code>IMP</code>æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯å‡½æ•°çš„å…·ä½“å®ç°ã€‚åœ¨runtimeä¸­æ¶ˆæ¯ä¼ é€’å’Œè½¬å‘çš„ç›®çš„å°±æ˜¯ä¸ºäº†æ‰¾åˆ°IMPï¼Œå¹¶æ‰§è¡Œå‡½æ•°ã€‚</p>\n<h2 id=\"æ•°æ®æ¨¡å‹å¯¹æ¯”\"><a href=\"#æ•°æ®æ¨¡å‹å¯¹æ¯”\" class=\"headerlink\" title=\"æ•°æ®æ¨¡å‹å¯¹æ¯”\"></a>æ•°æ®æ¨¡å‹å¯¹æ¯”</h2><p>æœ€åæ€»ç»“ä¸‹ï¼ŒObjc1.0åˆ°2.0çš„å¯¹æ¯”ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200223131049.png\" alt=\"\"><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200223131158.png\" alt=\"\"><br>è¿™ä¸¤å¼ å›¾ç‰‡å¼•ç”¨è‡ª<a href=\"https://halfrost.com/\">å¯’ç¥</a>åšå®¢ã€‚</p>\n<h2 id=\"å‚è€ƒé“¾æ¥\"><a href=\"#å‚è€ƒé“¾æ¥\" class=\"headerlink\" title=\"å‚è€ƒé“¾æ¥\"></a>å‚è€ƒé“¾æ¥</h2><ul>\n<li><a href=\"https://github.com/draveness/analyze/blob/master/contents/objc/%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90%20ObjC%20%E4%B8%AD%E6%96%B9%E6%B3%95%E7%9A%84%E7%BB%93%E6%9E%84.md#%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-objc-%E4%B8%AD%E6%96%B9%E6%B3%95%E7%9A%84%E7%BB%93%E6%9E%84\">æ·±å…¥è§£æ ObjC ä¸­æ–¹æ³•çš„ç»“æ„</a></li>\n<li><a href=\"https://halfrost.com/objc_runtime_isa_class/\">ç¥ç»ç—…é™¢ Objective-C Runtime å…¥é™¢ç¬¬ä¸€å¤©â€”â€” isa å’Œ Class</a></li>\n</ul>\n","categories":[],"tags":["iOS"]},{"title":"VSCodeé…ç½®Pythonç‰ˆæœ¬","url":"http://zhangferry.github.io/2020/02/01/vscode_python/","content":"<p>åˆšå­¦ä¹ Pythonæ²¡å¤šä¹…ï¼Œå¯¹VSCodeä¹Ÿä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œåœ¨ä¸€æ¬¡è§£é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ æ·±äº†å¯¹è¿™ä¸¤è€…çš„å°è±¡ï¼Œäºæ˜¯è®°å½•ä¸€ä¸‹ã€‚</p>\n<p>ç¯å¢ƒï¼šMac OS 10.15ï¼ŒVSCode 1.41.1</p>\n<h2 id=\"é—®é¢˜å®šä½\"><a href=\"#é—®é¢˜å®šä½\" class=\"headerlink\" title=\"é—®é¢˜å®šä½\"></a>é—®é¢˜å®šä½</h2><p>æˆ‘åœ¨å°è¯•ç”¨VSCodeå†™pythonçˆ¬è™«ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜<code>ImportError: No module named requests</code>ã€‚</p>\n<p>é€šè¿‡é—®é¢˜æè¿°å¾ˆå®¹æ˜“çŸ¥é“é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥äº†<code>requests</code>åº“ï¼Œä½†æ˜¯VSCodeå´æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªåº“ã€‚</p>\n<a id=\"more\"></a>\n\n<h2 id=\"é—®é¢˜è§£å†³\"><a href=\"#é—®é¢˜è§£å†³\" class=\"headerlink\" title=\"é—®é¢˜è§£å†³\"></a>é—®é¢˜è§£å†³</h2><p>çŸ¥é“äº†é—®é¢˜ï¼Œé‚£å°±å¥½åŠï¼Œå®‰è£…<code>requests</code>å°±è¡Œäº†ã€‚<code>requests</code>éœ€è¦é€šè¿‡<code>pip</code>å®‰è£…ï¼Œæ‰€ä»¥è¦å…ˆå®‰è£…<code>pip</code>ã€‚åœ¨å®‰è£…<code>pip</code>ä¹‹å‰è¿˜è¦æ¸…æ¥šä¸€ä»¶äº‹ï¼Œå°±æ˜¯å½“å‰çš„<code>python</code>ç‰ˆæœ¬ï¼Œå› ä¸º<code>pip</code>æ˜¯è·Ÿ<code>python</code>ç‰ˆæœ¬å¯¹åº”çš„ã€‚</p>\n<h3 id=\"å‡çº§python\"><a href=\"#å‡çº§python\" class=\"headerlink\" title=\"å‡çº§python\"></a>å‡çº§python</h3><p>å› ä¸ºpython2å·²ç»ä¸å†ç»´æŠ¤äº†ï¼Œæ‰€ä»¥è¦ä¿è¯å½“å‰ä¸ºpython3ç‰ˆæœ¬ã€‚æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬åœ¨å‘½ä»¤è¡Œè¾“å…¥<code>python</code>ï¼š</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WARNING: Python 2.7 is not recommended.</span><br><span class=\"line\">This version is included <span class=\"keyword\">in</span> macOS <span class=\"keyword\">for</span> compatibility with legacy software.</span><br><span class=\"line\">Future versions of macOS will not include Python 2.7.</span><br><span class=\"line\">Instead, it is recommended that you transition to using <span class=\"string\">'python3'</span> from within Terminal.</span><br><span class=\"line\"></span><br><span class=\"line\">Python 2.7.16 (default, Aug 24 2019, 18:37:03)</span><br><span class=\"line\">[GCC 4.2.1 Compatible Apple LLVM 11.0.0 (clang-1100.0.32.4) (-macos10.15-objc<span class=\"_\">-s</span> on darwin</span><br><span class=\"line\">Type <span class=\"string\">\"help\"</span>, <span class=\"string\">\"copyright\"</span>, <span class=\"string\">\"credits\"</span> or <span class=\"string\">\"license\"</span> <span class=\"keyword\">for</span> more information.</span><br></pre></td></tr></table></figure>\n<p>å¾—çŸ¥å½“å‰pythonç‰ˆæœ¬ä¸º2.7ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œå‡çº§ã€‚</p>\n<p>å°æç¤ºï¼šå‘½ä»¤è¡Œè¿è¡Œpythonå°±æ˜¯æ‰“å¼€äº†ç»ˆç«¯pythonç¯å¢ƒï¼Œå¦‚æœæˆ‘ä»¬æƒ³é€€å‡ºè¯¥ç¯å¢ƒï¼Œè¿è¡Œexit()å³å¯ã€‚</p>\n<h4 id=\"ä¸‹è½½pythonå®‰è£…åŒ…\"><a href=\"#ä¸‹è½½pythonå®‰è£…åŒ…\" class=\"headerlink\" title=\"ä¸‹è½½pythonå®‰è£…åŒ…\"></a>ä¸‹è½½pythonå®‰è£…åŒ…</h4><p><a href=\"https://www.python.org/downloads/\">ä¸‹è½½åœ°å€</a><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200201153150.png\" alt=\"\"><br>å½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º3.8.1ï¼Œæˆ‘ä»¬ä¸‹è½½ä¹‹åè¿›è¡Œå®‰è£…ã€‚</p>\n<h4 id=\"æ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬\"><a href=\"#æ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬\" class=\"headerlink\" title=\"æ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬\"></a>æ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬</h4><p>è™½ç„¶æˆ‘ä»¬å®‰è£…äº†python3.8ï¼Œä½†æ­¤æ—¶å‘½ä»¤è¡Œè¿è¡Œpythonï¼Œè¿˜æ˜¯æ˜¾ç¤ºä¸º2.7ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç”µè„‘ä¸­è¿è¡Œç€ä¸¤ä¸ªç‰ˆæœ¬çš„pythonï¼Œé»˜è®¤ç‰ˆæœ¬è¿˜æ˜¯2.7ã€‚æˆ‘ä»¬éœ€è¦æ›´æ”¹è¿™é¡¹é»˜è®¤é…ç½®ã€‚<br>åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬è¿˜éœ€è¦ç¡®è®¤ç»ˆç«¯çš„shellç¯å¢ƒï¼Œå¸¸è§çš„shellç¯å¢ƒæ˜¯<code>bash</code>å’Œ<code>zsh</code>ã€‚æ€ä¹ˆå½“å‰æ˜¯å“ªä¸€ä¸ªå‘¢ï¼Ÿåœ¨ç»ˆç«¯è¿è¡Œ:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> <span class=\"built_in\">echo</span> <span class=\"variable\">$SHELL</span></span></span><br></pre></td></tr></table></figure>\n<p><strong>1ã€bash</strong><br>ä½¿ç”¨vimæ‰“å¼€<code>.bash_profile</code>ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi .bash_profile</span><br></pre></td></tr></table></figure>\n<p>åœ¨æœ€åä¸€è¡Œæ·»åŠ ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alias python=\"/Library/Frameworks/Python.framework/Versions/3.8/bin/python3.8\"</span><br></pre></td></tr></table></figure>\n<p>ä¿å­˜ä¹‹åï¼Œæ›´æ–°é…ç½®ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source .bash_profile</span><br></pre></td></tr></table></figure>\n<p><strong>2ã€zsh</strong><br>ç¼–è¾‘<code>.zprofile</code>æ–‡ä»¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi .zprofile</span><br></pre></td></tr></table></figure>\n<p>åœ¨æœ€åä¸€è¡Œæ·»åŠ ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alias python=\"/Library/Frameworks/Python.framework/Versions/3.8/bin/python3.8\"</span><br></pre></td></tr></table></figure>\n<p>ä¿å­˜ä¹‹åï¼Œæ›´æ–°é…ç½®ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source .zprofile</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åå†æ¬¡è¿è¡Œ<code>python</code>ï¼Œä¼šçœ‹åˆ°ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Python 3.8.1 (v3.8.1:1b293b6006, Dec 18 2019, 14:08:53)</span><br><span class=\"line\">[Clang 6.0 (clang-600.0.57)] on darwin</span><br><span class=\"line\">Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.</span><br></pre></td></tr></table></figure>\n<p>è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå°†pythoné»˜è®¤ç‰ˆæœ¬æ”¹æˆäº†3.8ç‰ˆæœ¬ã€‚</p>\n<h3 id=\"å®‰è£…pip\"><a href=\"#å®‰è£…pip\" class=\"headerlink\" title=\"å®‰è£…pip\"></a>å®‰è£…pip</h3><p>æ¨èä½¿ç”¨pipå®‰è£…è„šæœ¬è¿›è¡Œå®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py   <span class=\"comment\"># ä¸‹è½½å®‰è£…è„šæœ¬</span></span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> sudo python get-pip.py    <span class=\"comment\"># è¿è¡Œå®‰è£…è„šæœ¬</span></span></span><br></pre></td></tr></table></figure>\n<p>å› ä¸ºæˆ‘ä»¬é»˜è®¤çš„pythonç‰ˆæœ¬å°±æ˜¯3.xç‰ˆæœ¬ï¼Œæ‰€ä»¥å®‰è£…çš„pipä¼šè‡ªåŠ¨å…³è”åˆ°python3ç‰ˆæœ¬ä¸Šã€‚</p>\n<h4 id=\"æŸ¥çœ‹pipç‰ˆæœ¬å’Œè·¯å¾„\"><a href=\"#æŸ¥çœ‹pipç‰ˆæœ¬å’Œè·¯å¾„\" class=\"headerlink\" title=\"æŸ¥çœ‹pipç‰ˆæœ¬å’Œè·¯å¾„\"></a>æŸ¥çœ‹pipç‰ˆæœ¬å’Œè·¯å¾„</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pip --version</span><br></pre></td></tr></table></figure>\n<p>ä¼šå¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip 20.0.2 from /Library/Python/2.7/site-packages/pip (python 2.7)</span><br></pre></td></tr></table></figure>\n<p>ä¸ºä»€ä¹ˆå…³è”çš„æ˜¯python2.7ç‰ˆæœ¬ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ç”µè„‘ä¸Šä¹‹å‰é€šè¿‡python2.7å®‰è£…è¿‡<code>pip</code>ã€‚é‚£å¯¹åº”çš„python3.8ç‰ˆæœ¬çš„<code>pip</code>å‘¢ï¼Ÿå®ƒæ˜¯ç”±<code>pip3</code>è¡¨ç¤ºçš„ï¼Œå¯ä»¥éªŒè¯ä¸‹:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pip3 --version</span><br></pre></td></tr></table></figure>\n<p>ä¼šå¾—åˆ°ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip 20.0.2 from &#x2F;Library&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.8&#x2F;lib&#x2F;python3.8&#x2F;site-packages&#x2F;pip (python 3.8)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®‰è£…requests\"><a href=\"#å®‰è£…requests\" class=\"headerlink\" title=\"å®‰è£…requests\"></a>å®‰è£…requests</h3><p>åˆ°è¿™ä¸€æ­¥å°±å¾ˆç®€å•äº†ï¼Œæ³¨æ„ä½¿ç”¨<code>pip3</code>æ‰§è¡Œå®‰è£…å‘½ä»¤ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pip3 install requests</span><br></pre></td></tr></table></figure>\n<h2 id=\"VSCodeçš„pythonç¯å¢ƒå’Œæœ¬æœºpythonç¯å¢ƒ\"><a href=\"#VSCodeçš„pythonç¯å¢ƒå’Œæœ¬æœºpythonç¯å¢ƒ\" class=\"headerlink\" title=\"VSCodeçš„pythonç¯å¢ƒå’Œæœ¬æœºpythonç¯å¢ƒ\"></a>VSCodeçš„pythonç¯å¢ƒå’Œæœ¬æœºpythonç¯å¢ƒ</h2><p>æˆ‘ä»¬æˆåŠŸå®‰è£…äº†<code>requests</code>ï¼Œä½†æ˜¯åœ¨vscodeä¸­è¿è¡Œè„šæœ¬ä¾æ—§æŠ¥æ— æ³•æ‰¾åˆ°<code>requests</code>åº“çš„é”™è¯¯ã€‚è¿™æ—¶æˆ‘å¼€å§‹æ€€ç–‘vscodeå’Œæœ¬æœºçš„pythonç¯å¢ƒå¯èƒ½æ˜¯ä¸åŒçš„ï¼Œè€Œä¸”æˆ‘æœ¬æœºæœ‰ä¸¤ä¸ªpythonç‰ˆæœ¬ï¼Œvscodeç”¨çš„æ˜¯å“ªä¸€ä¸ªå‘¢ï¼Ÿä¸ç®¡æ€ä¹ˆæ ·ï¼Œæˆ‘åº”è¯¥éœ€è¦è®©vscodeçš„pythonç¯å¢ƒæŒ‡å‘æœ¬æœºçš„python3.8ï¼Œå› ä¸ºæˆ‘çš„<code>pip3</code>å’Œ<code>requests</code>éƒ½æ˜¯åŸºäºè¿™ä¸ªç‰ˆæœ¬çš„pythonå®‰è£…çš„ã€‚</p>\n<h3 id=\"vscodeçš„pythonç¯å¢ƒ\"><a href=\"#vscodeçš„pythonç¯å¢ƒ\" class=\"headerlink\" title=\"vscodeçš„pythonç¯å¢ƒ\"></a>vscodeçš„pythonç¯å¢ƒ</h3><p>åœ¨vscodeçš„pythonç¼–è¾‘ç•Œé¢çš„æœ€ä¸‹é¢ä¸€è¡Œä¼šæ˜¾ç¤ºå½“å‰çš„pythonç¯å¢ƒï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200201171205.png\" alt=\"\"><br>ç‚¹å‡»å®ƒå¯ä»¥çœ‹åˆ°å½“å‰æ”¯æŒpythonç‰ˆæœ¬ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200201171339.png\" alt=\"\"><br>å‘ç°å¹¶æ²¡æœ‰æˆ‘ä»¬çš„python3.8ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æŒ‡å®špythonçš„ç‰ˆæœ¬ã€‚</p>\n<h3 id=\"æŒ‡å®švscodeçš„pythonç‰ˆæœ¬\"><a href=\"#æŒ‡å®švscodeçš„pythonç‰ˆæœ¬\" class=\"headerlink\" title=\"æŒ‡å®švscodeçš„pythonç‰ˆæœ¬\"></a>æŒ‡å®švscodeçš„pythonç‰ˆæœ¬</h3><p>ä½¿ç”¨å¿«æ·é”®<code>Command + ,</code>å¯ä»¥å”¤å‡ºvscodeçš„è®¾è®¡ç•Œé¢ã€‚å› ä¸ºé…ç½®é¡¹éå¸¸å¤šï¼Œæˆ‘ä»¬é€šè¿‡æœç´¢å‘½ä»¤æŸ¥è¯¢ï¼Œé”®å…¥<code>[python path]</code>ï¼ˆä¸­æ‹¬å·è¡¨ç¤ºæ•´ä½“æœç´¢ï¼‰ï¼Œå¯ä»¥æ‰¾åˆ°pythonè·¯å¾„é…ç½®çš„è®¾ç½®é¡¹ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200201171935.png\" alt=\"\"></p>\n<p>é»˜è®¤å€¼æ˜¯pythonï¼Œæˆ‘ä»¬å°†å®ƒæ”¹ä¸º<code>/usr/local/bin/python3</code>ï¼Œç„¶åé‡å¯vscodeï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°å½“å‰çš„pythonç‰ˆæœ¬å·²ç»æ”¹ä¸º3.8.1äº†ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200201172605.png\" alt=\"\"><br>å¯¼å…¥<code>requests</code>çš„ä»£ç æ‰§è¡Œä¹Ÿæ²¡æœ‰é—®é¢˜äº†ï¼</p>\n<h3 id=\"ç–‘é—®ï¼Ÿ\"><a href=\"#ç–‘é—®ï¼Ÿ\" class=\"headerlink\" title=\"ç–‘é—®ï¼Ÿ\"></a>ç–‘é—®ï¼Ÿ</h3><p>è¿™é‡Œè¿˜æœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1ã€python2.7å’Œ3.7ç‰ˆæœ¬éƒ½æ˜¯vscodeåœ¨å®‰è£…pythonæ—¶è‡ªå·±è£…è¿›å»çš„å—ï¼Ÿ<br>2ã€å¦‚æœä¸é€šè¿‡æŒ‡å®šä¸ºæœ¬æœºpythonç‰ˆæœ¬ï¼Œä»…ä½¿ç”¨vscodeä¸­çš„pythonç‰ˆæœ¬èƒ½å¦å®‰è£…pipï¼Ÿ</p>\n<p>æœ‰èƒ½å¸®åŠ©è§£ç­”çš„å°ä¼™ä¼´å°†ä¸èƒœæ„Ÿæ¿€ï¼</p>\n","categories":[],"tags":["python"]},{"title":"2019å¹´æ€»ç»“","url":"http://zhangferry.github.io/2020/01/01/2019-year-summary/","content":"<blockquote>\n<p>å¥½åƒéšç€å¹´é¾„çš„å¢é•¿ï¼Œå¯¹æ—¶é—´çš„æ„ŸçŸ¥å°±å˜å¾—è¶Šæ¥è¶Šå¼±äº†ã€‚æ€»æ„Ÿè§‰2019å¹´è¿˜æ˜¯ä¸€ä¸ªå¾ˆæ–°é²œçš„å¹´ä»½ï¼Œä½†å®ƒå´å·²ç»èµ°å®Œäº†ï¼Œ2020å¹´å¥½åƒå¾ˆé¥è¿œçš„æ ·å­ï¼Œä½†å®ƒå·²ç»åˆ°æ¥äº†ã€‚æ¥ä¸ªæ€»ç»“å§ï¼Œ2019å¹´ï¼Œè¿™ä¸€å¹´æœ‰å¤ªå¤šçš„é…¸ç”œè‹¦è¾£ã€‚ä»å·¥ä½œã€ç”Ÿæ´»å’Œè§„åˆ’ä¸‰ä¸ªæ–¹é¢å±•å¼€è¯´å§ã€‚</p>\n</blockquote>\n<h2 id=\"å·¥ä½œ\"><a href=\"#å·¥ä½œ\" class=\"headerlink\" title=\"å·¥ä½œ\"></a>å·¥ä½œ</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/thought-catalog-505eectW54k-unsplash.jpg\" alt=\"\"></p>\n<p>å¹´åˆåŸé¡¹ç›®ç»„æœ‰ä¸€ä½å¾ˆå‰å®³çš„å¼€å‘ç¦»èŒäº†ï¼Œå½“æ—¶æ˜¯æˆ‘ä¿©å…±åŒè´Ÿè´£ä¸€ä¸ªé¡¹ç›®ã€‚ä»–å¼€å‘ç»éªŒæ¯”æˆ‘å¤šï¼Œè€Œä¸”å·¥ä½œæ€åº¦å’Œä¹ æƒ¯éƒ½å¾ˆå¥½ï¼Œæ˜¯æˆ‘è§è¿‡çš„æœªæ•°ä¸å¤šè®©æˆ‘ç§°èµçš„ç¨‹åºå‘˜ã€‚æ›¾ç»ä¸€èµ·å·¥ä½œçš„å°†è¿‘ä¸€å¹´å¤šæ—¶é—´é‡Œï¼Œæˆ‘éƒ½ä»¥ä»–ä¸ºå­¦ä¹ æ¦œæ ·ã€‚å¯¹äºä»–çš„ç¦»èŒï¼Œæˆ‘çº ç»“äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œè‡ªè®¤è¿™æ˜¯å¯¹æˆ‘å¯¹å…¬å¸çš„ä¸€å¤§æŸå¤±ã€‚</p>\n<p>åæ¥å¾ˆé•¿çš„æ—¶é—´é‡Œï¼Œä¸€ç›´éƒ½æ²¡æœ‰æ‹›åˆ°åˆé€‚çš„äººï¼Œæˆ‘ä¾¿ä¸€ä¸ªäººæ‰›èµ·äº†é¡¹ç›®ã€‚å¾ˆå¤šä¹‹å‰åº”è¯¥æ˜¯ä¸¤ä¸ªäººä¸€èµ·å•†é‡çš„é—®é¢˜éƒ½éœ€è¦è‡ªå·±ä¸€ä¸ªäººå»æ€è€ƒè§£å†³æ–¹å¼ï¼Œæ¸æ¸çš„æˆ‘ä¸æ–­ç£¨ç»ƒè‡ªå·±çš„ç‹¬ç«‹æ€è€ƒèƒ½åŠ›ã€‚å¤§åŠå¹´ä¸‹æ¥ï¼Œçªç„¶æ„Ÿè§‰è‡ªå·±è¢«é€¼ç€æˆé•¿äº†è®¸å¤šï¼Œä»ä¸€ä¸ªå´‡æ‹œåˆ«äººï¼Œå‘åˆ«äººå­¦ä¹ çš„è§’è‰²å˜æˆäº†ä¸€ä¸ªä¸æƒ§æ€•ä»»ä½•æŠ€æœ¯éš¾é¢˜ï¼Œèƒ½å¤Ÿå¸®åŠ©åˆ«äººè§£å†³å›°éš¾çš„è§’è‰²ã€‚</p>\n<p>2019å¹´å­¦ä¼šçš„ç¬¬ä¸€ä¸ªæœ€é‡è¦çš„é“ç†ï¼Œ<strong>å¾ˆå¤šæ—¶å€™æœ‰ä¸€ä¸ªå¯ä»¥ä¾èµ–çš„å¯¹è±¡ï¼Œæ˜¯ä¼šå‡å¼±è‡ªå·±æ¢ç´¢å’Œå°è¯•çš„åŠ¨åŠ›ï¼Œè€Œå¼€å‘å¾ˆå¤šæ—¶å€™å¯¹æŠ€èƒ½çš„ç†è§£å’ŒæŒæ¡ï¼Œä¹ƒè‡³ä¸ªäººè¿›æ­¥ï¼Œéƒ½æ˜¯è¦ä¾é è‡ªå·±çš„æ¢ç´¢è·å–çš„</strong>ã€‚</p>\n<a id=\"more\"></a>\n\n<h3 id=\"å†™ä½œ\"><a href=\"#å†™ä½œ\" class=\"headerlink\" title=\"å†™ä½œ\"></a>å†™ä½œ</h3><p>2019å¹´å…±äº§å‡º<a href=\"https://zhangferry.com/\">27ç¯‡åšæ–‡</a>ï¼Œ27æ˜¯ä¸€ä¸ªæŒºå¤§çš„æ•°é‡ï¼Œä½†ä»¤æˆ‘æ»¡æ„çš„æ–‡ç« åˆ°ä¸æ˜¯å¾ˆå¤šã€‚åšå®¢å†…å®¹è´¨é‡çš„é‡è¦æ€§åº”è¯¥æ˜¯è¦è¿œå¤§äºæ•°é‡çš„ï¼Œè¿™ä¸€ç‚¹åé¢æ³¨æ„åˆ°äº†ã€‚</p>\n<p>å¯¹æŠ€æœ¯åšå®¢çš„å†™ä½œä»Šå¹´åšäº†ä¸€äº›ä¸åŒçš„å°è¯•ã€‚</p>\n<p>é¦–å…ˆå¯¹äºæœˆæŠ¥çš„æ›´æ–°æŒç»­åˆ°ä»Šå¹´7æœˆä»½ï¼Œå…±äº§å‡ºäº†ä¸€å…±13ç¯‡æ–‡ç« ï¼Œå°±åœæ›´äº†ã€‚æœˆæŠ¥å†…å®¹ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>\n<ul>\n<li>æœ€è¿‘ä¸€æ®µæ—¶é—´çš„bugä¿®å¤ç»å†å’Œå¼€å‘tip</li>\n<li>é˜…è¯»è¿‡çš„ä¼˜ç§€åšæ–‡</li>\n<li>ä¼˜ç§€çš„githubåº“</li>\n</ul>\n<p>ç¬¬ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªå—å¼€å‘ç»å†çš„å½±å“ï¼Œå°±æˆ‘ä¸ªäººæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™æ²¡æœ‰å¤ªå¥½çš„ç»éªŒå¯ä»¥å†™ï¼Œåˆ°æœ€åæ—¶æ„Ÿè§‰å†…å®¹ä¸å¥½æ’‘èµ·è¿™ä¸€ä¸ªæ¨¡å—ã€‚<br>ç¬¬äºŒéƒ¨åˆ†ï¼Œå‡ºç°è¿‡å‡ æ¬¡å‰æœŸå‡†å¤‡ä¸å¤Ÿï¼Œæœ€åä¸€ä¸¤å¤©æ‰å»å¯»æ‰¾ç´ æï¼Œå¯¼è‡´æ¨èå†…å®¹å¾ˆä¸€èˆ¬ã€‚<br>ç¬¬ä¸‰éƒ¨åˆ†ï¼Œä¼˜ç§€åº“çš„æ¨èï¼Œå†™åˆ°ç¬¬åæœŸæ—¶å°±æ„Ÿè§‰ä¹åŠ›çš„ã€‚å½“ç„¶æˆ‘çŸ¥é“è¿™é‡Œçš„å†…å®¹æ˜¯æ¥è¿‘æ— é™çš„ï¼Œä½†æ˜¯å¾ˆå¤šå¦‚æœæˆ‘éƒ½ä¸äº†è§£ï¼Œä¸ä½¿ç”¨ï¼Œåªè¯»ä¸€ä¸ªç®€ä»‹å°±å»æ¨èï¼Œä¼šæœ‰ç§ä¸è´Ÿè´£ä»»çš„æ„Ÿè§‰ã€‚</p>\n<p>è¿˜æœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯ï¼Œåˆ°åæ¥å…³æ³¨çš„äººè¶Šæ¥è¶Šå°‘ï¼Œæ¥åˆ°çš„åé¦ˆä¹Ÿè¶Šæ¥è¶Šå°‘ï¼Œåº”è¯¥æ˜¯è·Ÿè´¨é‡ä¸‹é™æœ‰å…³ã€‚åšè¿™ä¸ªä¸œè¥¿ä¹Ÿç¡®å®è´¹æ—¶é—´ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘å°±æƒ³å¦‚æœè¿™äº›æ—¶é—´å»æ‰“ç£¨ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œå¯èƒ½æ•ˆæœä¼šæ›´å¥½ã€‚è€Œä¸”æœˆæŠ¥ç»™äººæ„Ÿè§‰æ—¶æ•ˆæ€§æ›´å¼ºï¼Œè·Ÿæ–°é—»ç±»ä¼¼ï¼Œè¿‡äº†è¿™ä¸ªæ—¶é—´ä¹‹åå¥½åƒè¿‡æ—¶äº†ä¸€æ ·ï¼Œå¤§å®¶å¾ˆå°‘ä¼šç‰¹æ„ç¿»çœ‹ä¹‹å‰çš„å†…å®¹ï¼Œè€Œæ™®é€šçš„æŠ€æœ¯åšå®¢å´ä¸ä¼šæœ‰è¿™ç§é—®é¢˜ï¼Œè§£é¢˜æ€è·¯ï¼ŒæŠ€æœ¯å¹²è´§å‡ ä¹ä¸å­˜åœ¨è¿‡æ—¶é—®é¢˜ã€‚</p>\n<p>å¦å¤–æˆ‘ä¹Ÿä¸€ç›´åœ¨è§‚å¯Ÿç»™æˆ‘å¯å‘çš„ â€œè€å¸æœºiOSå‘¨æŠ¥â€ï¼Œä»–ä»¬åªæœ‰åšæ–‡æ¨èå’Œä»£ç åº“æ¨èï¼Œç”±å¤šä½è”åˆç¼–è¾‘å…±åŒå®Œæˆï¼Œäººå‘˜ã€æ—¶é—´ã€å†…å®¹è´¨é‡éƒ½ä¸æ˜¯é—®é¢˜ã€‚ä½†å°±æˆ‘è§‚å¯Ÿå¾—çŸ¥ï¼Œâ€œè€å¸æœºâ€çš„å·å¬åŠ›å’Œå“åº”åŠ›ä¹Ÿåœ¨ä¸æ–­å‡å¼±ã€‚æŠ€æœ¯ç±»äººå‘˜å¯¹å†…å®¹èšåˆç±»äº§å“çš„ç²˜æ€§æ˜¯æ²¡æœ‰å›ºå®šçŸ¥è¯†åˆ†äº«å¹³å°é«˜çš„ã€‚ä¸€ç¯‡å‘¨æŠ¥ï¼Œåç¯‡å·¦å³æ–‡ç« ï¼Œå¤§è‡´çœ‹å»ï¼Œè‡ªå·±æ„Ÿå…´è¶£çš„å¯èƒ½å°±ä¸¤ä¸‰ç¯‡ï¼Œæ–°çª—å£æ‰“å¼€ï¼Œå¯¼æµåˆ°åˆ«çš„åœ°æ–¹ï¼Œæœ‰æ—¶é—´çš„è¯è¯»ä¸€è¯»ï¼Œæ—¶é—´ä¸å¤Ÿå°±æ”¾åˆ°æ”¶è—å¤¹ã€‚ä¸€èˆ¬åœ¨å‘¨æŠ¥çš„åœç•™æ—¶é—´ä¸è¶…è¿‡3åˆ†é’Ÿã€‚</p>\n<p>åŸºäºè¿™äº›åŸå› å§ï¼Œæˆ‘ä¹Ÿå°±ä¸å†æ›´æ–°æœˆæŠ¥äº†ï¼Œè€Œæ˜¯æŠŠæ—¶é—´åˆ†é…åˆ°åˆ«çš„äº‹æƒ…ä¸Šå»ã€‚</p>\n<p><strong>å…¬ä¼—å·</strong></p>\n<p>å¦å¤–ï¼Œå¼€å§‹å°è¯•å†™å…¬ä¼—å·ï¼Œåå­—å«â€œiOSæˆé•¿ä¹‹è·¯â€ã€‚æ–‡ç« æ›´æ–°ä¸å¤šï¼Œå…¶ä¸­æœ€ä¸»è¦çš„åŸå› å°±æ˜¯æˆ‘ä¹ æƒ¯äº†å†™åšå®¢ï¼Œè€Œä¸”åšå®¢æœ‰ä¸€å¥—è‡ªå·±çš„workflowã€‚ä¸€èˆ¬æˆ‘æ˜¯å…ˆå†™åšå®¢ï¼Œç„¶åå°†æ–‡ç« å¤åˆ¶åˆ°åˆ«çš„å¹³å°ã€‚åƒä¹‹å‰çš„ç®€ä¹¦å’Œåæ¥çš„æ˜é‡‘ï¼Œéƒ½æ˜¯å¯ä»¥å…¨é‡å¤åˆ¶çš„ã€‚</p>\n<p>è½¬åˆ°å…¬ä¼—å·æ—¶ï¼Œè™½ç„¶å¯ä»¥ç›´æ¥å°†Markdownè½¬æˆå…¬ä¼—å·å½¢å¼ï¼Œä½†å¯¹å›¾ç‰‡å´ä¸è¯†åˆ«ï¼Œéœ€è¦å•ç‹¬å¯¼å…¥ã€‚æˆ‘éœ€è¦æŠŠgithubä¸Šçš„å›¾ç‰‡ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°å…¬ä¼—å·ç¼–è¾‘ç•Œé¢ã€‚å¦‚æœå›¾å¤šï¼Œå°±æ˜¯é¡¹å¾ˆç¹ççš„æµç¨‹ã€‚è€Œä¸”å…¬ä¼—å·è¿˜é™åˆ¶äº†æ¯å¤©åªèƒ½å‘ä¸€ç¯‡æ–‡ç« ï¼Œæ‰€ä»¥åé¢æ›´æ–°äº†å‡ æ¬¡ä¹‹åå°±ä¸å†æ›´æ–°äº†ã€‚å¦‚æœæœ‰å°ä¼™ä¼´çŸ¥é“è§£å†³æ–¹æ¡ˆçš„è¯ï¼Œå¸Œæœ›èƒ½å¤Ÿå‘ŠçŸ¥ã€‚ä¹‹åçš„è¯ï¼Œä¼šæƒ³æŠŠå…¬ä¼—å·è¿™ä¸ªäº‹æƒ…å†æ¨è¿›ä¸‹ã€‚</p>\n<h2 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/851578118934_.pic.jpg\" alt=\"\"></p>\n<h3 id=\"é‚£äº›ç»å†\"><a href=\"#é‚£äº›ç»å†\" class=\"headerlink\" title=\"é‚£äº›ç»å†\"></a>é‚£äº›ç»å†</h3><p>ä»Šå¹´åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆæ´»åŠ¨ã€‚</p>\n<p>æ¸…æ˜èŠ‚ï¼Œå›å®¶çœ‹å¦ˆå¦ˆï¼Œä¸è‡ªè§‰æ‹äº†å¾ˆå¤šå®¶é‡Œï¼Œåœ°é‡Œçš„ç…§ç‰‡ï¼Œæ„Ÿè§‰è€å®¶å“ªé‡Œéƒ½æ˜¯ç¾çš„ã€‚é‚£ä¸ªæˆ‘æ›¾ç»æŠµè§¦ï¼Œä¸€å¿ƒæƒ³é€ƒç¦»çš„å®¶ä¹¡ï¼Œåœ¨è¿™ä¸ªæ˜¥å¤©é‡Œä¸€ä¸‹å˜å¾—å¯çˆ±ï¼Œæ¸©é¦¨èµ·æ¥ã€‚èµ°åˆ°è·¯ä¸Šæˆ‘æƒ³èµ·æ›¾ç»èµ°åœ¨è¿™é‡Œå‘ç”Ÿè¿‡çš„ä¸€åˆ‡ï¼Œåˆ°äº†å®¶é‡Œæˆ‘å›æƒ³è¿™ä¸ªæˆ¿å±‹é‡Œæ›¾ç»å‘ç”Ÿè¿‡çš„ä¸€åˆ‡ï¼Œé‚£äº›æ¬¢å£°ç¬‘è¯­ã€‚è®°å¿†ä¸€ç‚¹ç‚¹å±•å¼€ï¼Œå¦‚æœæ­¤æ—¶æ”¾å¼ƒå·¥ä½œï¼Œæ”¾å¼ƒæ‰€æœ‰ï¼Œè·Ÿçˆ¸çˆ¸å°±åœ¨è€å®¶ç”Ÿæ´»ä¸‹å»ï¼Œä¹Ÿæœªå°ä¸å¯ï¼Œæˆ‘è¿™æ ·æƒ³ç€ï¼Œå¯¹æœªæ¥çš„è§„åˆ’å’ŒæœŸè®¸ï¼Œå·²ç»éƒ½ä¸é‡è¦äº†ã€‚ä½†æ˜¯ä¹Ÿåªèƒ½æƒ³æƒ³ï¼Œç°å®è¿˜æœ‰å¾ˆå¤šé—®é¢˜éœ€è¦è€ƒè™‘ï¼Œéœ€è¦å¤„ç†ï¼Œæˆ‘å·²ç»è¢«ç¤¾ä¼šè§„åˆ™è£¹æŒŸç€ç”±ä¸å¾—è‡ªå·±äº†ï¼Œè¿™å¯èƒ½å°±æ˜¯é•¿å¤§çš„æ— å¥ˆå§ã€‚</p>\n<p>4æœˆä»½ä¸­æ—¬ï¼Œå‚åŠ äº†ã€Šå¤©ç«ã€‹çš„ç”µå½±å®£å‘ï¼Œè§åˆ°äº†å¾ˆå¤šæ˜æ˜Ÿï¼Œä½†ä¹Ÿå¹¶æ²¡æœ‰å¤ªå¤šå…´å¥‹ï¼Œå°±æ„Ÿè§‰æ˜æ˜Ÿè·Ÿæ™®é€šäººå…¶å®ä¹Ÿæ²¡æœ‰å¤ªå¤šä¸åŒã€‚12æœˆ12å·ï¼Œç”µå½±ä¸Šæ˜ ï¼Œå› ä¸ºå®£å‘æ—¶æ”¶åˆ°äº†å¾ˆå¤šåˆ°åœºç¤¼å“ï¼Œå°±ä¹°äº†ç¥¨å»æ”¯æŒä¸‹ï¼Œå¥³å‹å’Œæˆ‘è§‚ç‚¹ä¸€è‡´ï¼šç”µå½±å¾ˆçƒ‚ï¼Œæ˜†å‡Œæ¼”çš„ä¸€èˆ¬ï¼Œå‰§æƒ…å¤ªæ•£ã€‚é…å¤‡äº†è¿‘ä¹å®Œç¾çš„åˆ¶ä½œå›¢é˜Ÿï¼Œå¤–åŠ å‘¨æ°ä¼¦çš„å®£ä¼ ï¼Œç”µå½±ç«Ÿç„¶å¦‚æ­¤æ‰‘è¡—ï¼ŒçœŸçš„å¾ˆè®©äººåŒªå¤·æ‰€æ€ã€‚ä»Šå¹´å¨±ä¹æ´»åŠ¨æå°‘ï¼Œä¸€å…±å°±å»ç”µå½±é™¢çœ‹äº†ä¸¤åœºç”µå½±ï¼Œå…¶ä¸­ä¸€éƒ¨è¿˜æ˜¯è¿™ç§æ„Ÿå—ã€‚å‰§æƒ…ï¼Œå‰§æƒ…ï¼Œå‰§æƒ…ï¼Œè¿™æ˜¯ç”µå½±çš„çµé­‚ï¼ŒçœŸçš„å¾ˆé‡è¦å•Šã€‚</p>\n<p>4æœˆåº•ï¼Œå‚åŠ æˆ‘ä»¬609å¯å®¤ç¬¬ä¸€ä¸ªç»“å©šçš„å®¤å‹å©šç¤¼ï¼Œåˆ†åˆ«ä¸¤å¹´å¤šäº†å†ç›¸èšï¼Œå¤§å®¶éƒ½åŸºæœ¬æ²¡å˜ã€‚æˆ‘ä»¬è¿˜æ˜¯æ›¾ç»çš„æˆ‘ä»¬ï¼Œå„å¥”ä¸œè¥¿ï¼Œåˆå†æ¬¡ç›¸èšï¼ŒçœŸå¥½ã€‚</p>\n<p>4æœˆä»½æŠ¥åäº†åŠé©¬ï¼Œä½†æ˜¯å¾ˆé—æ†¾æ²¡æœ‰ä¸­ç­¾ï¼Œç›´æ¥å¯¼è‡´äº†å»å¹´çš„ä¸€é¡¹ç›®æ ‡æ²¡æœ‰å®Œæˆã€‚</p>\n<p>5æœˆä»½æ²¡æœ‰å‡ºé—¨ï¼Œè·Ÿå¥³æœ‹å‹åœ¨å®¶æ¢ç´¢äº†å¾ˆå¤šç¾é£Ÿçš„åšæ³•ï¼Œæ¯æ¬¡åšå¥½åƒçš„ï¼Œæˆ‘éƒ½ä¼šç”¨æ‰‹æœºæ‹ä¸‹æ¥ï¼Œç›¸å†Œé‡Œå·²ç»æœ‰å‡ åå¼ ç¾é£Ÿç…§ç‰‡äº†ã€‚åšé¥­å…¶å®æ˜¯ä¸€é¡¹å¾ˆæœ‰è¶£çš„äº‹æƒ…ï¼Œæ´—èœï¼Œåˆ‡èœï¼Œé£Ÿæä¸‹é”…ä¸€ç¬é—´çš„æ»‹æ»‹å£°ï¼Œå‡ºé”…æ—¶çš„é¦™æ°”å››æº¢ï¼Œéƒ½èƒ½ä¸æ–­æ¿€å‘è‡ªå·±çš„é£Ÿæ¬²ï¼Œè¿™å¯æ¯”å¡‘æ–™å½©ç›’åŒ…è£…çš„å¤–å–æœ‰çµé­‚å¤šäº†ã€‚æ‰€ä»¥è¿™ä¸€å¹´ä¸å…‰ç‚¹å¤–å–æ¬¡æ•°å°‘äº†å¾ˆå¤šï¼Œå¨è‰ºè¿˜å¢è¿›äº†ä¸å°‘ã€‚</p>\n<p>6æœˆä»½é‡æ–°æ‹¾èµ·äº†è·‘æ­¥çš„ä¹ æƒ¯ï¼Œæ¯å¤©ä¸‹åˆä¸‹ç­ä¹‹å‰çš„åŠä¸ªå°æ—¶éƒ½é™ªè²å§å»å›­åŒºè·‘é“è·‘æ­¥ï¼Œè¿™ä¸ªä¹ æƒ¯å¸®åŠ©å¥¹å‡æ‰äº†åå‡ æ–¤è‚‰ï¼Œä¹Ÿå¸®åŠ©æˆ‘åœ¨å¹´åº¦è·‘æ­¥è®¡åˆ’ä¸­å¢åŠ äº†å°†è¿‘200å…¬é‡Œçš„é‡Œç¨‹ã€‚</p>\n<p>7æœˆä»½å‡†å¤‡å›­åŒºçš„ç¯®çƒæ¯”èµ›ï¼Œè™½ç„¶æ¯æ¬¡ç»ƒä¹ éƒ½æŒ¥æ±—å¦‚é›¨ï¼Œå„ç§åˆ¶å®šæˆ˜æœ¯ï¼Œå°½å¿ƒå‡†å¤‡ï¼Œä½†è¿˜æ˜¯æ”¹å˜ä¸äº†æ¯”èµ›è¢«åˆ«çš„å…¬å¸è™çš„ç»“å±€ã€‚è™½ç„¶ç¯®çƒæ¯”ä¸è¿‡ä»–ä»¬ï¼Œä½†æ˜¯æˆ‘ä»¬æ•²ä»£ç æ¯”ä»–ä»¬å‰å®³å•Šï¼Œè¿™ä¹ˆå®‰æ…°è‡ªå·±ã€‚ä½†è€å®è¯´ï¼Œä¸ºä»€ä¹ˆæˆ‘æ„Ÿè§‰æ‰“çƒæ¯”æ•²ä»£ç è¿˜æœ‰æ„æ€å•Šã€‚æ•™ç»ƒï¼Œæˆ‘æƒ³æ‰“çƒã€‚</p>\n<p>8æœˆä»½ï¼Œé…çˆ¶äº²å»éƒ‘å·ç­‰è‚¾è„é…å‹ï¼Œå½“æ—¶æƒ³çš„æ˜¯çˆ¶äº²ç•™åœ¨è¿™é‡Œï¼Œç­‰æœ‰æ‰‹æœ¯æ¶ˆæ¯äº†ï¼Œæˆ‘å†èµ¶è¿‡å»ï¼Œä½†æ˜¯åŒ»é™¢è¦æ±‚ç­‰å¾…æœŸé—´å¿…é¡»è¦æœ‰å®¶å±é™ªåŒï¼Œé‚£å°±å›ä¸äº†åŒ—äº¬äº†ã€‚è·Ÿå…¬å¸è¯´æ˜æƒ…å†µä¹‹åæƒ³ç”³è¯·è¿œç¨‹åŠå…¬ï¼Œå½“æ—¶æƒ³çš„æ˜¯å¦‚æœå…¬å¸ä¸åŒæ„å°±ç›´æ¥ç¦»èŒã€‚æœ€åå…¬å¸é¢†å¯¼å•†é‡ä¹‹åå†³å®šåŒæ„æˆ‘çš„è¯·æ±‚ï¼Œä¹‹åå°±å¼€å§‹äº†é•¿è¾¾45å¤©çš„åœ¨éƒ‘å·è¿œç¨‹åŠå…¬ã€‚</p>\n<p>9æœˆä»½ï¼Œå·¥ä½œæ—¥æœŸé—´ï¼Œæˆ‘å°†ä½œæ¯æ—¶é—´è°ƒæ•´åˆ°è·Ÿå…¬å¸ä¸€æ ·çš„ç‚¹ï¼Œæœ‰æ—¶å€™å»é™„è¿‘çš„å’–å•¡åº—ï¼Œæœ‰æ—¶å€™å°±åœ¨å®¶åŠå…¬ã€‚è¿™æœŸé—´æœ€å¤§çš„æŒ‘æˆ˜å°±æ˜¯è‡ªå¾‹å’Œéœ€æ±‚æ²Ÿé€šã€‚å› ä¸ºæœ‰æ—¶å€™é…çˆ¶äº²åšæ£€æŸ¥ï¼Œæˆ–è€…é€é¥­ï¼Œè€½è¯¯ä¸€äº›æ—¶é—´ï¼Œè¿™ä¸ªå°±è¦æƒ³åŠæ³•ä»åˆ«çš„åœ°æ–¹è¡¥ä¸Šæ¥ï¼Œè¿˜æœ‰å°±æ˜¯å®¶é‡Œçš„å·¥ä½œæ°›å›´æ¯”ç€å…¬å¸è¦å·®ä¸€ä¸‹ï¼Œæ³¨æ„åŠ›çš„æŒç»­çŠ¶æ€è¦çŸ­ä¸€äº›ã€‚æ‰€ä»¥è¿™æ®µæ—¶é—´åŸºæœ¬å‘¨å…­éƒ½ä¼šæ ¹æ®æƒ…å†µæŠ½å‡ºæ—¶é—´ç”¨æ¥è¡¥è¿›åº¦ã€‚å½“ç„¶è¿œç¨‹åŠå…¬æœ€çˆ½çš„ä¸€ç‚¹å°±æ˜¯æ—¶é—´å¯ä»¥è‡ªç”±å®‰æ’ï¼Œå¯ä»¥æ˜¯å¿™å®Œä¸€é¡¹ä»»åŠ¡æˆ–è€…é€šè¿‡æ—¶é—´æŒªç§»ï¼Œä½ å°±å¯ä»¥åœ¨ä»»æ„æ—¶é—´æ®µåšè‡ªå·±èƒ½åšçš„äº‹æƒ…ã€‚</p>\n<p>å½“ç„¶å› ä¸ºæ•ˆç‡æ²¡æœ‰åœ¨å…¬å¸é«˜ï¼Œæ‰€ä»¥ç©ºé—²æ—¶é—´ç›¸è¾ƒè€Œè¨€è¿˜æ˜¯æ›´å°‘äº†ã€‚è¿™é‡Œçš„è°ƒæ•´å°±æ˜¯æ—¶é—´è§„åˆ’å’Œæ—¶é—´ç®¡ç†çš„å†…å®¹äº†ï¼Œè¿™ä¸ªåœ¨æœªæ¥æˆ‘ä¼šé‡ç‚¹ä¼˜åŒ–ä¸‹ã€‚</p>\n<p>10æœˆä»½ï¼Œå‚åŠ æˆ‘ä»¬609ç¬¬äºŒä¸ªç»“å©šçš„å°ä¼™ä¼´å©šç¤¼ï¼Œè¿˜é¡ºé“å»äº†ä¸€è¶Ÿå¤§å­¦æ ¡å›­ã€‚æ ¡å›­é‡Œå¤šäº†å¥½å‡ æ ‹æ•™å­¦æ¥¼å’Œå®¿èˆæ¥¼ï¼Œå½“å¹´çš„å…¬æ•™æ²¡å˜ï¼Œå®¿èˆæ¥¼å˜æˆäº†å¥³å¯ï¼Ÿå›¾ä¹¦é¦†è¿˜æ˜¯é‚£ä¹ˆéœ¸æ°”ï¼Œç”šè‡³æƒ³è¿›å»æ‰¾ä¸ªåœ°æ–¹çœ‹ä¼šä¹¦ã€‚å¤šå¥½çš„ç¯å¢ƒå•Šï¼Œä¸ºä»€ä¹ˆå½“åˆæ²¡æœ‰å¥½å¥½çæƒœï¼ŒåŠªåŠ›å­¦ä¹ å‘¢ã€‚å¥½åƒåœ¨å›å¿†è¿‡å¾€æ—¶ï¼Œæˆ‘ä»æ¥éƒ½æ˜¯è´£å¤‡è‡ªå·±ä¸å¤ŸåŠªåŠ›ï¼Œä¸å¤Ÿä¼˜ç§€ã€‚</p>\n<p>ä½†æ˜¯å¥½åƒè¿™å°±æ˜¯çœŸçš„ï¼Œ2019å¹´ä¹Ÿæ˜¯ï¼Œ<strong>æˆ‘å¹¶æ²¡æœ‰æ‹¼è¿›å…¨åŠ›ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½æ²¡æœ‰åšå¥½ï¼Œæˆ‘åº”è¯¥æ›´åŠ åŠªåŠ›ï¼Œå¤šé€¼ä¸€é€¼è‡ªå·±æ‰æ˜¯</strong>ã€‚</p>\n<p>11æœˆä»½ï¼Œä¸€ç›´é™ªçˆ¶äº²ç­‰çš„è‚¾è„é…å‹ç»ˆäºæœ‰äº†ç»“æœï¼Œçˆ¶äº²æ¥å—æ‰‹æœ¯ï¼Œæˆ‘æ¥éƒ‘å·é™ªæŠ¤ã€‚è¿™æ®µç»å†å¤§å¤šæ•°è®°åœ¨åšå®¢é‡Œé¢ï¼Œè¿™æœŸé—´ç¡®å®è®©æˆ‘æˆé•¿äº†ä¸å°‘ã€‚åæ¥çˆ¶äº²å‡ºé™¢ï¼Œæˆ‘å›åŒ—äº¬çš„ç¬¬äºŒå¤©åœ¨Vç«™çœ‹åˆ°ä¸€ä¸ªå¸–å­ï¼Œä¸€ä¸ªç¨‹åºå‘˜é•¿æ—¶é—´åŠ ç­å¯¼è‡´èº«ä½“ä¸é€‚ï¼Œå»åŒ»é™¢æ£€æŸ¥è¢«è¯Šæ–­ä¸ºCKD4æœŸï¼ˆæ…¢æ€§è‚¾ç—…4æœŸï¼‰ã€‚è€ŒCKD5æœŸå°±æ˜¯å°¿æ¯’ç—‡ï¼Œå°±æ˜¯çˆ¶äº²çš„é‚£ä¸ªç—…ã€‚è™½ç„¶æˆ‘åœ¨åŒ»é™¢è§è¿‡å¾ˆå¤šç—…äººäº†ï¼Œä½†è¿™ä¸ªç—…çš„é­”çˆªä¼¸åˆ°äº†ç¨‹åºå‘˜ç¾¤ä½“ï¼Œè¿˜æ˜¯å¾ˆè®©æˆ‘æƒŠè®¶å’Œæ‹…å¿§çš„ã€‚</p>\n<p>ä¸åªå°¿æ¯’ç—‡ï¼Œå¾ˆå¤šç—…éƒ½åœ¨å‘ä½é¾„åŒ–å‘å±•ã€‚<strong>å¥åº·ï¼å¥åº·ï¼å¥åº·ï¼è¿™ä¸ªçœŸçš„éå¸¸é‡è¦ï¼Œä½œæ¯ï¼Œé¥®é£Ÿï¼Œè¿™ä¸¤ä¸ªæœ€å®¹æ˜“å¯¼è‡´èº«ä½“å‡ºé—®é¢˜çš„ç¯èŠ‚ä¸€å®šè¦é‡è§†å•Š</strong>ã€‚</p>\n<p>12æœˆä»½ï¼Œåœ¨å¤©æ¡¥çœ‹äº†ä¸€åœºè¯å‰§ã€Šé»„é‡‘ç™¾ä¸‡ã€‹ï¼Œæ¼”å‘˜å‡éç§‘ç­å‡ºèº«ï¼Œå½“æ—¶è¿˜åªæ˜¯ç¬¬ä¸‰åœºæ¼”å‡ºï¼Œæ‰€ä»¥æ•´ä½“æ„Ÿè§‰æ°´åˆ†å¾ˆå¤§ï¼Œç”šè‡³ä¸€åº¦æœ‰ä¸­é€”æ’¤ç¦»çš„å†²åŠ¨ã€‚è¯å‰§æ¼”å‡ºç»“æŸï¼Œæ¼”å‘˜è®²è¿°èˆå°èƒŒåçš„æ•…äº‹æ—¶ï¼Œå´è®©æˆ‘å¾—åˆ°äº†äº›æ„å¤–æ”¶è·ã€‚ä»–ä»¬æ˜¯ç”±äº’è”ç½‘åœˆï¼ŒæŠ•èµ„åœˆï¼Œä¸»æŒäººåœˆçš„å‡ ä¸ªæœ‹å‹ç»„å»ºèµ·æ¥çš„ï¼Œå…¶ä¸­å°±æœ‰ä¸ºäººç†ŸçŸ¥çš„å¼ æ³‰çµå’Œäºå…‰ä¸œã€‚ä»–ä»¬éƒ½ä¸ç¼ºé’±ï¼Œä¹Ÿä¸æŒ‡æœ›ä¾é è¯å‰§æŒ£é’±ï¼Œå°±å‡­ç€çˆ±å¥½ï¼Œç»„ç»‡è¯å‰§ç¤¾ï¼Œåœ¨æœ¬èŒå·¥ä½œä¹‹ä½™ï¼ŒæŒ¤æ—¶é—´è¿›è¡Œæ’ç»ƒï¼Œå¾ˆå¤šäººéƒ½ä¸åœ¨åŒ—äº¬å±…ä½ï¼Œä½†ä»–ä»¬è¿˜æ˜¯åœ†æ»¡çš„å®Œæˆäº†è¿™æ¬¡è¡¨æ¼”ã€‚</p>\n<p>è¿™è®©æˆ‘çœ‹åˆ°äº†ä¸€ç§ç”Ÿæ´»æ€åº¦ï¼Œ<strong>å·¥ä½œä¸åº”è¯¥å®Œå…¨å æ®ç”Ÿæ´»ï¼Œç”Ÿæ´»ä¹Ÿä¸åº”è¯¥åªæ˜¯åƒå–ç©ä¹ï¼Œæˆ‘ä»¬åº”è¯¥å‘è§‰è‡ªå·±çš„çˆ±å¥½ï¼Œæ½œåŠ›ï¼Œå»åšä¸€äº›èƒ½å¸¦ç»™è‡ªå·±æ»¡è¶³æ„Ÿï¼Œæ›´æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œè¿™æ ·æ‰æ˜¯ç²¾å½©çš„æ´»ç€</strong>ã€‚æ‰€ä»¥2020å¹´ï¼Œæˆ‘ä¹Ÿä¼šå¾€è¿™æ–¹é¢åšä¸€äº›å°è¯•ã€‚</p>\n<h3 id=\"å…³äºç†è´¢\"><a href=\"#å…³äºç†è´¢\" class=\"headerlink\" title=\"å…³äºç†è´¢\"></a>å…³äºç†è´¢</h3><p>çœ‹åˆ°å¾ˆå¤šäººæ™’ä»Šå¹´æ”¶ç›Šï¼Œ50%ï¼Œç”šè‡³120%ã€‚å› ä¸ºä»Šå¹´ç»æµæ•´ä½“éƒ½æ˜¯ä¸Šè¡Œï¼Œå¤§å¤šæ•°éƒ½æ˜¯èµšçš„ï¼Œåªæ˜¯èµšå¤šèµšå°‘è€Œå·²ã€‚åƒæˆ‘è¿™ç§ç†è´¢å°ç™½ï¼Œåªæ˜¯å®šæŠ•æŒ‡æ•°åŸºé‡‘ä¸åŠ¨éƒ½æœ‰å°†è¿‘30%çš„æ”¶ç›Šã€‚æ‰€ä»¥å¤§å®¶å¯¹äºå¾ˆå¤šäººçš„æ”¶ç›Šä¸è¦çœ¼çº¢ï¼Œä¸è¦è¿‡äºä¹è§‚ã€‚ä»Šå¹´å¤§å¥½ï¼Œæ˜å¹´æ˜¯å¥½è¿˜æ˜¯åè°ä¹Ÿè¯´ä¸å‡†äº†ã€‚ç†è´¢çš„ä¸€æ¡é‡‘ç§‘ç‰å¾‹å°±æ˜¯ï¼Œæ”¶ç›Šè¶Šå¤§é£é™©è¶Šå¤§ï¼Œèƒ½æ‰¿å—é£é™©ï¼Œæœ‰ä¸€å®šçš„ä¸“ä¸šçŸ¥è¯†ï¼Œé‚£å°±åŠªåŠ›è¾¾åˆ°æ”¶ç›Šæœ€å¤§åŒ–ã€‚å¦‚æœéƒ½åšä¸åˆ°ï¼Œé‚£å°±ä¸è¦å®šè¿‡é«˜çš„ç›®æ ‡ï¼Œåƒæˆ‘ç›®å‰å®šçš„ç›®æ ‡å°±æ˜¯è·‘èµ¢é€šè´§è†¨èƒ€ï¼Œä¿è¯æ‰‹é‡Œçš„é’±ä¸è´¬å€¼å°±è¡Œã€‚</p>\n<p>ç†è´¢è¿™é¡¹æŠ€èƒ½ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé™è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œä»¥åä¼šèŠ±æ›´å¤šçš„æ—¶é—´åœ¨ä¸Šé¢åšä¸€äº›ç ”ç©¶ï¼Œè¡¥è¶³è¿™æ–¹é¢çš„èƒ½åŠ›ï¼ŒåŠªåŠ›æé«˜æ”¶ç›Šã€‚</p>\n<h3 id=\"å…³äºé˜…è¯»\"><a href=\"#å…³äºé˜…è¯»\" class=\"headerlink\" title=\"å…³äºé˜…è¯»\"></a>å…³äºé˜…è¯»</h3><p>é˜…è¯»æ–¹é¢ï¼Œè¿‘å‡ å¹´çœ‹çš„ä¹¦è¶Šæ¥è¶Šå°‘äº†ï¼Œä»Šå¹´åªæœ‰ï¼š<br>ã€Šè½¯æŠ€èƒ½ï¼šä»£ç ä¹‹å¤–çš„ç”Ÿå­˜æŒ‡å—ã€‹<br>ã€Šå›¾è§£TCP/IPã€‹<br>ã€Šé‡æ„ã€‹<br>ã€Šæœªæ¥ç®€å²ã€‹<br>ã€Šè€äººä¸æµ·ã€‹<br>ã€Šç™½å¤œè¡Œã€‹<br>ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å²+ä¸–ç•Œå²ã€‹<br>ã€Šå¦‚ä½•é«˜æ•ˆè¯»æ‡‚ä¸€æœ¬ä¹¦ã€‹</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200104144208.png\" alt=\"\"></p>\n<p>è¿™é‡Œæœ€æ¨èçš„å°±æ˜¯ã€Šè½¯æŠ€èƒ½ã€‹ï¼Œå®ƒä»‹ç»äº†ç¨‹åºå‘˜åœ¨ç¼–ç¨‹èƒ½åŠ›ä¹‹å¤–è¿˜åº”è¯¥å…·å¤‡å“ªäº›èƒ½åŠ›ï¼Œæ¶µç›–èŒä¸šè§„åˆ’ï¼Œè‡ªæˆ‘è¥é”€ï¼Œå­¦ä¹ æ–¹æ³•ï¼Œç†è´¢æ‰‹æ®µï¼Œå¥èº«ï¼Œç²¾ç¥æå‡ç­‰æ–¹é¢ã€‚è¿™æœ¬ä¹¦å½±å“äº†æˆ‘å¯¹è‡ªå·±èŒä¸šçš„çœ‹æ³•ï¼ŒåŒæ—¶ä¹Ÿè®©æˆ‘å¯¹æœªæ¥çš„è§„åˆ’æ›´åšå®šï¼Œæ›´æ¸…æ™°äº†ä¸€äº›ã€‚éå¸¸å»ºè®®å¤§å®¶éƒ½è¯»ä¸€è¯»ã€‚</p>\n<h2 id=\"OKRæ€»ç»“\"><a href=\"#OKRæ€»ç»“\" class=\"headerlink\" title=\"OKRæ€»ç»“\"></a>OKRæ€»ç»“</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/brendan-church-pKeF6Tt3c08-unsplash.jpg\" alt=\"\"></p>\n<h3 id=\"2019å¹´OKRæ€»ç»“\"><a href=\"#2019å¹´OKRæ€»ç»“\" class=\"headerlink\" title=\"2019å¹´OKRæ€»ç»“\"></a>2019å¹´OKRæ€»ç»“</h3><p><strong>O1:ç²¾è¿›æŠ€æœ¯æ ˆ</strong></p>\n<table>\n<thead>\n<tr>\n<th>KR</th>\n<th>å®Œæˆè¿›åº¦</th>\n<th>æ€»ç»“</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>åˆ·50é“LeetCodeï¼Œè¾“å‡ºè§£é¢˜æ€è·¯</td>\n<td>10%</td>\n<td>æ—¶é—´é—®é¢˜</td>\n</tr>\n<tr>\n<td>é€†å‘å®è·µ</td>\n<td>0%</td>\n<td>é€†å‘ç†è®ºæ²¡æœ‰æŒç»­æ·±å…¥ç ”ç©¶ï¼Œæ—¶é—´é—®é¢˜</td>\n</tr>\n<tr>\n<td>ç¿»è¯‘5ç¯‡æŠ€æœ¯æ–‡ç« </td>\n<td>60%</td>\n<td>ç¿»è¯‘æ°´å¹³æœ‰å¾…æé«˜ï¼Œè¾“å‡ºè¾ƒæ…¢</td>\n</tr>\n<tr>\n<td>åšå®¢ä¸»é¢˜ä¼˜åŒ–</td>\n<td>10%</td>\n<td>å­¦ä¹ å‰ç«¯è¦ç³»ç»Ÿçš„å­¦ä¹ ï¼Œä½ä¼°äº†è¿™ä¸ªå·¥ä½œé‡</td>\n</tr>\n<tr>\n<td>å¼€å‘å¾®ä¹ æƒ¯APP</td>\n<td>5%</td>\n<td>å‘ç°æœ‰åˆ«çš„APPåšçš„å¾ˆå¥½äº†ï¼Œå¦å› äº§å“è®¾è®¡èƒ½åŠ›çŸ­æ—¶é—´æ²¡æœ‰è¡¥å…¨ï¼ŒåŠæ—¶é—´é—®é¢˜ï¼Œåæ¥åšç½¢</td>\n</tr>\n<tr>\n<td>åšå®¢è¾“å‡º24ç¯‡æ–‡ç« </td>\n<td>112%</td>\n<td>å› ä¸ºå¤šäº†å‡ ç¯‡ç”Ÿæ´»ä¸­çš„æ–‡ç« ï¼Œå¦‚æœåªç®—æŠ€æœ¯æ–‡ç« ä¹Ÿæ˜¯ä¸å¤Ÿçš„</td>\n</tr>\n</tbody></table>\n<p>æ€»ç»“ï¼šå®ç°åº¦è¾ƒä½ï¼Œå¾ˆå¤šæ˜¯å› ä¸ºæ—¶é—´é—®é¢˜ï¼Œå’Œå¯¹åˆ¶å®šä»»åŠ¡çš„éš¾åº¦é¢„ä¼°ä¸å‡†ç¡®å¯¼è‡´çš„ã€‚è¿™ä¸€å¹´å¯¹æŠ€æœ¯å±‚é¢çš„æå‡æ€»ç»¼åˆæ€§ï¼Œæ²¡æœ‰åœ¨æŸä¸€ç‚¹æœ‰æ‰€çªå‡ºï¼Œä»Šå¹´éœ€è¦åšä¸€äº›è°ƒæ•´ã€‚</p>\n<p><strong>O2:æ”’æ›´å¤šçš„é’±</strong></p>\n<table>\n<thead>\n<tr>\n<th>KR</th>\n<th>å®Œæˆè¿›åº¦</th>\n<th>æ€»ç»“</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å·¥èµ„å¤–æ”¶å…¥è¾¾åˆ°1000</td>\n<td>200%</td>\n<td>æœ‰æ®µæ—¶é—´å¸®åŠ©ä¸€ä¸ªå›¢é˜Ÿå¤„ç†äº†å‡ ä¸ªé—®é¢˜ï¼Œè·å¾—äº†ä¸€äº›æŠ¥é…¬</td>\n</tr>\n<tr>\n<td>æ€»æ”¶å…¥è¾¾åˆ°ä¹°æˆ¿éœ€è¦çš„é¦–ä»˜ä¸€åŠ</td>\n<td>50%</td>\n<td>æ”¶å…¥æ˜¯è¾¾åˆ°äº†ï¼Œä½†æ˜¯å­˜æ¬¾å´æ²¡æœ‰</td>\n</tr>\n</tbody></table>\n<p>æ€»ç»“ï¼šè¿™å‡ é¡¹å®šçš„ç›®æ ‡éƒ½æœ‰äº›å«ç³Šäº†ï¼Œå·¥èµ„å¤–æ”¶å…¥å…¶å®æ›´åƒè¡¨è¾¾çš„æ˜¯ï¼Œå†™åšå®¢çš„æ‰“èµï¼Œå’Œå…¬ä¼—å·çš„ä¸€äº›æ”¶å…¥ã€‚æ€»æ”¶å…¥çš„ç›®æ ‡å…¶å®æ²¡æœ‰æ„ä¹‰ï¼Œå­˜æ¬¾æ‰æœ‰æ„ä¹‰ã€‚</p>\n<p><strong>O3:è¿åŠ¨å¥èº«</strong></p>\n<table>\n<thead>\n<tr>\n<th>KR</th>\n<th>å®Œæˆè¿›åº¦</th>\n<th>æ€»ç»“</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>åŠç¨‹é©¬æ‹‰æ¾è·‘åˆ°2å°æ—¶ä»¥å†…</td>\n<td>0%</td>\n<td>å› ä¸ºæ²¡æœ‰ä¸­ç­¾ï¼Œä¹Ÿå°±æ²¡æœ‰è·‘åŠé©¬çš„ç»å†äº†</td>\n</tr>\n<tr>\n<td>å’•å’šç´¯ç§¯é‡Œç¨‹è¾¾åˆ°500å…¬é‡Œ</td>\n<td>99%</td>\n<td>ä¾é æ¯å¤©ä¸‹åˆçš„è·‘æ­¥ï¼ŒåŸºæœ¬è¿½ä¸Šäº†è¿™ä¸ªç›®æ ‡</td>\n</tr>\n</tbody></table>\n<p>æ€»ç»“ï¼šè·‘æ­¥é‡Œç¨‹åˆ°æ˜¯ä¸€ä¸ªåˆç†çš„ç›®æ ‡ï¼ŒåŠé©¬å› ä¸ºå—å¤–ç•Œå› ç´ å½±å“ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªä¸å¤ªå¥½çš„KRã€‚</p>\n<h3 id=\"2020å¹´OKR\"><a href=\"#2020å¹´OKR\" class=\"headerlink\" title=\"2020å¹´OKR\"></a>2020å¹´OKR</h3><p>æœ‰äº›åœ¨2019å¹´æ²¡æœ‰åšå¥½çš„äº‹æƒ…ï¼Œä¼šåœ¨æ–°çš„ä¸€å¹´é‡ŒæŒç»­çš„è·Ÿè¿›ä¼˜åŒ–ã€‚</p>\n<p><strong>O1ï¼šç²¾è¿›æŠ€æœ¯æ ˆ</strong></p>\n<p>KR1ï¼šåˆ·20é“ç»å…¸LeetCodeé¢˜ç›®ï¼Œè¾“å‡º2ç¯‡è§£é¢˜æ€è·¯çš„æ–‡ç« </p>\n<p>KR2ï¼šå­¦ä¹ å‰ç«¯çŸ¥è¯†ï¼Œä¼˜åŒ–åšå®¢å°ç«™</p>\n<p>KR3ï¼šè¾“å‡º5ç¯‡å¯¹è®¡ç®—æœºçŸ¥è¯†æ€»ç»“çš„æ–‡ç« </p>\n<p>KR4ï¼šç»´æŠ¤ä¸€ä¸ªSwiftåº“ï¼Œç”¨äºç­›é€‰é¡¹ç›®ä¸­ä¸ç”¨çš„æ–‡ä»¶</p>\n<p><strong>O2ï¼šä¸ªäººæˆé•¿</strong></p>\n<p>KR1ï¼šå…¬ä¼—å·ç²‰ä¸è¾¾åˆ°500</p>\n<p>KR2ï¼šå­¦ä¹ åŸºé‡‘çŸ¥è¯†ï¼Œåˆ†æå¯¹æ¯”10ç§åŸºé‡‘çš„æ•°æ®è¡¨ç°</p>\n<p>KR3ï¼šå…¨å¹´è·‘æ­¥é‡Œç¨‹400å…¬é‡Œ</p>\n<p>KR4ï¼šé˜…è¯»15æœ¬ä¹¦</p>\n<p>KR5ï¼šåŸ¹å…»æ—¶é—´è§„åˆ’èƒ½åŠ›ï¼Œæ€»ç»“å¹¶è·µè¡Œä¸€ä»½æ—¶é—´è§„åˆ’æ¸…å•</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"OCé¡¹ç›®è½¬SwiftæŒ‡å—","url":"http://zhangferry.github.io/2019/12/07/transfom_oc_to_swift/","content":"<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/web-3967926_1280.jpg\" alt=\"\"></p>\n<blockquote>\n<p>è¿è¡Œç¯å¢ƒï¼šXcode 11.1 Swift5.0</p>\n</blockquote>\n<p>æœ€è¿‘å‚ä¸çš„ä¸€ä¸ªé¡¹ç›®éœ€è¦ä»Objective-Cï¼ˆä»¥ä¸‹ç®€ç§°OCï¼‰è½¬åˆ°Swiftï¼ŒæœŸé—´é‡åˆ°äº†ä¸€äº›å‘ï¼Œäºæ˜¯æœ‰äº†è¿™ç¯‡æ€»ç»“æ€§çš„æ–‡æ¡£ã€‚å¦‚æœä½ ä¹Ÿæœ‰å°†OCé¡¹ç›®SwiftåŒ–çš„éœ€æ±‚ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒã€‚</p>\n<p>OCè½¬Swiftæœ‰ä¸€ä¸ªå¤§å‰æå°±æ˜¯ä½ è¦å¯¹Swiftæœ‰ä¸€å®šçš„äº†è§£ï¼Œç†Ÿæ‚‰Swiftè¯­æ³•ï¼Œæœ€å¥½æ˜¯å®Œæ•´çœ‹è¿‡ä¸€éå®˜æ–¹çš„<a href=\"https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html\">Language Guide</a>ã€‚</p>\n<p>è½¬æ¢çš„è¿‡ç¨‹åˆ†è‡ªåŠ¨åŒ–å’Œæ‰‹åŠ¨è½¬è¯‘ï¼Œé‰´äºè‡ªåŠ¨åŒ–å·¥å…·çš„è¯†åˆ«ç‡ä¸èƒ½è®©äººæ»¡æ„ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨è½¬æ¢çš„ã€‚</p>\n<a id=\"more\"></a>\n\n<h2 id=\"è‡ªåŠ¨åŒ–å·¥å…·\"><a href=\"#è‡ªåŠ¨åŒ–å·¥å…·\" class=\"headerlink\" title=\"è‡ªåŠ¨åŒ–å·¥å…·\"></a>è‡ªåŠ¨åŒ–å·¥å…·</h2><p>æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è‡ªåŠ¨åŒ–å·¥å…·<a href=\"https://objectivec2swift.com/#/home\">Swiftify</a>ï¼Œå¯ä»¥å°†OCæ–‡ä»¶ç”šè‡³OCå·¥ç¨‹æ•´ä¸ªè½¬æˆSwiftï¼Œå·ç§°å‡†ç¡®ç‡èƒ½è¾¾åˆ°90%ã€‚æˆ‘è¯•ç”¨äº†ä¸€äº›å…è´¹ç‰ˆä¸­çš„åŠŸèƒ½ï¼Œä½†æ„Ÿè§‰æ•ˆæœå¹¶ä¸ç†æƒ³ï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨è¿‡ä»˜è´¹ç‰ˆï¼Œæ‰€ä»¥ä¹Ÿä¸å¥½è¯„ä»·å®ƒå°±æ˜¯ä¸å¥½ã€‚</p>\n<p>Swiftifyè¿˜æœ‰ä¸€ä¸ªXcodeçš„æ’ä»¶<a href=\"https://objectivec2swift.com/#/xcode-extension/\">Swiftify for Xcode</a>ï¼Œå¯ä»¥å®ç°å¯¹é€‰ä¸­ä»£ç å’Œå•æ–‡ä»¶çš„è½¬åŒ–ã€‚è¿™ä¸ªæ’ä»¶è¿˜æŒºä¸é”™ï¼Œå¯¹çº¯ç³»ç»Ÿä»£ç è½¬åŒ–è¿˜ç®—ç²¾ç¡®ï¼Œä½†éƒ¨åˆ†ä»£ç è¿˜å­˜åœ¨ä¸€äº›è¯†åˆ«é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨å†ä¿®æ”¹ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191208103559.png\" alt=\"\"></p>\n<h2 id=\"æ‰‹åŠ¨SwiftåŒ–\"><a href=\"#æ‰‹åŠ¨SwiftåŒ–\" class=\"headerlink\" title=\"æ‰‹åŠ¨SwiftåŒ–\"></a>æ‰‹åŠ¨SwiftåŒ–</h2><h3 id=\"æ¡¥æ¥æ–‡ä»¶\"><a href=\"#æ¡¥æ¥æ–‡ä»¶\" class=\"headerlink\" title=\"æ¡¥æ¥æ–‡ä»¶\"></a>æ¡¥æ¥æ–‡ä»¶</h3><p>å¦‚æœä½ æ˜¯åœ¨é¡¹ç›®ä¸­é¦–æ¬¡ä½¿ç”¨Swiftä»£ç ï¼Œåœ¨æ·»åŠ Swiftæ–‡ä»¶æ—¶ï¼ŒXcodeä¼šæç¤ºä½ æ·»åŠ ä¸€ä¸ª<code>.h</code>çš„æ¡¥æ¥æ–‡ä»¶ã€‚å¦‚æœä¸å°å¿ƒç‚¹äº†ä¸æ·»åŠ è¿˜å¯ä»¥æ‰‹åŠ¨å¯¼å…¥ï¼Œå°±æ˜¯è‡ªå·±æ‰‹åŠ¨ç”Ÿæˆä¸€ä¸ª<code>.h</code>æ–‡ä»¶ï¼Œç„¶ååœ¨<code>Build Settings &gt; Swift Compiler - General &gt; Objective-C Bridging Header</code>ä¸­å¡«å…¥è¯¥<code>.h</code>æ–‡ä»¶çš„è·¯å¾„ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20200229115315.png\" alt=\"\"></p>\n<p>è¿™ä¸ªæ¡¥æ¥æ–‡ä»¶çš„ä½œç”¨å°±æ˜¯ä¾›Swiftä»£ç å¼•ç”¨OCä»£ç ï¼Œæˆ–è€…OCçš„ä¸‰æ–¹åº“ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#import &quot;Utility.h&quot;</span><br><span class=\"line\">#import &lt;Masonry&#x2F;Masonry.h&gt;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>Bridging Header</code>çš„ä¸‹é¢è¿˜æœ‰ä¸€ä¸ªé…ç½®é¡¹æ˜¯<code>Objective-C Generated Interface Header Name</code>ï¼Œå¯¹åº”çš„å€¼æ˜¯<code>ProjectName-Swift.h</code>ã€‚è¿™æ˜¯ç”±Xcodeè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªéšè—å¤´æ–‡ä»¶ï¼Œæ¯æ¬¡Buildçš„è¿‡ç¨‹ä¼šå°†Swiftä»£ç ä¸­å£°æ˜ä¸ºå¤–æ¥è°ƒç”¨çš„éƒ¨åˆ†è½¬æˆOCä»£ç ï¼ŒOCéƒ¨åˆ†çš„æ–‡ä»¶ä¼šç±»ä¼¼<code>pch</code>ä¸€æ ·å…¨å±€å¼•ç”¨è¿™ä¸ªå¤´æ–‡ä»¶ã€‚å› ä¸ºæ˜¯Buildè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼Œæ‰€ä»¥åªæœ‰<code>.m</code>æ–‡ä»¶ä¸­å¯ä»¥ç›´æ¥å¼•ç”¨ï¼Œå¯¹äºåœ¨<code>.h</code>æ–‡ä»¶ä¸­çš„å¼•ç”¨ä¸‹æ–‡æœ‰ä»‹ç»ã€‚</p>\n<h3 id=\"Appdelegate-ç¨‹åºå…¥å£\"><a href=\"#Appdelegate-ç¨‹åºå…¥å£\" class=\"headerlink\" title=\"Appdelegate(ç¨‹åºå…¥å£)\"></a>Appdelegate(ç¨‹åºå…¥å£)</h3><p>Swiftä¸­æ²¡æœ‰<code>main.m</code>æ–‡ä»¶ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯<code>@UIApplicationMain</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ç­‰æ•ˆäºåŸæœ‰çš„æ‰§è¡Œ<code>main.m</code>ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠ<code>main.m</code>æ–‡ä»¶è¿›è¡Œç§»é™¤ã€‚</p>\n<h3 id=\"ç³»ç»ŸAPI\"><a href=\"#ç³»ç»ŸAPI\" class=\"headerlink\" title=\"ç³»ç»ŸAPI\"></a>ç³»ç»ŸAPI</h3><p>å¯¹äº<code>UIKit</code>æ¡†æ¶ä¸­çš„å¤§éƒ¨åˆ†ä»£ç è½¬æ¢å¯ä»¥ç›´æ¥æŸ¥çœ‹ç³»ç»ŸAPIæ–‡æ¡£è¿›è¡Œè½¬æ¢ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»ã€‚</p>\n<h3 id=\"property-å±æ€§\"><a href=\"#property-å±æ€§\" class=\"headerlink\" title=\"property(å±æ€§)\"></a>property(å±æ€§)</h3><p>Swiftæ²¡æœ‰<code>property</code>ï¼Œä¹Ÿæ²¡æœ‰<code>copy</code>ï¼Œ<code>nonatomic</code>ç­‰å±æ€§ä¿®é¥°è¯ï¼Œåªæœ‰è¡¨ç¤ºå±æ€§æ˜¯å¦å¯å˜çš„<code>let</code>å’Œ<code>var</code>ã€‚</p>\n<p><strong>æ³¨æ„ç‚¹ä¸€</strong><br>OCä¸­ä¸€ä¸ªç±»åˆ†<code>.h</code>å’Œ<code>.m</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«è¡¨ç¤ºç”¨äºæš´éœ²ç»™å¤–æ¥çš„æ–¹æ³•ï¼Œå˜é‡å’Œä»…ä¾›å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•å˜é‡ã€‚è¿ç§»åˆ°Swiftæ—¶ï¼Œåº”è¯¥å°†<code>.m</code>ä¸­çš„propertyæ ‡ä¸º<code>private</code>ï¼Œå³å¤–æ¥æ— æ³•ç›´æ¥è®¿é—®ï¼Œå¯¹äº<code>.h</code>ä¸­çš„propertyä¸åšå¤„ç†ï¼Œå–é»˜è®¤çš„<code>internal</code>ï¼Œå³åŒæ¨¡å—å¯è®¿é—®ã€‚</p>\n<p>å¯¹äºå‡½æ•°çš„è¿ç§»ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</p>\n<p><strong>æ³¨æ„ç‚¹äºŒ</strong><br>æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µæ˜¯åœ¨OCé¡¹ç›®ä¸­ï¼ŒæŸäº›å±æ€§åœ¨å†…éƒ¨ï¼ˆ<code>.m</code>ï¼‰å¯å˜ï¼Œå¤–éƒ¨ï¼ˆ<code>.h</code>ï¼‰åªè¯»ã€‚è¿™ç§æƒ…å†µå¯ä»¥è¿™ä¹ˆå¤„ç†ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span>(<span class=\"keyword\">set</span>) <span class=\"keyword\">var</span> value: <span class=\"type\">String</span></span><br></pre></td></tr></table></figure>\n<p>å°±æ˜¯åªå¯¹<code>value</code>çš„<code>set</code>æ–¹æ³•å°±è¡Œ<code>private</code>æ ‡è®°ã€‚</p>\n<p><strong>æ³¨æ„ç‚¹ä¸‰</strong><br>Swiftä¸­é’ˆå¯¹ç©ºç±»å‹æœ‰ä¸ªä¸“é—¨çš„ç¬¦å·<code>?</code>ï¼Œå¯¹åº”OCä¸­çš„<code>nil</code>ã€‚OCä¸­æ²¡æœ‰è¿™ä¸ªç¬¦å·ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨<code>nullable</code>å’Œ<code>nonnull</code>è¡¨ç¤ºè¯¥ç§å±æ€§ï¼Œæ–¹æ³•å‚æ•°æˆ–è€…è¿”å›å€¼æ˜¯å¦å¯ä»¥ç©ºã€‚</p>\n<p>å¦‚æœOCä¸­æ²¡æœ‰å£°æ˜ä¸€ä¸ªå±æ€§æ˜¯å¦å¯ä»¥ä¸ºç©ºï¼Œé‚£å°±å»é»˜è®¤å€¼<code>nonnull</code>ã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬æƒ³è®©ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§ï¼Œå‡½æ•°è¿”å›å€¼éƒ½æ˜¯<code>nonnull</code>ï¼Œé™¤äº†æ‰‹åŠ¨ä¸€ä¸ªä¸ªæ·»åŠ ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªå®å‘½ä»¤ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NS_ASSUME_NONNULL_BEGIN</span><br><span class=\"line\">&#x2F;* code *&#x2F;</span><br><span class=\"line\">NS_ASSUME_NONNULL_END</span><br></pre></td></tr></table></figure>\n<h4 id=\"enumï¼ˆæšä¸¾ï¼‰\"><a href=\"#enumï¼ˆæšä¸¾ï¼‰\" class=\"headerlink\" title=\"enumï¼ˆæšä¸¾ï¼‰\"></a>enumï¼ˆæšä¸¾ï¼‰</h4><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typedef NS_ENUM(NSInteger, PlayerState) &#123;</span><br><span class=\"line\">    PlayerStateNone &#x3D; 0,</span><br><span class=\"line\">    PlayerStatePlaying,</span><br><span class=\"line\">    PlayerStatePause,</span><br><span class=\"line\">    PlayerStateBuffer,</span><br><span class=\"line\">    PlayerStateFailed,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">typedef NS_OPTIONS(NSUInteger, XXViewAnimationOptions) &#123;</span><br><span class=\"line\">    XXViewAnimationOptionNone            &#x3D; 1 &lt;&lt;  0,</span><br><span class=\"line\">    XXViewAnimationOptionSelcted1      \t &#x3D; 1 &lt;&lt;  1,</span><br><span class=\"line\">    XXViewAnimationOptionSelcted2      \t &#x3D; 1 &lt;&lt;  2,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Swiftä»£ç </p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">enum</span> <span class=\"title\">PlayerState</span>: <span class=\"title\">Int</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"keyword\">none</span> = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> playing</span><br><span class=\"line\">    <span class=\"keyword\">case</span> pause</span><br><span class=\"line\">    <span class=\"keyword\">case</span> buffer</span><br><span class=\"line\">    <span class=\"keyword\">case</span> failed</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">ViewAnimationOptions</span>: <span class=\"title\">OptionSet</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> rawValue: <span class=\"type\">UInt</span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">let</span> <span class=\"type\">None</span> = <span class=\"type\">ViewAnimationOptions</span>(rawValue: <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">let</span> <span class=\"type\">Selected1</span> = <span class=\"type\">ViewAnimationOptions</span>(rawValue: <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"keyword\">let</span> <span class=\"type\">Selected2</span> = <span class=\"type\">ViewAnimationOptions</span>(rawValue: <span class=\"number\">1</span> &lt;&lt; <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Swiftæ²¡æœ‰<code>NS_OPTIONS</code>çš„æ¦‚å¿µï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸ºäº†æ»¡è¶³<code>OptionSet</code>åè®®çš„<code>struct</code>ç±»å‹ã€‚</p>\n<h4 id=\"æ‡’åŠ è½½\"><a href=\"#æ‡’åŠ è½½\" class=\"headerlink\" title=\"æ‡’åŠ è½½\"></a>æ‡’åŠ è½½</h4><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (MTObject *)object &#123;</span><br><span class=\"line\">    if (!_object) &#123;</span><br><span class=\"line\">        _object &#x3D; [MTObject new];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return _object;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Swiftä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">lazy</span> <span class=\"keyword\">var</span> object: <span class=\"type\">MTObject</span> = &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> object = <span class=\"type\">MTObject</span>()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> imagobjecteView</span><br><span class=\"line\">&#125;()</span><br></pre></td></tr></table></figure>\n<h3 id=\"é—­åŒ…\"><a href=\"#é—­åŒ…\" class=\"headerlink\" title=\"é—­åŒ…\"></a>é—­åŒ…</h3><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typedef void (^DownloadStateBlock)(BOOL isComplete);</span><br></pre></td></tr></table></figure>\n<p>Swiftä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typealias</span> <span class=\"type\">DownloadStateBlock</span> = ((<span class=\"number\">_</span> isComplete: <span class=\"type\">Bool</span>) -&gt; <span class=\"type\">Void</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å•ä¾‹\"><a href=\"#å•ä¾‹\" class=\"headerlink\" title=\"å•ä¾‹\"></a>å•ä¾‹</h3><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ (XXManager *)shareInstance &#123;</span><br><span class=\"line\">    static dispatch_once_t onceToken;</span><br><span class=\"line\">    dispatch_once(&amp;onceToken, ^&#123;</span><br><span class=\"line\">        instance &#x3D; [[self alloc] init];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return instance;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Swiftå¯¹å•ä¾‹çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<p><strong>ç¬¬ä¸€ç§</strong></p>\n <figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> shared = <span class=\"type\">XXManager</span>()<span class=\"comment\">// å£°æ˜åœ¨å…¨å±€å‘½ååŒºï¼ˆglobal namespaceï¼‰</span></span><br><span class=\"line\"><span class=\"type\">Class</span> <span class=\"type\">XXManager</span> &#123; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½ å¯èƒ½ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰<code>dispatch_once</code>ï¼Œå¦‚ä½•ä¿è¯å¤šçº¿ç¨‹ä¸‹åˆ›å»ºçš„å”¯ä¸€æ€§ï¼Ÿå…¶å®æ˜¯è¿™æ ·çš„ï¼ŒSwiftä¸­å…¨å±€å˜é‡æ˜¯æ‡’åŠ è½½ï¼Œåœ¨AppDelegateä¸­è¢«åˆå§‹åŒ–ï¼Œä¹‹åæ‰€æœ‰çš„è°ƒç”¨éƒ½ä¼šä½¿ç”¨è¯¥å®ä¾‹ã€‚è€Œä¸”å…¨å±€å˜é‡çš„åˆå§‹åŒ–æ˜¯é»˜è®¤ä½¿ç”¨<code>dispatch_once</code>çš„ï¼Œè¿™ä¿è¯äº†å…¨å±€å˜é‡çš„æ„é€ å™¨ï¼ˆinitializerï¼‰åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä¿è¯äº†<code>shard</code>çš„<strong>åŸå­æ€§</strong>ã€‚</p>\n<p><strong>ç¬¬äºŒç§</strong></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Class</span> <span class=\"type\">XXManager</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">static</span> <span class=\"keyword\">let</span> shared = <span class=\"type\">XXManager</span>()</span><br><span class=\"line\">  \t<span class=\"keyword\">private</span> <span class=\"keyword\">override</span> <span class=\"keyword\">init</span>() &#123;</span><br><span class=\"line\">   \t\t<span class=\"comment\">// do something </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Swift 2 å¼€å§‹å¢åŠ äº†<code>static</code>å…³é”®å­—ï¼Œç”¨äºé™å®šå˜é‡çš„ä½œç”¨åŸŸã€‚å¦‚æœä¸ä½¿ç”¨<code>static</code>ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ª<code>shared</code>éƒ½ä¼šå¯¹åº”ä¸€ä¸ªå®ä¾‹ã€‚è€Œä½¿ç”¨<code>static</code>ä¹‹åï¼Œ<code>shared</code>æˆä¸ºå…¨å±€å˜é‡ï¼Œå°±æˆäº†è·Ÿä¸Šé¢ç¬¬ä¸€ç§æ–¹å¼åŸç†ä¸€è‡´ã€‚å¯ä»¥æ³¨æ„åˆ°ï¼Œç”±äºæ„é€ å™¨ä½¿ç”¨äº† <code>private</code> å…³é”®å­—ï¼Œæ‰€ä»¥ä¹Ÿä¿è¯äº†å•ä¾‹çš„åŸå­æ€§ã€‚</p>\n<h3 id=\"åˆå§‹åŒ–æ–¹æ³•å’Œææ„å‡½æ•°\"><a href=\"#åˆå§‹åŒ–æ–¹æ³•å’Œææ„å‡½æ•°\" class=\"headerlink\" title=\"åˆå§‹åŒ–æ–¹æ³•å’Œææ„å‡½æ•°\"></a>åˆå§‹åŒ–æ–¹æ³•å’Œææ„å‡½æ•°</h3><p>å¯¹äºåˆå§‹åŒ–æ–¹æ³•OCå…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œç„¶ååˆå§‹è‡ªå·±çš„æˆå‘˜å˜é‡ã€‚Swiftå…ˆåˆå§‹åŒ–è‡ªå·±çš„æˆå‘˜å˜é‡ï¼Œç„¶ååœ¨è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚</p>\n<p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; åˆå§‹åŒ–æ–¹æ³•</span><br><span class=\"line\">@interface MainView : UIView</span><br><span class=\"line\">@property (nonatomic, strong) NSString *title;</span><br><span class=\"line\">- (instancetype)initWithFrame:(CGRect)frame title:(NSString *)title NS_DESIGNATED_INITIALIZER;</span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation MainView</span><br><span class=\"line\">- (instancetype)initWithFrame:(CGRect)frame title:(NSString *)title &#123;</span><br><span class=\"line\">    if (self &#x3D; [super initWithFrame:frame]) &#123;</span><br><span class=\"line\">        self.title &#x3D; title;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return self;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">@end</span><br><span class=\"line\">&#x2F;&#x2F; ææ„å‡½æ•°</span><br><span class=\"line\">- (void)dealloc &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;dealloc</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Swiftä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainViewSwift</span>: <span class=\"title\">UIView</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> title: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(frame: <span class=\"type\">CGRect</span>, title: <span class=\"type\">String</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.title = title</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.<span class=\"keyword\">init</span>(frame: frame)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">required</span> <span class=\"keyword\">init</span>?(coder: <span class=\"type\">NSCoder</span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">fatalError</span>(<span class=\"string\">\"init(coder:) has not been implemented\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">deinit</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//deinit</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å‡½æ•°è°ƒç”¨\"><a href=\"#å‡½æ•°è°ƒç”¨\" class=\"headerlink\" title=\"å‡½æ•°è°ƒç”¨\"></a>å‡½æ•°è°ƒç”¨</h3><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; å®ä¾‹å‡½æ•°ï¼ˆå…±æœ‰æ–¹æ³•ï¼‰</span><br><span class=\"line\">- (void)configModelWith:(XXModel *)model &#123;&#125;</span><br><span class=\"line\">&#x2F;&#x2F; å®ä¾‹å‡½æ•°ï¼ˆç§æœ‰æ–¹æ³•ï¼‰</span><br><span class=\"line\">- (void)calculateProgress &#123;&#125;</span><br><span class=\"line\">&#x2F;&#x2F; ç±»å‡½æ•°</span><br><span class=\"line\">+ (void)configModelWith:(XXModel *)model &#123;&#125;</span><br></pre></td></tr></table></figure>\n<p>Swiftä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å®ä¾‹å‡½æ•°ï¼ˆå…±æœ‰æ–¹æ³•ï¼‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">configModel</span><span class=\"params\">(with model: XXModel)</span></span> &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// å®ä¾‹å‡½æ•°ï¼ˆç§æœ‰æ–¹æ³•ï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">calculateProgress</span><span class=\"params\">()</span></span> &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç±»å‡½æ•°ï¼ˆä¸å¯ä»¥è¢«å­ç±»é‡å†™ï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">configModel</span><span class=\"params\">(with model: XXModel)</span></span> &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç±»å‡½æ•°ï¼ˆå¯ä»¥è¢«å­ç±»é‡å†™ï¼‰</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">func</span> <span class=\"title\">configModel</span>(<span class=\"title\">with</span> <span class=\"title\">model</span>: <span class=\"title\">XXModel</span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç±»å‡½æ•°ï¼ˆä¸å¯ä»¥è¢«å­ç±»é‡å†™ï¼‰</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">final</span> <span class=\"title\">func</span> <span class=\"title\">configModel</span>(<span class=\"title\">with</span> <span class=\"title\">model</span>: <span class=\"title\">XXModel</span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<p>OCå¯ä»¥é€šè¿‡æ˜¯å¦å°†æ–¹æ³•å£°æ˜åœ¨<code>.h</code>æ–‡ä»¶è¡¨æ˜è¯¥æ–¹æ³•æ˜¯å¦ä¸ºç§æœ‰æ–¹æ³•ã€‚Swiftä¸­æ²¡æœ‰äº†<code>.h</code>æ–‡ä»¶ï¼Œå¯¹äºæ–¹æ³•çš„æƒé™æ§åˆ¶æ˜¯é€šè¿‡æƒé™å…³é”®è¯è¿›è¡Œçš„ï¼Œå„å…³é”®è¯æƒé™å¤§å°ä¸ºï¼š<br><code>private &lt; fileprivate &lt; internal &lt; public &lt; open</code></p>\n<p>å…¶ä¸­<code>internal</code>ä¸ºé»˜è®¤æƒé™ï¼Œå¯ä»¥åœ¨åŒä¸€<code>module</code>ä¸‹è®¿é—®ã€‚</p>\n<h3 id=\"NSNotification-é€šçŸ¥\"><a href=\"#NSNotification-é€šçŸ¥\" class=\"headerlink\" title=\"NSNotification(é€šçŸ¥)\"></a>NSNotification(é€šçŸ¥)</h3><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; add observer</span><br><span class=\"line\">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(method) name:@&quot;NotificationName&quot; object:nil];</span><br><span class=\"line\">&#x2F;&#x2F; post</span><br><span class=\"line\">[NSNotificationCenter.defaultCenter postNotificationName:@&quot;NotificationName&quot; object:nil];</span><br></pre></td></tr></table></figure>\n\n<p>Swiftä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// add observer</span></span><br><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.addObserver(<span class=\"keyword\">self</span>, selector: #selector(method), name: <span class=\"type\">NSNotification</span>.<span class=\"type\">Name</span>(rawValue: <span class=\"string\">\"NotificationName\"</span>), object: <span class=\"literal\">nil</span>)</span><br><span class=\"line\"><span class=\"comment\">// post</span></span><br><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.post(name: <span class=\"type\">NSNotification</span>.<span class=\"type\">Name</span>(rawValue: <span class=\"string\">\"NotificationName\"</span>), object: <span class=\"keyword\">self</span>)</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥æ³¨æ„åˆ°ï¼ŒSwiftä¸­é€šçŸ¥ä¸­å¿ƒ<code>NotificationCenter</code>ä¸å¸¦<code>NS</code>å‰ç¼€ï¼Œé€šçŸ¥åç”±å­—ç¬¦ä¸²å˜æˆäº†<code>NSNotification.Name</code>çš„ç»“æ„ä½“ã€‚</p>\n<p>æ”¹æˆç»“æ„ä½“çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä¾¿äºç®¡ç†å­—ç¬¦ä¸²ï¼ŒåŸæœ¬çš„å­—ç¬¦ä¸²ç±»å‹å˜æˆäº†æŒ‡å®šçš„<code>NSNotification.Name</code>ç±»å‹ã€‚ä¸Šé¢çš„Swiftä»£ç å¯ä»¥ä¿®æ”¹ä¸ºï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">NSNotification</span>.<span class=\"title\">Name</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"keyword\">let</span> <span class=\"type\">NotificationName</span> = <span class=\"type\">NSNotification</span>.<span class=\"type\">Name</span>(<span class=\"string\">\"NotificationName\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// add observer</span></span><br><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.addObserver(<span class=\"keyword\">self</span>, selector: #selector(method), name: .<span class=\"type\">NotificationName</span>, object: <span class=\"literal\">nil</span>)</span><br><span class=\"line\"><span class=\"comment\">// post</span></span><br><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.post(name: .<span class=\"type\">NotificationName</span>, object: <span class=\"keyword\">self</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"protocol-åè®®-ä»£ç†\"><a href=\"#protocol-åè®®-ä»£ç†\" class=\"headerlink\" title=\"protocol(åè®®/ä»£ç†)\"></a>protocol(åè®®/ä»£ç†)</h3><p>OCä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@protocol XXManagerDelegate &lt;NSObject&gt;</span><br><span class=\"line\">- (void)downloadFileFailed:(NSError *)error;</span><br><span class=\"line\">@optional</span><br><span class=\"line\">- (void)downloadFileComplete;</span><br><span class=\"line\">@end</span><br><span class=\"line\">  </span><br><span class=\"line\">@interface XXManager: NSObject</span><br><span class=\"line\">@property (nonatomic, weak) id&lt;XXManagerDelegate&gt; delegate;  </span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n<p>Swiftä¸­å¯¹<code>protocol</code>çš„ä½¿ç”¨æ‹“å®½äº†è®¸å¤šï¼Œä¸å…‰æ˜¯<code>class</code>å¯¹è±¡ï¼Œ<code>struct</code>å’Œ<code>enum</code>ä¹Ÿéƒ½å¯ä»¥å®ç°åè®®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯<code>struct</code>å’Œ<code>enum</code>ä¸ºæŒ‡å¼•ç”¨ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨<code>weak</code>ä¿®é¥°ã€‚åªæœ‰æŒ‡å®šå½“å‰ä»£ç†åªæ”¯æŒç±»å¯¹è±¡ï¼Œæ‰èƒ½ä½¿ç”¨<code>weak</code>ã€‚å°†ä¸Šé¢çš„ä»£ç è½¬æˆå¯¹åº”çš„Swiftä»£ç ï¼Œå°±æ˜¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@objc</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">XXManagerDelegate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">downloadFailFailed</span><span class=\"params\">(error: Error)</span></span></span><br><span class=\"line\">    <span class=\"meta\">@objc</span> <span class=\"keyword\">optional</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">downloadFileComplete</span><span class=\"params\">()</span></span> <span class=\"comment\">// å¯é€‰åè®®çš„å®ç°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XXManager</span>: <span class=\"title\">NSObject</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> delegate: <span class=\"type\">XXManagerDelegate</span>?  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>@objc</code>æ˜¯è¡¨æ˜å½“å‰ä»£ç æ˜¯é’ˆå¯¹<code>NSObject</code>å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>class</code>å¯¹è±¡ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨weakäº†ã€‚</p>\n<p>å¦‚æœä¸æ˜¯é’ˆå¯¹NSObjectå¯¹è±¡çš„delegateï¼Œä»…ä»…æ˜¯æ™®é€šçš„classå¯¹è±¡å¯ä»¥è¿™æ ·è®¾ç½®ä»£ç†ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">XXManagerDelegate</span>: <span class=\"title\">class</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">downloadFailFailed</span><span class=\"params\">(error: Error)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XXManager</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> delegate: <span class=\"type\">XXManagerDelegate</span>?</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»…<code>@objc</code>æ ‡è®°çš„<code>protocol</code>å¯ä»¥ä½¿ç”¨<code>@optional</code>ã€‚</p>\n<h2 id=\"Swiftå’ŒOCæ··ç¼–æ³¨æ„äº‹é¡¹\"><a href=\"#Swiftå’ŒOCæ··ç¼–æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"Swiftå’ŒOCæ··ç¼–æ³¨æ„äº‹é¡¹\"></a>Swiftå’ŒOCæ··ç¼–æ³¨æ„äº‹é¡¹</h2><h3 id=\"å‡½æ•°åçš„å˜åŒ–\"><a href=\"#å‡½æ•°åçš„å˜åŒ–\" class=\"headerlink\" title=\"å‡½æ•°åçš„å˜åŒ–\"></a>å‡½æ•°åçš„å˜åŒ–</h3><p>å¦‚æœä½ åœ¨ä¸€ä¸ªSwiftç±»é‡Œå®šä¹‰äº†ä¸€ä¸ªdelegateæ–¹æ³•ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@objc</span> <span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">MarkButtonDelegate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">clickBtn</span><span class=\"params\">(title: String)</span></span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ è¦åœ¨OCä¸­å®ç°è¿™ä¸ªåè®®ï¼Œè¿™æ—¶å€™æ–¹æ³•åå°±å˜æˆäº†ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)clickBtnWithTitle:(NSString *)title &#123;</span><br><span class=\"line\">\t\t&#x2F;&#x2F; code</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸»è¦æ˜¯å› ä¸ºSwiftæœ‰æŒ‡å®šå‚æ•°æ ‡ç­¾ï¼ŒOCå´æ²¡æœ‰ï¼Œæ‰€ä»¥åœ¨ç”±Swiftæ–¹æ³•åç”ŸæˆOCæ–¹æ³•åæ—¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åŠ ä¸€äº›ä¿®é¥°è¯ï¼Œå·²ä½¿å‡½æ•°ä½œä¸ºä¸€ä¸ªå¥å­å¯ä»¥â€é€šé¡ºâ€ã€‚</p>\n<h3 id=\"åœ¨OCçš„å¤´æ–‡ä»¶é‡Œè°ƒç”¨Swiftç±»\"><a href=\"#åœ¨OCçš„å¤´æ–‡ä»¶é‡Œè°ƒç”¨Swiftç±»\" class=\"headerlink\" title=\"åœ¨OCçš„å¤´æ–‡ä»¶é‡Œè°ƒç”¨Swiftç±»\"></a>åœ¨OCçš„å¤´æ–‡ä»¶é‡Œè°ƒç”¨Swiftç±»</h3><p>å¦‚æœè¦åœ¨OCçš„å¤´æ–‡ä»¶é‡Œå¼•ç”¨Swiftç±»ï¼Œå› ä¸ºSwiftæ²¡æœ‰å¤´æ–‡ä»¶ï¼Œè€Œä¸ºäº†è®©åœ¨å¤´æ–‡ä»¶èƒ½å¤Ÿè¯†åˆ«è¯¥Swiftç±»ï¼Œéœ€è¦é€šè¿‡<code>@class</code>çš„æ–¹æ³•å¼•å…¥ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SwiftClass</span>;</span></span><br><span class=\"line\"><span class=\"class\"></span></span><br><span class=\"line\"><span class=\"class\">@<span class=\"title\">interface</span> <span class=\"title\">XXOCClass</span>: <span class=\"title\">NSObject</span></span></span><br><span class=\"line\"><span class=\"class\">@<span class=\"title\">property</span> (<span class=\"title\">nonatomic</span>, <span class=\"title\">strong</span>) <span class=\"title\">SwiftClass</span> *<span class=\"title\">object</span>;</span></span><br><span class=\"line\"><span class=\"class\">@<span class=\"title\">end</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯¹OCç±»åœ¨Swiftè°ƒç”¨ä¸‹é‡å‘½å\"><a href=\"#å¯¹OCç±»åœ¨Swiftè°ƒç”¨ä¸‹é‡å‘½å\" class=\"headerlink\" title=\"å¯¹OCç±»åœ¨Swiftè°ƒç”¨ä¸‹é‡å‘½å\"></a>å¯¹OCç±»åœ¨Swiftè°ƒç”¨ä¸‹é‡å‘½å</h3><p>å› ä¸ºSwiftå¯¹ä¸åŒçš„moduleéƒ½æœ‰å‘½åç©ºé—´ï¼Œæ‰€ä»¥Swiftç±»éƒ½ä¸éœ€è¦æ·»åŠ å‰ç¼€ã€‚å¦‚æœæœ‰ä¸€ä¸ªå¸¦å‰ç¼€çš„OCå…¬å…±ç»„ä»¶ï¼Œåœ¨Swiftç¯å¢ƒä¸‹è°ƒç”¨æ—¶ä¸å¾—ä¸æŒ‡å®šå‰ç¼€æ˜¯ä¸€ä»¶å¾ˆä¸ä¼˜é›…çš„äº‹æƒ…ï¼Œæ‰€ä»¥è‹¹æœæ·»åŠ äº†ä¸€ä¸ªå®å‘½ä»¤<code>NS_SWIFT_NAME</code>ï¼Œå…è®¸åœ¨OCç±»åœ¨Swiftç¯å¢ƒä¸‹çš„é‡å‘½åï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NS_SWIFT_NAME(LoginManager)</span><br><span class=\"line\">@interface XXLoginManager: NSObject</span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æˆ‘ä»¬å°±å°†<code>XXLoginManager</code>åœ¨Swiftç¯å¢ƒä¸‹çš„ç±»åæ”¹ä¸ºäº†<code>LoginManager</code>ã€‚</p>\n<h3 id=\"å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹\"><a href=\"#å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹\" class=\"headerlink\" title=\"å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹\"></a>å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹</h3><p>1ã€  <code>struct</code> å’Œ <code>enum</code> æ˜¯å€¼ç±»å‹ï¼Œç±» <code>class</code> æ˜¯å¼•ç”¨ç±»å‹ã€‚<br>2ã€<code>String</code>ï¼Œ<code>Array</code>å’Œ <code>Dictionary</code>éƒ½æ˜¯ç»“æ„ä½“ï¼Œå› æ­¤èµ‹å€¼ç›´æ¥æ˜¯æ‹·è´ï¼Œè€Œ<code>NSString</code>, <code>NSArray</code> å’Œ<code>NSDictionary</code>åˆ™æ˜¯ç±»ï¼Œæ‰€ä»¥æ˜¯ä½¿ç”¨å¼•ç”¨çš„æ–¹å¼ã€‚<br>3ã€<code>struct</code> æ¯” <code>class</code> æ›´â€œè½»é‡çº§â€ï¼Œ<code>struct</code> åˆ†é…åœ¨æ ˆä¸­ï¼Œ<code>class</code> åˆ†é…åœ¨å †ä¸­ã€‚</p>\n<h3 id=\"idç±»å‹å’ŒAnyObject\"><a href=\"#idç±»å‹å’ŒAnyObject\" class=\"headerlink\" title=\"idç±»å‹å’ŒAnyObject\"></a>idç±»å‹å’ŒAnyObject</h3><p>OCä¸­<code>id</code>ç±»å‹è¢«Swiftè°ƒç”¨æ—¶ä¼šè‡ªåŠ¨è½¬æˆ<code>AnyObject</code>ï¼Œä»–ä»¬å¾ˆç›¸ä¼¼ï¼Œä½†å´å…¶å®æ¦‚å¿µå¹¶ä¸ä¸€è‡´ã€‚<br>AnyObjectå¯ä»¥ä»£è¡¨ä»»ä½•classç±»å‹çš„å®ä¾‹ï¼›</p>\n<h3 id=\"å…¶ä»–è¯­æ³•åŒºåˆ«åŠæ³¨æ„äº‹é¡¹ï¼ˆå¾…è¡¥å……ï¼‰\"><a href=\"#å…¶ä»–è¯­æ³•åŒºåˆ«åŠæ³¨æ„äº‹é¡¹ï¼ˆå¾…è¡¥å……ï¼‰\" class=\"headerlink\" title=\"å…¶ä»–è¯­æ³•åŒºåˆ«åŠæ³¨æ„äº‹é¡¹ï¼ˆå¾…è¡¥å……ï¼‰\"></a>å…¶ä»–è¯­æ³•åŒºåˆ«åŠæ³¨æ„äº‹é¡¹ï¼ˆå¾…è¡¥å……ï¼‰</h3><p>1ã€Swiftè¯­å¥ä¸­ä¸éœ€è¦åŠ åˆ†å·<code>;</code>ã€‚<br>2ã€å…³äºBoolç±»å‹æ›´åŠ ä¸¥æ ¼ï¼ŒSwiftä¸å†æ˜¯OCä¸­çš„é0å°±æ˜¯çœŸï¼ŒçœŸå‡åªå¯¹åº”<code>true</code>å’Œ<code>false</code>ã€‚<br>3ã€Swiftç±»å†…ä¸€èˆ¬ä¸éœ€è¦å†™<code>self</code>ï¼Œä½†æ˜¯é—­åŒ…å†…æ˜¯éœ€è¦å†™çš„ã€‚<br>4ã€Swiftæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå¿…é¡»è¦æŒ‡å®šæ˜ç¡®çš„ç±»å‹ã€‚åœ¨Swiftä¸­<code>Int</code>å’Œ<code>Float</code>æ˜¯ä¸èƒ½ç›´æ¥åšè¿ç®—çš„ï¼Œå¿…é¡»è¦å°†ä»–ä»¬è½¬æˆåŒä¸€ç±»å‹æ‰å¯ä»¥è¿ç®—ã€‚<br>5ã€SwiftæŠ›å¼ƒäº†ä¼ ç»Ÿçš„<code>++</code>ï¼Œ<code>--</code>è¿ç®—ï¼ŒæŠ›å¼ƒäº†ä¼ ç»Ÿçš„Cè¯­è¨€å¼çš„<code>for</code>å¾ªç¯å†™æ³•ï¼Œè€Œæ”¹ä¸º<code>for-in</code>ã€‚<br>6ã€Swiftçš„<code>switch</code>æ“ä½œï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªcaseè¯­å¥ç»“æŸçš„æ—¶å€™éƒ½æ·»åŠ <code>break</code>ã€‚<br>7ã€Swiftå¯¹<code>enum</code>çš„ä½¿ç”¨åšäº†å¾ˆå¤§çš„æ‰©å±•ï¼Œå¯ä»¥æ”¯æŒä»»æ„ç±»å‹ï¼Œè€ŒOCæšä¸¾ä»…æ”¯æŒ<code>Int</code>ç±»å‹ï¼Œå¦‚æœè¦å†™å…¼å®¹ä»£ç ï¼Œè¦é€‰æ‹©Intå‹æšä¸¾ã€‚<br>8ã€Swiftä»£ç è¦æƒ³è¢«OCè°ƒç”¨ï¼Œéœ€è¦åœ¨å±æ€§å’Œæ–¹æ³•åå‰é¢åŠ ä¸Š<code>@objc</code>ã€‚<br>9ã€Swiftç‹¬æœ‰çš„ç‰¹æ€§ï¼Œå¦‚æ³›å‹ï¼Œ<code>struct</code>ï¼ŒéIntå‹çš„<code>enum</code>ç­‰è¢«åŒ…å«æ‰å‡½æ•°å‚æ•°ä¸­ï¼Œå³ä½¿æ·»åŠ <code>@objc</code>ä¹Ÿä¸ä¼šè¢«ç¼–è¯‘å™¨é€šè¿‡ã€‚<br>10ã€Swiftæ”¯æŒé‡è½½ï¼ŒOCä¸æ”¯æŒã€‚<br>11ã€å¸¦é»˜è®¤å€¼çš„Swiftå‡½æ•°å†è¢«OCè°ƒç”¨æ—¶ä¼šè‡ªåŠ¨å±•å¼€ã€‚</p>\n<h2 id=\"è¯­æ³•æ£€æŸ¥\"><a href=\"#è¯­æ³•æ£€æŸ¥\" class=\"headerlink\" title=\"è¯­æ³•æ£€æŸ¥\"></a>è¯­æ³•æ£€æŸ¥</h2><p>å¯¹äºOCè½¬Swiftä¹‹åçš„è¯­æ³•å˜åŒ–è¿˜æœ‰å¾ˆå¤šç»†èŠ‚å€¼å¾—æ³¨æ„ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåˆæ¬¡ä½¿ç”¨Swiftè¿™é—¨è¯­è¨€çš„åŒå­¦ï¼Œå¾ˆå®¹æ˜“é—æ¼æˆ–è€…å¾…ç€OCçš„æ€æƒ³å»å†™ä»£ç ã€‚è¿™é‡Œæ¨èä¸€ä¸ªè¯­æ³•æ£€æŸ¥çš„æ¡†æ¶<a href=\"https://github.com/realm/SwiftLint\">SwiftLint</a>ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–çš„æ£€æŸ¥æˆ‘ä»¬çš„ä»£ç æ˜¯å¦ç¬¦åˆSwiftè§„èŒƒã€‚</p>\n<p>å¯ä»¥é€šè¿‡<code>cocoapods</code>è¿›è¡Œå¼•å…¥ï¼Œé…ç½®å¥½ä¹‹åï¼Œæ¯æ¬¡<code>Build</code>çš„è¿‡ç¨‹ï¼ŒLintè„šæœ¬éƒ½ä¼šæ‰§è¡Œä¸€éSwiftä»£ç çš„è¯­æ³•æ£€æŸ¥æ“ä½œï¼ŒLintè¿˜ä¼šå°†ä»£ç è§„èŒƒè¿›è¡Œåˆ†çº§ï¼Œä¸¥é‡çš„ä»£ç é”™è¯¯ä¼šç›´æ¥æŠ¥é”™ï¼Œå¯¼è‡´ç¨‹åºæ— æ³•å¯åŠ¨ï¼Œä¸å¤ªä¸¥é‡çš„ä¼šæ˜¾ç¤ºä»£ç è­¦å‘Šï¼ˆâš ï¸ï¼‰ã€‚</p>\n<p>å¦‚æœä½ æ„Ÿè§‰SwiftLintæœ‰ç‚¹è¿‡äºä¸¥æ ¼äº†ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹<code>.swiftlint.yml</code>æ–‡ä»¶ï¼Œè‡ªå®šä¹‰å±äºè‡ªå·±çš„è¯­æ³•è§„èŒƒã€‚</p>\n","categories":[],"tags":["iOS"]},{"title":"ã€è¯‘ã€‘iOS æ¶æ„æ¨¡å¼--æµ…æMVC, MVP, MVVM å’Œ VIPER","url":"http://zhangferry.github.io/2019/11/22/ios_architecture_patterns/","content":"<blockquote>\n<p>ä½œè€…ï¼šBohdan Orlov<br>åŸæ–‡åœ°å€ï¼š<a href=\"https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52\">https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52</a></p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191122154526.png\" alt=\"\"></p>\n<p>åœ¨iOSå¼€å‘è¿‡ç¨‹ä¸­ä½ æ˜¯å¦å¯¹MVCçš„ä½¿ç”¨æ„Ÿè§‰å¾ˆåˆ«æ‰­ï¼Ÿä½ æ˜¯å¦å¯¹è½¬å‘MVVMæœ‰ç–‘æƒ‘ï¼Ÿä½ å¬è¯´è¿‡VIPERï¼Œä½†ä¸æ¸…æ¥šè¿™ä¸ªä¸œè¥¿æ˜¯å¦å€¼å¾—ä¸€è¯•ã€‚</p>\n<p>æ¥ç€è¯»ä¸‹å»ï¼Œä½ ä¼šæ‰¾åˆ°ä¸Šé¢è¿™äº›é—®é¢˜çš„ç­”æ¡ˆã€‚å¦‚æœè¯»å®Œä»ä¸èƒ½è§£æƒ‘ï¼Œæ¬¢è¿åˆ°è¯„è®ºåŒºæ¶æˆ‘ã€‚</p>\n<p>æ¥ä¸‹æ¥ä½ å°†åœ¨iOSç¯å¢ƒä¸‹æ„å»ºå…³äºæ¶æ„æ¨¡å¼çš„çŸ¥è¯†ä½“ç³»ã€‚æˆ‘ä»¬å°†ç®€è¦æ„å»ºä¸€äº›ç»å…¸çš„ä¾‹å­ï¼Œå¹¶åœ¨ç†è®ºå’Œå®è·µä¸Šè¿›è¡Œæ¯”è¾ƒä»–ä»¬çš„ä¸åŒã€‚å¦‚æœä½ éœ€è¦æ›´å¤šå…³äºä»»ä½•ä¸€ä¸ªç‰¹å®šçš„ç»†èŠ‚ï¼Œè¯·å…³æ³¨æˆ‘ã€‚</p>\n<a id=\"more\"></a>\n\n<p>æŒæ¡è®¾è®¡æ¨¡å¼å®¹æ˜“è®©äººä¸Šç˜¾ï¼Œæ‰€ä»¥è¦æ³¨æ„ï¼šé˜…è¯»æœ¬æ–‡ä¹‹å‰è¦é—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼š</p>\n<blockquote>\n<p>è°åº”è¯¥æŒæœ‰ç½‘ç»œè¯·æ±‚ï¼šModelè¿˜æ˜¯Controller?</p>\n<p>å¦‚ä½•åœ¨ä¸€ä¸ªæ–°çš„Viewä¸­å‘ViewModelä¼ é€’Model</p>\n<p>è°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„VIPERæ¨¡å—ï¼šRouterè¿˜æ˜¯Presenter</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191122152602.png\" alt=\"\"></p>\n<hr>\n<h2 id=\"ä¸ºä»€ä¹ˆåº”è¯¥å…³å¿ƒé€‰ç”¨ä½•ç§æ¶æ„\"><a href=\"#ä¸ºä»€ä¹ˆåº”è¯¥å…³å¿ƒé€‰ç”¨ä½•ç§æ¶æ„\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆåº”è¯¥å…³å¿ƒé€‰ç”¨ä½•ç§æ¶æ„\"></a>ä¸ºä»€ä¹ˆåº”è¯¥å…³å¿ƒé€‰ç”¨ä½•ç§æ¶æ„</h2><p>å› ä¸ºå¦‚æœä½ ä¸è¿™ä¹ˆåšçš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ï¼Œç­‰è¿™ä¸ªç±»åºå¤§åˆ°åŒæ—¶å¤„ç†åå‡ ç§äº‹åŠ¡ï¼Œä½ ä¼šå‘ç°ä½ æ ¹æœ¬æ— æ³•ä»ä¸­æ‰¾åˆ°å¯¹åº”ä»£ç å¹¶ä¿®æ”¹bugã€‚å½“ç„¶ï¼Œå°†è¿™æ•´ä¸ªç±»äº†ç„¶äºå¿ƒæ˜¯å¾ˆéš¾çš„ï¼Œä½ ä¼šå¸¸å¸¸å¿˜è®°ä¸€äº›é‡è¦çš„ç»†èŠ‚ã€‚å¦‚æœä½ çš„ç¨‹åºå·²ç»å¤„äºè¿™ç§çŠ¶æ€äº†ï¼Œé‚£å®ƒå¾ˆå¯èƒ½å…·æœ‰ä¸‹é¢è¿™äº›ç‰¹å¾ï¼š</p>\n<ul>\n<li>è¿™ä¸ªç±»æ˜¯UIViewControllerçš„å­ç±»</li>\n<li>ä½ çš„æ•°æ®ç›´æ¥åœ¨UIViewControllerä¸­è¿›è¡Œå­˜å‚¨</li>\n<li>ä½ çš„UIViewåŸºæœ¬ä»€ä¹ˆéƒ½æ²¡åš</li>\n<li>ä½ çš„Modelåªæ˜¯ä¸€ä¸ªå•çº¯çš„æ•°æ®ç»“æ„</li>\n<li>ä½ çš„å•å…ƒæµ‹è¯•æ²¡æœ‰è¦†ç›–ä»»ä½•ä»£ç </li>\n</ul>\n<p>å³ä½¿ä½ è®¤ä¸ºè‡ªå·±éµå®ˆäº†è‹¹æœçš„æŒ‡å¯¼ï¼Œå¹¶æŒ‰ç…§è‹¹æœæ¨èçš„MVCè®¾è®¡è§„èŒƒè¿›è¡Œå¼€å‘ï¼Œä½†è¿˜æ˜¯é‡åˆ°äº†è¿™äº›é—®é¢˜ã€‚ä¸è¦æ‹…å¿ƒï¼Œè¿™æ˜¯å› ä¸ºè‹¹æœçš„MVCæœ¬èº«å°±å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬ç¨åä¼šå†æ¥è®¨è®ºå®ƒã€‚</p>\n<p>è®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸‹å¥½çš„æ¶æ„åº”è¯¥å…·å¤‡çš„ç‰¹ç‚¹ï¼š<br>1ã€å¹³è¡¡çš„åˆ†é…å®ä½“å’Œå…·ä½“è§’è‰²çš„èŒè´£<br>2ã€æŠŠå¯æµ‹è¯•æ€§æ”¾åœ¨ç¬¬ä¸€ä½ï¼ˆé€šè¿‡åˆé€‚çš„æ¶æ„ï¼Œè¿™å°†å¾ˆå®¹æ˜“å®ç°ï¼‰<br>3ã€æ˜“ç”¨æ€§å’Œä½ç»´æŠ¤æˆæœ¬</p>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦åˆ†é…èŒè´£\"><a href=\"#ä¸ºä»€ä¹ˆè¦åˆ†é…èŒè´£\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦åˆ†é…èŒè´£\"></a>ä¸ºä»€ä¹ˆè¦åˆ†é…èŒè´£</h3><p>èŒè´£çš„åˆ†é…èƒ½è®©æˆ‘ä»¬åœ¨å°è¯•ææ¸…æ¥šäº‹æƒ…å¦‚ä½•è¿ä½œè¿™ä¸€è¿‡ç¨‹ä¸­ä¿æŒä¸€ä¸ªæ­£å¸¸çš„è´Ÿè·ã€‚ä½ å¯èƒ½ä¼šè®¤ä¸ºä½ æŠ•å…¥çš„ç²¾åŠ›è¶Šå¤šä½ çš„å¤§è„‘è¶Šèƒ½é€‚åº”æ›´åŠ å¤æ‚çš„ä¸œè¥¿ï¼Œè¿™æ²¡é”™ã€‚ä½†æ˜¯è¿™ä¸ªèƒ½åŠ›æ˜¯éçº¿æ€§çš„ï¼Œè€Œä¸”ä¼šå¾ˆå¿«è¾¾åˆ°ä¸´ç•Œç‚¹ã€‚æ‰€ä»¥é™ä½å¤æ‚æ€§çš„æœ€å¥½çš„æ–¹å¼æ˜¯ï¼Œæ ¹æ®<strong>èŒè´£å•ä¸€åŸåˆ™</strong>å°†å®ƒçš„åŠŸèƒ½ï¼ˆèŒè´£ï¼‰åˆ†é…åˆ°å¤šä¸ªå®ä½“ä¸­ã€‚</p>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦å¯æµ‹è¯•æ€§\"><a href=\"#ä¸ºä»€ä¹ˆè¦å¯æµ‹è¯•æ€§\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦å¯æµ‹è¯•æ€§\"></a>ä¸ºä»€ä¹ˆè¦å¯æµ‹è¯•æ€§</h3><p>å¯¹äºé‚£äº›å·²ç»æ·»åŠ äº†å•å…ƒæµ‹è¯•çš„é¡¹ç›®æ¥è¯´ï¼Œå½“ä»–ä»¬å¢åŠ ä¸€ä¸ªæ–°çš„åŠŸèƒ½æˆ–è€…é‡æ„ä¸€ä¸ªå¤æ‚çš„ç±»æ—¶ä¼šç”±å•å…ƒæµ‹è¯•å‘ŠçŸ¥å¤±è´¥ä¸å¦ï¼Œè¿™å¤šè®©äººå¾ˆæ”¾å¿ƒå•Šã€‚åŒæ—¶è¿™ä¹Ÿæ„å‘³ç€è¿™äº›æµ‹è¯•é¡¹å°†åœ¨è¿è¡Œæ—¶å¸®åŠ©å¼€å‘è€…æ‰¾åˆ°é—®é¢˜ï¼Œè€Œå¦‚æœè¿™äº›é—®é¢˜å‘ç”Ÿåœ¨ç”¨æˆ·è®¾å¤‡ä¸Šçš„ï¼Œè§£å†³ä»–ä»¬é€šå¸¸ä¼šèŠ±è´¹ä¸€å‘¨ã€‚</p>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦æ˜“ç”¨æ€§\"><a href=\"#ä¸ºä»€ä¹ˆè¦æ˜“ç”¨æ€§\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦æ˜“ç”¨æ€§\"></a>ä¸ºä»€ä¹ˆè¦æ˜“ç”¨æ€§</h3><p>è¿™å¹¶ä¸éœ€è¦ç­”æ¡ˆï¼Œä½†å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæœ€å¥½çš„ä»£ç æ˜¯é‚£äº›ä»æœªå†™è¿‡çš„ä»£ç ã€‚æ‰€ä»¥ï¼Œä»£ç è¶Šå°‘ï¼Œbugå°±è¶Šå°‘ã€‚è¿™æ„å‘³ç€ï¼Œç¼–å†™æ›´å°‘ä»£ç çš„æ„¿æœ›ä¸åº”è¯¥ä»…ä»…ç”±å¼€å‘äººå‘˜çš„æ‡’æƒ°æ¥è§£é‡Šï¼Œè€Œä¸”ä½ ä¸åº”è¯¥ä¸ºäº†é‡‡ç”¨æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œå¯¹å…¶ç»´æŠ¤æˆæœ¬è§†è€Œä¸è§ã€‚</p>\n<h2 id=\"MV-X-çš„è¦ç´ \"><a href=\"#MV-X-çš„è¦ç´ \" class=\"headerlink\" title=\"MV(X)çš„è¦ç´ \"></a>MV(X)çš„è¦ç´ </h2><p>å¦‚ä»Šæˆ‘ä»¬åˆå¾ˆå¤šå¯é€‰çš„æ¶æ„æ–¹æ¡ˆï¼š</p>\n<ul>\n<li>MVC</li>\n<li>MVP</li>\n<li>MVVM</li>\n<li>VIPER<br>å‰ä¸‰é¡¹æ–¹æ¡ˆæ˜¯æŠŠåº”ç”¨ç¨‹åºçš„å®ä½“åˆ†ä¸ºä¸‰ç±»ï¼š</li>\n<li><strong>Modes</strong> â€“ è´Ÿè´£æ•°æ®åŸŸå’Œæ“ä½œæ•°æ®çš„æ•°æ®è®¿é—®å±‚ï¼Œä¾‹å¦‚â€™<strong>Person</strong>â€™ç±», â€˜<strong>PersonDataProvider</strong>â€˜ç±»ã€‚</li>\n<li><strong>Views</strong> â€“ è´Ÿè´£å±•ç¤ºå±‚ï¼ˆGUIï¼‰ï¼Œå¯¹äºiOSç¯å¢ƒå°±æ˜¯æŒ‡æ‰€æœ‰å·²â€˜<strong>UI</strong>â€™å¼€å¤´çš„ç±»ã€‚</li>\n<li><strong>Controller/Presenter/ViewModel</strong> â€“ æ˜¯<strong>Model</strong>å’Œ<strong>View</strong>çš„ä¸­ä»‹ï¼Œé€šå¸¸çš„èŒè´£æ˜¯é€šè¿‡å“åº”ç”¨æˆ·åœ¨<strong>View</strong>çš„æ“ä½œæ”¹å˜<strong>Model</strong>ï¼Œç„¶åæ ¹æ®<strong>Model</strong>çš„å˜åŒ–æ›´æ–°<strong>View</strong>ã€‚</li>\n</ul>\n<p>è¿™äº›å®ä½“çš„åˆ†å‰²å¸®åŠ©æˆ‘ä»¬ï¼š</p>\n<ul>\n<li>æ›´å¥½çš„ç†è§£ä»–ä»¬</li>\n<li>é‡ç”¨ä»–ä»¬ï¼ˆé€šå¸¸æ˜¯<strong>View</strong>å’Œ<strong>Model</strong>ï¼‰</li>\n<li>å•ç‹¬æµ‹è¯•ä»–ä»¬</li>\n</ul>\n<p>è®©æˆ‘ä»¬å¼€å§‹è®²è§£MV(X)æ¨¡å¼ï¼Œéšåæ˜¯VIPER</p>\n<h2 id=\"MVC\"><a href=\"#MVC\" class=\"headerlink\" title=\"MVC\"></a>MVC</h2><h3 id=\"å®ƒåŸæœ¬æ˜¯ä»€ä¹ˆæ ·çš„\"><a href=\"#å®ƒåŸæœ¬æ˜¯ä»€ä¹ˆæ ·çš„\" class=\"headerlink\" title=\"å®ƒåŸæœ¬æ˜¯ä»€ä¹ˆæ ·çš„\"></a>å®ƒåŸæœ¬æ˜¯ä»€ä¹ˆæ ·çš„</h3><p>åœ¨è®¨è®ºè‹¹æœçš„MVCç‰ˆæœ¬ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¼ ç»Ÿçš„MVCæ¨¡å¼ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191124201633.png\" alt=\"\"></p>\n<p>è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œ<strong>View</strong>æ˜¯æ— çŠ¶æ€çš„ã€‚å®ƒåªæ˜¯ç®€å•çš„è¢«<strong>Controller</strong>æ¸²æŸ“å½“<strong>Model</strong>å˜åŒ–çš„æ—¶å€™ã€‚æƒ³ä¸€ä¸‹Webé¡µé¢ï¼Œå½“ä½ ç‚¹ä¸€ä¸ªé“¾æ¥å°è¯•è·³è½¬æ—¶ï¼Œæ•´ä¸ªé¡µé¢éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚å°½ç®¡å¯ä»¥åœ¨iOSåº”ç”¨ç¨‹åºä¸­å®ç°ä¼ ç»Ÿçš„MVCï¼Œä½†ç”±äºæ¶æ„é—®é¢˜ï¼Œè¿™å¹¶æ²¡æœ‰å¤šå¤§æ„ä¹‰â€”â€” æ‰€æœ‰ä¸‰ä¸ªå®ä½“éƒ½æ˜¯ç´§å¯†è€¦åˆçš„ï¼Œæ¯ä¸ªå®ä½“éƒ½çŸ¥é“å…¶ä»–ä¸¤ä¸ªã€‚è¿™æ­£å¥½é™ä½äº†ä»–ä»¬çš„é‡ç”¨æ€§ï¼Œè€Œè¿™åˆæ˜¯ä½ åœ¨ç¨‹åºä¸­ä¸æƒ³çœ‹åˆ°çš„ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬å°†è·³è¿‡ç¼–å†™ä¼ ç»ŸMVCä»£ç çš„ç¤ºä¾‹ã€‚</p>\n<blockquote>\n<p>ä¼ ç»Ÿçš„MVCä¼¼ä¹ä¸é€‚åˆç°ä»£çš„iOSå¼€å‘</p>\n</blockquote>\n<h2 id=\"è‹¹æœçš„MVC\"><a href=\"#è‹¹æœçš„MVC\" class=\"headerlink\" title=\"è‹¹æœçš„MVC\"></a>è‹¹æœçš„MVC</h2><h3 id=\"é¢„æœŸæ•ˆæœ\"><a href=\"#é¢„æœŸæ•ˆæœ\" class=\"headerlink\" title=\"é¢„æœŸæ•ˆæœ\"></a>é¢„æœŸæ•ˆæœ</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191124202807.png\" alt=\"\"><br><strong>Controller</strong>æ˜¯<strong>View</strong>å’Œ<strong>Model</strong>çš„ä¸­ä»‹ï¼Œå› æ­¤å®ƒä¿©äº’ç›¸ä¸çŸ¥é“å¯¹æ–¹ã€‚å¯é‡ç”¨æ€§æœ€å·®çš„å°±æ˜¯<strong>Controller</strong>ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»ä¸ºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘æä¾›ä¸€ä¸ªä½ç½®ï¼Œ<strong>Model</strong>åˆä¸é€‚åˆã€‚</p>\n<p>ç†è®ºä¸Šï¼Œè¿™çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯ä½ æ€»æ„Ÿè§‰æœ‰ä»€ä¹ˆåœ°æ–¹ä¸å¯¹ï¼Œæ˜¯å§ï¼Ÿä½ ç”šè‡³å¬åˆ°äººä»¬è§£è¯»MVCä¸º<strong>Massive View Controller</strong>ã€‚ä¹Ÿå› æ­¤ï¼Œè§†å›¾æ§åˆ¶å™¨çš„ç®€åŒ–æˆäº†iOSå¼€å‘ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚è‹¹æœåªæ˜¯é‡‡ç”¨ä¼ ç»Ÿçš„MVCå¹¶å¯¹å…¶è¿›è¡Œä¸€äº›æ”¹è¿›ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢?</p>\n<h3 id=\"ç°å®æƒ…å†µ\"><a href=\"#ç°å®æƒ…å†µ\" class=\"headerlink\" title=\"ç°å®æƒ…å†µ\"></a>ç°å®æƒ…å†µ</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191124205759.png\" alt=\"\"></p>\n<p>Cocoa MVCé¼“åŠ±ä½ ç¼–å†™å¤§é‡çš„è§†å›¾æ§åˆ¶å™¨ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è§†å›¾ç”Ÿå‘½å‘¨æœŸçš„ä¸€éƒ¨åˆ†ï¼Œå¾ˆéš¾è¯´å®ƒä»¬æ˜¯ç‹¬ç«‹çš„ã€‚å°½ç®¡ä½ æœ‰èƒ½åŠ›è½¬ç§»ä¸€äº›ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è½¬æ¢å·¥ä½œåˆ°<strong>Model</strong>ä¸­ï¼Œå½“éœ€è¦è½¬ç§»å·¥ä½œåˆ°<strong>View</strong>æ—¶ä½ ä»ç„¶æ²¡æœ‰å¤ªå¤šé€‰æ‹©ï¼Œå› ä¸ºå¤§å¤šæ•°æƒ…å†µ<strong>View</strong>çš„èŒè´£å°±æ˜¯å‘é€è¡Œä¸ºåˆ°<strong>Controller</strong>ã€‚è§†å›¾æ§åˆ¶å™¨æœ€ç»ˆå°†æˆä¸ºä¸€ä¸ªæ‰€æœ‰ä¸œè¥¿çš„å§”æ‰˜ã€æ•°æ®æºã€è´Ÿè´£è°ƒåº¦å’Œå–æ¶ˆç½‘ç»œè¯·æ±‚ï¼Œç­‰ç­‰ã€‚</p>\n<p>è¿™ç§ä»£ç ï¼Œä½ è‚¯å®šè§è¿‡å¾ˆå¤šå°‘æ¬¡äº†ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> userCell = tableView.dequeueReusableCellWithIdentifier(<span class=\"string\">\"identifier\"</span>) <span class=\"keyword\">as</span> <span class=\"type\">UserCell</span></span><br><span class=\"line\">userCell.configureWithUser(user)</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªcellæ˜¯<strong>View</strong>ï¼Œç›´æ¥é€šè¿‡<strong>Model</strong>è¿›è¡Œé…ç½®ï¼Œè¿™æ˜æ˜¾è¿åäº†MVCçš„è¦æ±‚ï¼Œä½†è¿™ç§äº‹æƒ…å´ç»å¸¸å‘ç”Ÿï¼Œè€Œä¸”è®¤ä¸ºè¿˜ä¸è®¤ä¸ºè¿™æ˜¯é”™çš„ã€‚å¦‚æœä½ ä¸¥æ ¼æŒ‰ç…§MVCçš„ åšæ³•ï¼Œä½ åº”è¯¥åœ¨Controlleré‡Œé¢é…ç½®cellï¼Œè€Œä¸æ˜¯å°†<strong>Model</strong>ç›´æ¥ä¼ é€’ç»™<strong>View</strong>ï¼Œä½†è¿™æ ·å°±ä¼šå¢åŠ <strong>Controller</strong>çš„å¤§å°ã€‚</p>\n<blockquote>\n<p>Cocoa MVC è¢«ç§°ä¸º Massive View Controlleræ˜¯å¤šä¹ˆåˆç†å•Šã€‚</p>\n</blockquote>\n<p>è¿™ä¸ªé—®é¢˜è¿˜ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œç›´åˆ°æåˆ°å•å…ƒæµ‹è¯•ï¼ˆå¸Œæœ›å®ƒå­˜åœ¨äºä½ çš„é¡¹ç›®ï¼‰ã€‚å› ä¸ºä½ çš„è§†å›¾æ§åˆ¶å™¨è·ŸViewæ˜¯ç´§è€¦åˆçš„ï¼Œè¿™å°†ä½¿å¾—æµ‹è¯•éå¸¸å›°éš¾ã€‚æ‰€ä»¥ä½ åº”è¯¥è®©ä½ çš„ä¸šåŠ¡é€»è¾‘å’Œè§†å›¾å¸ƒå±€ä»£ç å°½å¯èƒ½åˆ†å‰²å¼€æ¥ã€‚</p>\n<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123; <span class=\"comment\">// Model</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> firstName: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> lastName: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingViewController</span> : <span class=\"title\">UIViewController</span> </span>&#123; <span class=\"comment\">// View + Controller</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> person: <span class=\"type\">Person</span>!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> showGreetingButton = <span class=\"type\">UIButton</span>()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> greetingLabel = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.showGreetingButton.addTarget(<span class=\"keyword\">self</span>, action: <span class=\"string\">\"didTapButton:\"</span>, forControlEvents: .<span class=\"type\">TouchUpInside</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">didTapButton</span><span class=\"params\">(button: UIButton)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> greeting = <span class=\"string\">\"Hello\"</span> + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.firstName + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.lastName</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.greetingLabel.text = greeting</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// layout code goes here</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// Assembling of MVC</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> model = <span class=\"type\">Person</span>(firstName: <span class=\"string\">\"David\"</span>, lastName: <span class=\"string\">\"Blaine\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> view = <span class=\"type\">GreetingViewController</span>()</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ ¹æœ¬æ²¡æ³•æµ‹è¯•ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠgreetingçš„èµ‹å€¼ç§»åˆ°ä¸€ä¸ªæ–°çš„ç±»GreetingModelä¸­ï¼Œç„¶ååˆ†å¼€æµ‹è¯•å®ƒã€‚ä½†æ˜¯æˆ‘ä»¬æ— æ³•åœ¨ä¸ç›´æ¥è°ƒç”¨UIViewç›¸å…³æ–¹æ³•ï¼ˆviewDidLoad, didTapButtonï¼‰çš„æƒ…å†µä¸‹æµ‹è¯•ä»»ä½•å¤–åœ¨çš„é€»è¾‘ï¼Œè€Œå¦‚æœè¿™æ ·åšï¼Œè¿™äº›æ–¹æ³•å°±å¯¼è‡´æ‰€æœ‰viewçš„åˆ·æ–°ï¼Œæ‰€ä»¥è¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸å¥½çš„å•å…ƒæµ‹è¯•ã€‚</p>\n<p>äº‹å®ä¸Šï¼Œåœ¨ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ä¸ŠåŠ è½½å’Œæµ‹è¯•UIViewsè¡¨ç°æ­£å¸¸ï¼Œä¸ä»£è¡¨å®ƒåœ¨åˆ«çš„è®¾å¤‡ä¾ç„¶è¿™æ ·ã€‚æ‰€ä»¥æˆ‘å»ºè®®æµ‹è¯•æ—¶ç§»é™¤å•å…ƒæµ‹è¯•å¯¹â€œå®¿ä¸»ç¨‹åºâ€çš„ä¾èµ–ï¼Œè€Œç›´æ¥æµ‹è¯•ä»£ç ã€‚</p>\n<blockquote>\n<p><strong>View</strong>å’Œ<strong>Controller</strong>ä¹‹é—´çš„äº¤äº’è¡Œä¸ºæ— æ³•é€šè¿‡Unit Testsè¿›è¡Œã€‚</p>\n</blockquote>\n<p>æ ¹æ®ä¸Šé¢çš„è¯´æ³•ï¼ŒCocoa MVCæ˜¯ä¸€ä¸ªç›¸å½“ä¸å¥½çš„æ¶æ„æ–¹æ¡ˆã€‚è®©æˆ‘ä»¬å†æ¥æ ¹æ®æ–‡ç« å¼€å¤´å®šä¹‰çš„å¥½æ¶æ„åº”æœ‰çš„ç‰¹æ€§æ¥è¯„ä»·ä¸‹å®ƒï¼š</p>\n<ul>\n<li>èŒè´£åˆ†ç¦» â€“ <strong>View</strong>å’Œ<strong>Model</strong>æ˜¯åˆ†ç¦»çš„ï¼Œä½†<strong>View</strong>å’Œ<strong>Controller</strong>æ˜¯ç´§è€¦åˆå…³ç³»ã€‚</li>\n<li>å¯æµ‹è¯•æ€§ â€“ ç”±äºä¸å¥½çš„èŒè´£åˆ†ç¦»ç‰¹æ€§ï¼Œåªæœ‰<strong>Model</strong>å±‚æ˜¯å¯ä»¥æµ‹è¯•çš„ã€‚</li>\n<li>æ˜“ç”¨æ€§ â€“ è¿™å‡ ç§æ¶æ„æ¨¡å¼ä¸­å®ƒçš„ä»£ç é‡æ˜¯æœ€å°‘çš„ã€‚æ¯ä¸ªäººéƒ½å¾ˆç†Ÿæ‚‰è¿™ç§æ¨¡å¼ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªç»éªŒæœ‰é™çš„å¼€å‘è€…ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„ç»´æŠ¤è¿™ä»½ä»£ç ã€‚</li>\n</ul>\n<p>å¦‚æœä½ ä¸æ‰“ç®—æŠ•å…¥å¾ˆå¤šäº‹æƒ…åœ¨æ¶æ„ä¸Šï¼Œæˆ–è€…ä½ æ„Ÿè§‰å¯¹äºä½ ä»¬çš„å°é¡¹ç›®æ¥è¯´ä¸å€¼å¾—æŠ•å…¥è¿‡å¤šç»´æŠ¤æˆæœ¬ï¼Œé‚£ä½ åº”è¯¥é€‰æ‹©Cocoa MVCã€‚</p>\n<blockquote>\n<p>Cocoa MVC æ˜¯å¼€å‘é€Ÿåº¦æœ€å¿«çš„ä¸€ç§æ¶æ„ã€‚</p>\n</blockquote>\n<h2 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191127143603.png\" alt=\"\"></p>\n<p>è¿™æ˜¯ä¸æ˜¯æ›´è‹¹æœçš„MVCéå¸¸åƒï¼Ÿç¡®å®æ˜¯è¿™æ ·çš„ï¼Œå®ƒçš„åå­—å«åš<a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\">MVP</a>ã€‚ç­‰ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸æ˜¯æ„å‘³ç€è‹¹æœçš„MVCäº‹å®ä¸Šå°±æ˜¯MVPï¼Ÿä¸ã€‚ä½ å¯ä»¥å†è§‚å¯Ÿä¸‹è¿™ä¸ªç»“æ„ï¼Œ<strong>View</strong>å’Œ<strong>Controller</strong>æ˜¯ç´§è€¦åˆå…³ç³»ï¼Œä½œä¸ºMVPçš„ä¸­ä»‹è€… â€“ <strong>Presenter</strong>å¹¶æ²¡æœ‰ç®¡ç†è§†å›¾æ§åˆ¶å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒé‡Œé¢ä¹Ÿä¸å«æœ‰å¸ƒå±€ä»£ç ï¼Œå®ƒçš„èŒè´£æ˜¯æ ¹æ®æ•°æ®çš„çŠ¶æ€å˜åŒ–æ›´æ–°<strong>View</strong>ï¼Œæ‰€ä»¥å‘¢ï¼Œ<strong>View</strong>è¿™ä¸€å±‚å°±å¯ä»¥å¾ˆç®€å•çš„æŠ½å‡ºæ¥ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191127144422.png\" alt=\"\"></p>\n<blockquote>\n<p>æˆ‘ä¼šå‘Šè¯‰ä½ ï¼ŒUIViewControllerä¹Ÿæ˜¯View</p>\n</blockquote>\n<p>åœ¨<strong>MVP</strong>æ¨¡å¼ä¸‹ï¼ŒUIViewControllerçš„å­ç±»å®é™…ä¸Šæ˜¯<strong>Views</strong>è€Œä¸æ˜¯<strong>Presenters</strong>ã€‚è¿™ç§åŒºåˆ«æä¾›äº†æå¥½çš„å¯æµ‹è¯•æ€§ï¼Œä½†è¿™æ˜¯ä»¥å¼€å‘é€Ÿåº¦ä¸ºä»£ä»·çš„ï¼Œå› ä¸ºä½ å¿…é¡»æ‰‹åŠ¨ç»‘å®šæ•°æ®å’Œæ—¶é—´ï¼Œå°±åƒè¿™ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123; <span class=\"comment\">// Model</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> firstName: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> lastName: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingView</span>: <span class=\"title\">class</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setGreeting</span><span class=\"params\">(greeting: String)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingViewPresenter</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">init</span>(view: <span class=\"type\">GreetingView</span>, person: <span class=\"type\">Person</span>)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">showGreeting</span><span class=\"params\">()</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingPresenter</span> : <span class=\"title\">GreetingViewPresenter</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">unowned</span> <span class=\"keyword\">let</span> view: <span class=\"type\">GreetingView</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> person: <span class=\"type\">Person</span></span><br><span class=\"line\">    <span class=\"keyword\">required</span> <span class=\"keyword\">init</span>(view: <span class=\"type\">GreetingView</span>, person: <span class=\"type\">Person</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.view = view</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.person = person</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">showGreeting</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> greeting = <span class=\"string\">\"Hello\"</span> + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.firstName + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.lastName</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.view.setGreeting(greeting)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingViewController</span> : <span class=\"title\">UIViewController</span>, <span class=\"title\">GreetingView</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> presenter: <span class=\"type\">GreetingViewPresenter</span>!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> showGreetingButton = <span class=\"type\">UIButton</span>()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> greetingLabel = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.showGreetingButton.addTarget(<span class=\"keyword\">self</span>, action: <span class=\"string\">\"didTapButton:\"</span>, forControlEvents: .<span class=\"type\">TouchUpInside</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">didTapButton</span><span class=\"params\">(button: UIButton)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.presenter.showGreeting()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setGreeting</span><span class=\"params\">(greeting: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.greetingLabel.text = greeting</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// layout code goes here</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å…³äºè£…é…ï¼ˆassemblyï¼‰çš„é‡è¦è¯´æ˜\"><a href=\"#å…³äºè£…é…ï¼ˆassemblyï¼‰çš„é‡è¦è¯´æ˜\" class=\"headerlink\" title=\"å…³äºè£…é…ï¼ˆassemblyï¼‰çš„é‡è¦è¯´æ˜\"></a>å…³äºè£…é…ï¼ˆassemblyï¼‰çš„é‡è¦è¯´æ˜</h3><p>MVPæ˜¯ç¬¬ä¸€ä¸ªæ­éœ²ä¸‰å±‚æ¨¡å‹è£…é…é—®é¢˜çš„æ¨¡å¼ã€‚æˆ‘ä»¬ä¸æƒ³è®©<strong>View</strong>å’Œ<strong>Model</strong>äº’é€šï¼Œå› ä¸ºåœ¨è¯•å›¾æ§åˆ¶å™¨ï¼ˆViewï¼‰ä¸­æ‰§è¡Œè£…é…æ“ä½œæ˜¯æ˜æ˜¾ä¸å¯¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½æ¢ä¸ªåœ°æ–¹æ”¾è£…é…çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªåº”ç”¨èŒƒå›´çš„<strong>Router</strong>æœåŠ¡ï¼Œå®ƒè´Ÿè´£è£…é…å·¥ä½œå’Œ<strong>View</strong>åˆ°<strong>View</strong>çš„å±•ç¤ºã€‚è¿™ä¸ªé—®é¢˜çš„å‡ºç°ä¸ä»…è¦åœ¨MVPä¸­è§£å†³ï¼Œåœ¨ä»¥ä¸‹çš„å‡ ä¸ªæ¨¡å¼ä¸­ä¹Ÿéƒ½è¦è§£å†³ã€‚</p>\n<p>æˆ‘ä»¬çœ‹ä¸‹MVPçš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>èŒè´£åˆ†ç¦» â€“ æˆ‘ä»¬å°†å¤§éƒ¨åˆ†èŒè´£åˆ†é…ç»™äº†<strong>Presenter</strong>å’Œ<strong>Model</strong>ï¼Œè€Œè§†å›¾åˆ™ä»€ä¹ˆéƒ½ä¸éœ€è¦åšï¼ˆä¸Šé¢çš„<strong>Model</strong>ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸ç”¨åšï¼‰</li>\n<li>å¯æµ‹è¯•æ€§ â€“ éå¸¸å¥½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é™æ€çš„<strong>View</strong>æµ‹è¯•å¤§å¤šæ•°é€»è¾‘ã€‚</li>\n<li>æ˜“ç”¨æ€§ â€“ åœ¨æˆ‘ä»¬ä¸Šä¸ªç®€å•ç¤ºä¾‹ä¸­ï¼Œä»£ç é‡æ˜¯MVCçš„ä¸¤å€ï¼Œä½†æ˜¯å®ƒçš„é€»è¾‘æ˜¯å¾ˆæ¸…æ™°çš„ã€‚</li>\n</ul>\n<blockquote>\n<p>åœ¨iOSä¸­MVPæ¨¡å¼æ„å‘³ç€è‰¯å¥½çš„å¯æµ‹è¯•æ€§å’Œå¤§é‡ä»£ç ã€‚</p>\n</blockquote>\n<h2 id=\"MVP-1\"><a href=\"#MVP-1\" class=\"headerlink\" title=\"MVP\"></a>MVP</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191127153028.png\" alt=\"\"><br>è¿™æ˜¯å¦ä¸€ä¸ªMVPçš„æ ·å¼ â€“ ç”±è§†åŒæ§åˆ¶å™¨æ‹…å½“ç®¡ç†çš„MVPã€‚è¿™ä¸ªå˜ä½“ä¸­ï¼Œ<strong>View</strong>å’Œ<strong>Model</strong>æ˜¯ç›´æ¥ç»‘å®šçš„ï¼Œ<strong>Presenter</strong>(æ‹…å½“ç®¡ç†çš„æ§åˆ¶å™¨)ä»ç„¶å¤„ç†ç€æ¥è‡ª<strong>View</strong>çš„æ“ä½œï¼Œå¹¶ä¸”èƒ½å¤Ÿæ”¹å˜<strong>View</strong>ã€‚</p>\n<p>ä½†æ˜¯é€šè¿‡ä¸Šé¢çš„å­¦ä¹ æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œå°†<strong>View</strong>å’Œ<strong>Model</strong>ç´§è€¦åˆå¤„ç†ï¼Œè¿™ç§ä¸æ˜ç¡®çš„èŒè´£åˆ†ç¦»æ˜¯å¾ˆç³Ÿç³•çš„ã€‚è¿™ä¸Cocoaæ¡Œé¢å¼€å‘ä¸­çš„å·¥ä½œåŸç†ç±»ä¼¼ã€‚</p>\n<p>è·Ÿä¼ ç»ŸMVCä¸€æ ·ï¼Œæˆ‘æ‰¾ä¸åˆ°è¦ä¸ºè¿™ä¸ªæœ‰ç¼ºé™·çš„æ¶æ„å†™ç¤ºä¾‹çš„ç†ç”±ã€‚</p>\n<h2 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h2><h3 id=\"æœ€æ–°è€Œä¸”æ˜¯æœ€å¥½çš„ä¸€ä¸ªMV-X-ç±»å‹\"><a href=\"#æœ€æ–°è€Œä¸”æ˜¯æœ€å¥½çš„ä¸€ä¸ªMV-X-ç±»å‹\" class=\"headerlink\" title=\"æœ€æ–°è€Œä¸”æ˜¯æœ€å¥½çš„ä¸€ä¸ªMV(X)ç±»å‹\"></a>æœ€æ–°è€Œä¸”æ˜¯æœ€å¥½çš„ä¸€ä¸ªMV(X)ç±»å‹</h3><p><a href=\"https://en.wikipedia.org/wiki/Model_View_ViewModel\">MVVM</a>æ˜¯æœ€æ–°çš„MV(X)ç±»å‹ï¼Œå¸Œæœ›å®ƒèƒ½è§£å†³æˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡çš„é—®é¢˜ã€‚</p>\n<p>MVVMç†è®ºä¸Šçœ‹èµ·æ¥æ˜¯å¾ˆå¥½çš„ï¼Œ<strong>View</strong>å’Œ<strong>Model</strong>æˆ‘ä»¬å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œå®ƒä¿©ä¹‹é—´çš„ä¸­ä»‹è€…ç”±<strong>View Model</strong>è¡¨ç¤ºã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191127155036.png\" alt=\"\"></p>\n<p>è¿™å’ŒMVPå¾ˆåƒï¼š</p>\n<ul>\n<li>MVVMä¹Ÿæ˜¯æŠŠè§†å›¾æ§åˆ¶å™¨å½“åš<strong>View</strong></li>\n<li>åœ¨<strong>View</strong>å’Œ<strong>Model</strong>ä¹‹é—´æ²¡æœ‰ç´§è€¦åˆå…³ç³»</li>\n</ul>\n<p>æ­¤å¤–å®ƒçš„ç»‘å®šé€»è¾‘å¾ˆåƒMVPçš„ç›‘ç®¡ç‰ˆæœ¬ï¼›ä½†æ˜¯è¿™æ¬¡ä¸æ˜¯<strong>View</strong>å’Œ<strong>Model</strong>ï¼Œè€Œæ˜¯<strong>View</strong>å’Œ<strong>View Model</strong>ä¹‹é—´çš„ç»‘å®šã€‚</p>\n<p>æ‰€ä»¥iOSå½“ä¸­çš„<strong>View Model</strong>åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ˜¯UIKitç‹¬ç«‹äºè§†å›¾åŠå…¶çŠ¶æ€çš„è¡¨ç¤ºã€‚<strong>View Model</strong>è°ƒç”¨<strong>Model</strong>æ‰§è¡Œæ›´æ”¹ï¼Œç„¶åæ ¹æ®<strong>Model</strong>çš„æ›´æ–°å†æ›´æ–°è‡ªå·±ï¼Œå› ä¸ºæˆ‘ä»¬ç»‘å®šäº†<strong>View</strong>å’Œ<strong>View Model</strong>ï¼Œç¬¬ä¸€ä¸ªæ¨¡å‹å°†ç›¸åº”çš„æ›´æ–°ã€‚</p>\n<h3 id=\"ç»‘å®š\"><a href=\"#ç»‘å®š\" class=\"headerlink\" title=\"ç»‘å®š\"></a>ç»‘å®š</h3><p>æˆ‘åœ¨MVPéƒ¨åˆ†æ˜ç¡®æåˆ°è¿‡ç»‘å®šï¼Œè¿™æ¬¡è®©æˆ‘ä»¬å†æ¥è®¨è®ºä¸€ä¸‹ã€‚ç»‘å®šå‡ºè‡ªäºMacOSå¼€å‘ï¼Œåœ¨iOSä¸­æ˜¯æ²¡æœ‰çš„ã€‚æˆ‘ä»¬è™½ç„¶å¯ä»¥é€šè¿‡KVOå’Œé€šçŸ¥å®Œæˆè¿™ä¸€è¿‡ç¨‹ï¼Œä½†æ˜¯è¿™æ ·çš„ç»‘å®šæ–¹å¼å¹¶ä¸æ–¹ä¾¿ã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬ä¸æƒ³è‡ªå·±å®ç°çš„è¯ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹å¯ä¾›å‚è€ƒï¼š</p>\n<ul>\n<li>ä¸€ä¸ªæ˜¯åŸºäºKVOçš„ç»‘å®šåº“åƒ<a href=\"https://github.com/Rightpoint/RZDataBinding\">RZDataBinding</a>,<a href=\"https://github.com/DeclarativeHub/Bond\">SwiftBond</a></li>\n<li>å®Œæ•´çš„å‡½æ•°å¼ç¼–ç¨‹å·¥å…·ï¼Œåƒ<a href=\"https://github.com/ReactiveCocoa/ReactiveCocoa\">ReactiveCocoa</a>, <a href=\"https://github.com/ReactiveX/RxSwift/\">RxSwift</a>, <a href=\"https://github.com/mxcl/PromiseKit\">PromiseKit</a>ã€‚</li>\n</ul>\n<p>å¦‚ä»Šå½“ä½ å¬åˆ°â€œMVVMâ€ï¼Œå°±åº”è¯¥æƒ³åˆ°ReactiveCocoaã€‚å› ä¸ºå®ƒå¯ä»¥è®©ä½ ç”¨å¾ˆç®€å•çš„ç»‘å®šæ–¹å¼æ„å»ºMVVMï¼Œå‡ ä¹æ¶µç›–æ‰€æœ‰MVVMä¸­çš„é€»è¾‘ã€‚</p>\n<p>ä½†æ˜¯ä½¿ç”¨å“åº”å¼æ¡†æ¶ä¼šé¢ä¸´ä¸€ä¸ªä¸å¥½çš„ç°å®ï¼šèƒ½åŠ›è¶Šå¤§è´£ä»»è¶Šå¤§ã€‚ä½¿ç”¨reactiveå¾ˆå®¹æ˜“å°†äº‹æƒ…å¤æ‚åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå‘ç”Ÿäº†ä¸€å¤„é”™è¯¯ï¼Œä½ éœ€è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´å»è°ƒè¯•é—®é¢˜ï¼Œå¯ä»¥ç®€å•çœ‹ä¸‹å“åº”å¼çš„è°ƒç”¨å †æ ˆã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191127163910.png\" alt=\"\"></p>\n<p>åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå“åº”å¼æ¡†æ¶ç”šè‡³KVOéƒ½æ˜¯å¤šä½™çš„ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨showGreetingæ–¹æ³•æ˜¾å¼åœ°è¦æ±‚<strong>View Model</strong>æ›´æ–°ï¼Œå¹¶ä½¿ç”¨greetingDidChangeå›è°ƒå‡½æ•°çš„ç®€å•å±æ€§ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123; <span class=\"comment\">// Model</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> firstName: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> lastName: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingViewModelProtocol</span>: <span class=\"title\">class</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> greeting: <span class=\"type\">String</span>? &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> greetingDidChange: ((<span class=\"type\">GreetingViewModelProtocol</span>) -&gt; ())? &#123; <span class=\"keyword\">get</span> <span class=\"keyword\">set</span> &#125; <span class=\"comment\">// function to call when greeting did change</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(person: <span class=\"type\">Person</span>)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">showGreeting</span><span class=\"params\">()</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingViewModel</span> : <span class=\"title\">GreetingViewModelProtocol</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> person: <span class=\"type\">Person</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> greeting: <span class=\"type\">String</span>? &#123;</span><br><span class=\"line\">        <span class=\"keyword\">didSet</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>.greetingDidChange?(<span class=\"keyword\">self</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> greetingDidChange: ((<span class=\"type\">GreetingViewModelProtocol</span>) -&gt; ())?</span><br><span class=\"line\">    <span class=\"keyword\">required</span> <span class=\"keyword\">init</span>(person: <span class=\"type\">Person</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.person = person</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">showGreeting</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.greeting = <span class=\"string\">\"Hello\"</span> + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.firstName + <span class=\"string\">\" \"</span> + <span class=\"keyword\">self</span>.person.lastName</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingViewController</span> : <span class=\"title\">UIViewController</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> viewModel: <span class=\"type\">GreetingViewModelProtocol</span>! &#123;</span><br><span class=\"line\">        <span class=\"keyword\">didSet</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>.viewModel.greetingDidChange = &#123; [<span class=\"keyword\">unowned</span> <span class=\"keyword\">self</span>] viewModel <span class=\"keyword\">in</span></span><br><span class=\"line\">                <span class=\"keyword\">self</span>.greetingLabel.text = viewModel.greeting</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> showGreetingButton = <span class=\"type\">UIButton</span>()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> greetingLabel = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.showGreetingButton.addTarget(<span class=\"keyword\">self</span>.viewModel, action: <span class=\"string\">\"showGreeting\"</span>, forControlEvents: .<span class=\"type\">TouchUpInside</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// layout code goes here</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// Assembling of MVVM</span></span><br></pre></td></tr></table></figure>\n\n<p>å†æ¬¡å›æ¥ç”¨è¿™ä¸‰ä¸ªç‰¹å¾éªŒè¯ä¸€ä¸‹ï¼š</p>\n<ul>\n<li>èŒè´£åˆ†ç¦» â€“ è¿™åœ¨æˆ‘ä»¬çš„å°ç¤ºä¾‹è¿˜æ— æ³•ä½“ç°ï¼Œä½†æ˜¯MVVMçš„<strong>View</strong>æ¯”ç€MVPçš„<strong>View</strong>æœ‰ç€æ›´å¤šçš„èŒè´£ã€‚å› ä¸ºå‰è€…é€šè¿‡<strong>View Model</strong>å»ºç«‹ç»‘å®šæ›´æ–°å®ƒçš„çŠ¶æ€ï¼Œåè€…ä»…ä»…æ˜¯æŠŠæ‰€æœ‰äº‹ä»¶éƒ½äº¤ç»™<strong>Presenter</strong>ï¼Œä¸æ›´æ–°è‡ªå·±ã€‚</li>\n<li>å¯æµ‹è¯•æ€§ â€“ <strong>View Model</strong>æ˜¯ä¸çŸ¥é“<strong>View</strong>çš„ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬å¾ˆå®¹æ˜“çš„å¯¹å®ƒè¿›è¡Œæµ‹è¯•ã€‚<strong>View</strong>å¯èƒ½ä¹Ÿéœ€è¦æµ‹è¯•ï¼Œä½†å› ä¸ºå®ƒä¾èµ–UIKitï¼Œä½ å¯èƒ½æƒ³è·³è¿‡å®ƒã€‚</li>\n<li>æ˜“ç”¨æ€§ â€“ å®ƒæœ‰æ²³MVPæ¨¡å¼ç›¸åŒçš„ä»£ç é‡ï¼Œä½†æ˜¯å®é™…é¡¹ç›®ä¸­ï¼Œä½ ä¸å¾—ä¸æŠŠæ‰€æœ‰äº‹ä»¶é€šè¿‡<strong>View</strong>ä¼ ç»™<strong>Presenter</strong>ï¼Œç„¶åè¿˜è¦æ‰‹åŠ¨æ›´æ–°<strong>View</strong>ï¼Œæ¯”è¾ƒè€Œè¨€ï¼ŒMVVMä½¿ç”¨ç»‘å®šå°†æ›´åŠ ç®€æ´ã€‚</li>\n</ul>\n<blockquote>\n<p>MVVMæ˜¯å¾ˆæœ‰å¸å¼•åŠ›çš„ï¼Œå› ä¸ºå®ƒåŒ…å«äº†å‰é¢æåˆ°çš„ä¼˜ç‚¹ï¼Œæ­¤å¤–é€šè¿‡Viewå±‚çš„ç»‘å®šï¼Œä¹Ÿä¸éœ€è¦é¢å¤–çš„ä»£ç å¤„ç†Viewæ›´æ–°ã€‚æµ‹è¯•æ€§ä¹Ÿè¿˜ä¸é”™ã€‚</p>\n</blockquote>\n<h2 id=\"VIPER\"><a href=\"#VIPER\" class=\"headerlink\" title=\"VIPER\"></a>VIPER</h2><h3 id=\"æŠŠä¹é«˜çš„æ­å»ºæµç¨‹åº”ç”¨åˆ°iOSè®¾è®¡æ¨¡å¼\"><a href=\"#æŠŠä¹é«˜çš„æ­å»ºæµç¨‹åº”ç”¨åˆ°iOSè®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"æŠŠä¹é«˜çš„æ­å»ºæµç¨‹åº”ç”¨åˆ°iOSè®¾è®¡æ¨¡å¼\"></a>æŠŠä¹é«˜çš„æ­å»ºæµç¨‹åº”ç”¨åˆ°iOSè®¾è®¡æ¨¡å¼</h3><p>VIPERæ˜¯æˆ‘ä»¬æœ€åä¸€ä¸ªå€™é€‰æ¨¡å¼ï¼Œæœ‰è¶£çš„ä¸€ç‚¹æ˜¯å®ƒä¸å±äºMV(X)ç±»å‹ã€‚</p>\n<p>ç›®å‰ä¸ºæ­¢ï¼Œä½ å¿…é¡»åŒæ„èŒè´£çš„ç²’åº¦æ˜¯å¾ˆé‡è¦çš„ã€‚VIPERåœ¨åˆ’åˆ†èŒè´£å±‚é¢åˆåšäº†ä¸€æ¬¡è¿­ä»£ï¼Œå®ƒå°†é¡¹ç›®åˆ’åˆ†æˆ5å±‚ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191203220802.png\" alt=\"\"></p>\n<ul>\n<li><strong>Interactor</strong>â€“ åŒ…å«è·Ÿæ•°æ®ï¼ˆ<strong>Entities</strong>ï¼‰å’Œç½‘ç»œç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ï¼Œåƒæ˜¯åˆ›å»ºæ–°çš„å®ä¾‹å¯¹è±¡åè€…ä»æœåŠ¡å™¨æ‹‰å–æ•°æ®ã€‚å‡ºäºè¿™äº›ç›®çš„ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Serviceså’ŒManangerç±»å®ŒæˆåŠŸèƒ½ï¼Œä½†è¿™å°±ä¸å±äºVIPERæ¨¡å—ï¼Œè€Œæ˜¯å¤–éƒ¨ä¾èµ–ç±»ã€‚</li>\n<li><strong>Presenter</strong> â€“ åŒ…å«UIç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨<strong>Interactor</strong>ä¸­çš„æ–¹æ³•ã€‚</li>\n<li><strong>Entities</strong> â€“ æ™®é€šçš„æ•°æ®å¯¹è±¡ï¼Œä¸æ˜¯æ•°æ®è®¿é—®å±‚ï¼Œå› ä¸ºè¿™æ˜¯<strong>Interactor</strong>çš„è´£ä»»ã€‚</li>\n<li><strong>Router</strong> â€“ è´Ÿè´£VIPERæ¨¡å—ä¹‹é—´çš„åˆ‡æ¢ã€‚</li>\n</ul>\n<p>åŸºæœ¬ä¸Šï¼ŒVIPERæ¨¡å—å¯ä»¥æ˜¯ä¸€æ•´å±å†…å®¹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ åº”ç”¨ä¸­å®Œæ•´çš„ç”¨æˆ·è¡Œä¸º â€“ æƒ³ä¸€ä¸‹æˆæƒè¡Œä¸ºï¼Œå®ƒå¯ä»¥åœ¨ä¸€ä¸ªæˆ–è€…å‡ ä¸ªç›¸å…³è”çš„ç•Œé¢ã€‚â€œä¹é«˜â€æ–¹å—åº”è¯¥å¤šå°å‘¢ï¼Ÿè¿™å–å†³äºä½ ã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬å°†å®ƒå’ŒMV(X)ç±»æ¯”ï¼Œä¼šå‘ç°ä¸€äº›åœ¨èŒè´£åˆ’åˆ†ä¸Šçš„åŒºåˆ«ï¼š</p>\n<ul>\n<li><strong>Model</strong>(æ•°æ®äº¤äº’)é€»è¾‘è½¬ç§»åˆ°äº†åŒ…å«<strong>Entities</strong>æ•°æ®ç»“æ„çš„<strong>Interactor</strong>ä¸­ã€‚</li>\n<li>åªæœ‰<strong>Controller/Presenter/ViewModel</strong>è¿™ç§UIè¡¨ç¤ºå±‚çš„èŒè´£è½¬ç§»åˆ°äº†<strong>Presenter</strong>ä¸­ï¼Œä¸åŒ…å«æ•°æ®ã€‚</li>\n<li><strong>VIPER</strong>æ˜¯ç¬¬ä¸€ä¸ªæ˜ç¡®å¯¼èˆªèŒè´£çš„æ¨¡å¼ï¼Œå¹¶é€šè¿‡<strong>Router</strong>è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li>\n</ul>\n<blockquote>\n<p>åœ¨iOSåº”ç”¨ä¸­ç”¨ä¸€ä¸ªä¼˜é›…çš„æ–¹å¼å¤„ç†è·³è½¬é—®é¢˜ç¡®å®æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼ŒMV(X)æ¨¡å¼æ²¡æœ‰å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p>\n</blockquote>\n<p>è¯¥ç¤ºä¾‹ä¸æ¶‰åŠæ¨¡å—ä¹‹é—´çš„<strong>è·¯ç”±</strong>æˆ–<strong>äº¤äº’</strong>ï¼Œå› ä¸ºMV(X)æ¨¡å¼æ ¹æœ¬ä¸æ¶‰åŠè¿™äº›ä¸»é¢˜ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123; <span class=\"comment\">// Entity (usually more complex e.g. NSManagedObject)</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> firstName: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> lastName: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GreetingData</span> </span>&#123; <span class=\"comment\">// Transport data structure (not Entity)</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> greeting: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> subject: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingProvider</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">provideGreetingData</span><span class=\"params\">()</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingOutput</span>: <span class=\"title\">class</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receiveGreetingData</span><span class=\"params\">(greetingData: GreetingData)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingInteractor</span> : <span class=\"title\">GreetingProvider</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> output: <span class=\"type\">GreetingOutput</span>!</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">provideGreetingData</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> person = <span class=\"type\">Person</span>(firstName: <span class=\"string\">\"David\"</span>, lastName: <span class=\"string\">\"Blaine\"</span>) <span class=\"comment\">// usually comes from data access layer</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> subject = person.firstName + <span class=\"string\">\" \"</span> + person.lastName</span><br><span class=\"line\">        <span class=\"keyword\">let</span> greeting = <span class=\"type\">GreetingData</span>(greeting: <span class=\"string\">\"Hello\"</span>, subject: subject)</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.output.receiveGreetingData(greeting)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingViewEventHandler</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">didTapShowGreetingButton</span><span class=\"params\">()</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">GreetingView</span>: <span class=\"title\">class</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setGreeting</span><span class=\"params\">(greeting: String)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingPresenter</span> : <span class=\"title\">GreetingOutput</span>, <span class=\"title\">GreetingViewEventHandler</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> view: <span class=\"type\">GreetingView</span>!</span><br><span class=\"line\">    <span class=\"keyword\">var</span> greetingProvider: <span class=\"type\">GreetingProvider</span>!</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">didTapShowGreetingButton</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.greetingProvider.provideGreetingData()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receiveGreetingData</span><span class=\"params\">(greetingData: GreetingData)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> greeting = greetingData.greeting + <span class=\"string\">\" \"</span> + greetingData.subject</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.view.setGreeting(greeting)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GreetingViewController</span> : <span class=\"title\">UIViewController</span>, <span class=\"title\">GreetingView</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> eventHandler: <span class=\"type\">GreetingViewEventHandler</span>!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> showGreetingButton = <span class=\"type\">UIButton</span>()</span><br><span class=\"line\">    <span class=\"keyword\">let</span> greetingLabel = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.showGreetingButton.addTarget(<span class=\"keyword\">self</span>, action: <span class=\"string\">\"didTapButton:\"</span>, forControlEvents: .<span class=\"type\">TouchUpInside</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">didTapButton</span><span class=\"params\">(button: UIButton)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.eventHandler.didTapShowGreetingButton()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setGreeting</span><span class=\"params\">(greeting: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.greetingLabel.text = greeting</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// layout code goes here</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Assembling of VIPER module, without Router</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> view = <span class=\"type\">GreetingViewController</span>()</span><br><span class=\"line\"><span class=\"keyword\">let</span> presenter = <span class=\"type\">GreetingPresenter</span>()</span><br><span class=\"line\"><span class=\"keyword\">let</span> interactor = <span class=\"type\">GreetingInteractor</span>()</span><br><span class=\"line\">view.eventHandler = presenter</span><br><span class=\"line\">presenter.view = view</span><br><span class=\"line\">presenter.greetingProvider = interactor</span><br></pre></td></tr></table></figure>\n\n<p>è®©æˆ‘ä»¬å†ä¸€æ¬¡å¯¹æ¯”é‚£å‡ ä¸ªç‰¹å¾ï¼š</p>\n<ul>\n<li>èŒè´£åˆ†ç¦» â€“ æ¯«æ— ç–‘é—®ï¼ŒVIPERæ˜¯èŒè´£åˆ†ç¦»åšçš„æœ€å¥½çš„ã€‚</li>\n<li>å¯æµ‹è¯•æ€§ â€“ èŒè´£åˆ†ç¦»è¶Šå¥½ï¼Œå¯æµ‹è¯•æ€§å½“ç„¶ä¹Ÿä¼šæ›´å¥½</li>\n<li>æ˜“ç”¨æ€§ â€“ ä½ å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼Œä¸Šé¢ä¸¤é¡¹æ„å‘³ç€ç»´æŠ¤æˆæœ¬çš„æå‡ã€‚ä½ å¿…é¡»å†™å¾ˆå¤šå¤„ç†å„ä¸ªç±»ä¹‹é—´äº¤äº’çš„ä»£ç ã€‚</li>\n</ul>\n<h3 id=\"æ‰€æœ‰è¿™ä¸ªä¹é«˜æ¨¡å¼åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿ\"><a href=\"#æ‰€æœ‰è¿™ä¸ªä¹é«˜æ¨¡å¼åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿ\" class=\"headerlink\" title=\"æ‰€æœ‰è¿™ä¸ªä¹é«˜æ¨¡å¼åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿ\"></a>æ‰€æœ‰è¿™ä¸ªä¹é«˜æ¨¡å¼åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿ</h3><p>å½“ä½¿ç”¨VIPERæ—¶ï¼Œå¦‚æœä½ æ„Ÿè§‰å°±åƒæ˜¯é€šè¿‡ä¹é«˜æ–¹å—æ­å»ºå¸å›½å¤§å¦ï¼Œè¿™å°±æ„å‘³ç€å‡ºç°äº†é—®é¢˜ã€‚ä¸åº”è¯¥è¿‡æ—©åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨VIPERï¼Œä½ éœ€è¦è€ƒè™‘ç®€ä¾¿æ€§ã€‚æœ‰äº›äººä¸æ³¨æ„ç®€ä¾¿æ€§ï¼Œç›´æ¥ä½¿ç”¨VIPERï¼Œä¼šæœ‰ç‚¹å¤§æå°ç”¨ã€‚æˆ‘çŒœæµ‹å¾ˆå¤šäººæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œä»–ä»¬çš„åº”ç”¨è¿Ÿæ—©éƒ½ä¼šå‘å±•åˆ°é€‚ç”¨VIPERçš„å¤æ‚ç¨‹åº¦ï¼Œæ‰€ä»¥æ—©æ™šéƒ½ä¼šåšçš„äº‹ï¼Œå³ä½¿ç°åœ¨ç»´æŠ¤æˆæœ¬é«˜ä¹Ÿåº”è¯¥ç»§ç»­åšä¸‹å»ã€‚å¦‚æœä½ å°±æ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œæˆ‘æ¨èä½ è¯•ä¸€ä¸‹<a href=\"https://github.com/strongself/Generamba\">Generamba</a> â€“ ä¸€ä¸ªç”ŸæˆVIPERç»„ä»¶çš„å·¥å…·ã€‚è™½ç„¶å¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œè¿™æ„Ÿè§‰å°±åƒä½¿ç”¨è‡ªåŠ¨ç„å‡†ç³»ç»Ÿè€Œä¸æ˜¯ç®€å•çš„å¼¹å°„ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æˆ‘ä»¬å·²ç»è®²è§£äº†å‡ ä¸ªæ¶æ„æ¨¡å¼ï¼Œå¸Œæœ›ä½ èƒ½è§£ç­”æ›¾ç»å›°æ‰°ä½ çš„é—®é¢˜ã€‚æˆ‘æ•¢è‚¯å®šä½ ä¹Ÿæ„è¯†åˆ°äº†æ¶æ„æ¨¡å¼çš„é€‰æ‹©æ²¡æœ‰æœ€å¥½è¿™ä¸€è¯´ï¼Œå®ƒå–å†³äºä½ åœ¨ç‰¹å®šç¯å¢ƒä¸‹æƒè¡¡åˆ©å¼Šä¹‹ååšçš„é€‰æ‹©ã€‚</p>\n<p>æ‰€ä»¥ï¼Œåœ¨ä¸€ä¸ªåº”ç”¨ä¸­å‡ºç°æ··åˆä¸€ç§æ··åˆçš„æ¶æ„æ¨¡å¼ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚ä¾‹å¦‚ï¼Œä½ ä¸€å¼€å§‹ä½¿ç”¨MVCï¼Œç„¶åä½ å‘ç°æœ‰ä¸€ä¸ªç•Œé¢çš„é€»è¾‘å˜å¾—å¾ˆå¤æ‚ï¼Œç„¶åä½ è½¬å‘äº†MVVMï¼Œä½†ä¹Ÿæ˜¯ä»…é™äºè¿™ä¸ªç•Œé¢ã€‚ä½ ä¸å¿…é‡æ„åˆ«çš„ä½¿ç”¨MVCçš„ç•Œé¢ï¼Œå› ä¸ºå®ƒåŸæœ¬å°±æ˜¯å·¥ä½œçš„å¥½å¥½çš„ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªæ¶æ„æ¨¡å¼æ˜¯å¾ˆå®¹æ˜“å…¼å®¹çš„ã€‚</p>\n<blockquote>\n<p>äº‹æƒ…åº”è¯¥åŠ›æ±‚ç®€å•ï¼Œä¸è¿‡ä¸èƒ½è¿‡äºç®€å• â€“ é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦</p>\n</blockquote>\n","categories":[],"tags":["iOS","UI"]},{"title":"æ„Ÿè°¢å¤§å®¶çš„å¸®åŠ©","url":"http://zhangferry.github.io/2019/11/09/thanks_letter/","content":"<h2 id=\"å¥½æ¶ˆæ¯\"><a href=\"#å¥½æ¶ˆæ¯\" class=\"headerlink\" title=\"å¥½æ¶ˆæ¯\"></a>å¥½æ¶ˆæ¯</h2><p>å¼€å§‹æ°´æ»´ç­¹ä¹‹åï¼Œçˆ¶äº²æ²»ç—…çš„æ¶ˆæ¯å¤§å®¶å°±éƒ½çŸ¥é“äº†ï¼ŒæœŸé—´æ”¶åˆ°äº†å¾ˆå¤šæ¥è‡ªäº²å‹çš„æ”¯æŒå’Œå¸®åŠ©ã€‚å…ˆå‘Šè¯‰å¤§å®¶å¥½æ¶ˆæ¯ï¼Œçˆ¶äº²æ‰‹æœ¯å®Œäº†ï¼Œå¹¶ä¸”èº«ä½“æ¢å¤ä¸€åˆ‡æ­£å¸¸ï¼Œå·²äº11æœˆ8å·ä¸­åˆä»é‡ç—‡ç›‘æŠ¤å®¤è½¬åˆ°æ— èŒç—…æˆ¿ï¼Œè¿˜éœ€è¦åœ¨é‡Œé¢å¾…å¤Ÿäº”å¤©æ‰è½¬åˆ°æ™®é€šç—…æˆ¿ã€‚å…³äºçœ‹ç—…æ‰€éœ€è¦çš„ç­¹æ¬¾ï¼Œä¹Ÿå¾—åˆ°äº†è§£å†³ã€‚ä»Šå¤©æ™šä¸Š7ç‚¹å·¦å³ï¼Œæˆ‘å·²ç»ç»ˆæ­¢äº†è¿™æ¬¡ç­¹æ¬¾ã€‚</p>\n<p>çœ‹ç—…èµ„é‡‘é—®é¢˜èƒ½å¿«é€Ÿè§£å†³ï¼Œé™¤äº†æ¥è‡ªæ°´æ»´ç­¹çš„ç­¹æ¬¾ï¼Œè¿˜æœ‰å°±æ˜¯å…¬å¸çš„å¤§åŠ›æ”¯æŒã€‚ä¸‰ä½è€æ¿å¸®åŠ©äº†2ä¸‡å…ƒï¼Œè¿˜ç ´æ ¼æå‰ç»™æˆ‘å‘äº†å¹´ç»ˆå¥–ï¼Œç®—ä¸Šæ°´æ»´ç­¹ä¸­çš„63588å…ƒï¼Œä¸€ç›´åˆ°å‡ºé™¢åº”è¯¥æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"æ„Ÿè°¢å…¬å¸\"><a href=\"#æ„Ÿè°¢å…¬å¸\" class=\"headerlink\" title=\"æ„Ÿè°¢å…¬å¸\"></a>æ„Ÿè°¢å…¬å¸</h2><p>çœŸçš„éå¸¸æ„Ÿè°¢å…¬å¸ç»™äºˆçš„æ”¯æŒï¼Œå•¥ä¹Ÿä¸è¯´äº†ï¼Œæˆ‘è¦å¤¸ä¸€å¤¸ä»–ã€‚æˆ‘ä»¬å…¬å¸å«ä¹ä¿¡åœ£æ–‡ï¼Œæ˜¯ä¸€å®¶å…¨çƒé¢†å…ˆçš„ç§»åŠ¨å‡ºæµ·åº”ç”¨å¼€å‘å•†ï¼Œè‡´åŠ›äºä¸ºå…¨çƒç”¨æˆ·æä¾›å“è¶Šçš„ç§»åŠ¨åº”ç”¨ï¼Œä½œä¸ºä¸­å›½ç§»åŠ¨äº’è”ç½‘å…¬å¸å‡ºæµ·çš„æ–°é”é¢†å†›è€…ï¼Œäº§å“åœ¨å…¨çƒç§»åŠ¨ç«¯æœˆæ´»è¶…è¿‡2000ä¸‡ï¼Œç´¯è®¡ç”¨æˆ·è¶…è¿‡3äº¿ã€‚ç›®å‰æ­£åœ¨æ‹›è˜Androidã€iOSã€Unityã€webå‰ç«¯ã€Pythonç­‰å¼€å‘å·¥ç¨‹å¸ˆï¼Œå¦å¤–ä¸­é«˜çº§æµ‹è¯•ã€æ•°æ®åˆ†æå¸ˆã€äº§å“è¿è¥ã€MGåŠ¨ç”»å¸ˆä¹Ÿéƒ½èŒä½ç©ºç¼ºã€‚å¤§å®¶æœ‰è¦æ¢å·¥ä½œçš„æˆ–è€…æœ‹å‹æ¢å·¥ä½œçš„ï¼Œå¯ä»¥æ¨èæ¥æˆ‘ä»¬è¿™ã€‚è¿™ä¹ˆå¥½çš„è€æ¿ï¼Œè¿™ä¹ˆæœ‰å‰æ™¯çš„å…¬å¸è¿˜ç­‰ä»€ä¹ˆï¼Ÿè¯¦æƒ…å¯ä»¥é—®æˆ‘æˆ–è€…å…³æ³¨å…¬å¸å¾®ä¿¡å…¬ä¼—å·ï¼šä¹ä¿¡åœ£æ–‡Learningsã€‚</p>\n<h2 id=\"æ„Ÿè°¢æ‰€ä»¥æä¾›å¸®åŠ©çš„å°ä¼™ä¼´\"><a href=\"#æ„Ÿè°¢æ‰€ä»¥æä¾›å¸®åŠ©çš„å°ä¼™ä¼´\" class=\"headerlink\" title=\"æ„Ÿè°¢æ‰€ä»¥æä¾›å¸®åŠ©çš„å°ä¼™ä¼´\"></a>æ„Ÿè°¢æ‰€ä»¥æä¾›å¸®åŠ©çš„å°ä¼™ä¼´</h2><p>å…¶æ¬¡æ¥è‡ªå°ä¼™ä¼´çš„æ”¯æŒä¹Ÿè®©æˆ‘éå¸¸æ„ŸåŠ¨ï¼Œå¾ˆå¤šæ„ŸåŠ¨ç¬é—´ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªåœºæ™¯è®©æˆ‘ç‰¹åˆ«éš¾å¿˜ã€‚ä¸€æ˜¯åˆšå¼€å§‹å‘èµ·æ°´æ»´ç­¹æ—¶ï¼Œå½“æ—¶å¿ƒé‡Œæ…Œæ…Œçš„ï¼Œæ ¹æœ¬ä¸çŸ¥é“æ¥ä¸‹æ¥äº‹æƒ…ä¼šæ€ä¹ˆå‘å±•ï¼Œä¹Ÿä¸æ•¢çœ‹æ‰‹æœºã€‚ä½†ä¸åˆ°5åˆ†é’Ÿæ—¶é—´ï¼Œå¤§å­¦å®¤å‹å°±å¼€å§‹é½åˆ·åˆ·çš„ç»™æˆ‘æ‰“é’±ï¼Œç»™æˆ‘åŠ æ²¹ï¼Œå½“æ—¶é“ºå¤©ç›–åœ°çš„æ”¶æ¬¾å’Œé—®å€™æ¶ˆæ¯ç›´æ¥å°±ç»™æˆ‘æ„ŸåŠ¨å“­äº†ï¼Œæˆ‘çœŸæ˜¯çˆ±æ­»ä½ ä»¬äº†ã€‚è¿˜æœ‰ä¸€ä»¶äº‹æ˜¯æ¥è‡ªäºä¸€ä¸ªå‰åŒäº‹ï¼Œå½“æ—¶æˆ‘ä»¬åªæœ‰QQè¿™ä¸€ç§è”ç³»æ–¹å¼ï¼Œå› ä¸ºQQç”¨çš„å¾ˆå°‘ï¼Œç›´åˆ°æ˜¨å¤©æ‰çœ‹åˆ°ä»–çš„ç¥ç¦å’Œè½¬è´¦ã€‚ä»–å› ä¸ºå…¬å¸é—®é¢˜ä¸¤ä¸ªæœˆéƒ½æ²¡æ”¶åˆ°å·¥èµ„äº†ï¼ŒçŸ¥é“æˆ‘çš„æƒ…å†µä¹‹åï¼Œè¿˜æ‰§æ„ç»™æˆ‘æ‰“é’±ã€‚çœŸçš„æ˜¯æŠ˜ç…æˆ‘ä¹Ÿï¼ä¸çŸ¥é“è¯´ä»€ä¹ˆå¥½äº†ã€‚</p>\n<p>å…¶å®æ¯æ¬¡è½¬å‘æ—¶æˆ‘éƒ½æ€•æ‰“æ‰°åˆ°å¤§å®¶ï¼Œå› ä¸ºæ°´æ»´ç­¹é‡Œçš„å„ç§æ±‚è½¬å‘çš„æœ¯è¯­ï¼Œå¾ˆåƒç‰›çš®ç™£å¹¿å‘Šã€‚ä½†ä½ ä»¬å´å¯¹æˆ‘å¾ˆå®½å®¹ï¼Œå¸®æˆ‘è½¬å‘ï¼Œå·å¬åˆ«äººå¸®æˆ‘è½¬å‘ï¼Œå¾ˆå¤šäººè¿˜å¤šæ¬¡æ‰“æ¬¾ï¼ŒçœŸçš„éå¸¸æ„Ÿè°¢ã€‚æˆ‘çŸ¥é“å¤§å®¶éƒ½ä¸å®¹æ˜“ï¼Œå„ç§ç”Ÿæ´»çäº‹ï¼Œç»“å©šï¼Œä¹°æˆ¿ï¼Œéƒ½æ˜¯èŠ±é’±çš„åœ°æ–¹ï¼Œæˆ‘ç”¨ä½ ä»¬çš„é’±ï¼Œä¹Ÿå¾ˆè¿‡æ„ä¸å»ï¼Œè¿™é‡Œç»™å¤§å®¶é“ä¸ªæ­‰ï¼Œç»™ä½ ä»¬æ·»éº»çƒ¦äº†ã€‚æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œä½ ä»¬å¸®åŠ©æˆ‘ï¼Œç»™æˆ‘çˆ¸æ²»ç—…è¿™äº›é’±ä¸æ˜¯æç»™æˆ‘çš„è€Œæ˜¯å€Ÿç»™æˆ‘çš„ï¼Œæˆ‘ä¼šåœ¨ä¹‹åç»æµå…è®¸çš„æƒ…å†µä¸‹æŠŠé’±éƒ½ä¸€ä¸€è¿˜ç»™å¤§å®¶ã€‚</p>\n<h2 id=\"å¤§å®¶ä¸€å®šè¦ç»™æˆ‘é¢å­å•Šï¼Œè¿™ç¬”é’±æˆ‘æ˜¯è¦è¿˜çš„\"><a href=\"#å¤§å®¶ä¸€å®šè¦ç»™æˆ‘é¢å­å•Šï¼Œè¿™ç¬”é’±æˆ‘æ˜¯è¦è¿˜çš„\" class=\"headerlink\" title=\"å¤§å®¶ä¸€å®šè¦ç»™æˆ‘é¢å­å•Šï¼Œè¿™ç¬”é’±æˆ‘æ˜¯è¦è¿˜çš„\"></a>å¤§å®¶ä¸€å®šè¦ç»™æˆ‘é¢å­å•Šï¼Œè¿™ç¬”é’±æˆ‘æ˜¯è¦è¿˜çš„</h2><p>ä¸Šåˆæˆ‘ç”¨äº†å°†è¿‘ä¸€ä¸ªå°æ—¶æ—¶é—´æŠŠæ°´æ»´ç­¹çš„ææ¬¾è®°å½•åå¤æ ¸å¯¹äº†ä¸¤éï¼Œåªè¦æ˜¯èƒ½å¯¹åº”ä¸Šåå­—çš„äººæˆ‘éƒ½ç”¨å°æœ¬æœ¬æŠŠäººåå’Œææ¬¾æ•°é¢è®°å½•ä¸‹æ¥ã€‚æœ¬æ¬¡ææ¬¾æ”¶åˆ°äº†750æ¬¡å¸®åŠ©ï¼Œæˆ‘è®°å½•ä¸‹æ¥çš„äººåæœ‰120å¤šä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†äººæ²¡æœ‰è”ç³»åˆ°ï¼Œè¿™å…¶ä¸­æœ‰ä¸€å¤§éƒ¨åˆ†æ¥è‡ªäºæˆ‘çˆ¸çš„æœ‹å‹ã€åŒè¡Œï¼Œæ•™ä¼šçš„äººï¼Œä¸€éƒ¨åˆ†äº²æˆšï¼Œè¿˜æœ‰å°±æ˜¯æ‰€æœ‰å‚ä¸è½¬å‘æ°´æ»´ç­¹æ‰©æ•£ä¹‹åçš„æœ‹å‹åœˆæˆå‘˜ã€‚å¥½åƒè¦æŠŠæ‰€æœ‰äººéƒ½ç¡®è®¤ä¸‹èº«ä»½ä¹Ÿä¸ç°å®ï¼Œæ‰€ä»¥å¯¹äºé‚£äº›æ— æ³•ç¡®çŸ¥æ˜¯è°ä¸”ææ¬¾æ•°é¢è¾ƒå¤šçš„ï¼Œæˆ‘éƒ½åœ¨ææ¬¾è®°å½•çš„ä¸‹é¢ç•™äº†è¨€ï¼Œè¯¢é—®è”ç³»æ–¹å¼ã€‚å¦‚æœèƒ½è”ç³»ä¸Šï¼Œé’±è¿˜æ˜¯ä¼šè¿˜ç»™ä½ çš„ã€‚</p>\n<p>è¿™é‡Œçš„è¿˜é’±æ˜¯é™¤äº†è€æ¿ä»¬çš„2ä¸‡å“ˆï¼Œä¸æ˜¯ä¸è¿˜ï¼Œæ˜¯å› ä¸ºæˆ‘æƒ³æ¢ä¸€ç§è¿˜æ³•ï¼Œé€šè¿‡åŠªåŠ›å·¥ä½œçš„æ–¹å¼å›æŠ¥å…¬å¸ï¼Œå¸®ä½ ä»¬å¤šå®£ä¼ å¤šæ‹›äººï¼ˆä¸»è¦è¿˜æ˜¯æœ‰ç‚¹å¤šï¼Œä»–ä»¬åˆéƒ½æ˜¯å¤§ä½¬ï¼Œè‚¯å®šä¸å·®é’±ï¼‰ã€‚</p>\n<p>å¯èƒ½å¾ˆå¤šäººæé’±æ—¶å°±æ²¡æ‰“ç®—å†è¦å›æ¥ï¼Œä½†æ˜¯æˆ‘æ˜¯æœ‰æ‰“ç®—è¿˜çš„ã€‚æˆ‘é€‰æ‹©è¿˜å¤§å®¶é’±æ˜¯å› ä¸ºæˆ‘çŸ¥é“æŒ£é’±çš„ä¸æ˜“ã€‚æˆ‘æœ‰å›°éš¾ä½ ä»¬å¸®æˆ‘ï¼Œæˆ‘å›°éš¾è¿‡å»äº†ï¼Œç†åº”æŠŠé’±è¿˜ç»™ä½ ä»¬ã€‚è¿™æ˜¯æˆ‘çš„å¿ƒæ„¿ï¼Œä¸è¿˜ä½ é’±æˆ‘ä¼šä¸èˆ’æœçš„ï¼Œæ‰€ä»¥å¤§å®¶ä¸ºäº†ç…§é¡¾æˆ‘çš„æ„Ÿå—ä¸èƒ½æ¨è„±å•Šã€‚</p>\n<p>å½“ç„¶äº†è¿™ä¸ªè¿˜é’±è¿‡ç¨‹è‚¯å®šæ˜¯ä¸ä¼šå¿«çš„ï¼Œè¿™æ®µæ—¶é—´ç¡®å®ç”¨é’±å‰å®³ï¼Œç­‰è¿‡äº†è¿™ä¸ªåï¼Œæˆ‘ä¼šæ…¢æ…¢åœ°å¼€å§‹è¿˜å¤§å®¶é’±ã€‚å¦‚æœä½ å› ä¸ºä»€ä¹ˆäº‹æƒ…ç€æ€¥ç”¨é’±ï¼Œå¯ä»¥å…ˆæ‰¾æˆ‘ï¼›å¦‚æœä½ çš„é’±è¿Ÿè¿Ÿä¸ç»™ï¼Œæ’é™¤è¢«é—æ¼çš„å¯èƒ½æ€§ï¼Œé‚£å°±è¯´æ˜åœ¨æˆ‘çœ¼é‡Œä½ æ˜¯åœŸè±ªï¼ŒåœŸè±ªçš„é’±å°±æœ€åè¿˜å•¦ã€‚</p>\n<h2 id=\"æ›´å¤šè¿‘å†µ\"><a href=\"#æ›´å¤šè¿‘å†µ\" class=\"headerlink\" title=\"æ›´å¤šè¿‘å†µ\"></a>æ›´å¤šè¿‘å†µ</h2><p>å¦å¤–å…³äºè¿™å‡ å¤©çš„è¯¦ç»†è¿›å±•ï¼Œä»¥åŠæˆ‘åœ¨ä¸ƒé™¢é‡Œçš„ä¸€äº›è§é—»ï¼Œå¤§éƒ¨åˆ†æ˜¯è®°å½•ä¸‹æ¥äº†ã€‚å¤§å®¶æœ‰å…´è¶£çš„è¯å¯ä»¥è®¿é—®è¿™ä¸ªç½‘ç«™è¿›è¡Œäº†è§£ï¼š<a href=\"https://zhangferry.com\">zhangferry.com</a></p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"å…³äºæ°´æ»´ç­¹","url":"http://zhangferry.github.io/2019/11/08/shuidi/","content":"<p>å¾ˆå¤šæœ‹å‹å› ä¸ºæˆ‘çš„åŸå› å…³æ³¨å¹¶å‚ä¸åˆ°æ°´æ»´ç­¹ä¸­ï¼Œæœ‰äº›å°ä¼™ä¼´å› ä¸ºæ‹…å¿ƒæ°´æ»´ç­¹æœ‰æ‰‹ç»­è´¹ç”¨å°±ç›´æ¥æŠŠé’±æ‰“ç»™æˆ‘ã€‚ä¸ºäº†æ‰“æ¶ˆå¤§å®¶çš„é¡¾è™‘ï¼Œæˆ‘èŠ±äº†äº›æ—¶é—´ç†è§£æ°´æ»´ç­¹èƒŒåçš„ä¸€äº›äº‹æƒ…ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"æ°´æ»´ç­¹çš„èƒŒæ™¯\"><a href=\"#æ°´æ»´ç­¹çš„èƒŒæ™¯\" class=\"headerlink\" title=\"æ°´æ»´ç­¹çš„èƒŒæ™¯\"></a>æ°´æ»´ç­¹çš„èƒŒæ™¯</h2><p>æ°´æ»´ç­¹æ˜¯ç”±æ°´æ»´å…¬å¸äº2016å¹´æ¨å‡ºçš„ä¸€é¡¹é’ˆå¯¹ç–¾ç—…æ•‘åŠ©çš„ç­¹æ¬¾ä¸šåŠ¡ã€‚åœ¨æ°´æ»´ç­¹ä¹‹å‰çš„ç­¹æ¬¾å¹³å°é¢†å¤´ç¾Šæ˜¯è½»æ¾ç­¹ï¼ˆ2014å¹´æ¨å‡ºï¼‰ï¼Œå½“æ—¶åŒ…æ‹¬è½»æ¾ç­¹åœ¨å†…çš„å¹³å°éƒ½ä¼šæ”¶å–2%å·¦å³çš„æ‰‹ç»­è´¹ã€‚æ°´æ»´ç­¹å´ä¸€å¼€å§‹å°±ä¸æ”¶å–ä»»ä½•æ‰‹ç»­è´¹ï¼Œç­¹æ¬¾æ‰€å¾—èµ„é‡‘å…¨éƒ¨å½’æ”¶æ¬¾äººï¼ˆç›®å‰ä»…æ”¶å–å¾®ä¿¡æç°äº§ç”Ÿçš„æ‰‹ç»­è´¹ï¼š0.1%ï¼‰ã€‚å…æ‰‹ç»­è´¹è‚¯å®šæ›´å¤šäººä½¿ç”¨ï¼Œæ…¢æ…¢çš„æ°´æ»´ç­¹ä¸æ–­ä»è½»æ¾ç­¹æ‰‹é‡ŒæŠ¢å å¸‚åœºï¼Œç›®å‰å¸‚åœºä»½é¢å·²ç»ç¬¬ä¸€ï¼ˆè½»æ¾ç­¹ç°åœ¨ä¹Ÿå…æ‰‹ç»­è´¹äº†ï¼‰ã€‚</p>\n<h2 id=\"æ°´æ»´çš„å‘å±•\"><a href=\"#æ°´æ»´çš„å‘å±•\" class=\"headerlink\" title=\"æ°´æ»´çš„å‘å±•\"></a>æ°´æ»´çš„å‘å±•</h2><p>è¯´æ°´æ»´ç­¹çš„å‘å±•å°±ä¸å¾—ä¸è¯´æ°´æ»´çš„åˆ›å§‹äººæ²ˆé¹ï¼Œä»–æ˜¯ç¾å›¢çš„ç¬¬10å·å‘˜å·¥ã€‚åœ¨ç¾å›¢ï¼Œæ²ˆé¹æˆ˜åŠŸå“è‘—ï¼šæ—©æœŸå¸¦ç€5ä¸‡å…ƒå•æªåŒ¹é©¬æ€åˆ°å¤©æ´¥ï¼Œç¬¬äºŒä¸ªæœˆå°±å°†å¤©æ´¥å¸‚åœºä»½é¢ä»ç¬¬ä¸ƒæå‡åˆ°ç¬¬ä¸€ï¼›23å²å‡ä»»å¤§åŒºç»ç†ï¼Œé€šç®¡åŒ—äº¬ã€å¤©æ´¥ã€å±±ä¸œåŒ400äººå›¢é˜Ÿï¼Œå‚ä¸â€œåƒå›¢å¤§æˆ˜â€ï¼›26å²ï¼Œè·Ÿéšç‹æ…§æ–‡ç«‹é¡¹ç¾å›¢å¤–å–ï¼Œå¸¦é¢†å›¢é˜Ÿåœ¨ä¸€å¹´å¤šçš„æ—¶é—´é‡ŒæŠŠç¾å›¢å¤–å–åšçš„è¡Œä¸šç¬¬ä¸€ã€‚æ‰€ä»¥ä»–çš„å¸‚åœºæŠŠæ§å’Œæ„ŸçŸ¥èƒ½åŠ›æ˜¯éå¸¸å¼ºçš„ã€‚</p>\n<p>çº¿ä¸‹åœ°æ¨æ˜¯ç¾å›¢çš„å¼ºé¡¹ï¼Œè¿™ä¸ªå¼ºé¡¹ä¹Ÿè¢«å¸¦åˆ°äº†æ°´æ»´å…¬å¸ï¼Œå¾ˆå¤šæ—©æœŸæ°´æ»´å‘˜å·¥éƒ½æ˜¯æ²ˆé¹ä»ç¾å›¢æŒ–æ¥çš„ã€‚æ—©æœŸæ°´æ»´ç­¹è·å–æµé‡çš„é‡è¦ç ç å°±æ˜¯åœ°æ¨ï¼Œä»–ä»¬ä¸‹æ²‰åˆ°æ¸—é€ç‡å¹¶ä¸é«˜çš„ä¸‰å››äº”çº¿åŸå¸‚å’Œå†œæ‘åœ°åŒºï¼Œæ‹›å‹Ÿå¤§é‡å…¼èŒäººå‘˜ï¼Œå¿—æ„¿è€…è¾…å¯¼å½“åœ°äººç­¹æ¬¾ï¼›ä»–ä»¬åœ¨å„ä¸ªåŒ»é™¢ï¼Œå„ä¸ªç§‘å®¤ç•™ä¸‹åç‰‡ï¼Œä¼ å•ï¼Œç«‹èµ·æ˜“æ‹‰å®ã€‚ä¸å…‰é¼“åŠ±æ‚£è€…åŠ å…¥ï¼Œä»–ä»¬è¿˜ä¼šå…è´¹æŒ‡å¯¼ç­¹é’±é‡‘é¢æ€ä¹ˆå†™ï¼Œæ±‚åŠ©è¯´æ˜æ€ä¹ˆå†™ï¼Œæ€ä¹ˆè½¬å‘ï¼ˆä¸€æ¬¡å‘ä¸‰æ¡å¯ä»¥å æ»¡æ‰‹æœºä¸€å±ï¼‰æ•ˆæœå¥½ï¼Œç”šè‡³å“ªäº›æ—¶é—´ç‚¹è½¬å‘æ•ˆç‡æ›´é«˜éƒ½ä¼šè¯´ã€‚å®Œç¾å¤åˆ¶ç¾å›¢â€œå†œæ‘åŒ…å›´åŸå¸‚â€çš„ç­–ç•¥ã€‚</p>\n<p>è¿™ç§å½¢å¼è®©æ°´æ»´ç­¹å¿«é€Ÿè·å–äº†å¤§é‡ç”¨æˆ·ï¼Œä¹Ÿå¸¦æ¥äº†å·¨å¤§çš„æµé‡ã€‚å¿«é€Ÿå‘å±•çš„æ°´æ»´å…¬å¸ï¼Œç›®å‰ä¼°å€¼è¿‘30äº¿ï¼Œè…¾è®¯æ˜¯æœ€å¤§çš„æŠ•èµ„æ–¹ã€‚</p>\n<h2 id=\"ç›ˆåˆ©æ¨¡å¼\"><a href=\"#ç›ˆåˆ©æ¨¡å¼\" class=\"headerlink\" title=\"ç›ˆåˆ©æ¨¡å¼\"></a>ç›ˆåˆ©æ¨¡å¼</h2><p>å‰é¢è¯´äº†æ°´æ»´ç­¹æ˜¯å…æ‰‹ç»­è´¹çš„ï¼Œåœ°æ¨äººå‘˜ä¹Ÿéƒ½æ˜¯éœ€è¦å‘å·¥èµ„çš„ï¼Œé‚£å®ƒæ€ä¹ˆèµšé’±å‘¢ï¼Ÿ</p>\n<p>é¦–å…ˆæŒ‰ç…§æ°´æ»´ç­¹çš„è§„åˆ™ï¼Œä¸€æ¬¡ç­¹æ¬¾æ˜¯30å¤©ï¼Œåœ¨è¿™30å¤©å†…åªè¦ä¸å‘èµ·æç°ï¼Œæ°´æ»´ç­¹æœ‰æƒå°†è¿™ç¬”æ¬¾é¡¹å§”æ‰˜ç»™ç¬¬ä¸‰æ–¹è¿›è¡Œèµ„é‡‘æ‰˜ç®¡ï¼Œæ°´æ»´ç­¹è‡³ä»Šç´¯è®¡ç­¹æ¬¾200å¤šäº¿ï¼Œå¹³å‡æ¯æœˆå°±å°†è¿‘5äº¿çš„æµæ°´ï¼Œè¿™äº§ç”Ÿçš„åˆ©æ¯æ˜¯éå¸¸é«˜çš„ã€‚</p>\n<p>å¦å¤–æ°´æ»´ç­¹å…±æœ‰è¶…è¿‡2.5äº¿åçˆ±å¿ƒäººå£«å‚ä¸å¸®åŠ©ï¼Œç´¯è®¡äº§ç”Ÿ6.5äº¿äººæ¬¡æåŠ©æ´»åŠ¨ã€‚è¿™å·¨å¤§çš„æµé‡æ¨åŠ¨å®£ä¼ äº†æ°´æ»´å…¬å¸çš„å¦å¤–ä¸¤é¡¹ä¸šåŠ¡ï¼šæ°´æ»´äº’åŠ©å’Œæ°´æ»´ä¿ã€‚è¿™ä¸¤é¡¹ä¸šæ‰æ˜¯èµšé’±çš„ï¼Œå®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š<strong>æ°´æ»´ç­¹ï¼Œææ¬¾äººï¼Œæ˜¯æ¥åšæ…ˆå–„çš„ï¼›æ°´æ»´äº’åŠ©ï¼Œäº’åŠ©ä¼šå‘˜ï¼Œæ˜¯å¸Œæœ›åŠ å…¥ä¸€ä¸ªä½æˆæœ¬çš„äº’åŠ©è®¡åˆ’ã€‚æ°´æ»´ä¿ï¼Œä¸»åŠ¨è·‘æ¥çš„æŠ•ä¿äººï¼Œæ˜¯å¸Œæœ›æ‰¾åˆ°æ€§ä»·æ¯”é«˜çš„ä¿é™©äº§å“ã€‚</strong></p>\n<p>å…¶ä¸­æ°´æ»´äº’åŠ©æ˜¯æ°´æ»´å…¬å¸å‘å±•çš„ç¬¬ä¸€é¡¹ä¸šåŠ¡ï¼ˆåæ¥æ”¯ä»˜å®å‡ºäº†ä¸ªç›¸äº’å®ï¼Œè·Ÿå®ƒçš„æ¨¡å¼åŸºæœ¬ä¸€æ ·ï¼Œä¸€äººç”Ÿç—…ï¼Œå¤§å®¶å¸®å¿™åˆ†æ‘Šï¼‰ï¼Œæ°´æ»´ç­¹çš„äº§ç”Ÿæ›´æ·±å±‚çš„ç›®çš„æ˜¯ç»™æ°´æ»´äº’åŠ©å¯¼æµã€‚æ‰€ä»¥æ°´æ»´å…¬å¸çš„å•†ä¸šå˜ç°æ¨¡å¼å°±æ˜¯é€šè¿‡æ°´æ»´ç­¹è¿™ç§å…¬ç›Šäº’åŠ©ç±»äº§å“èšé›†é«˜é»æ€§çš„ç”¨æˆ·å’Œæµé‡ï¼Œç„¶åå†é€šè¿‡æ°´æ»´äº’åŠ©ã€æ°´æ»´ä¿ç­‰å•†ä¸šä¸šåŠ¡æ¿å—è¿›è¡Œå˜ç°ã€‚</p>\n<p>æ‰€ä»¥ä»–ä»¬è‚¯å®šæ˜¯èµšé’±çš„å•¦ï¼Œåªä¸è¿‡æ˜¯ä¸€é¢åšâ€œæ…ˆå–„â€ï¼Œä¸€é¢åšç”Ÿæ„ã€‚</p>\n<h2 id=\"ç›®å‰é—®é¢˜åŠç°çŠ¶\"><a href=\"#ç›®å‰é—®é¢˜åŠç°çŠ¶\" class=\"headerlink\" title=\"ç›®å‰é—®é¢˜åŠç°çŠ¶\"></a>ç›®å‰é—®é¢˜åŠç°çŠ¶</h2><p>æ°´æ»´ç­¹ç›®å‰å·²ç»è¿‡äº†å¸‚åœºæ å¤ºæœŸï¼Œä½†ä»æœ‰äº›é—®é¢˜éœ€è¦è§£å†³ã€‚æ°´æ»´ç­¹åœ¨å‰æœŸçš„å®¡æ ¸æ˜¯ç›¸å¯¹å®½æ¾çš„ï¼Œæœ€ä¸»è¦çš„è¯Šæ–­è¯æ˜å’Œèº«ä»½è¯å·ï¼Œåªè¦æ²¡é—®é¢˜ï¼Œå°±å¯ä»¥è¿›å…¥å®¡æ ¸é˜¶æ®µï¼Œè¯´æ˜¯5åˆ†é’Ÿï¼Œæœ‰æ—¶åŸºæœ¬1åˆ†é’Ÿå°±å¥½äº†ã€‚å¯ä»¥è®©ä½ å¿«é€Ÿçš„å¼€å§‹å‹Ÿæï¼Œæç°æ—¶æ‰ä¼šéœ€è¦ä½ å‡ºç¤ºæ›´åŠ è¯¦ç»†çš„è¯Šæ–­æŠ¥å‘Šï¼Œç—…å†ï¼ŒåŒ»é™¢æ¶ˆè´¹æ¸…å•ï¼Œé“¶è¡Œå¡ä¿¡æ¯ç­‰ã€‚è¿™äº›éƒ½åªæ˜¯ç¡®è®¤ä½ çœŸçš„ç”Ÿç—…äº†ï¼Œä½†æ˜¯æ˜¯å¦è´«å›°ï¼Œå…¶å®æ˜¯æ²¡æœ‰ç¡®è®¤çš„ï¼Œå› ä¸ºä¸ºäº†ä¸€ä¸ªç­¹æ¬¾çš„äººå°±å»å½“åœ°è°ƒæŸ¥ä¹Ÿä¸ç°å®ï¼Œè¿™ä¹Ÿä¸å¥½ç¡®è®¤ã€‚ä¸è¿‡è¿™ä¹Ÿä¼šå¸¦æ¥é—®é¢˜ï¼Œæœ‰å¯èƒ½å¯¼è‡´â€œæ»¥ç”¨ä¼—ç­¹â€ï¼Œâ€œæ»¥ç”¨çˆ±å¿ƒâ€ï¼Œæ­¤å‰æŸå¾·äº‘ç¤¾ç›¸å£°æ¼”å‘˜åä¸‹æœ‰æˆ¿æœ‰è½¦å´ç­¹æ¬¾æƒ¹æ¥çš„äº‰è®®å°±æ˜¯æ­¤ç±»ã€‚</p>\n<p>è™½ç„¶æ°´æ»´ç­¹çš„å®¡æ ¸æœºåˆ¶å—åˆ°äº‰è®®ï¼Œä½†æˆ‘ä»¬å¹¶ä¸èƒ½å¦è®¤å…¶å­˜åœ¨çš„ç¤¾ä¼šä»·å€¼ï¼Œå®ƒåˆ‡åˆ‡å®å®çš„å¸®åŠ©äº†å¾ˆå¤šäººã€‚åœ¨æœªæ¥çš„ç›‘ç®¡ä¸­ï¼Œè¦åœ¨é˜²èŒƒé£é™©ä¸é¼“åŠ±åˆ›æ–°ä¹‹é—´å¯»æ±‚é€‚å½“çš„å¹³è¡¡ï¼Œå¯èƒ½æ˜¯ç›‘ç®¡éƒ¨é—¨å’Œæ°´æ»´å…¬å¸éœ€è¦è®¤çœŸæ€è€ƒå’Œæ¢è®¨çš„é—®é¢˜ã€‚å¦‚ä»Šï¼Œå¯¹äºæ¸´æœ›ç–¾é©°çš„æ°´æ»´å…¬å¸æ¥è¯´ï¼Œè¦æƒ³æŒç»­å‘å±•ï¼Œå…³é”®è¿˜æ˜¯â€œä¸å¿˜åˆå¿ƒâ€ã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"ä¸ºä»€ä¹ˆä¼šå¾—å°¿æ¯’ç—‡","url":"http://zhangferry.github.io/2019/11/07/2019_11_7/","content":"<p>çœ‹äº†çˆ¶äº²çš„ç—…å†ï¼Œå†ç»“åˆä¹‹å‰äº†è§£çš„ä¸€äº›æƒ…å†µï¼Œæˆ‘è¯•ç€åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šå¾—å°¿æ¯’ç—‡ã€‚</p>\n<h2 id=\"ä¸€äº›åŒ»å­¦çŸ¥è¯†\"><a href=\"#ä¸€äº›åŒ»å­¦çŸ¥è¯†\" class=\"headerlink\" title=\"ä¸€äº›åŒ»å­¦çŸ¥è¯†\"></a>ä¸€äº›åŒ»å­¦çŸ¥è¯†</h2><p>å…³äºè‚¾è„ï¼š</p>\n<blockquote>\n<p>è‚¾è„æœ‰å¾ˆé‡è¦çš„ä»£è°¢æ’æ¯’åŠŸèƒ½ï¼Œå¯ä»¥æ¸…é™¤ä½“å†…ç»ç”±é£Ÿç‰©æ¶ˆåŒ–æ‰€æ®‹ç•™çš„å°¿ç´ ã€å°¿ç´ æ°®ã€è‚Œé…¸é…ç­‰ï¼Œä¹Ÿä¼šæ’å‡ºæ°´åˆ†ï¼Œç»´æŒä½“å†…çš„ç”µè§£è´¨å¹³è¡¡ï¼Œç”šè‡³æ˜¯æ§åˆ¶è¡€å‹é«˜ä½èµ·ä¼ã€æ´»åŒ–ç»´ç”Ÿç´  D çš„é‡è¦å™¨å®˜ã€‚æ­¤å¤–ï¼Œè‚¾è„ä¸è‚è„ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½“å†…æ¸…é™¤è¯ç‰©çš„é‡è¦å™¨å®˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä½•è‚¾åŠŸèƒ½ä¸å¥½æ—¶ï¼Œå°±å®¹æ˜“å‘ç”Ÿè¯ç‰©è¿‡é‡æˆ–ä¸­æ¯’åé—ç—‡çš„åŸå› ã€‚å¯è§è‚¾è„æ˜¯ä½•ç­‰çš„é‡è¦ï¼ç­‰åˆ°è‚¾è„çš„åŠŸèƒ½æŒç»­æ¶åŒ–åˆ°åªå‰©ä¸‹ä¸åˆ°æ­£å¸¸çš„ 10% æ—¶ï¼Œæ‰è¾ƒå®¹æ˜“å‡ºç°åŒ…æ‹¬æ¶å¿ƒã€æ°´è‚¿ã€é«˜è¡€å‹ã€å€¦æ€ æ— åŠ›ã€æŠ½ç­‹ç­‰ç—‡çŠ¶ï¼Œä¸€æ—¦é€ æˆæ›´ä¸¥é‡çš„å°¿æ¯’ç—‡æ—¶ï¼Œåªèƒ½é€ææ²»ç–—ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<p>å…¶ä¸­è¡¡é‡è‚¾è„åŠŸèƒ½å¥åº·ç¨‹åº¦æœ‰ä¸ªå¾ˆé‡è¦çš„æŒ‡æ ‡ï¼Œè‚Œé…ï¼š</p>\n<blockquote>\n<p>è‚Œé…æ˜¯è‚Œè‚‰åœ¨äººä½“å†…ä»£è°¢çš„äº§ç‰©ï¼Œä¸´åºŠå¸¸ç”¨æ¥è¡¡é‡è‚¾åŠŸèƒ½çš„å¥åº·ç¨‹åº¦ã€‚æ­£å¸¸èŒƒå›´æ˜¯54-106umol/Lã€‚</p>\n</blockquote>\n<p>ç—›é£ï¼š</p>\n<blockquote>\n<p>ç—›é£æ˜¯ä¸€ç§å•é’ å°¿é…¸ç›(MSU)æ²‰ç§¯æ‰€è‡´çš„æ™¶ä½“ç›¸å…³æ€§å…³èŠ‚ç—…ï¼Œä¸å˜Œå‘¤ä»£è°¢ç´Šä¹±åŠ(æˆ–)å°¿é…¸æ’æ³„å‡å°‘æ‰€è‡´çš„é«˜å°¿é…¸è¡€ç—‡ç›´æ¥ç›¸å…³ï¼Œå±ä»£è°¢æ€§é£æ¹¿ç—…èŒƒç•´ã€‚ç—›é£å¯å¹¶å‘è‚¾è„ç—…å˜ï¼Œä¸¥é‡è€…å¯å‡ºç°å…³èŠ‚ç ´åã€è‚¾åŠŸèƒ½æŸå®³ï¼Œå¸¸ä¼´å‘é«˜è„‚è¡€ç—‡ã€é«˜è¡€å‹ç—…ã€ç³–å°¿ç—…ã€åŠ¨è„‰ç¡¬åŒ–åŠå† å¿ƒç—…ç­‰ã€‚</p>\n<p>å› ä¸ºç—›é£å¸¸å‘äºæŒ‡å…³èŠ‚ï¼Œç—›èµ·æ¥æ˜¯é‚£ç§æ·±å…¥éª¨å¤´çš„ç—›ï¼Œå–è‡ªâ€œç—›ç–¯â€çš„è°éŸ³ã€‚</p>\n</blockquote>\n<h2 id=\"æ—¶é—´çº¿\"><a href=\"#æ—¶é—´çº¿\" class=\"headerlink\" title=\"æ—¶é—´çº¿\"></a>æ—¶é—´çº¿</h2><h3 id=\"2007å¹´\"><a href=\"#2007å¹´\" class=\"headerlink\" title=\"2007å¹´\"></a>2007å¹´</h3><p>2007å¹´ï¼Œçˆ¸çˆ¸æ¥åŒ—äº¬æ‰“å·¥å·²ç»7ã€8å¹´å·¦å³äº†ã€‚å‡­å€Ÿç€å‹¤å¥‹å’Œèªæ˜ï¼Œä»–ä»ä¸€ä¸ªè¹¬æ¿è½¦ä¹°èŠ±çš„å°è´©å˜æˆäº†ä¸€ä¸ªæ¥å°åŒºåˆ«å¢…å»ºç­‘é¡¹ç›®çš„å°è€æ¿ï¼Œç”Ÿæ„ä¸Šè™½ç„¶è¶Šæ¥è¶Šå¥½ï¼Œå¾ˆå¤šäº‹ä¸Šçˆ¸çˆ¸è¿˜æ˜¯å–œæ¬¢äº²åŠ›äº²ä¸ºã€‚</p>\n<p>é‚£æ—¶æ­£èµ¶ä¸Šå¤å­£ï¼Œçˆ¸çˆ¸è¦ç»™äººåšè‘¡è„æ¶ï¼Œä¸€ä¸ªè‘¡è„æ¶å·¥æœŸå·®ä¸å¤šæ˜¯10äººå¤©ï¼Œå› ä¸ºæ²¡æœ‰è·Ÿåˆ«çš„äº‹èµ¶åœ¨ä¸€èµ·ï¼Œçˆ¸çˆ¸å°±ä¸€ä¸ªäººåšäº†ã€‚åšæœ¨å·¥æ´»ï¼Œä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å·¥å…·å°±æ˜¯ç”µé”¯ã€‚ä»–å¯¹æµç¨‹å’Œå·¥å…·çš„ä½¿ç”¨å·²ç»æ˜¯å¾ˆç†Ÿç»ƒäº†ï¼Œä½†é‚£æ¬¡å¯èƒ½æ˜¯èµ°ç¥äº†æˆ–è€…é¢„ä¼°é”™è¯¯ï¼Œæ²¡æœ‰æŠŠæ¡å¥½ç”µé”¯çš„åˆ‡å‰²å¹…åº¦ï¼Œä¸€ä¸‹åˆ‡ä¸­äº†å°æ‹‡æŒ‡ã€‚è™½ç„¶æ²¡æœ‰æ•´ä¸ªåˆ‡æ‰ï¼Œä½†æ˜¯éª¨å¤´éƒ½åˆ‡æ–­äº†ï¼Œå¾ˆè¡€è…¥çš„ä¸€å¹•ã€‚ç´§æ¥ç€é€å»åŒ»é™¢ï¼ŒåŒ»ç”Ÿåœ¨æ‰‹æŒ‡ä¸­é—´æ¥äº†ä¸€æ ¹é’¢é’ˆï¼Œä¿ä½äº†æ‰‹æŒ‡ã€‚</p>\n<p>åœ¨è°ƒå…»æœŸé—´ï¼Œä¸ºäº†é˜²æ­¢å‘ç‚ï¼Œæ‰“äº†å¾ˆå¤šæŠ—ç”Ÿç´ ä¹Ÿåƒäº†å¾ˆå¤šæ¶ˆç‚è¯ã€‚æˆ‘ä»¬æ€»è¯´ä¼¤ç­‹åŠ¨éª¨ä¸€ç™¾å¤©ï¼Œè¿™ä¸ªè°ƒå…»ä¹Ÿå°†è¿‘æŒç»­äº†ä¸€ç™¾å¤©ã€‚è¿™ä¸€ç‚¹è™½ç„¶æ²¡æœ‰ä½“ç°çš„ç—…å†ä¸­ï¼Œä½†æˆ‘éšéšæ„Ÿè§‰ï¼Œè¿™å¯èƒ½å°±æ˜¯åé¢ä¸€ç³»åˆ—äº‹ä»¶çš„å¼•å­ã€‚</p>\n<h3 id=\"2008-2009å¹´\"><a href=\"#2008-2009å¹´\" class=\"headerlink\" title=\"2008-2009å¹´\"></a>2008-2009å¹´</h3><p>2008å¹´å·¦å³ï¼Œçˆ¶äº²æ„Ÿè§‰å·¦è„šå¤§æ‹‡æŒ‡å¤–ä¾§ç–¼ç—›ï¼Œé¢‘ç¹å‡ æ¬¡ä¹‹åå°±å»äº†åŒ—äº¬è§£æ”¾å†›301åŒ»é™¢åšæ£€æŸ¥ã€‚å½“æ—¶æ£€æŸ¥ä¸ºè‚Œé…80ï¼ˆumol/Lï¼‰ï¼Œè¢«åŒ»ç”Ÿè¯Šæ–­ä¸ºé€šé£ï¼Œå¹¶å»ºè®®æ§åˆ¶é¥®é…’ã€‚å½“æ—¶åƒäº†åˆ«å˜Œé†‡ç­‰è¯ç‰©è¿›è¡Œæ²»ç–—ï¼Œå¾ˆå¿«ç–¼ç—›çš„ç—‡çŠ¶æ¶ˆå¤±ï¼Œå°±æ²¡æœ‰å†å»åŒ»é™¢è¿›è¡Œæ£€æŸ¥ã€‚</p>\n<p>ä¸€ç›´ä»¥æ¥çˆ¶äº²éƒ½çˆ±å–å•¤é…’ï¼Œå› ä¸ºåŒ—äº¬è¿™è¾¹äº²æˆšæœ‹å‹ä¹Ÿæ¯”è¾ƒå¤šï¼Œå¤§å®¶ä¸å¿™çš„æ—¶å€™å¸¸ä¼šä¸€å—èšèšã€‚çˆ¶è¾ˆé‚£äº›äººåŸºæœ¬éƒ½çˆ±å–é…’ï¼Œååˆ°ä¸€èµ·ï¼Œæ‰“ç‰Œï¼Œå–é…’ï¼Œåƒè‚‰ï¼Œç»å¸¸å‡ å¤©å°±ä¸€æ¬¡ï¼Œä¸€å–å°±æ˜¯é…©é…Šå¤§é†‰ã€‚è™½ç„¶æ¯äº²ç»å¸¸æ‰¹è¯„çˆ¶äº²ä¸è¦å–é…’ï¼Œä½†çˆ¶äº²æ„Ÿè§‰ä¸ç–¼äº†å°±æ˜¯ç—…å¥½äº†ï¼Œå†åŠ ä¸Šæœ‹å‹åŠé…’ï¼Œè‡ªå·±åˆæƒ³å–ï¼Œä¹Ÿæ²¡æœ‰åŠ ä»¥æ§åˆ¶ã€‚ä¸ºäº†è¿™äº‹ä»–è¢«æ¯äº²ä¸çŸ¥åµäº†å¤šå°‘æ¬¡ã€‚</p>\n<p>å…³äºç—›é£ï¼Œç›®å‰è¿˜æ— æ³•æ ¹æ²»çš„ï¼Œåªèƒ½é€šè¿‡è°ƒå…»ï¼Œå»¶ç¼“ç—…æƒ…ã€‚è€Œè¿™å…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯è¦é™åˆ¶å˜Œå‘¤çš„æ‘„å…¥ï¼Œå•¤é…’å˜Œå‘¤è™½ç„¶å«çš„ä¸å¤šï¼Œä½†å®¹æ˜“å–è¿‡é‡ä¹Ÿå°±å¯¼è‡´ä½“å†…å˜Œå‘¤å¤§é‡å¢åŠ ã€‚</p>\n<h3 id=\"2010-2011å¹´\"><a href=\"#2010-2011å¹´\" class=\"headerlink\" title=\"2010-2011å¹´\"></a>2010-2011å¹´</h3><p>å¤§æ¦‚ä¸€å¹´ä¹‹åï¼Œçˆ¸çˆ¸åˆå‡ºç°äº†å·¦è„šå¤§æ‹‡æŒ‡ç–¼ç—›çš„ç—‡çŠ¶ï¼Œè€Œä¸”è¿™æ¬¡è¦æ¯”ä¸Šä¸€æ¬¡ä¸¥é‡ã€‚å†å»åŒ—äº¬è§£æ”¾å†›301åŒ»é™¢æ£€æŸ¥ï¼Œè‚Œé…å·²ç»æ¶¨åˆ°200ï¼Œè¢«è¯Šæ–­ä¸ºâ€œæ…¢æ€§è‚¾åŠŸèƒ½ä¸å…¨â€ã€‚ç—›é£æ‚£è€…ä¸­å¤§çº¦æœ‰40%çš„äººä¼šæ‚£æœ‰æ…¢æ€§è‚¾ç—…ï¼Œå› ä¸ºé¥®é…’çš„åŸå› ç”±ç—›é£å‘å±•åˆ°äº†æ…¢æ€§è‚¾ç—…ã€‚</p>\n<p>ä¹‹åçˆ¶äº²ä¹Ÿæ„è¯†åˆ°äº†é—®é¢˜çš„ä¸¥é‡æ€§ï¼Œå¼€å§‹æ…¢æ…¢æˆ’å•¤é…’ã€‚ä¹Ÿæ˜¯ä»è¿™æ—¶å¼€å§‹ï¼Œçˆ¸çˆ¸ä¹‹ååƒè¯å°±æ²¡å†æ–­è¿‡ã€‚ç¡®è¯Šä¸ºâ€œæ…¢æ€§è‚¾åŠŸèƒ½ä¸å…¨â€ä¹‹åï¼Œä»åŒ»é™¢å°±æ‹¿äº†ä¸€ä¸ªæœˆçš„è¯ã€‚è¿™æœŸé—´æ•ˆæœä¸€ç›´ä¸€èˆ¬ï¼Œçˆ¸å¦ˆå†³å®šæ¢ä¸ªåŒ»é™¢è¯•è¯•ã€‚ç„¶åå»äº†åŒ—äº¬æ­¦è­¦åŒ»é™¢ï¼ŒåŒ»ç”Ÿå¯¹ç—…æƒ…çš„è¯Šæ–­æ˜¯ä¸€è‡´çš„ï¼Œä½†å¯¹äºç—…æƒ…çš„æ²»ç–—å¹¶ä¸ä¹è§‚ï¼Œè¯´æ…¢æ€§è‚¾ç—…ä¹Ÿæ˜¯ä¸€ä¸ªéœ€è¦è°ƒç†çš„ç–¾ç—…ï¼Œå¹¶ä¸èƒ½åƒæŸç§è¯å°±æ ¹æ²»ã€‚è¿™æ¬¡åœ¨è¿™é‡Œåˆæ‹¿äº†1ä¸ªæœˆçš„è¯ã€‚</p>\n<p>å¯¹äºåŒ»ç”Ÿä¸èƒ½å½»åº•æ ¹æ²»çš„è¯´æ³•ï¼Œä»–ä»¬æœ‰äº›ç°å¿ƒã€‚åæ¥åœ¨ç”µè§†ä¸Šçœ‹åˆ°æœ‰å®¶ä¸­åŒ»é™¢å…³äºæ²»ç–—æ…¢æ€§è‚¾ç—…çš„å¹¿å‘Šï¼Œä»–ä»¬å®£ä¼ çš„æ•ˆæœéå¸¸å¥½ï¼Œè¿™ç»™ä»–ä»¬å¸¦æ¥äº†ä¸€äº›å¸Œæœ›ã€‚è™½ç„¶çŸ¥é“å¤§åŒ»é™¢æ‰æ›´é è°±ä¸€äº›ï¼Œä»–ä»¬è¿˜æ˜¯å»äº†é‚£ä¸ªåŒ»é™¢ï¼Œå¹¶å¼€äº†3ä¸ªæœˆçš„ä¸­è¯ã€‚ä¸­è¯ç†¬å‡ºæ¥ä¹‹åéƒ½æ˜¯éå¸¸è‹¦çš„ï¼Œä½†æ˜¯ä¸ºäº†æ²»ç—…ï¼Œçˆ¶äº²çš±ç€çœ‰å¤´ä¹Ÿéƒ½åšæŒæŠŠè¯å–ä¸‹å»çš„ã€‚æœŸé—´è¯åƒå®Œäº†å°±å†å»ä¹°ï¼Œéƒ½æ˜¯ä¸€ä¹°å‡ ä¸ªæœˆçš„ã€‚</p>\n<p>è™½ç„¶çˆ¶äº²ä¸€ç›´ç”Ÿç—…ï¼Œä½†æ˜¯å¹¶ä¸å½±å“å¹²æ´»ï¼Œåªè¦è„šä¸ç–¼ä»–å¿™èµ·æ¥ä¾æ—§ç”Ÿé¾™æ´»è™çš„ã€‚è¿™æ®µæ—¶é—´å®¶é‡Œçš„ç»æµçŠ¶å†µä¹Ÿè¶Šæ¥è¶Šå¥½ï¼Œå½“æ—¶å¾ˆå¤šäº²æˆšç»“å©šæˆ–è€…ç›–æˆ¿æ¥æˆ‘å®¶å€Ÿé’±ï¼Œçˆ¶äº²éƒ½æ˜¯æ…·æ…¨è§£å›Šã€‚</p>\n<h3 id=\"2012å¹´\"><a href=\"#2012å¹´\" class=\"headerlink\" title=\"2012å¹´\"></a>2012å¹´</h3><p>åˆ°2012å¹´æš‘å‡ï¼Œæˆ‘é«˜è€ƒå®Œæ¥åŒ—äº¬ã€‚çˆ¸çˆ¸èº«ä½“å·²ç»å‡ºç°ä¸€äº›ç—‡çŠ¶ï¼šç‰¹åˆ«å®¹æ˜“å›°ï¼Œè„šæµ®è‚¿ã€‚æœ‰ä¸€å¤©ä¸Šåˆä»–éœ€è¦åˆ°ä¸€ä¸ªå®¢æˆ·é‚£é‡ŒåŠäº‹ï¼Œæˆ‘é™ªä»–ä¸€èµ·å»ï¼Œè½¦åˆšå¼€åˆ°ä¸€åŠï¼Œçˆ¶äº²å°±è¯´ï¼Œå¼€ä¸äº†äº†ï¼Œéœ€è¦ä¼‘æ¯ä¸€ä¼šã€‚ç„¶ååœåˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œç¡äº†20åˆ†é’Ÿï¼Œå†ç»§ç»­èµ°ã€‚å½“æ—¶è„šä¹Ÿç»å¸¸æ€§çš„æ°´è‚¿ï¼Œé‹éƒ½åªèƒ½ç©¿å®½æ¾çš„ã€‚</p>\n<p>ç—…æƒ…æŒç»­æ¶åŒ–ï¼Œä¸€å¤©ä¸­åˆï¼Œçˆ¶äº²èººåœ¨åºŠä¸Šä¸èµ·æ¥ï¼Œè¢«æ¯äº²å‘ç°æ—¶ï¼Œä»–çœ¼ç›é‡Œé¢å¸ƒæ»¡äº†è¡€ä¸ã€‚æˆ‘å½“æ—¶æ­£åœ¨åœºï¼Œçœ‹åˆ°è¿™ä¸ªåœºæ™¯ï¼Œåªæ„Ÿè§‰å¿ƒé‡Œè¢«é‡é‡å‡»æ‰“äº†ä¸€ä¸‹ï¼Œå¾ˆææ…Œï¼Œæƒ³å“­å´å“­ä¸å‡ºæ¥ã€‚æˆ‘èƒŒç€ä»–åä¸Šè½¦ï¼Œé‚£å¤©ç›´æ¥å»äº†åŒ—å¤§åŒ»é™¢ï¼Œè¿›å…¥é‡ç—‡ç›‘æŠ¤å®¤ã€‚</p>\n<p>åŒ»ç”Ÿå·²ç»ä¸‹äº†ç—…å±é€šçŸ¥ä¹¦ï¼Œä»–å†·é…·æ— æƒ…åœ°å‘Šè¯‰æˆ‘è·Ÿæ¯äº²ï¼Œç—…äººéšæ—¶æœ‰å¯èƒ½é­é‡ä¸æµ‹ï¼Œè¯·æå‰åšå¥½å¿ƒç†å‡†å¤‡ã€‚æˆ‘è·Ÿå¦ˆå¦ˆéƒ½å“­äº†å‡ºæ¥ï¼Œé‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è¿‘è·ç¦»æ¥è§¦æ­»äº¡ã€‚</p>\n<p>è¿‡äº†å‡ ä¸ªå°æ—¶ï¼ŒåŒ»ç”Ÿå‘Šè¯‰æˆ‘ä»¬çˆ¶äº²å·²ç»è„±ç¦»äº†å±é™©ï¼Œå¹¶è¢«ç¡®è¯Šä¸ºå°¿æ¯’ç—‡ï¼ˆæ…¢æ€§è‚¾è„ç—…5æœŸï¼‰ï¼Œè‚Œé…è¾¾åˆ°äº†1200ã€‚è¿›å…¥å°¿æ¯’é’ˆé˜¶æ®µå°±åªæœ‰ä¸¤ç§æ–¹æ³•ç»´æŒç”Ÿå‘½äº†ï¼Œé€æå’Œè‚¾ç§»æ¤ã€‚å› ä¸ºè‚¾ç§»æ¤æ‰‹æœ¯ä¸æ˜¯æƒ³åšå°±èƒ½åšçš„ï¼Œéœ€è¦ç­‰å¾…åˆé€‚è‚¾æºï¼Œæ‰€ä»¥å‰æœŸåªèƒ½é€šè¿‡é€æç»´æŒã€‚åº¦è¿‡å±é™©æœŸä¹‹åï¼Œç”±äºåŒ—å¤§åŒ»é™¢ç—…æˆ¿ç´§å¼ ï¼Œçˆ¶äº²è¢«è½¬åˆ°äº†åŒ—äº¬èˆªç©ºåŒ»é™¢è¿›è¡Œé€ææ²»ç–—ã€‚å½“æ—¶åœ¨èˆªç©ºåŒ»é™¢ä½äº†å°†è¿‘ä¸€ä¸ªæœˆæ—¶é—´æ‰æ¢å¤èº«ä½“å‡ºé™¢ã€‚</p>\n<h2 id=\"åˆ†æ\"><a href=\"#åˆ†æ\" class=\"headerlink\" title=\"åˆ†æ\"></a>åˆ†æ</h2><p><strong>1ã€é¥®é…’å’Œä¸€äº›è¯ç‰©</strong></p>\n<p>ç—…æ ¹åœ¨ç—›é£ä¸Šï¼Œä½†ç—›é£çš„ç—…å› å’Œå‘ç—…æœºåˆ¶å°šä¸æ¸…æ¥šã€‚ä½†æœ‰äº›è¯±å‘å› ç´ ï¼Œä¾‹å¦‚å¤§é‡æ‘„å…¥åŠ¨ç‰©å†…è„ï¼Œè´ç±»æµ·é²œç­‰é«˜å˜Œå‘¤é£Ÿç‰©ï¼Œè¿˜æœ‰é…’ç²¾çš„æ‘„å…¥ï¼Œç‰¹åˆ«æ˜¯å•¤é…’ã€‚å½“ç„¶è¿˜æœ‰å¯èƒ½å¯¼è‡´è¡€å°¿é…¸å¢é«˜çš„è¯ç‰©ã€‚</p>\n<p>å› ä¸ºå·²ç»æ— ä»æŸ¥è¯çˆ¶äº²å½“æ—¶æ‰‹æŒ‡å—ä¼¤éƒ½åƒäº†å“ªäº›è¯ï¼ŒåŠ¨ç‰©å†…è„å’Œè´ç±»ä»–ä¹Ÿä¸å–œæ¬¢åƒï¼Œåªèƒ½çŒœæµ‹é‚£æ—¶çš„ç”¨è¯å’Œçˆ¶äº²æœ¬èº«å–œæ¬¢å–å•¤é…’å…±åŒé€ æˆäº†ç—›é£çš„å‘ç”Ÿã€‚</p>\n<p><strong>2ã€ä¸­è¯è¦æ…é‡ï¼Œå»å¤§åŒ»é™¢çœ‹ç—…</strong></p>\n<p>ç—›é£å‘å±•æˆä¸ºæ…¢æ€§è‚¾ç‚ï¼Œæ˜¯æœ‰å¾ˆå¤§æ¦‚ç‡çš„ï¼Œä½†æ˜¯ä¿å…»å¾—å½“ä¹Ÿå¯ä»¥æ§åˆ¶çš„å¾ˆå¥½ã€‚ä½†æ˜¯åœ¨çŸ­çŸ­ä¸¤å¹´å¤šçš„æ—¶é—´ å°±ä»æ…¢æ€§è‚¾è„ç—…1æœŸå‘å±•åˆ°5æœŸç¡®å®å¤ªå¿«äº†ï¼Œå¾ˆå¤šäººæ ¹æœ¬ä¸ä¼šå‘å±•åˆ°5æœŸï¼Œæˆ–è€…æ˜¯å¾ˆå¤šå¹´ä¹‹åæ‰ä¼šå‘å±•æ¶åŒ–åˆ°å°¿æ¯’ç—‡é˜¶æ®µã€‚æ‰€ä»¥æˆ‘å°±ååˆ†æ€€ç–‘æ˜¯åƒä¸­è¯é˜¶æ®µå¯¼è‡´çš„ç—…æƒ…åŠ é‡ã€‚</p>\n<p>å…³äºä¸­è¯æ²»ç–—è‚¾ç—…çš„æ•ˆæœï¼Œæˆ‘çœ‹äº†ä¸€äº›ç½‘ä¸Šçš„è®¨è®ºï¼Œæ˜¯è¿˜ä¸é”™çš„ï¼Œæœ‰ç”¨ä¸­è¯è°ƒç†è¿™ç§è¯´æ³•ã€‚é‚£å°±å¤§æ¦‚ç‡æ˜¯è¢«é‚£ä¸ªå¹¿å‘ŠåŒ»é™¢ç»™å‘äº†ï¼Œå–ä¸­è¯é˜¶æ®µä¸€ç‚¹æ”¹å–„æ²¡æœ‰ï¼Œè€Œä¸”ä¸­è¯æœ¬èº«ä¼šå«æœ‰å¾ˆå¤šéè¯æ•ˆçš„æ‚è´¨ï¼Œå–åˆ°ä½“å†…ä¼šå¤§å¤§å¢åŠ è‚¾çš„è´Ÿæ‹…ã€‚</p>\n<p><strong>3ã€å®šæœŸæ£€æŸ¥</strong></p>\n<p>è¿˜æœ‰ä¸€ç‚¹æ˜¯å¦‚æœä¸èƒ½ä¿è¯åƒçš„è¯ä¸€å®šå°±å¯¹ç—…æƒ…æœ‰å¸®åŠ©ï¼Œé‚£å°±éœ€è¦å®šæœŸå»åŒ»é™¢æ£€æŸ¥ï¼Œä¸€ä¸ªæ˜¯äº†è§£ç—…æƒ…å¤„åœ¨å“ªä¸ªé˜¶æ®µï¼Œä¸€ä¸ªå°±æ˜¯èƒ½çœ‹å‡ºæ¥å½“æ—¶å†åƒçš„é‚£ä¸ªè¯æ˜¯å¦æœ‰ä½œç”¨ã€‚</p>\n<p>æ›´é‡è¦çš„ä¸€ç‚¹ä¸€å®šè¦å»å¤§åŒ»é™¢å•Šã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"ä¸ƒé™¢ç¬¬ä¸‰å¤©ï¼ˆ11æœˆ5å·ï¼‰","url":"http://zhangferry.github.io/2019/11/05/2019_11_5/","content":"<p>æ‰‹æœ¯å®Œæˆå°±æ˜¯æ¸¡è¿‡äº†æœ€å¤§çš„éš¾å…³ï¼Œå…¶ä»–æ—¶é—´çˆ¸çˆ¸éƒ½æ˜¯åœ¨é‡ç—‡ç›‘æŠ¤å®¤ç”±ä¸“é—¨æŠ¤å·¥ç…§é¡¾çš„ã€‚å®é™…ä¹Ÿä¸éœ€è¦é‚£ä¹ˆå¤šäººæ‰‹ï¼Œå…ˆåé€èµ°äº†ä¸‰å§¨å§¨çˆ¶ï¼Œå¼Ÿå¼Ÿï¼Œè¿˜æœ‰ä¸¤ä½å”å”ï¼Œå°±æˆ‘è‡ªå·±ç•™åœ¨åŒ»é™¢ã€‚å¹³å¸¸éœ€è¦ä¹°ä»€ä¹ˆåƒçš„ï¼Œé‡Œé¢æŠ¤å£«ç›´æ¥ç»™æˆ‘æ‰“ç”µè¯ï¼Œæˆ‘ä¹°å¥½é€è¿‡æ¥ã€‚</p>\n<a id=\"more\"></a>\n<p>è¿™å¤©æ—©ä¸Šæ˜¯é¸¡è›‹å°ç±³ç²¥ï¼Œå·²ç»ä¸éœ€è¦èåœæ°´äº†ï¼Œä¸­åˆè¦åƒè‚‰ä¸é¢ã€‚å¬åˆ°çˆ¸çˆ¸è¦åƒè‚‰ä¸é¢å¾ˆå¼€å¿ƒï¼Œå› ä¸ºè¿™æ˜¯é™¤äº†å°ç±³ç²¥é¸¡è›‹ä¹‹å¤–ç¬¬ä¸€ä¸ªéå¸¸è§„é£Ÿç‰©ã€‚ä½†æ˜¯å¯èƒ½æ˜¯æˆ‘æ²¡è€ƒè™‘å‘¨åˆ°ï¼Œé¢å¤ªé•¿äº†ï¼Œæ±¤ä¹Ÿæœ‰ç‚¹å°‘ï¼Œä»–åƒçš„ä¸æ–¹ä¾¿ï¼Œåªåƒäº†ä¸¤å£ã€‚ä¹‹åæ ¹æ®æŠ¤å£«äº¤ä»£ç»™ä»–ä¹°äº†ä¸€åŒ…å£é¦™ç³–ã€‚</p>\n<p>å†æ™šäº›æ—¶å€™æŠ¤å£«æ‰“ç”µè¯è¯´ä»–æƒ³çœ‹ä¹¦ã€‚å› ä¸ºé‡Œé¢ä¸è®©ç©æ‰‹æœºï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¨±ä¹æªæ–½ï¼Œé™¤äº†ç¡è§‰åƒé¥­æ²¡åˆ«çš„äº‹ï¼Œå¾ˆå®¹æ˜“æ— èŠã€‚é™„è¿‘å°±ä¸€å®¶å–æ•™è¾…èµ„æ–™çš„ä¹¦åº—ï¼Œåœ¨ä¸€å †å°å­¦ç”Ÿè¯»ç‰©ä¸­ï¼Œæˆ‘æŒ‘äº†æœ¬ã€Šä¸­å¤–åäººæ•…äº‹ã€‹ã€‚</p>\n<p>ä¸‹åˆæ¢è§†æ—¶çŠ¶æ€å¥½å¾ˆå¤šï¼Œå£°éŸ³ä¹Ÿä¸å†é‚£ä¹ˆæ²™å“‘äº†ã€‚æ„Ÿè§‰çŠ¶æ€è¶Šæ¥è¶Šå¥½äº†ã€‚</p>\n<p>ä¸‰å§¨ä¸€ç›´åœ¨å®¶ç›¼ç€ï¼Œè¯´ä½ çˆ¸æœ‰ä»€ä¹ˆæƒ…å†µéšæ—¶æ±‡æŠ¥ï¼Œå§¥çˆ·æ¯å¤©ä¸Šåˆæ‰“æ¥ä¸€æ¬¡ç”µè¯è¯¢é—®æƒ…å†µï¼Œå¤§å§¨ï¼Œä¸‰å§¨ï¼Œå°å§¨ä¹Ÿéƒ½ç»å¸¸æ‰“ç”µè¯è¿‡æ¥ã€‚</p>\n<p>æˆ‘è¿™å‡ å¤©è¿˜æ˜¯å› ä¸ºç¡çœ é—®é¢˜ï¼ŒçŠ¶æ€ä¸ä½³ï¼Œç‰¹åˆ«æ˜¯åˆ°äº†ä¸‹åˆã€‚å›°å¾—ä¸è¡Œå°±ååœ¨å°é˜¶ï¼Œå¾€è…¿ä¸Šä¸€è¶´ç¡ç€äº†ï¼Œä½†20åˆ†é’Ÿå°±é†’äº†ï¼Œé‚£çŸ³æ¿å°é˜¶æ˜¯çœŸçš„ç¡¬ã€‚</p>\n<p>åœ¨ç›‘æŠ¤å®¤å¤–é¢ä¸€ç›´å¾…åˆ°æ™šä¸Šåç‚¹é’Ÿï¼Œè§é‡Œé¢ä¸€ç›´æ²¡æœ‰æ¶ˆæ¯ï¼Œå°±å›åˆ°äº†é™„è¿‘ç§Ÿçš„æˆ¿å­å‡†å¤‡ä¼‘æ¯ã€‚æ´—ä¸ªæ¾¡ï¼Œèººä¸‹ç¡è§‰ï¼Œè¿™å¯èƒ½æ˜¯è¿‘å‡ å¹´æ¥ç¡å¾—æœ€é¦™çš„ä¸€ä¸ªæ™šä¸Šäº†ã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"ä¸ƒé™¢ç¬¬äºŒå¤©ï¼ˆ11æœˆ4å·ï¼‰","url":"http://zhangferry.github.io/2019/11/04/2019_11_4/","content":"<h2 id=\"è®¢é¥­\"><a href=\"#è®¢é¥­\" class=\"headerlink\" title=\"è®¢é¥­\"></a>è®¢é¥­</h2><p>äº”ç‚¹åŠèµ·åºŠã€‚åŒ»ç”Ÿå˜±å’æ‰‹æœ¯å®Œç¬¬äºŒå¤©éœ€è¦å–ç±³æ²¹ï¼ˆå°ç±³ç²¥è™‘æ‰å°ç±³ï¼‰ï¼Œè¿˜æœ‰å–èåœæ°´ã€‚ä¸€èˆ¬æ¥è¯´æœ¯å6å°æ—¶å®œæœç”¨ä¸€äº›æ’æ°”ç±»é£Ÿç‰©ï¼Œå¦‚èåœæ±¤ï¼Œå¸®åŠ©å› éº»é†‰è€Œåœæ­¢è •åŠ¨çš„èƒƒè‚ é“ä¿æŒè¿ä½œï¼Œä»¥è‚ é“æ’æ°”ä½œä¸ºå¯ä»¥è¿›é£Ÿçš„æ ‡å¿—ã€‚</p>\n<a id=\"more\"></a>\n<p>é€å®Œè¿™ä¸¤æ ·ä¸œè¥¿ï¼Œæˆ‘ä»¬å°±åœ¨å¤–é¢ç­‰ç€äº†ã€‚å› ä¸ºè¿™ä¸ªæ˜¯æ•´ä¸ªåŒ»é™¢çš„æ‰‹æœ¯å®¤ï¼Œå¤§å¤§å°å°çš„æ‰‹æœ¯éƒ½ä»è¿™é‡Œè¿›å…¥ã€‚ä¸€ä¸Šåˆæœ‰é™†ç»­äº”ä¸ªäººå…ˆåè¿›å…¥æ‰‹æœ¯å®¤ï¼Œè¿˜æœ‰ä¸€åå­•å¦ˆå¦ˆï¼Œæ²¡å¤šä¹…å¥¹è¢«æ¨å‡ºæ¥è¦è½¬åˆ°åˆ«çš„ç—…æˆ¿ã€‚ç—…åºŠä»æ—è¾¹ç»è¿‡ï¼Œæˆ‘çœ‹åˆ°æ¯äº²å®‰é™çš„é—­ç€çœ¼ç›ï¼Œå°å®å®è¢«è£¹çš„ä¸¥ä¸¥å®å®çš„åªæ¼ä¸€ä¸ªå°è„‘è¢‹ï¼Œè¢«æ”¾åœ¨æ¯äº²è…¿é—´ï¼Œåé¢ä¸€ç¾¤å®¶äººè·Ÿç€ç—…åºŠï¼Œå¤šä¹ˆç¾å¥½çš„ç”»é¢å•Šï¼</p>\n<p>ä¸­åˆç›‘æŠ¤å®¤å¤§å¤«æ‰“ç”µè¯è¯´çˆ¸çˆ¸éœ€è¦å–å°ç±³ç²¥ï¼Œå› ä¸ºä¸å†æ˜¯ç±³æ²¹ï¼Œå°±è®©æˆ‘é«˜å…´äº†ä¸€ä¸‹ã€‚</p>\n<h2 id=\"è§†é¢‘é€šè¯\"><a href=\"#è§†é¢‘é€šè¯\" class=\"headerlink\" title=\"è§†é¢‘é€šè¯\"></a>è§†é¢‘é€šè¯</h2><p>ä¸‹åˆ5ç‚¹åˆ°äº†æ¢è§†æ—¶é—´ï¼Œæœ‰ä¸€é—´ä¸“é—¨çš„å°å°çš„æ¢è§†æˆ¿é—´ï¼Œé‡Œé¢æœ‰ä¸¤éƒ¨ç”µè¯ï¼Œä¸¤å°ç”µè§†ã€‚å¯ä»¥é€šè¿‡è¿™é‡Œæ¥é€šå„ä¸ªç—…åºŠä¸Šé¢çš„ç›‘è§†å™¨ï¼Œçœ‹åˆ°ç—…äººçš„æƒ…å†µï¼Œç„¶åé€šè¿‡ç”µè¯è·Ÿç—…äººå¯¹è®²ã€‚æˆ‘çœ‹åˆ°å‰é¢ä¸¤ä¸ªäººçš„é€šè¯åœºæ™¯ï¼Œä¸€ä¸ªæ¸…æ™°ï¼Œä¸€ä¸ªç¨å¾®æ¨¡ç³Šä¸€ç‚¹ï¼Œè¿˜è·‘åˆ°äº†ç”»é¢æ¸…æ™°çš„é‚£ä¸€å¯¹æ’ç€ã€‚ç¦»æ‰‹æœ¯å®Œæˆå·²ç»19ä¸ªå°æ—¶äº†ï¼Œéå¸¸æƒ³çœ‹çœ‹çˆ¸çˆ¸ç°åœ¨çš„æƒ…å†µã€‚æ»¡æ€€æœŸå¾…åœ°æ¥é€šç”µè¯ä¹‹åï¼Œå¤§å¤«è¯´ï¼Œå¼ ä¸­çº¿åºŠå¤´æ‘„åƒåäº†ï¼Œç­‰ä¼šé€šè¿‡æŠ¤å£«æ‰‹æœºè¿›è¡Œè§†é¢‘ã€‚</p>\n<p>é€šè¿‡æŠ¤å£«æ‰‹æœºæ¥é€šè§†é¢‘ï¼Œçœ‹çˆ¸çˆ¸çŠ¶æ€è¿˜å¯ä»¥ï¼Œæˆ‘é—®ä»–æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Œä»–è¯´ï¼Œè¿˜å¥½ã€‚è™½ç„¶æ˜¯â€œè¿˜å¥½â€ä½†å¬ä»–å£°éŸ³æ²™å“‘ï¼Œä¸å…è¿˜æœ‰äº›æ‹…å¿ƒï¼Œä¸æ•¢è·Ÿä»–è®²å¤ªå¤šè¯ã€‚é—®æ—è¾¹å¤§å¤«å£°éŸ³æ²™å“‘é—®é¢˜ï¼Œä»–è¯´å…¨éº»æ‰‹æœ¯å–‰éƒ¨æ’ç®¡å¼•èµ·çš„è‚¿èƒ€ï¼Œéœ€è¦ä¸€æ®µæ—¶é—´çš„æ¢å¤ã€‚æ™šä¸Šåƒé¥­è¿˜éœ€è¦å–èåœæ°´ã€‚æŒ‚å®Œç”µè¯å°±ç»™çˆ¸çˆ¸å‡†å¤‡èåœæ°´å»äº†ã€‚</p>\n<p>æŠŠè·Ÿçˆ¸çˆ¸é€šè¯çš„æƒ…å†µæ‹ä¸Šç…§ç‰‡å‘ç»™äº²æˆšä»¬ï¼Œå‘Šè¯‰ä»–ä»¬æ¢å¤çš„æŒºå¥½ã€‚</p>\n<h2 id=\"å¼€å§‹æ°´æ»´ç­¹\"><a href=\"#å¼€å§‹æ°´æ»´ç­¹\" class=\"headerlink\" title=\"å¼€å§‹æ°´æ»´ç­¹\"></a>å¼€å§‹æ°´æ»´ç­¹</h2><p>ä¸‰å§¨ç»™æˆ‘æ‰“ç”µè¯å‚¬æˆ‘èµ¶ç´§å¼„æ°´æ»´ç­¹ã€‚ä¸€å¼€å§‹æˆ‘æ˜¯æœ‰äº›æŠµè§¦è¿™ä¸ªäº‹æƒ…çš„ï¼Œå› ä¸ºæ‰‹æœ¯è´¹æ‰‹æœ¯è´¹å‡‘é½äº†ï¼Œè¿˜æœ‰æ„Ÿè§‰æ°´æ»´ç­¹è¿™ä¸ªäº‹æƒ…æœ‰ç‚¹æŠ¹ä¸å¼€é¢å­ã€‚ä½†æ˜¯æƒ³åˆ°é‡ç—‡ç›‘æŠ¤å®¤æ¯å¤©ä¸€ä¸‡å¤šçš„èŠ±è´¹ï¼Œä¸‹ä¸ªæœˆ4ä¸‡çš„ä¿¡ç”¨å¡ï¼Œå†ä¹‹åçš„æ— èŒç›‘æŠ¤å®¤5å¤©ï¼Œç»§ç»­ä½é™¢10å¤©ï¼Œè¿˜æœ‰åæœŸæ¯å‘¨ä¸€æ¬¡æ£€æŸ¥ï¼ŒæŠ—æ’å¼‚è¯è¦åƒå¥½å‡ å¹´ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆå¤§ä¸€ç¬”èŠ±è´¹ã€‚ç°åœ¨ç­¹é’±ä¸ç®¡å¤šéš¾éƒ½æ¯”ä»¥åä¸ºé’±å‘æ„å¥½ã€‚æƒ³é€šäº†è¿™äº›æˆ‘è”ç³»äº†ä¸€ä¸ªé™„è¿‘æ°´æ»´ç­¹çš„å¯¹æ¥äººï¼Œè·Ÿä»–è¯´æ˜äº†æƒ…å†µï¼Œä¹Ÿé—®äº†ä¸€äº›ä»–ä»¬é‚£è¾¹å…³äºå®¡æ ¸ï¼Œç­¹æ¬¾ï¼Œæç°çš„æ‰‹ç»­ã€‚ç„¶åå°±å¼€å§‹äº†æœ‹å‹åœˆé‡Œæ°´æ»´ç­¹ã€‚</p>\n<p>å‘å‡ºå»åæˆ‘è¿˜æææƒšæƒšçš„ï¼Œå¾ˆå¿«å°±ä¼šè¢«å¤§å®¶æ³¨æ„åˆ°ï¼Œä¸çŸ¥é“å³å°†åˆ°æ¥çš„æ˜¯ä»€ä¹ˆï¼Œæˆ‘ç”šè‡³éƒ½ä¸æ•¢çœ‹æ‰‹æœºã€‚5åˆ†é’Ÿåå¤§å­¦å®¤å‹é‚£å‡ ä¸ªå°ä¼™å­è”ç³»åˆ°æˆ‘ï¼Œä»–ä»¬äº”ä¸ªé½åˆ·åˆ·çš„ç»™æˆ‘æ‰“é’±ï¼Œå¹¶ç¥ç¦æˆ‘çˆ¸æ—©æ—¥åº·å¤ã€‚é‚£ä¼šå›å¤éƒ½å›å¤ä¸è¿‡æ¥ï¼Œè¢«ä»–ä»¬çš„è¡Œä¸ºæ„ŸåŠ¨çš„ä¸è¡Œã€‚çœŸçš„ï¼Œæˆ‘ä»¬609æ— è®ºåšä»€ä¹ˆäº‹éƒ½æ˜¯é½é½æ•´æ•´çš„ï¼Œæ¯•ä¸šå‰è¿™æ ·ï¼Œæ¯•ä¸šåä¹Ÿæ˜¯è¿™æ ·ï¼Œå¾ˆå¤šæ¬¡èšä¼šæˆ‘ä»¬çš„å›¢ç»“éƒ½è®©å…¶ä»–åŒå­¦ä»¬ç¾¡æ…•ï¼Œæˆ‘ä»¬æ˜¯æˆ‘ä¸€è¾ˆå­çš„å¥½å…„å¼Ÿã€‚</p>\n<p>å¯èƒ½è¿™æ®µæ—¶é—´ç¡®å®å¤ªç´¯äº†ï¼Œå°†è¿‘ä¸¤å¤©åŸºæœ¬æ²¡æ€ä¹ˆä¼‘æ¯è¿‡ï¼Œä¸€ç›´åœ¨é¡¶ç€å„ç§å‹åŠ›å‰è¿›ï¼Œé‚£ä¹ˆä¸€ç¬é—´å› ä¸ºå®¤å‹çš„å…³æ€€è€Œæ”¾ä¸‹å‹åŠ›çš„æ—¶å€™ï¼Œç«Ÿä¸è‡ªè§‰å“­äº†å‡ºæ¥ã€‚</p>\n<p>å†è¿‡äº†ä¸€ä¼šå¼ å¼›ç»™æˆ‘æ‰“ç”µè¯è¯´ï¼Œä½ æ€¥ç”¨é’±å…ˆå€Ÿä½ 1ä¸‡ï¼Œæˆ‘åˆšä¹°å®Œæˆ¿æ‰‹å¤´ä¸æ˜¯å¾ˆå®½è£•ï¼Œå¦‚æœä¸å¤Ÿå†å¼€å£ã€‚å¼ å¼›æ˜¯é«˜ä¸­åŒå­¦ï¼Œå¤§å­¦å„å¿™å„çš„åŸºæœ¬æ²¡æ€ä¹ˆäº¤æµè¿‡ï¼Œæ¯•ä¸šä¹‹ååˆå‡ å¹´äº†ï¼Œæœ‰äº‹æƒ…è¿˜æƒ¦è®°ç€æˆ‘ï¼ŒçœŸçš„å¾ˆæ„ŸåŠ¨ã€‚</p>\n<p>ç„¶åå†å»çœ‹æ°´æ»´ç­¹ä¸Šé¢çš„ç­¹æ¬¾æƒ…å†µï¼Œäº²æˆšï¼Œå…¬å¸é¢†å¯¼ï¼ŒåŒäº‹ï¼ŒåŒå­¦ï¼Œæœ‹å‹éƒ½æœ‰å¸®åŠ©å¹¶ç•™ä¸‹ç¥ç¦çš„è¯ã€‚æˆ‘ç¿»çœ‹ç€ï¼Œæ„Ÿè§‰åˆ°ä¸€è‚¡ä¸€è‚¡çš„èƒ½é‡ä¸æ–­æ³¨å…¥ä½“å†…ã€‚æˆ‘ä¼šå¥½å¥½åŠ æ²¹çš„ï¼Œä¼´ç€å¤§å®¶çš„ç¥ç¦ï¼Œä¸€å®šä¼šé¡ºåˆ©åº¦è¿‡è¿™é“éš¾å…³ã€‚</p>\n<p>ç„¶åè·Ÿå¥³æœ‹å‹æ‰“ç”µè¯ï¼Œè·Ÿå¥¹è¯´æ°´æ»´ç­¹çš„äº‹æƒ…ï¼Œå¥¹è¡¨ç¤ºå¾ˆç†è§£ï¼Œè¿˜è¯´ä¹‹å‰ä¹Ÿæƒ³è¿‡è¿™ä¸ªäº‹ï¼Œä½†æ„Ÿè§‰æˆ‘çˆ±é¢å­ä¸ä¼šåŒæ„ã€‚å¥¹ä¹Ÿå¾ˆå¿ƒç–¼æˆ‘ï¼Œçœ‹æˆ‘è¿™æ ·è¿˜æ•°è½æˆ‘ï¼Œä½ æ¯å¤©å·¥ä½œæ—¶é—´é‚£ä¹ˆé•¿ï¼Œå®¶é‡Œçš„äº‹è¿˜å°±ä½ ä¸€ä¸ªäººæ‰›ï¼Œå·¥ä½œå‡ å¹´æ”’çš„é’±å…¨æ­è¿›å»äº†ï¼Œä½ å¤šå¤§èƒ½è€å•Šã€‚æˆ‘ç†è§£å¥¹ï¼Œå› ä¸ºæœ¬æ¥ä»Šå¹´è®¸è¯ºå¥¹ä¹°æˆ¿ç»“å©šçš„ï¼Œå› ä¸ºæˆ‘çˆ¸çš„äº‹è‚¯å®šä¹Ÿè€½è¯¯äº†ã€‚å…¶å®è¿™ä¸€åœˆæœ€å¯¹ä¸èµ·çš„å°±æ˜¯å¥¹ã€‚å¥¹å¯èƒ½ä¹Ÿæ„Ÿè§‰è¯è¯´é‡äº†ï¼Œåˆåè¿‡æ¥å®‰æ…°æˆ‘ç…§é¡¾å¥½è‡ªå·±ï¼Œç…§é¡¾å¥½æˆ‘çˆ¸ã€‚</p>\n<p>ä¸çŸ¥ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Œæˆ‘éƒ½ä¸å†åŸ‹æ€¨ï¼Œè€Œåªæ˜¯å»æƒ³æ€ä¹ˆå¤„ç†å¥½å®ƒã€‚å‘½è¿æ˜¯å¤ªä¸å…¬å¹³äº†ï¼ŒæŠŠä¸€ä¸ªå®Œæ•´çš„å®¶ç ´åçš„é›¶é›¶ç¢ç¢ï¼Œæ¯äº²ç—…æ•…ï¼Œçˆ¶äº²å¤§ç—…éœ€è¦æ²»ç–—ï¼Œå¼Ÿå¼Ÿç»“å©šå‡ å¹´è¿˜ä¸€äº‹æ— æˆï¼Œæ‰€æœ‰çš„äº‹æƒ…éƒ½éœ€è¦æˆ‘ä¸€äººæ‰¿æ‹…ã€‚ä¹‹å‰æˆ‘ä¹Ÿä¼šæ¨çš„ç”¨æ‹³å¤´ç ¸å¢™ï¼Œä½†æ˜¯ç°åœ¨ä¸ä¼šäº†ï¼Œæˆ‘çŸ¥é“è¿™æ˜¯æˆ‘åº”è¯¥åšçš„ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±å¯ä»¥åšåˆ°ï¼Œç„¶åå°±å»åšäº†ã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"ä¸ƒé™¢ç¬¬ä¸€å¤©ï¼ˆ11æœˆ3å·ï¼‰","url":"http://zhangferry.github.io/2019/11/03/2019_11_3/","content":"<h2 id=\"æŠµè¾¾éƒ‘å·\"><a href=\"#æŠµè¾¾éƒ‘å·\" class=\"headerlink\" title=\"æŠµè¾¾éƒ‘å·\"></a>æŠµè¾¾éƒ‘å·</h2><p>äºŒå·ä¸­åˆæˆ‘çˆ¸æ‰“ç”µè¯æ¥åŒ»é™¢è¿™è¾¹é…å‹æˆåŠŸï¼Œè®©ä¸‰å·æ—©ä¸Šæ¥åšæ‰‹æœ¯ã€‚æˆ‘å¾—çŸ¥è¿™ä¸ªæ¶ˆæ¯æœ‰äº›å¼€å¿ƒä¹Ÿæœ‰äº›æ‹…å¿§ï¼Œå¼€å¿ƒæ˜¯å› ä¸ºç›¼äº†å…«ä¸ªå¤šæœˆçš„è‚¾æºç»ˆäºæœ‰äº†æ¶ˆæ¯ï¼Œæ‹…å¿§æ˜¯ç´§æ¥ç€å°†æ˜¯ä¸€åœºå¤§æ‰‹æœ¯ï¼Œä¸ç®¡åŒ»é™¢æ€ä¹ˆä¿è¯æ‰‹æœ¯æˆåŠŸç‡ï¼Œè‚¾ç§»æ¤æ‰‹æœ¯æœ¬èº«éƒ½æ˜¯ä¸€é¡¹å¤§æ‰‹æœ¯ã€‚</p>\n<p>æˆ‘å’Œå¼Ÿå¼Ÿæ˜¯äºŒå·æ™šä¸Š9ç‚¹åŠçš„ç«è½¦ï¼Œå› ä¸ºå½“å¤©æ‰è¿›è¡Œä¹°ç¥¨ï¼Œåªæœ‰ç¡¬åº§äº†ï¼Œä¸‰å·æ—©ä¸Š5ç‚¹45åˆ°çš„éƒ‘å·ã€‚çˆ¸çˆ¸äºå‰ä¸€å¤©æ™šä¸Šåœ¨ä¸‰å§¨å’Œå§¨çˆ¶çš„é™ªåŒä¸‹åˆ°çš„åŒ»é™¢ã€‚è§åˆ°çˆ¸çˆ¸ï¼Œçœ‹ä»–ç²¾ç¥çŠ¶æ€æŒºä¸é”™ï¼Œæˆ‘å®‰å¿ƒä¸å°‘ã€‚ä»–è¯´éœ€è¦åšçš„æ£€æŸ¥éƒ½å·²ç»åšäº†ï¼Œèº«ä½“æ¡ä»¶ä¸€åˆ‡æ­£å¸¸ï¼Œå°±ç­‰åŒ»ç”Ÿä¸Šç­å®‰æ’æ‰‹æœ¯æ—¶é—´äº†ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"å‡†å¤‡æ‰‹æœ¯é’±\"><a href=\"#å‡†å¤‡æ‰‹æœ¯é’±\" class=\"headerlink\" title=\"å‡†å¤‡æ‰‹æœ¯é’±\"></a>å‡†å¤‡æ‰‹æœ¯é’±</h2><p>å»åˆ°ä½é™¢éƒ¨ï¼ŒåŒ»ç”Ÿé¦–å…ˆé—®è´¹ç”¨æ˜¯å¦å‡†å¤‡é½å…¨ï¼Œè‚¾æºè´¹15ä¸‡å¿…é¡»ç°é‡‘ï¼Œä½é™¢è´¦æˆ·ä¸Šè‡³å°‘æœ‰6ä¸‡å¯ç”¨è´¹ç”¨ï¼Œè¿™ä¸ªè´¦æˆ·å¯ä»¥ç”¨æ”¯ä»˜å®å¾®ä¿¡é“¶è¡Œå¡å……å€¼ã€‚æ‰‹æœ¯ä¹‹å‰å¦‚æœè¿™äº›é’±ä¸å¤Ÿæ˜¯ä¸ç»™æ‰‹æœ¯çš„ã€‚æˆ‘è·Ÿæˆ‘çˆ¸ç®€å•æ ¸å¯¹äº†ä¸‹ç°åœ¨æœ‰å¤šå°‘é’±ï¼ŒåŠ ä¸Šæˆ‘ä¹‹å‰çš„ç§¯è“„ï¼Œå·®ä¸å¤šå¤Ÿã€‚åŸºé‡‘é‡Œæœ‰3ä¸‡å·¦å³ï¼Œå› ä¸ºè¿™ä¸ªæç°æœ‰å‡ å¤©å»¶è¿Ÿï¼Œæˆ‘æ‹…å¿ƒåé¢æœ‰åˆ«çš„æƒ…å†µå‡ºç°ï¼Œä¹Ÿç”³è¯·äº†æç°ã€‚</p>\n<p>æŠ¤å£«æç¤ºæˆ‘ä»¬å…ˆå‡†å¤‡ç°é‡‘ï¼Œ15ä¸‡å±äºå¤§é¢ï¼Œæœ‰äº›é“¶è¡Œå¿…é¡»è¦é¢„çº¦è¿˜éœ€è¦é¢„çº¦ã€‚è¿™ä¸€ç‚¹ç¡®å®è¶…å‡ºæˆ‘çš„é¢„æœŸï¼Œå°±èµ¶ç´§å¸¦ç€å¡è·Ÿæˆ‘å¼Ÿä¸€å—å»å–é’±ã€‚æ¥¼ä¸‹ATMå–äº†ä¸¤ä¸‡å°±è¶…é¢ä¸è®©å–äº†ã€‚é™„è¿‘æœ‰ä¸ªå»ºè®¾é“¶è¡Œï¼Œå·¥ä½œäººå‘˜ä¸€å¬è¦è·¨è¡Œè½¬è´¦ï¼Œè€Œä¸”è¿™ä¹ˆå¤šç›´æ¥æ‹’ç»äº†æˆ‘ä»¬ã€‚æˆ‘çš„é’±åœ¨æ‹›å•†å¡é‡Œé¢ï¼Œå°±åˆå»äº†è¾ƒè¿œçš„æ‹›å•†é“¶è¡Œã€‚æŸœå‘˜é—®æ˜¯å¦æœ‰é¢„çº¦ï¼Œæˆ‘æ€•å› ä¸ºè¿™ä¸ªä¸ç»™å–å°±èµ¶ç´§è¯´äº†è¿™æ˜¯åšæ‰‹æœ¯æ€¥ç”¨çš„é’±ã€‚ä»–çŠ¹è±«äº†ä¸€ä¸‹åŒæ„äº†ï¼Œå°±å¼€å§‹åœ¨æŸœå°é‚£è¾¹æ“ä½œã€‚åŒ…æ‹¬å¦ä¸€å¼ é“¶è¡Œå¡çš„è·¨è¡Œæç°ï¼Œä»–è¯´ä¸çŸ¥é“èƒ½ä¸èƒ½è¡Œï¼Œä½†å¯ä»¥å¸®æˆ‘ä»¬è¯•ä¸€ä¸‹ã€‚è™½ç„¶æœ€åç¡®å®ä¸è¡Œï¼Œä½†è¿™ä¸ªæ€åº¦æŒºè®©æˆ‘æ»¡æ„ï¼Œå‰åå¯¹æ¯”ä¸¤å®¶é“¶è¡Œï¼Œå»ºè¡Œç»™æˆ‘çš„å°è±¡å°±æ›´å·®äº†ã€‚</p>\n<p>15ä¸‡æ”¾åœ¨åŒ…é‡ŒçœŸæŒºé‡çš„ï¼Œæˆ‘èƒŒç€æ²‰ç”¸ç”¸çš„é’±å›åˆ°äº†åŒ»é™¢ï¼Œå°±åœ¨æŠ¤å£«çš„å¾…é¢†å–ä¸‹å»ç¼´è´¹ã€‚æˆ‘çœ‹æŸœå°äººå‘˜ç‚¹é’±ï¼Œ15ä¸‡ç°é‡‘ï¼Œä¸€ä¸‡ä¸€ä¸‡çš„ç‚¹ï¼Œè¦æ•°3-4æ¬¡å·¦å³ï¼Œå…‰åœ¨é‚£ç­‰ç‚¹é’±ç­‰äº†ä¸ƒå…«åˆ†é’Ÿã€‚ç„¶åæ˜¯å‡‘æ‰‹æœ¯å’Œä½é™¢è´¹çš„é’±ï¼Œæˆ‘è¿™è¾¹å¾®ä¿¡ï¼Œæ”¯ä»˜å®ï¼Œéƒ½äº¤äº†è¿›å»ï¼Œä¸€ç›´åˆ°é¢„å­˜é‡‘è¾¾åˆ°6ä¸‡ã€‚æ­¤æ—¶æ‰‹é‡Œçš„é’±å·²ç»ä¸è¶³ä¸€ä¸‡äº†ï¼Œä½†å¥½åœ¨è¾¾åˆ°äº†æ‰‹æœ¯è¦æ±‚çš„è´¹ç”¨ã€‚</p>\n<h2 id=\"æœ¯å‰å‡†å¤‡\"><a href=\"#æœ¯å‰å‡†å¤‡\" class=\"headerlink\" title=\"æœ¯å‰å‡†å¤‡\"></a>æœ¯å‰å‡†å¤‡</h2><p>å›åˆ°åŒ»æŠ¤å®¤ï¼ŒæŠ¤å£«äº¤ä»£ï¼Œè¦ä¹°10æ”¯ç™½è›‹ç™½ï¼Œæ˜¯æœ¯åç”¨çš„ã€‚è¿˜ç»™äº†æˆ‘ä¸€å¼ åç‰‡ï¼Œè®©æˆ‘æ‰“ç”µè¯å»æ‰¾è¿™ä¸ªäººä¹°ã€‚ä¸æ˜ç™½ä¸ºä»€ä¹ˆåŒ»é™¢ä¸è‡ªå·±å¼€ï¼Œè¿˜è¦é€šè¿‡å¤–é¢æ‰èƒ½ä¹°ï¼Ÿæˆ‘æ²¡æ—¶é—´è€ƒè™‘å¤ªå¤šè¿™ç§äº‹æƒ…ï¼Œå°±æŒ‰ç…§å¥¹çš„è¦æ±‚ï¼Œè¯´ä»€ä¹ˆåšä»€ä¹ˆï¼Œè¦ä»€ä¹ˆç»™ä»€ä¹ˆã€‚æ¥è¿‡ç”µè¯ï¼Œé‚£è¾¹å…ˆè¯´ä»·æ ¼380ä¸€æ”¯ï¼Œæˆ‘å¥½åƒä¹Ÿæ²¡åˆ«çš„é€‰æ‹©ï¼Œå°±è®©ä»–é€äº†åæ”¯ã€‚</p>\n<p>å†ä¹‹åæŠ¤å£«åˆç»™äº†ä¸€å¼ çº¸æ¡ï¼Œä¸Šé¢åˆ†ä¸¤æ®µåˆ—äº†éœ€è¦è´­ä¹°çš„ä¸œè¥¿è¿™äº›ã€‚<br>æ´—è„¸ç›†ã€å¤§ä¾¿å™¨ã€å°ä¾¿å™¨ã€ç—°ç›‚ã€æ¯›å·¾ã€ç‰™åˆ·æ¯ã€ç‰™åˆ·ã€ç‰™è†ã€å¥¶ç“¶ã€å«ç”Ÿçº¸ä¸€æã€æˆäººå°¿å«ä¸€å¤§åŒ…ã€æ¹¿å·¾ä¸€åŒ…ï¼Œæ¶ˆæ¯’æ¹¿å·¾ä¸€åŒ…ã€å‹åŠ›ç»·å¸¦ä¸¤ä¸ªã€é›¾åŒ–å¸æ°§é¢ç½©ä¸€ä¸ªã€å‘¼å¸è®­ç»ƒå™¨ä¸€ä¸ªã€‚è¿™äº›æ˜¯é‡ç—‡ç›‘æŠ¤å®¤éœ€è¦ç”¨çš„ã€‚<br>ä¾¿æºå¼ä½“é‡ç§¤ã€æ¸©åº¦è®¡ã€å°è¯ç®±ã€å°æœ¬å’Œç¬”ã€å£ç½©ä¸€åŒ…ã€è¾“æ¶²æŠ¥è­¦å™¨ä¸€ä¸ªã€æ‰£èƒŒå™¨ä¸€ä¸ªã€‚è¿™äº›æ˜¯ä»é‡ç—‡ç›‘æŠ¤å®¤å‡ºæ¥ç”¨çš„ã€‚</p>\n<p>å¬å¤§å¤«è¯´æ•´ä¸ªè¿‡ç¨‹æ˜¯æ™šä¸Š6ç‚¹å·¦å³æ‰‹æœ¯ï¼Œæ‰‹æœ¯å®Œä¼šè¿›é‡ç—‡ç›‘æŠ¤å®¤ï¼Œåœ¨é‡Œé¢è§‚å¯Ÿæ¢å¤5å¤©å·¦å³ï¼Œç”±ä¸“é—¨æŠ¤å·¥ç…§é¡¾ï¼Œæ¯å¤©æœ‰ä¸€æ¬¡æ¢è§†çš„æœºä¼šï¼Œå¯ä»¥é€šè¿‡æ‘„åƒå¤´è·Ÿç—…äººäº¤æµå‡ åˆ†é’Ÿã€‚äº”å¤©ä¹‹åä»é‡ç—‡ç›‘æŠ¤å®¤è½¬åˆ°æ— èŒç—…æˆ¿ï¼Œå†æœ‰äº”å¤©å¯ä»¥è½¬åˆ°æ™®é€šç—…æˆ¿ã€‚æ™®é€šç—…æˆ¿é˜¶æ®µå°±å¯ä»¥è‡ªç”±çœ‹æœ›ï¼Œç”šè‡³å¯ä»¥ä¸‹åºŠç®€å•æ´»åŠ¨ã€‚</p>\n<p>ä¹°å®Œå¿…å¤‡ä¸œè¥¿ä¹‹åï¼Œçˆ¸çˆ¸å¼€å§‹äº†é€æã€‚å› ä¸ºæ­£å¸¸æ˜¯ä¸€å‘¨é€æä¸‰æ¬¡ï¼Œä¸€ä¸‰äº”ï¼Œéš”ä¸€å¤©ä¸€é€ï¼Œä»Šå¤©å‘¨æ—¥ï¼Œä¸Šæ¬¡é€ææ˜¯å‘¨äº”ï¼Œéš”çš„æ—¶é—´è¾ƒé•¿ï¼Œéœ€è¦è¡¥ä¸€æ¬¡ã€‚é€ææ—¶æˆ‘è¿˜è·Ÿçˆ¸çˆ¸è¯´ï¼Œè¿™å¯èƒ½æ˜¯ä½ æœ€åä¸€æ¬¡é€æäº†ï¼Œä»¥åå†æƒ³é€æä¹Ÿæ²¡äº†ã€‚</p>\n<p>å’Œçˆ¸çˆ¸ä¸€èµ·æ¥å—æ‰‹æœ¯çš„è¿˜æœ‰ä¸€ä¸ªäººï¼Œå®‰å¾½é˜œé˜³çš„ï¼Œä»–ä¹Ÿå±é¸¡æ¯”æˆ‘çˆ¸å°ä¸€è½®ï¼Œèº«é«˜ä½“é‡è¡€å‹ä¸¤äººä¹Ÿéƒ½åŸºæœ¬ä¸€è‡´ã€‚ä»–ä»¬ä¿©æ˜¯è¦æ¥å—åŒä¸€ä¸ªä¾›ä½“ã€‚é—®äº†ä¸‹è¿˜æ˜¯åŸºç£å®¶åº­ï¼Œä¸‰å§¨ä¹Ÿæ„Ÿå¹è¿™æ˜¯ä½•ç§çš„ç¼˜åˆ†ï¼Œå†¥å†¥ä¹‹ä¸­å¯èƒ½å°±æ˜¯ä¸Šå¸ä¿ƒæˆçš„è¿™ä»¶äº‹å§ã€‚</p>\n<p>ç¡®å®šäº†æ™šä¸Š6ç‚¹æ‰‹æœ¯ä¹‹åï¼Œçˆ¸çˆ¸ä»æ—©ä¸Š10ç‚¹å¼€å§‹å°±è¢«è¦æ±‚ä¸èƒ½è¿›é£Ÿã€‚å› ä¸ºé€æçš„ç¼˜æ•…ä»–é¥¥é¥¿æ„Ÿæ›´å¼ºäº†ï¼Œä½†ä¹Ÿæ²¡åŠæ³•äº†ã€‚è¿™æ—¶æŠ¤å£«è¿‡æ¥è¯´ä½ ä»¬ä½™é¢ä¸è¶³äº†ï¼Œéœ€è¦å……é’±ã€‚é—®æ¸…æ¥šä¹‹åæˆ‘æ‰çŸ¥é“ï¼Œä¸æ˜¯ä¸€å…±äº¤6ä¸‡è€Œæ˜¯å¡å†…ä½™é¢è¦æœ‰6ä¸‡ï¼Œä¸€ä¸Šåˆå·²ç»èŠ±äº†3ä¸‡å¤šäº†ï¼Œå°±è¯´è¿˜è¦å……è¿›å»4ä¸‡æ‰è¡Œã€‚è¿™å¯è®©æˆ‘å¾ˆå‘æ„ï¼Œæƒ³åˆ°äº†è¿™æ˜¯åŒ»é™¢è´¦å·ï¼Œè¯•ç€ç”¨äº†1ä¸‡èŠ±å‘—ï¼Œå……å€¼æˆåŠŸï¼Œç„¶åæ˜¯ç”¨3ä¸‡ä¿¡ç”¨å¡çš„é¢åº¦ã€‚è¿™å·²ç»æ˜¯ç©·å°½äº†åŠ›æ°”äº†ï¼Œæ€»ç®—ç­¹é½äº†åšæ‰‹æœ¯çš„é’±ã€‚</p>\n<p>æ‰‹æœ¯å‰è¿˜æœ‰ä¸€é¡¹æ˜¯æ´—è‚ ï¼Œä¸çŸ¥å› ä¸ºä»€ä¹ˆç¼˜æ•…æˆ‘çˆ¸éœ€è¦åšä¸¤æ¬¡æ‰è¡Œï¼Œè«åæœ‰äº›å¿ƒç–¼èµ·æ¥ã€‚ä¹‹ååˆç­‰äº†ä¸€æ®µæ—¶é—´ï¼Œä¸¤ä½å”å”ä¹Ÿæ¥äº†ï¼Œä¹Ÿè¯´çœ‹æˆ‘çˆ¸ç²¾ç¥çŠ¶æ€ä¸é”™ã€‚æˆ‘çŸ¥é“æ¯ä¸´å¤§äº‹æ—¶æœ€ç´§å¼ çš„é˜¶æ®µéƒ½æ˜¯çŸ¥é“å¤§äº‹é™ä¸´ï¼Œç­‰å¾…äº‹æƒ…å‘ç”Ÿçš„é‚£æ®µæ—¶é—´ã€‚åªç›¼æœ›æ—¶é—´å¯ä»¥è¿‡çš„å¿«ä¸€ç‚¹ï¼Œä¸è¦è®©æˆ‘ä»¬ï¼Œä¸è¦è®©æˆ‘çˆ¸ç…ç†¬å¤ªä¹…ã€‚æœ¯å‰é‡è¡€å‹ï¼Œæˆ‘çˆ¸é«˜å‹170ï¼Œä»–æœ¬èº«æœ‰ä¸€äº›é«˜è¡€å‹ï¼Œä¹Ÿå¯èƒ½æ˜¯ç´§å¼ çš„åŸå› ï¼Œæœ‰ç‚¹è¿‡é«˜äº†ã€‚ä¾ç…§å¤§å¤«çš„æŒ‡ç¤ºè¦åƒä¸¤ç‰‡é™å‹è¯ï¼Œæ­¤æ—¶è¿˜éœ€è¦æ§åˆ¶é¥®æ°´ï¼Œåªè®©æŠ¿ä¸€å°å£å¤Ÿåƒè¯å°±è¡Œã€‚è¿™ä¸€ç‚¹æ°´ä¸‹å£ï¼Œå¯æ˜¯è§£äº†ä»–çš„ç˜¾ï¼Œçˆ¸çˆ¸è¯´æ°´çœŸæ˜¯å¤ªå¥½å–äº†ï¼Œæƒ³å–å´ä¸æ•¢å–ã€‚</p>\n<p>æ‰‹æœ¯ä¹‹å‰éœ€è¦ç­¾å­—ï¼ŒåŒ»ç”Ÿä¸€ä¸Šæ¥è·Ÿæˆ‘è¯´äº†ä¸€å¤§å †å¯èƒ½çš„ä¸è‰¯ååº”å’Œæ„å¤–æƒ…å†µï¼Œæ‰‹æœ¯ä¹‹åå¯èƒ½è‚¾ä¸å·¥ä½œï¼Œæ¢å¤ä¸å¥½è¿˜éœ€è¦é€æè¾…åŠ©ï¼Œæœ¯åè‚ºéƒ¨å®¹æ˜“æ„ŸæŸ“ï¼Œä¼¤å£æ„ˆåˆå‰å¦‚æœç¿»èº«ä¸å°å¿ƒè¿˜å¯èƒ½ä¼¤å£ç ´è£‚ï¼Œæœ¯åå…ç–«åŠ›ä¼šéå¸¸ä½ï¼Œç‰¹åˆ«éœ€è¦ç…§é¡¾å¥½åˆ«æ„Ÿå†’ï¼ŒæŠ—æ’å¼‚è¯å®¹æ˜“å¼•èµ·æƒ…ç»ªç„¦èºï¼Œéœ€è¦é…åˆåŒ»ç”Ÿã€‚æƒ³ç€åŒ»é™¢åŸæ¥çš„è¯ï¼Œæ‰‹æœ¯æˆåŠŸç‡é«˜è¾¾99%ï¼Œæœ¬æ¥è¿˜å¾ˆæœ‰ä¿¡å¿ƒçš„æˆ‘ä¸€ä¸‹ç´§å¼ å’Œä¸å®‰èµ·æ¥ã€‚ä½†åŒ»ç”Ÿä¸ç®¡è¿™äº›ï¼Œåªæ˜¯æŠŠæ‰€æœ‰å¯èƒ½çš„åæƒ…å†µç»™æˆ‘è¯´ä¸€éï¼Œç„¶åè¯´ï¼Œéƒ½æ¸…æ¥šäº†å§ï¼Œç­¾ä¸ªå­—å§ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…è´£è¯´æ˜ä¹¦ï¼Œæˆ‘æ¯«æ— è¿˜æ‰‹ä¹‹åŠ›ï¼Œç­¾äº†å­—åŒ†åŒ†ç¦»å¼€ï¼Œåªå¸Œæœ›æ‰‹æœ¯èƒ½å¤Ÿé¡ºé¡ºåˆ©åˆ©å®Œæˆã€‚</p>\n<h2 id=\"è¿›è¡Œæ‰‹æœ¯\"><a href=\"#è¿›è¡Œæ‰‹æœ¯\" class=\"headerlink\" title=\"è¿›è¡Œæ‰‹æœ¯\"></a>è¿›è¡Œæ‰‹æœ¯</h2><p>å‚æ™š6ç‚¹åŠå·¦å³è¿›äº†æ‰‹æœ¯å®¤ï¼Œåœ¨æ‰‹æœ¯å®¤é—¨å£ï¼Œæ¥å¾…çš„åŒ»ç”Ÿå·²ç»æ˜¯ä¸€èº«è“ç»¿è‰²è¡£æœäº†ã€‚ä»–ç®€å•é—®äº†ä¸€ä¸‹æƒ…å†µï¼Œç„¶åè®°ç€ä¸€äº›ä¸œè¥¿ï¼Œæ‰‹åŠ¿åŠ¨ä½œéƒ½å¾ˆç†Ÿç»ƒã€‚è™½ç„¶æ˜¯ç®€å•çš„æ­¥éª¤ï¼Œä½†ä»–çš„ç©¿ç€ï¼Œè¯­æ°”å’ŒåŠ¨ä½œï¼Œå´è®©æˆ‘æ„Ÿå—åˆ°ä¸€ç§ä¸“ä¸šæ€§ã€‚ä¸“ä¸šè¿™ä¸ªä¸œè¥¿ä¹Ÿæ˜¯æˆ‘ä¸€ç›´å‘å¾€å’ŒåŠªåŠ›çš„ç›®æ ‡ã€‚å› ç€è¿™ç§ä¸“ä¸šæ„Ÿæˆ‘å¾ˆå¿«è¸å®ä¸‹æ¥ï¼Œç›¸ä¿¡åŒ»ç”Ÿï¼Œä»–ä»¬è‚¯å®šä¼šå¥½å¥½ç»™æˆ‘çˆ¸æ²»ç—…ã€‚</p>\n<p>åŒ»ç”Ÿè¯´æ‰‹æœ¯å°†è¿‘ä¸‰ä¸ªå°æ—¶ã€‚äºšèŒ¹å§ä¹Ÿä¿¡åŸºç£ï¼Œç»„ç»‡äº†ä¸€ä¸ªå°å›¢é˜Ÿï¼Œåœ¨åŒ—äº¬ä¸ºçˆ¸çˆ¸ç¥·å‘Šã€‚éƒ‘è€å¸ˆï¼Œå¼ é˜¿å§¨è¿˜æœ‰è€å®¶çš„ä¸€ä¸ªæ•™ä¼šä¹Ÿåœ¨ä¸ºçˆ¸çˆ¸ç¥·å‘Šã€‚å¾ˆå¤šäººéƒ½åœ¨ç¥ç¦ç€è¿™åœºæ‰‹æœ¯ï¼Œç›¼æœ›ç€å®ƒé¡ºåˆ©è¿›è¡Œã€‚çˆ¸çˆ¸è¿›å…¥æ‰‹æœ¯å®¤åŠä¸ªå°æ—¶ä¹‹åï¼Œä¸´åºŠè¦ä¸€èµ·è¿›è¡Œæ‰‹æœ¯çš„é‚£ä¸ªäººä¹Ÿè¿›äº†æ‰‹æœ¯å®¤ã€‚</p>\n<p>è¿™æ®µæ—¶é—´æ„Ÿè§‰è¿‡çš„å¼‚å¸¸æ…¢ï¼Œ7ç‚¹ï¼Œ8ç‚¹ï¼Œ9ç‚¹ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹å·¦å³å·®ä¸å¤šè¯¥å‡ºæ¥äº†ï¼Œæˆ‘å°±ä¸€ç›´ç›¯ç€æ‰‹æœ¯å®¤çš„é—¨ã€‚æƒ³è±¡ç€å®ƒæ‰“å¼€çš„é‚£ä¸ªç¬é—´ã€‚ä¹ç‚¹åŠå·¦å³ï¼Œé—¨å¼€äº†ï¼Œä½†æ˜¯æ˜¯è·Ÿä»–ä¸€èµ·æ‰‹æœ¯çš„é‚£ä¸ªäººã€‚ä»–æœ¬èº«æ¯”æˆ‘çˆ¸æ™šè¿›å»å´æ—©å‡ºæ¥ï¼Œåˆè®©æˆ‘ç´§å¼ èµ·æ¥ã€‚äºŒååˆ†é’Ÿå·¦å³ï¼Œæƒ³åƒä¸­çš„é‚£ä¸ªç”»é¢æ‰å‡ºç°ï¼šåŒ»ç”ŸæŠ¤å£«ï¼Œæ¨ç€ç—…åºŠï¼Œå‘Šè¯‰æˆ‘ä»¬æ‰‹æœ¯ä¸€åˆ‡é¡ºåˆ©ï¼Œå·²ç»æ’å°¿äº†ã€‚æˆ‘é—®çˆ¸çˆ¸æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Œä»–å£°éŸ³æ²™å“‘è¯´ä¸å‡ºæ¥ï¼Œè·Ÿæˆ‘ä»¬è§äº†å¤§æ¦‚5ç§’ä¸­ï¼Œå¾ˆå¿«å°±è¢«åŒ»ç”Ÿæ¨ç€è¿›åˆ°é‡ç—‡ç›‘æŠ¤å®¤äº†ã€‚</p>\n<p>æ­¤æ—¶ä¸€ç›´æ‚¬ç€çš„å¿ƒæ‰æ”¾ä¸‹æ¥ï¼Œå‘æ‰€æœ‰å…³æ³¨è¿™åœºæ‰‹æœ¯çš„äººæŠ¥äº†å¹³å®‰ä¹‹åï¼Œæˆ‘å¿ƒé‡Œé»˜é»˜è¯´ç€ï¼Œæ„Ÿè°¢ä¸»ã€‚è™½ç„¶èº«è¾¹å¾ˆå¤šäººéƒ½æ˜¯åŸºç£å¾’ï¼Œæˆ‘ä¹Ÿæ˜¯åŸºç£å®¶åº­ï¼Œæˆ‘å´ä¸€ç›´æ²¡æœ‰çœŸæ­£æˆä¸ºä¸€ååŸºç£å¾’ï¼Œä½†è¿˜æ˜¯å¾ˆæ„Ÿæ¿€ï¼Œæˆ‘ç›¸ä¿¡è¿™æ˜¯ä¸€åœºè¢«ç¥ç¥ç¦äº†çš„æ‰‹æœ¯ã€‚</p>\n<p>æ‰‹æœ¯åšå®Œé€äº†ä¸¤æ”¯ç™½è›‹ç™½ï¼ŒæŒ‰ç…§æµç¨‹åŸºæœ¬æ²¡ä»€ä¹ˆäº‹äº†ã€‚ä½†æ˜¯æ‹…å¿ƒæœ‰åˆ«çš„æƒ…å†µï¼Œæ‰€ä»¥é‡ç—‡ç›‘æŠ¤å®¤å¤–é¢å¾—ä¸€ç›´æœ‰äººçœ‹ç€ã€‚æˆ‘è·Ÿå¼Ÿå¼Ÿè¯´å¥½ä¸€æ›¿ä¸€ä¼šåœ¨è¿™å®ˆç€ï¼Œè¿™æ—¶æˆ‘ä¿©éƒ½å·²ç»ä¸‰åå¤šä¸ªå°æ—¶æ²¡åˆçœ¼äº†ã€‚æˆ‘åœ¨ç›‘æŠ¤å®¤å¤–å¾…åˆ°å¤œé‡Œä¸¤ç‚¹åŠï¼ŒæœŸé—´åœ¨å‡³å­ä¸Šçœ¯äº†ä¸€ä¼šï¼Œç„¶åå¼Ÿå¼Ÿæ¥æ›¿æˆ‘ã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"å¦‚ä½•æå‡Macä¸‹ç”Ÿäº§æ•ˆç‡","url":"http://zhangferry.github.io/2019/11/02/mac_efficiency_promotion/","content":"<h2 id=\"å·¥å…·ç¯‡\"><a href=\"#å·¥å…·ç¯‡\" class=\"headerlink\" title=\"å·¥å…·ç¯‡\"></a>å·¥å…·ç¯‡</h2><h3 id=\"æ•ˆç‡ç¥å™¨Alfred\"><a href=\"#æ•ˆç‡ç¥å™¨Alfred\" class=\"headerlink\" title=\"æ•ˆç‡ç¥å™¨Alfred\"></a>æ•ˆç‡ç¥å™¨Alfred</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102170129.png\" alt=\"\"><br>å¯ä»¥ä»Alfredå®˜ç½‘ä¸‹è½½ï¼Œå…è´¹ç‰ˆæ²¡æœ‰workflowåŠŸèƒ½ï¼Œä»˜è´¹è´­ä¹°Powerpackå¯ä»¥ä½¿ç”¨ã€‚å»ºè®®å¤§å®¶è´­ä¹°æ­£ç‰ˆï¼Œå¦‚æœæƒ³æ‰¾ç ´è§£ç‰ˆï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šï¼Œè‡ªè¡Œæœç´¢ã€‚</p>\n<p>è¿™æœ‰ä¸€ç¯‡æ¯”è¾ƒè¯¦ç»†çš„Alfredçš„ä½¿ç”¨<a href=\"http://louiszhai.github.io/2018/05/31/alfred/\">æ•™ç¨‹</a>ï¼Œå¤§éƒ¨åˆ†éƒ½è¢«æ¶µç›–è¿›å»äº†ã€‚è¿™é‡Œä¸»è¦ä»‹ç»å‡ ç§å¯¹å¼€å‘å¸®åŠ©æ¯”è¾ƒå¤§çš„workflowæ’ä»¶ï¼Œå®˜æ–¹workflowsåœ°å€åœ¨<a href=\"https://www.alfredapp.com/workflows/\">è¿™é‡Œ</a>ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©è‡ªå·±å–œæ¬¢çš„æ’ä»¶ä½¿ç”¨ã€‚</p>\n<a id=\"more\"></a>\n<h4 id=\"Youdao\"><a href=\"#Youdao\" class=\"headerlink\" title=\"Youdao\"></a>Youdao</h4><p>å…¶å®åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸é‡åˆ°ä¸€äº›ä¸è‹±æ–‡æ‰“äº¤é“çš„åœºæ™¯ï¼Œé™¤äº†ç³»ç»Ÿè‡ªå¸¦çš„å­—å…¸åŠŸèƒ½ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„å°±æ˜¯æœ‰é“äº†ã€‚ç›´æ¥è°ƒèµ·å®¢æˆ·ç«¯å»æœä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æœæ˜¯é¢‘ç¹æ“ä½œæˆ–è€…æ˜¯åœ¨å…¨å±ä¸‹æ“ä½œï¼Œè¿˜éœ€è¦è·‘åˆ°æœ‰é“é‡Œé¢æœä¸€ä¸ªå•è¯ï¼Œæœä¸€å¥è¯è¿˜æ˜¯ä¼šæ˜¾å¾—éº»çƒ¦ã€‚</p>\n<p>è¿™é‡Œæœ‰ä¸€ä¸ªYoudaoçš„workflowæ’ä»¶ã€‚<a href=\"http://www.packal.org/workflow/youdao-alfred\">ä¸‹è½½åœ°å€</a>ã€‚å®‰è£…ä¹‹åå¯ä»¥é€šè¿‡åœ¨Alfredä¸­é”®å…¥<code>yd {query}</code>è°ƒå‡ºæœ‰é“å­—å…¸ï¼Œå¹¶ç›´æ¥æœç´¢ç¿»è¯‘ç»“æœã€‚ä½¿ç”¨Enterå¤åˆ¶ç¿»è¯‘ç»“æœï¼Œæ”¯æŒå¤šç§è¯­è¨€å’Œå¥å­ç¿»è¯‘ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102170404.png\" alt=\"\"></p>\n<h4 id=\"CodeVar\"><a href=\"#CodeVar\" class=\"headerlink\" title=\"CodeVar\"></a>CodeVar</h4><p>ç”Ÿæˆå¯ç”¨çš„ä»£ç å˜é‡ï¼Œè§£å†³ä½ ä¸çŸ¥é“è¯¥å¦‚ä½•å‘½åä¸€ä¸ªå‡½æ•°ï¼Œç±»å‹ï¼Œå±æ€§çš„çƒ¦æ¼ã€‚æ”¯æŒå°é©¼å³°ï¼ˆ<code>xt</code>ï¼‰ã€å¤§é©¼å³°ï¼ˆ<code>dt</code>ï¼‰ã€ä¸‹åˆ’çº¿(<code>xh</code>)ã€ä¸­åˆ’çº¿ï¼ˆ<code>zh</code>ï¼‰ã€å¸¸é‡å‘½åï¼ˆ<code>cl</code>ï¼‰è¿™å‡ ç§å‘½åæ–¹å¼ã€‚<br><a href=\"https://github.com/xudaolong/CodeVar\">ä¸‹è½½åœ°å€</a><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102171226.png\" alt=\"\"></p>\n<h4 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h4><p>å¯ä»¥ç›´æ¥åœ¨Alfredçš„è¾“å…¥æ¡†æœç´¢githubä»“åº“ã€‚<br><a href=\"https://github.com/gharlan/alfred-github-workflow\">ä¸‹è½½åœ°å€</a><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102172412.png\" alt=\"\"></p>\n<h4 id=\"ä»£ç ç‰‡æ®µ\"><a href=\"#ä»£ç ç‰‡æ®µ\" class=\"headerlink\" title=\"ä»£ç ç‰‡æ®µ\"></a>ä»£ç ç‰‡æ®µ</h4><p>Snippetsã€‚å¯ä»¥å°†è‡ªå·±å¸¸ç”¨çš„ä»£ç ç‰‡æ®µæ”¾è¿›å»ï¼Œè®©åé€šè¿‡å¿«æ·é”®è°ƒå‡ºSnippetsï¼Œç›´æ¥ä½¿ç”¨ä»£ç ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">test</span>&lt;#Name#&gt;<span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    &lt;#statements#&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"æ›´å¤šæ’ä»¶\"><a href=\"#æ›´å¤šæ’ä»¶\" class=\"headerlink\" title=\"æ›´å¤šæ’ä»¶\"></a>æ›´å¤šæ’ä»¶</h4><p><strong><a href=\"http://www.alfredworkflow.com/\">Workflowå®˜æ–¹æ’ä»¶</a></strong><br><strong><a href=\"http://www.packal.org/\">packal</a></strong></p>\n<p>ç¬¬ä¸€ä¸ªæ’ä»¶åº“ï¼Œå¥½åƒå¾ˆä¹…ä¸ç»´æŠ¤äº†ï¼Œå¾ˆå¤šæ’ä»¶é“¾æ¥éƒ½å¤±æ•ˆäº†ã€‚ç¬¬äºŒä¸ªpackalæ˜¯alfredçš„ä¸€ä¸ªæ´»è·ƒè®ºå›ï¼Œæ¯”è¾ƒæ¨èåˆ°è¿™é‡Œå‘ç°é€‚åˆä½ çš„å¥½ä¸œè¥¿ã€‚å¦å¤–githubï¼Œå„ä¸ªåšä¸»çš„æ¨èæ–‡ç« ä¹Ÿæœ‰å¾ˆå¤šï¼ŒåŸºæœ¬ä½ èƒ½æƒ³åˆ°çš„æœç´¢ä¸»é¢˜éƒ½å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„workflowæ’ä»¶ï¼Œè¿™é‡Œå°±ä¸å¾—ä¸ä½©æœç¤¾åŒºåŠ›é‡çš„å¼ºå¤§ï¼Œè¿˜æœ‰å°±æ˜¯è¿™ä¸ªè‡ªå®šä¹‰æ’ä»¶åŠŸèƒ½åšçš„å¤ªæ£’äº†ã€‚</p>\n<h3 id=\"Dash\"><a href=\"#Dash\" class=\"headerlink\" title=\"Dash\"></a>Dash</h3><p>æ–‡æ¡£æŸ¥è¯¢ï¼Œ<a href=\"https://kapeli.com/dash\">ä¸‹è½½åœ°å€</a><br>é‡åˆ°é—®é¢˜æœ€å¥½çš„è§£å†³æ–¹å¼å°±æ˜¯æŸ¥æ–‡æ¡£ï¼ŒAPIæè¿°èƒ½æ¶ˆé™¤å¤§éƒ¨åˆ†è‡ªå·±çš„ç–‘è™‘ï¼ŒDashæ”¯æŒå‡ åç§è¯­è¨€çš„æ–‡æ¡£æŸ¥è¯¢ï¼Œè¿˜æ”¯æŒæ–‡æ¡£æ³¨é‡Šï¼ŒtagåŠŸèƒ½ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102173411.png\" alt=\"\"></p>\n<h4 id=\"Dash-Alfred\"><a href=\"#Dash-Alfred\" class=\"headerlink\" title=\"Dash+Alfred\"></a>Dash+Alfred</h4><p>Dashæœ¬èº«æ”¯æŒå¾ˆå¤šIDEçš„æ’ä»¶ï¼Œå…¶ä¸­å°±åŒ…æ‹¬Alfredæ’ä»¶ï¼Œå¯ä»¥åœ¨<code>Preferences-&gt;Integration</code>ä¸­æ‰¾åˆ°Alfredã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102173540.png\" alt=\"\"><br>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102173828.png\" alt=\"\"></p>\n<h2 id=\"å‘½ä»¤å’Œå¿«æ·é”®ç¯‡\"><a href=\"#å‘½ä»¤å’Œå¿«æ·é”®ç¯‡\" class=\"headerlink\" title=\"å‘½ä»¤å’Œå¿«æ·é”®ç¯‡\"></a>å‘½ä»¤å’Œå¿«æ·é”®ç¯‡</h2><h3 id=\"å‡ ä¸ªå¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·\"><a href=\"#å‡ ä¸ªå¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·\" class=\"headerlink\" title=\"å‡ ä¸ªå¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·\"></a>å‡ ä¸ªå¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·</h3><p><strong>say</strong><br>sayå‘½ä»¤å¯ä»¥è¯»å‡ºè‹±æ–‡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ say hello world</span><br></pre></td></tr></table></figure>\n<p><strong>echo</strong><br>echoæ˜¯è¾“å‡ºå‘½ä»¤</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># è¾“å‡ºshellæœ¬èº«çš„æ–‡ä»¶å</span></span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"variable\">$0</span></span><br></pre></td></tr></table></figure>\n<p>å°†ä¸€æ®µå†…å®¹é‡å®šå‘è‡³æŸä¸€æ–‡ä»¶</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"5.0\"</span> &gt; .swift-version</span><br></pre></td></tr></table></figure>\n<p><strong>man</strong><br>manå‘½ä»¤å¯ä»¥æŸ¥çœ‹æŸä¸ªå‘½ä»¤è¡Œçš„è¯¦ç»†ä½¿ç”¨</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ man <span class=\"built_in\">echo</span></span><br></pre></td></tr></table></figure>\n<p><strong>curl</strong><br>curlä¸ºclient urlç¼©å†™ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl www.baidu.com\t<span class=\"comment\">#æŸ¥çœ‹ç½‘é¡µæºç </span></span><br><span class=\"line\">$ curl -i www.baidu.com <span class=\"comment\">#æ˜¾ç¤ºå¤´æ–‡ä»¶</span></span><br><span class=\"line\">$ curl -o example.html https://www.example.com\t<span class=\"comment\">#å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¸¸ç”¨ç»ˆç«¯å¿«æ·é”®\"><a href=\"#å¸¸ç”¨ç»ˆç«¯å¿«æ·é”®\" class=\"headerlink\" title=\"å¸¸ç”¨ç»ˆç«¯å¿«æ·é”®\"></a>å¸¸ç”¨ç»ˆç«¯å¿«æ·é”®</h3><table>\n<thead>\n<tr>\n<th>å¿«æ·é”®</th>\n<th>å«ä¹‰</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Ctrl+a</td>\n<td>è·³åˆ°è¡Œé¦–</td>\n</tr>\n<tr>\n<td>Ctrl+e</td>\n<td>è·³åˆ°è¡Œå°¾</td>\n</tr>\n<tr>\n<td>Ctrl+u</td>\n<td>åˆ é™¤å…‰æ ‡ä¹‹å‰åˆ°è¡Œé¦–çš„å­—ç¬¦</td>\n</tr>\n<tr>\n<td>Ctrl+k</td>\n<td>åˆ é™¤å…‰æ ‡ä¹‹å‰åˆ°è¡Œå°¾çš„å­—ç¬¦</td>\n</tr>\n<tr>\n<td>Ctrl+w</td>\n<td>åˆ é™¤ä»å…‰æ ‡ä½ç½®å‰åˆ°å½“å‰æ‰€å¤„å•è¯ï¼ˆWordï¼‰çš„å¼€å¤´</td>\n</tr>\n<tr>\n<td>Command+D</td>\n<td>å‚ç›´åˆ†å±</td>\n</tr>\n<tr>\n<td>Ctrl+D</td>\n<td>å…³é—­å‚ç›´åˆ†å±</td>\n</tr>\n</tbody></table>\n<h2 id=\"è‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå·¥å…·\"><a href=\"#è‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå·¥å…·\" class=\"headerlink\" title=\"è‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå·¥å…·\"></a>è‡ªå·±åŠ¨æ‰‹å†™ä¸€ä¸ªå·¥å…·</h2><h3 id=\"AppleScript\"><a href=\"#AppleScript\" class=\"headerlink\" title=\"AppleScript\"></a>AppleScript</h3><p>ç¼–å†™è‡ªåŠ¨åŒ–å·¥å…·å°±è¦é€‰ä¸€ä¸­è„šæœ¬è¯­è¨€ï¼Œè¿™é‡Œé€‰æ‹©äº†AppleScriptã€‚</p>\n<p>è¿™æ˜¯å› ä¸º:</p>\n<ul>\n<li>å®ƒè¯­æ³•ç®€å•ï¼Œå¹¶æ¥è¿‘è‡ªç„¶è¯­è¨€ã€‚ï¼ˆæ²¡æœ‰æ ‡ç‚¹ç¬¦å·ï¼‰</li>\n<li>è¯­æ³•æŸ¥è¯¢ååˆ†æ–¹ä¾¿ã€‚ï¼ˆç³»ç»ŸåŸç”Ÿæä¾›è¯­æ³•æŸ¥è¯¢å­—å…¸ï¼‰</li>\n<li>macè‡ªå¸¦<code>Script Editor</code>å¯ä»¥å®ç°ç¼–å†™è¿è¡Œå¹¶æ£€æŸ¥è¯­æ³•</li>\n<li>macä¸Šä¸»æµåº”ç”¨éƒ½å«æœ‰AppleScriptçš„è¯­æ³•æ”¯æŒ<br>å…³äºAppleScriptè¿™æœ‰ä¸€ä»½ç®€å•çš„<a href=\"https://sspai.com/post/46912\">æ•™ç¨‹</a>ã€‚<br>æˆ‘ä»¬æ‘˜å–å…¶ä¸­å‡ ç‚¹ï¼Œç®€è¦è®²ä¸‹AppleScriptçš„è¯­æ³•ã€‚</li>\n</ul>\n<h4 id=\"tellå‘½ä»¤\"><a href=\"#tellå‘½ä»¤\" class=\"headerlink\" title=\"tellå‘½ä»¤\"></a>tellå‘½ä»¤</h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"Safari\"</span></span><br><span class=\"line\">    <span class=\"built_in\">activate</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br></pre></td></tr></table></figure>\n<p>å‘Šè¯‰Safariå¯åŠ¨ã€‚<br><code>tell</code>å‘½ä»¤å¯ä»¥åµŒå¥—ä½¿ç”¨ã€‚</p>\n<h4 id=\"setå‘½ä»¤\"><a href=\"#setå‘½ä»¤\" class=\"headerlink\" title=\"setå‘½ä»¤\"></a>setå‘½ä»¤</h4><p>å®šä¹‰å˜é‡åˆ°å‰ªè´´æ¿ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set myVariables to clipboard</span><br></pre></td></tr></table></figure>\n<h4 id=\"AppleScript-Suite\"><a href=\"#AppleScript-Suite\" class=\"headerlink\" title=\"AppleScript Suite\"></a>AppleScript Suite</h4><p>AppleScript Suiteå°±æ˜¯ <code>AppleScript</code> ç±»ï¼ˆclassï¼‰ï¼ŒåŠå…¶å…ƒç´ ï¼ˆelementï¼‰å’Œå±æ€§ï¼ˆpropertyï¼‰çš„é›†åˆã€‚è¿™ä¸ªå°±æ˜¯OmniFocusåœ¨<code>AppleScript</code>ä¸Šå®šä¹‰çš„Suiteã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191030090210.png\" alt=\"\"></p>\n<h4 id=\"è„šæœ¬å­—å…¸\"><a href=\"#è„šæœ¬å­—å…¸\" class=\"headerlink\" title=\"è„šæœ¬å­—å…¸\"></a>è„šæœ¬å­—å…¸</h4><p>æ‰“å¼€ã€Œè„šæœ¬ç¼–è¾‘å™¨ã€ â†’ æ–°å»ºä¸€ä¸ªè„šæœ¬ â†’ ç”¨å¿«æ·é”® <code>Command+Shift+O</code> æ‰“å¼€ AppleScript å­—å…¸ï¼ˆDictionaryï¼‰ã€‚è¿™ä¸ªæ‰“å¼€ä¹‹åå°±èƒ½çœ‹åˆ°å„ä¸ªåº”ç”¨çš„Suiteï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº›è¯´æ˜ï¼Œæ¥å®ŒæˆåŠŸèƒ½çš„ä½¿ç”¨ã€‚</p>\n<h3 id=\"ç¼–å†™è„šæœ¬\"><a href=\"#ç¼–å†™è„šæœ¬\" class=\"headerlink\" title=\"ç¼–å†™è„šæœ¬\"></a>ç¼–å†™è„šæœ¬</h3><p>æœ‰äº†ä¸Šé¢çš„åŸºç¡€æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªé€‰ä¸­æ–‡ä»¶å¤¹ï¼Œç„¶åè®©iTerm2è·³è½¬åˆ°æŒ‡å®šç›®å½•çš„è„šæœ¬ã€‚</p>\n<h4 id=\"å®šä½æ–‡ä»¶è·¯å¾„\"><a href=\"#å®šä½æ–‡ä»¶è·¯å¾„\" class=\"headerlink\" title=\"å®šä½æ–‡ä»¶è·¯å¾„\"></a>å®šä½æ–‡ä»¶è·¯å¾„</h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"Finder\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> selection <span class=\"keyword\">as</span> <span class=\"built_in\">text</span></span><br><span class=\"line\">\t<span class=\"comment\">--POSIXæ˜¯macä¸­çš„æ ¹ç›®å½•å˜é‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">get</span> <span class=\"keyword\">POSIX path</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\">\t<span class=\"comment\">--é˜²æ­¢ç›®å½•å­˜åœ¨ç©ºæ ¼è·³è½¬ä¸äº†</span></span><br><span class=\"line\">\t<span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">quoted form</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\">\t<span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"string\">\"cd \"</span> &amp; pathFile</span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br></pre></td></tr></table></figure>\n<p>ç°åœ¨æˆ‘ä»¬é€šè¿‡tellå’Œsetå‘½ä»¤å·²ç»è·å–åˆ°äº†<code>cd pathFile</code>è¿™æ®µæ–‡æœ¬ã€‚</p>\n<h4 id=\"åœ¨iTermä¸­è¾“å…¥å‘½ä»¤\"><a href=\"#åœ¨iTermä¸­è¾“å…¥å‘½ä»¤\" class=\"headerlink\" title=\"åœ¨iTermä¸­è¾“å…¥å‘½ä»¤\"></a>åœ¨iTermä¸­è¾“å…¥å‘½ä»¤</h4><p>ä¸Šä¸€æ­¥è·å–åˆ°äº†æ–‡æœ¬å‘½ä»¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†è¿™æ®µå‘½ä»¤åœ¨iTermä¸­æ‰§è¡Œã€‚é‚£æ€ä¹ˆå°†ä¸Šé¢çš„æ–‡æœ¬å†™å…¥iTermä¸­å‘¢ï¼Ÿ</p>\n<p>å¤§è‡´æ€è·¯ä¸ºï¼šæ‰“å¼€iTerm &gt; åˆ›å»ºçª—å£ &gt; å†™å…¥å‘½ä»¤ã€‚</p>\n<p>æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•å®ç°è¿™å‡ ä¸ªæ­¥éª¤ï¼Œé€šè¿‡æŸ¥çœ‹iTermçš„Suite:<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102183300.png\" alt=\"\"><br>æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°<code>create window with default profile</code>ï¼Œ<code>write</code>å‘½ä»¤ã€‚æœ‰å¯èƒ½è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ä¹Ÿæœ‰å¯èƒ½ä¸æ˜¯ï¼Œæ‰€ä»¥æœ‰äº›æ—¶å€™æ˜¯éœ€è¦å°è¯•å‡ºæ¥çš„ã€‚æœ€ç»ˆå®ç°ä¸Šé¢æ­¥éª¤çš„ä»£ç ä¸ºï¼š</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"iTerm\"</span></span><br><span class=\"line\">\tcreate window <span class=\"keyword\">with</span> default profile</span><br><span class=\"line\">\t<span class=\"keyword\">tell</span> current session <span class=\"keyword\">of</span> current window</span><br><span class=\"line\">\t\t<span class=\"built_in\">write</span> <span class=\"built_in\">text</span> pathFile</span><br><span class=\"line\">\t<span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br></pre></td></tr></table></figure>\n<p>ç„¶åå®Œæ•´ä»£ç ä¸ºï¼š</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"Finder\"</span></span><br><span class=\"line\">    <span class=\"comment\">-- get selection path</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> selection <span class=\"keyword\">as</span> <span class=\"built_in\">text</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">get</span> <span class=\"keyword\">POSIX path</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\">    <span class=\"comment\">-- fix space problem in the directory</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">quoted form</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\">    <span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"iTerm\"</span></span><br><span class=\"line\">\t   create window <span class=\"keyword\">with</span> default profile</span><br><span class=\"line\">\t   <span class=\"keyword\">tell</span> current session <span class=\"keyword\">of</span> current window</span><br><span class=\"line\">\t\t  <span class=\"built_in\">write</span> <span class=\"built_in\">text</span> pathFile</span><br><span class=\"line\">\t   <span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\">    <span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"AppleScript-Alfred\"><a href=\"#AppleScript-Alfred\" class=\"headerlink\" title=\"AppleScript+Alfred\"></a>AppleScript+Alfred</h3><p>ä¸Šé¢è¿‡ç¨‹æˆ‘ä»¬ç¼–å†™äº†è„šæœ¬ï¼Œä½†æ˜¯æ€ä¹ˆæ–¹ä¾¿çš„ä½¿ç”¨å®ƒå‘¢ï¼Ÿå¯ä»¥åˆ©ç”¨Alfredã€‚<br>åœ¨workflowä¸­ï¼Œæˆ‘ä»¬å¢åŠ ä¸€ä¸ªHotkeysã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102184419.png\" alt=\"\"></p>\n<p>ç„¶åç»‘å®šå¿«æ·é”®<code>Command+O</code>ï¼Œä»å¿«æ·é”®è„±å‡ºä¸€æ¡çº¿ï¼Œé€‰æ‹©<code>Actions &gt; Run Script</code>ï¼Œé€‰æ‹©Languageä¸ºAS(AppleScript)ï¼Œç²˜è´´æˆ‘ä»¬åˆšæ‰å†™çš„ä»£ç ï¼Œä¿å­˜å³å¯ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20191102184556.png\" alt=\"\"></p>\n<p>ä¹‹åæˆ‘ä»¬å¯ä»¥é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œè§¦å‘çƒ­é”®<code>Command+O</code>å°±èƒ½ç›´æ¥åœ¨iTermä¸­å®šä½è‡³æ”¹ç›®å½•äº†ã€‚</p>\n","categories":[],"tags":["mac"]},{"title":"ã€Šå›¾è§£TCP/IPã€‹æ€»ç»“","url":"http://zhangferry.github.io/2019/08/31/diagram_tcpip_concepts/","content":"<p>æœ€è¿‘åˆšæŠŠã€Šå›¾è§£TCP/IPã€‹ç¿»äº†ä¸€éï¼Œæ˜¯æœ‰å¾ˆå¤šæ”¶è·ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šä¸œè¥¿ä¸æ˜¯å¤ªæ‡‚ã€‚åˆå› ä¸ºè®¡ç®—æœºç½‘ç»œæ¶‰åŠçš„å†…å®¹å¤šä¸”æ‚ï¼Œæ‰€ä»¥æœ‰äº†è¿™ç¯‡è®°å½•æ€§è´¨çš„æ–‡ç« ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"ç½‘ç»œåŸºç¡€çŸ¥è¯†\"><a href=\"#ç½‘ç»œåŸºç¡€çŸ¥è¯†\" class=\"headerlink\" title=\"ç½‘ç»œåŸºç¡€çŸ¥è¯†\"></a>ç½‘ç»œåŸºç¡€çŸ¥è¯†</h2><p>è®¡ç®—æœºç½‘ç»œæœ€é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯åè®®ï¼Œç®€å•æ¥è¯´ï¼Œ<strong>åè®®</strong>å°±æ˜¯è®¡ç®—æœºä¸è®¡ç®—æœºä¹‹é—´é€šè¿‡ç½‘ç»œå®ç°é€šä¿¡æ—¶äº‹å…ˆè¾¾æˆçš„ä¸€ç§â€œçº¦å®šâ€ã€‚è¿™ç§â€œçº¦å®šâ€ä½¿é‚£äº›ç”±ä¸åŒå‚å•†çš„è®¾å¤‡ï¼Œä¸åŒçš„CPUä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿç»„æˆçš„è®¡ç®—æœºä¹‹é—´ï¼Œåªè¦éµå¾ªç›¸åŒçš„åè®®å°±èƒ½å®ç°é€šä¿¡ã€‚</p>\n<p>é‚£è¿™ä¸ªåè®®ç”±è°æ¥è§„å®šå‘¢ï¼ŒISOï¼ˆå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼‰åˆ¶å®šçš„ä¸€ä¸ªå›½é™…æ ‡å‡†OSIï¼ˆå¼€æ”¾å¼é€šä¿¡ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ï¼‰ã€‚æœ¬ä¹¦å°†è¦è¯´æ˜çš„TCP/IPå¹¶éISOæ‰€åˆ¶å®šçš„æŸç§å›½é™…æ ‡å‡†ï¼Œè€Œæ˜¯ç”±IETFï¼ˆäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼‰æ‰€å»ºè®®çš„è‡´åŠ›äºæ¨è¿›æ ‡å‡†åŒ–ä½œä¸šçš„ä¸€ç§åè®®ã€‚è¿™é‡Œæä¸€ä¸‹ï¼Œé€šå¸¸OSIåªæ˜¯ä¸€ç§å‚è€ƒæ¨¡å‹ï¼Œä»–å°†ç½‘ç»œåˆ†å±‚ï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰è§„å®šä»»ä½•å…·ä½“çš„åè®®ï¼Œåè®®å†…å®¹åˆ™å½’å±ä¸ºTCP/IPã€‚</p>\n<p>OSIå‚è€ƒæ¨¡å‹ä¸­å„ä¸ªåˆ†å±‚çš„ä½œç”¨ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190919213227.png\" alt=\"\"></p>\n<h2 id=\"ä¼ è¾“æ–¹å¼çš„åˆ†ç±»\"><a href=\"#ä¼ è¾“æ–¹å¼çš„åˆ†ç±»\" class=\"headerlink\" title=\"ä¼ è¾“æ–¹å¼çš„åˆ†ç±»\"></a>ä¼ è¾“æ–¹å¼çš„åˆ†ç±»</h2><p><strong>é¢å‘æœ‰è¿æ¥å‹</strong>ï¼š<br>åœ¨å‘é€æ•°æ®ä¹‹å‰ï¼Œéœ€è¦åœ¨æ”¶å‘ä¸»æœºä¹‹é—´è¿æ¥ä¸€æ¡é€šä¿¡çº¿è·¯ã€‚æ¯”å¦‚æ‰“ç”µè¯ï¼Œå¿…é¡»å¯¹æ–¹æ¥é€šæ‰èƒ½å¼€å§‹é€šè¯ã€‚</p>\n<p><strong>é¢å‘æ— è¿æ¥å‹</strong>ï¼š<br>ä¸è¦æ±‚å»ºç«‹è¿æ¥å’Œæ–­å¼€è¿æ¥ï¼Œå‘é€ç«¯å¯ä»¥ä»»ä½•æ—¶å€™å‘é€æ•°æ®ï¼Œæ¥æ”¶ç«¯ä¹Ÿæ°¸è¿œä¸çŸ¥é“è‡ªå·±ä½•æ—¶ä¼šæ”¶åˆ°æ•°æ®ã€‚</p>\n<p><strong>åˆ†ç»„äº¤æ¢</strong>ï¼š<br>è®©è¿æ¥åˆ°é€šä¿¡ç”µè·¯çš„è®¡ç®—æœºå°†æ‰€è¦å‘é€çš„æ•°æ®åˆ†æˆå¤šä¸ªæ•°æ®åŒ…ï¼ŒæŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ä¹‹ååˆ†åˆ«å‘é€ï¼Œå°±æ˜¯åˆ†ç»„äº¤æ¢ã€‚æœ‰äº†åˆ†ç»„äº¤æ¢ï¼Œæ•°æ®è¢«ç»†åˆ†ï¼Œæ‰€æœ‰è®¡ç®—æœºå¯ä»¥ä¸€èµ·æ”¶å‘æ•°æ®ï¼Œè¿™æ ·ä¹Ÿå°±æé«˜äº†é€šä¿¡çº¿è·¯çš„åˆ©ç”¨ç‡ã€‚TCP/IPæ­£æ˜¯é‡‡ç”¨äº†åˆ†ç»„äº¤æ¢æŠ€æœ¯ã€‚</p>\n<p><strong>å•æ’­ï¼ˆUnicastï¼‰</strong>ï¼š<br>ä¸€å¯¹ä¸€é€šä¿¡ï¼Œæ—©å…ˆçš„å›ºå®šç”µè¯å°±æ˜¯å•æ’­é€šä¿¡çš„å…¸å‹ä¾‹å­ã€‚</p>\n<p><strong>å¹¿æ’­</strong>ï¼š<br>å°†æ¶ˆæ¯ä»1å°ä¸»æœºå‘é€åˆ°ä¸ä¹‹ç›¸è¿çš„æ‰€æœ‰å…¶ä»–ä¸»æœºã€‚å…¸å‹ä¾‹å­å°±æ˜¯ç”µè§†æ’­æ”¾ã€‚</p>\n<p><strong>å¤šæ’­</strong><br>ä¸å¹¿æ’­ç±»ä¼¼ï¼Œå°†æ¶ˆæ¯å‘åˆ°å¤šä¸ªæ¥æ”¶ä¸»æœºï¼Œä¸åŒä¹‹å¤„åœ¨äºå¤šæ’­è¦é™å®šæŸä¸€ç»„ä¸»æœºä½œä¸ºæ¥æ”¶ç«¯ï¼Œæœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ç”µè¯ä¼šè®®ã€‚</p>\n<p><strong>ä»»æ’­</strong><br>ä»ç›®æ ‡ä¸»æœºç¾¤ä¸­é€‰æ‹©ä¸€å°æœ€ç¬¦åˆç½‘ç»œæ¡ä»¶çš„ä¸»æœºä½œä¸ºç›®æ ‡ä¸»æœºå‘é€æ¶ˆæ¯ï¼Œé€šå¸¸ï¼Œæ‰€è¢«é€‰ä¸­çš„é‚£å°ç‰¹å®šä¸»æœºå°†è¿”å›ä¸€ä¸ªä¸¹æ³¢ä¿¡å·ï¼Œéšåå‘é€ç«¯ä¸»æœºä¼šåªè·Ÿè¿™å°ä¸»æœºè¿›è¡Œé€šä¿¡ã€‚ä»»æ’­åœ¨å®é™…ç½‘ç»œä¸­çš„åº”ç”¨æœ‰DNSæ ¹åŸŸåè§£ææœåŠ¡å™¨ã€‚</p>\n<h2 id=\"åœ°å€\"><a href=\"#åœ°å€\" class=\"headerlink\" title=\"åœ°å€\"></a>åœ°å€</h2><p>TCP/IPé€šä¿¡ä¸­ä½¿ç”¨MACåœ°å€ã€IPåœ°å€ã€ç«¯å£å·ç­‰ä¿¡æ¯ä½œä¸ºåœ°å€æ ‡è¯†ã€‚</p>\n<p>åœ°å€å¾ˆé‡è¦çš„ä¸¤ä¸ªå±æ€§æ˜¯å”¯ä¸€æ€§å’Œå±‚æ¬¡æ€§ã€‚</p>\n<p>MACåœ°å€ç”±è®¾å¤‡çš„åˆ¶é€ å‚å•†å¯¹æ¯å—ç½‘å¡è¿›è¡Œåˆ†åˆ«åˆ¶å®šã€‚äººä»¬å¯ä»¥é€šè¿‡åˆ¶é€ å•†è¯†åˆ«å·ã€åˆ¶é€ å•†å†…éƒ¨äº§å“ç¼–å·ä»¥åŠäº§å“é€šç”¨ç¼–å·ç¡®ä¿MACåœ°å€çš„å”¯ä¸€æ€§ã€‚ä½†å¹¶ä¸å…·æœ‰å±‚æ¬¡æ€§ã€‚IPåœ°å€å› å…·æœ‰ç½‘ç»œå·å’Œä¸»æœºå·è€Œå…·æœ‰å±‚æ¬¡æ€§ã€‚</p>\n<h2 id=\"TCP-IPåŸºç¡€çŸ¥è¯†\"><a href=\"#TCP-IPåŸºç¡€çŸ¥è¯†\" class=\"headerlink\" title=\"TCP/IPåŸºç¡€çŸ¥è¯†\"></a>TCP/IPåŸºç¡€çŸ¥è¯†</h2><p>TCP/IPçš„è¯ç”Ÿ<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190915183056.png\" alt=\"\"></p>\n<h3 id=\"TCP-IPçš„å…·ä½“å«ä¹‰\"><a href=\"#TCP-IPçš„å…·ä½“å«ä¹‰\" class=\"headerlink\" title=\"TCP/IPçš„å…·ä½“å«ä¹‰\"></a>TCP/IPçš„å…·ä½“å«ä¹‰</h3><p>ä»å­—é¢æ„ä¹‰ä¸Šè®²ï¼Œæœ‰æ—¶è¿™å°±æ˜¯æŒ‡TCPå’ŒIPä¸¤ç§åè®®ï¼Œä½†æ˜¯æ›´å¤šæƒ…å†µä¸‹ï¼Œä»–æ˜¯åˆ©ç”¨IPè¿›è¡Œé€šä¿¡æ—¶æ‰€å¿…é¡»ç”¨åˆ°çš„åè®®ç¾¤ç»Ÿç§°ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190915183431.png\" alt=\"\"></p>\n<h3 id=\"TCP-IPè§„èŒƒâ€“RFC\"><a href=\"#TCP-IPè§„èŒƒâ€“RFC\" class=\"headerlink\" title=\"TCP/IPè§„èŒƒâ€“RFC\"></a>TCP/IPè§„èŒƒâ€“RFC</h3><p>å‰é¢æåˆ°çš„TCP/IPçš„åè®®ç”±IEFTè®¨è®ºåˆ¶å®šï¼Œè¢«äººä»¬åˆ—å…¥RFC(Request For Comment)æ–‡æ¡£å¹¶å…¬å¸ƒåˆ°äº’è”ç½‘ä¸Šã€‚RFCä¸ä»…è®°å½•äº†åè®®è§„èŒƒå†…å®¹ï¼Œè¿˜åŒ…å«äº†åè®®çš„å®ç°å’Œè¿ç”¨çš„ç›¸å…³ä¿¡æ¯ï¼Œä»¥åŠå®éªŒæ–¹é¢çš„ä¿¡æ¯ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190915184056.png\" alt=\"\"></p>\n<p>å¯ä»¥é€šè¿‡<a href=\"https://www.rfc-editor.org/\">RFC Editor</a>æŸ¥çœ‹RFCæ‰€æœ‰å†…å®¹ã€‚</p>\n<h2 id=\"TCP-IPåè®®åˆ†å±‚æ¨¡å‹\"><a href=\"#TCP-IPåè®®åˆ†å±‚æ¨¡å‹\" class=\"headerlink\" title=\"TCP/IPåè®®åˆ†å±‚æ¨¡å‹\"></a>TCP/IPåè®®åˆ†å±‚æ¨¡å‹</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190919143416.png\" alt=\"\"></p>\n<p>è¿™ä¸ªå°±æ˜¯å¸¸è¢«é—®åŠç½‘ç»œåˆ†å±‚æ¨¡å‹ï¼Œå®ƒæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯OSI7å±‚æ¨¡å‹ï¼›ä¸€ç§æ˜¯TCP/IPçš„5å±‚æ¨¡å‹ï¼Œä¹Ÿæœ‰ä¸€ç§åˆ†æ³•æ˜¯4å±‚æ¨¡å‹ï¼Œæ˜¯å°†5å±‚æ¨¡å‹ä¸­çš„ç½‘å¡å±‚å’Œç¡¬ä»¶å±‚åˆä¸ºç½‘ç»œæ¥å£å±‚ã€‚</p>\n<h3 id=\"ç‰©ç†å±‚ï¼ˆç¡¬ä»¶ï¼‰\"><a href=\"#ç‰©ç†å±‚ï¼ˆç¡¬ä»¶ï¼‰\" class=\"headerlink\" title=\"ç‰©ç†å±‚ï¼ˆç¡¬ä»¶ï¼‰\"></a>ç‰©ç†å±‚ï¼ˆç¡¬ä»¶ï¼‰</h3><p>TCP/IPçš„æœ€åº•å±‚æ˜¯è´Ÿè´£æ•°æ®ä¼ è¾“çš„ç¡¬ä»¶ã€‚è¿™ç§ç¡¬ä»¶å°±ç›¸å½“äºä»¥å¤ªç½‘æˆ–ç”µè¯çº¿è·¯ç­‰ç‰©ç†å±‚çš„è®¾å¤‡ã€‚</p>\n<p>ä¸»è¦åŠŸèƒ½æ˜¯ï¼šåˆ©ç”¨ä¼ è¾“ä»‹è´¨ä¸ºæ•°æ®é“¾è·¯å±‚æä¾›ç‰©ç†è¿æ¥ï¼Œè´Ÿè´£å¤„ç†æ•°æ®ä¼ è¾“å¹¶ç›‘æ§æ•°æ®å‡ºé”™ç‡ï¼Œä»¥ä¾¿æ•°æ®æµçš„é€æ˜ä¼ è¾“ã€‚</p>\n<h3 id=\"æ•°æ®é“¾è·¯å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ï¼‰\"><a href=\"#æ•°æ®é“¾è·¯å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ï¼‰\" class=\"headerlink\" title=\"æ•°æ®é“¾è·¯å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ï¼‰\"></a>æ•°æ®é“¾è·¯å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ï¼‰</h3><p>ç½‘ç»œæ¥å£å±‚ï¼ˆæœ‰æ—¶äººä»¬ä¹Ÿå°†ç½‘ç»œæ¥å£å±‚ä¸ç¡¬ä»¶å±‚åˆå¹¶èµ·æ¥ç§°ä½œç½‘ç»œé€šä¿¡å±‚ã€‚ï¼‰ åˆ©ç”¨ä»¥å¤ªç½‘ä¸­çš„æ•°æ®é“¾è·¯å±‚è¿›è¡Œé€šä¿¡ï¼Œå› æ­¤å±äºæ¥å£å±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠå®ƒå½“åšè®©NICèµ·ä½œç”¨çš„â€œé©±åŠ¨ç¨‹åºâ€ä¹Ÿæ— å¦¨ã€‚</p>\n<h3 id=\"ç½‘ç»œå±‚ï¼ˆäº’è”ç½‘å±‚ï¼‰\"><a href=\"#ç½‘ç»œå±‚ï¼ˆäº’è”ç½‘å±‚ï¼‰\" class=\"headerlink\" title=\"ç½‘ç»œå±‚ï¼ˆäº’è”ç½‘å±‚ï¼‰\"></a>ç½‘ç»œå±‚ï¼ˆäº’è”ç½‘å±‚ï¼‰</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190919145252.png\" alt=\"\"><br>ç½‘ç»œå±‚(Network layer)æ˜¯å‚è€ƒæ¨¡å‹çš„ç¬¬3å±‚ã€‚ä¸»è¦åŠŸèƒ½æ˜¯ï¼šä¸ºæ•°æ®åœ¨ç»“ç‚¹ä¹‹é—´ä¼ è¾“åˆ›å»ºé€»è¾‘é“¾è·¯ï¼Œé€šè¿‡è·¯ç”±é€‰æ‹©ç®—æ³•ä¸ºåˆ†ç»„é€šè¿‡é€šä¿¡å­ç½‘é€‰æ‹©æœ€é€‚å½“çš„è·¯å¾„ï¼Œä»¥åŠå®ç°æ‹¥å¡æ§åˆ¶ã€ç½‘ç»œäº’è”ç­‰åŠŸèƒ½ã€‚</p>\n<h4 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h4><p>IPæ˜¯è·¨è¶Šç½‘ç»œä¼ é€æ•°æ®åŒ…ï¼Œä½¿æ•´ä¸ªäº’è”ç½‘éƒ½èƒ½æ”¶åˆ°æ•°æ®çš„åè®®ã€‚IPåè®®ä½¿æ•°æ®èƒ½å¤Ÿå‘é€åˆ°åœ°çƒçš„å¦ä¸€ç«¯ï¼Œè¿™æœŸé—´å®ƒä½¿ç”¨IPåœ°å€ä½œä¸ºä¸»æœºçš„æ ‡è¯†ã€‚</p>\n<h4 id=\"ICMP-Internet-Control-Message-Protocol\"><a href=\"#ICMP-Internet-Control-Message-Protocol\" class=\"headerlink\" title=\"ICMP(Internet Control Message Protocol)\"></a>ICMP(Internet Control Message Protocol)</h4><p>IPæ•°æ®åŒ…åœ¨å‘é€é€”ä¸­ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸å¯¼è‡´æ— æ³•åˆ°è¾¾å¯¹ç«¯ç›®æ ‡åœ°å€æ—¶ï¼Œéœ€è¦ç»™å‘é€ç«¯å‘é€ä¸€ä¸ªå‘ç”Ÿå¼‚å¸¸çš„é€šçŸ¥ã€‚ICMPå°±æ˜¯ä¸ºè¿™ä¸€åŠŸèƒ½è€Œåˆ¶å®šçš„ã€‚å®ƒæœ‰æ—¶ä¹Ÿè¢«ç”¨æ¥è¯Šæ–­ç½‘ç»œçš„å¥åº·çŠ¶å†µã€‚</p>\n<h4 id=\"ARP-Address-Resolution-Protocol\"><a href=\"#ARP-Address-Resolution-Protocol\" class=\"headerlink\" title=\"ARP(Address Resolution Protocol)\"></a>ARP(Address Resolution Protocol)</h4><p>åœ°å€è§£æåè®®ï¼Œä»åˆ†ç»„æ•°æ®åŒ…çš„IPåœ°å€ä¸­è§£æå‡ºç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰çš„ä¸€ç§åè®®ã€‚</p>\n<h3 id=\"ä¼ è¾“å±‚\"><a href=\"#ä¼ è¾“å±‚\" class=\"headerlink\" title=\"ä¼ è¾“å±‚\"></a>ä¼ è¾“å±‚</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190919145219.png\" alt=\"\"><br>ä¼ è¾“å±‚æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯èƒ½å¤Ÿè®©åº”ç”¨ç¨‹åºä¹‹é—´å®ç°é€šä¿¡ã€‚è®¡ç®—æœºå†…éƒ¨ï¼Œé€šå¸¸åŒä¸€æ—¶é—´è¿è¡Œç€å¤šä¸ªç¨‹åºã€‚ä¸ºæ­¤ï¼Œå¿…é¡»åˆ†æ¸…æ˜¯å“ªäº›ç¨‹åºä¸å“ªäº›ç¨‹åºåœ¨è¿›è¡Œé€šä¿¡ã€‚è¯†åˆ«è¿™äº›åº”ç”¨ç¨‹åºçš„æ˜¯ç«¯å£å·ã€‚</p>\n<h4 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h4><p>TCPæ˜¯ä¸€ç§é¢å‘æœ‰è¿æ¥çš„ä¼ è¾“å±‚åè®®ã€‚å®ƒå¯ä»¥ä¿è¯ä¸¤ç«¯é€šä¿¡ä¸»æœºä¹‹é—´çš„é€šä¿¡å¯è¾¾ã€‚TCPèƒ½å¤Ÿæ­£ç¡®å¤„ç†åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢åŒ…ã€ä¼ è¾“é¡ºåºä¹±æ‰ç­‰å¼‚å¸¸æƒ…å†µã€‚æ­¤å¤–ï¼ŒTCPè¿˜èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨å¸¦å®½ï¼Œç¼“è§£ç½‘ç»œæ‹¥å µã€‚</p>\n<p><strong>TCPé¦–éƒ¨</strong><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922200215.png\" alt=\"\"><br>å…¶ä¸­æ§åˆ¶ä½æ˜¯ç”¨äºè¿æ¥ç®¡ç†çš„æ ‡è®°ä½ï¼Œå­—æ®µé•¿ä¸º8ä½ï¼Œæ¯ä¸€ä½ä»å·¦è‡³å³åˆ†åˆ«ä¸ºCWRã€ECEã€URGã€ACKã€PSHã€RSTã€SYNã€FINã€‚è¿™äº›æ§åˆ¶æ ‡å¿—ä¹Ÿå«åšæ§åˆ¶ä½ã€‚å½“å®ƒä»¬å¯¹åº”ä½ä¸Šçš„å€¼ä¸º1æ—¶ï¼Œå…·ä½“å«ä¹‰å¦‚ä¸‹æ‰€ç¤ºã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922200920.png\" alt=\"\"></p>\n<p><strong>è¿æ¥ç®¡ç†</strong><br>TCPä¼šåœ¨æ•°æ®é€šä¿¡ä¹‹å‰ï¼Œé€šè¿‡TCPé¦–éƒ¨å‘é€ä¸€ä¸ªSYNåŒ…ä½œä¸ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ç­‰å¾…ç¡®è®¤åº”ç­”ï¼ˆTCPä¸­å‘é€ç¬¬ä¸€ä¸ªSYNåŒ…çš„ä¸€æ–¹å«åšå®¢æˆ·ç«¯ï¼Œæ¥æ”¶è¿™ä¸ªçš„ä¸€æ–¹å«åšæœåŠ¡ç«¯ã€‚ï¼‰ ã€‚å¦‚æœå¯¹ç«¯å‘æ¥ç¡®è®¤åº”ç­”ï¼Œåˆ™è®¤ä¸ºå¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ã€‚å¦‚æœå¯¹ç«¯çš„ç¡®è®¤åº”ç­”æœªèƒ½åˆ°è¾¾ï¼Œå°±ä¸ä¼šè¿›è¡Œæ•°æ®é€šä¿¡ã€‚æ­¤å¤–ï¼Œåœ¨é€šä¿¡ç»“æŸæ—¶ä¼šè¿›è¡Œæ–­å¼€è¿æ¥çš„å¤„ç†ï¼ˆFINåŒ…ï¼‰ã€‚</p>\n<p>å¯ä»¥ä½¿ç”¨TCPé¦–éƒ¨ç”¨äºæ§åˆ¶çš„å­—æ®µæ¥ç®¡ç†TCPè¿æ¥ã€‚ä¸€ä¸ªè¿æ¥çš„å»ºç«‹ä¸æ–­å¼€ï¼Œæ­£å¸¸è¿‡ç¨‹è‡³å°‘éœ€è¦æ¥å›å‘é€7ä¸ªåŒ…æ‰èƒ½å®Œæˆï¼ˆå»ºç«‹ä¸€ä¸ªTCPè¿æ¥éœ€è¦å‘é€3ä¸ªåŒ…ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°ä½œâ€œä¸‰æ¬¡æ¡æ‰‹â€ã€‚ï¼‰ ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922200022.png\" alt=\"\"></p>\n<h4 id=\"UDP\"><a href=\"#UDP\" class=\"headerlink\" title=\"UDP\"></a>UDP</h4><p>UDPæ˜¯User Datagram Protocolçš„ç¼©å†™ã€‚</p>\n<p>UDPæœ‰åˆ«äºTCPï¼Œå®ƒæ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ã€‚UDPä¸ä¼šå…³æ³¨å¯¹ç«¯æ˜¯å¦çœŸçš„æ”¶åˆ°äº†ä¼ é€è¿‡å»çš„æ•°æ®ï¼Œå¦‚æœéœ€è¦æ£€æŸ¥å¯¹ç«¯æ˜¯å¦æ”¶åˆ°åˆ†ç»„æ•°æ®åŒ…ï¼Œæˆ–è€…å¯¹ç«¯æ˜¯å¦è¿æ¥åˆ°ç½‘ç»œï¼Œåˆ™éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°ã€‚</p>\n<p>ç”±äºUDPé¢å‘æ— è¿æ¥ï¼Œå®ƒå¯ä»¥éšæ—¶å‘é€æ•°æ®ã€‚å†åŠ ä¸ŠUDPæœ¬èº«çš„å¤„ç†æ—¢ç®€å•åˆé«˜æ•ˆï¼Œå› æ­¤ç»å¸¸ç”¨äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n<ul>\n<li>åŒ…æ€»é‡è¾ƒå°‘çš„é€šä¿¡ï¼ˆDNSã€SNMPç­‰ï¼‰</li>\n<li>è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šåª’ä½“é€šä¿¡ï¼ˆå³æ—¶é€šä¿¡ï¼‰</li>\n<li>é™å®šäºLANç­‰ç‰¹å®šç½‘ç»œä¸­çš„åº”ç”¨é€šä¿¡</li>\n<li>å¹¿æ’­é€šä¿¡ï¼ˆå¹¿æ’­ã€å¤šæ’­ï¼‰</li>\n</ul>\n<p><strong>UDPé¦–éƒ¨</strong><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922200442.png\" alt=\"\"></p>\n<h3 id=\"åº”ç”¨å±‚ï¼ˆä¼šè¯å±‚åŠä»¥ä¸Šåˆ†å±‚ï¼‰\"><a href=\"#åº”ç”¨å±‚ï¼ˆä¼šè¯å±‚åŠä»¥ä¸Šåˆ†å±‚ï¼‰\" class=\"headerlink\" title=\"åº”ç”¨å±‚ï¼ˆä¼šè¯å±‚åŠä»¥ä¸Šåˆ†å±‚ï¼‰\"></a>åº”ç”¨å±‚ï¼ˆä¼šè¯å±‚åŠä»¥ä¸Šåˆ†å±‚ï¼‰</h3><p>TCP/IPçš„åˆ†å±‚ä¸­ï¼Œå°†OSIå‚è€ƒæ¨¡å‹ä¸­çš„ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚çš„åŠŸèƒ½éƒ½é›†ä¸­åˆ°äº†åº”ç”¨ç¨‹åºä¸­å®ç°ã€‚è¿™äº›åŠŸèƒ½æœ‰æ—¶ç”±ä¸€ä¸ªå•ä¸€çš„ç¨‹åºå®ç°ï¼Œæœ‰æ—¶ä¹Ÿå¯èƒ½ä¼šç”±å¤šä¸ªç¨‹åºå®ç°ã€‚å› æ­¤ï¼Œç»†çœ‹TCP/IPçš„åº”ç”¨ç¨‹åºåŠŸèƒ½ä¼šå‘ç°ï¼Œå®ƒä¸ä»…å®ç°OSIæ¨¡å‹ä¸­åº”ç”¨å±‚çš„å†…å®¹ï¼Œè¿˜è¦å®ç°ä¼šè¯å±‚ä¸è¡¨ç¤ºå±‚çš„åŠŸèƒ½ã€‚</p>\n<h4 id=\"FTP\"><a href=\"#FTP\" class=\"headerlink\" title=\"FTP\"></a>FTP</h4><p>åœ¨FTPä¸­è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ—¶ä¼šå»ºç«‹ä¸¤ä¸ªTCPè¿æ¥ï¼Œåˆ†åˆ«æ˜¯å‘å‡ºä¼ è¾“è¯·æ±‚æ—¶æ‰€è¦ç”¨åˆ°çš„æ§åˆ¶è¿æ¥ä¸å®é™…ä¼ è¾“æ•°æ®æ—¶æ‰€è¦ç”¨åˆ°çš„æ•°æ®è¿æ¥ï¼ˆè¿™ä¸¤ç§è¿æ¥çš„æ§åˆ¶ç®¡ç†å±äºä¼šè¯å±‚çš„åŠŸèƒ½ã€‚ï¼‰ </p>\n<h4 id=\"è¿œç¨‹ç™»å½•ï¼ˆTELNETå’ŒSSHï¼‰\"><a href=\"#è¿œç¨‹ç™»å½•ï¼ˆTELNETå’ŒSSHï¼‰\" class=\"headerlink\" title=\"è¿œç¨‹ç™»å½•ï¼ˆTELNETå’ŒSSHï¼‰\"></a>è¿œç¨‹ç™»å½•ï¼ˆTELNETå’ŒSSHï¼‰</h4><p>è¿œç¨‹ç™»å½•æ˜¯æŒ‡ç™»å½•åˆ°è¿œç¨‹çš„è®¡ç®—æœºä¸Šï¼Œä½¿é‚£å°è®¡ç®—æœºä¸Šçš„ç¨‹åºå¾—ä»¥è¿è¡Œçš„ä¸€ç§åŠŸèƒ½ã€‚TCP/IPç½‘ç»œä¸­è¿œç¨‹ç™»å½•å¸¸ç”¨TELNETï¼ˆTELetypewriter NETworkçš„ç¼©å†™ã€‚æœ‰æ—¶ä¹Ÿç§°ä½œé»˜è®¤åè®®ã€‚ï¼‰ å’ŒSSHï¼ˆSSHæ˜¯Secure SHellçš„ç¼©å†™ã€‚ï¼‰ ä¸¤ç§åè®®ã€‚</p>\n<h3 id=\"å‘é€æ•°æ®åŒ…\"><a href=\"#å‘é€æ•°æ®åŒ…\" class=\"headerlink\" title=\"å‘é€æ•°æ®åŒ…\"></a>å‘é€æ•°æ®åŒ…</h3><p>å‡è®¾ç”²ç»™ä¹™å‘é€ç”µå­é‚®ä»¶ï¼Œå†…å®¹ä¸ºï¼šâ€œæ—©ä¸Šå¥½â€ã€‚è€Œä»TCP/IPé€šä¿¡ä¸Šçœ‹ï¼Œæ˜¯ä»ä¸€å°è®¡ç®—æœºAå‘å¦ä¸€å°è®¡ç®—æœºBå‘é€ç”µå­é‚®ä»¶ã€‚è¿™ä¸€è¿‡ç¨‹å¯ä»¥ç”¨å¦‚ä¸‹å›¾ç¤ºè¡¨ç¤ºï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190919150413.png\" alt=\"\"></p>\n<h2 id=\"åº”ç”¨åè®®\"><a href=\"#åº”ç”¨åè®®\" class=\"headerlink\" title=\"åº”ç”¨åè®®\"></a>åº”ç”¨åè®®</h2><h3 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h3><p>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨çš„åœ°å€æ é‡Œè¾“å…¥æ‰€è¦è®¿é—®Webé¡µçš„URIä»¥åï¼ŒHTTPçš„å¤„ç†å³ä¼šå¼€å§‹ã€‚HTTPä¸­é»˜è®¤ä½¿ç”¨80ç«¯å£ã€‚å®ƒçš„å·¥ä½œæœºåˆ¶ï¼Œé¦–å…ˆæ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„80ç«¯å£å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼Œç„¶ååœ¨è¿™ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œè¯·æ±‚å’Œåº”ç­”ä»¥åŠæ•°æ®æŠ¥æ–‡çš„å‘é€ã€‚</p>\n<p>HTTPä¸­å¸¸ç”¨çš„æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªHTTP1.0ï¼Œå¦ä¸€ä¸ªæ˜¯HTTP1.1ã€‚åœ¨HTTP1.0ä¸­æ¯ä¸€ä¸ªå‘½ä»¤å’Œåº”ç­”éƒ½ä¼šè§¦å‘ä¸€æ¬¡TCPè¿æ¥çš„å»ºç«‹å’Œæ–­å¼€ã€‚è€Œä»HTTP1.1å¼€å§‹ï¼Œå…è®¸åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå‘é€å¤šä¸ªå‘½ä»¤å’Œåº”ç­”ï¼ˆè¿™ç§æ–¹å¼ä¹Ÿå«ä¿æŒè¿æ¥ï¼ˆkeep-aliveï¼‰ã€‚ï¼‰ ã€‚ç”±æ­¤ï¼Œå¤§é‡åœ°å‡å°‘äº†TCPè¿æ¥çš„å»ºç«‹å’Œæ–­å¼€æ“ä½œï¼Œä»è€Œä¹Ÿæé«˜äº†æ•ˆç‡ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922201820.png\" alt=\"\"><br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922201908.png\" alt=\"\"></p>\n<h3 id=\"å¤šåª’ä½“å®ç°æŠ€æœ¯\"><a href=\"#å¤šåª’ä½“å®ç°æŠ€æœ¯\" class=\"headerlink\" title=\"å¤šåª’ä½“å®ç°æŠ€æœ¯\"></a>å¤šåª’ä½“å®ç°æŠ€æœ¯</h3><p>ç”±äºTCPå…·æœ‰æµæ§åˆ¶ã€æ‹¥å¡æ§åˆ¶ã€é‡å‘æœºåˆ¶ç­‰åŠŸèƒ½ï¼Œæœ‰æ—¶åº”ç”¨æ‰€å‘å‡ºå»çš„æ•°æ®å¯èƒ½æ— æ³•è¿…é€Ÿåˆ°è¾¾å¯¹ç«¯ç›®æ ‡ä¸»æœºã€‚ç„¶è€Œåœ¨äº’è”ç½‘ç”µè¯ï¼ˆä½¿ç”¨çš„VoIPï¼ˆVoice Over IPçš„ç¼©å†™ã€‚ï¼‰ ï¼‰å’Œç”µè§†ä¼šè®®å½“ä¸­ï¼Œå³ä½¿æœ‰å°‘è®¸ä¸¢åŒ…ï¼Œä¹Ÿå¸Œæœ›ç³»ç»Ÿå»¶æ—¶å°‘ä¸€ç‚¹ï¼Œéå¸¸æ³¨é‡ç³»ç»Ÿçš„å³æ—¶æ€§ã€‚å› æ­¤ï¼Œåœ¨å®æ—¶å¤šåª’ä½“é€šä¿¡å½“ä¸­é‡‡ç”¨UDPã€‚</p>\n<p>ç„¶è€Œï¼Œåªä½¿ç”¨UDPè¿˜ä¸è¶³ä»¥è¾¾åˆ°è¿›è¡Œå®æ—¶å¤šåª’ä½“é€šä¿¡çš„ç›®çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨äº’è”ç½‘ç”µè§†ç”µè¯è®®ä¼šä¸­éœ€è¦æä¾›æŸ¥è¯¢å¯¹æ–¹å·ç ã€æ¨¡æ‹Ÿç”µè¯æœºçš„æ‹¨å·ä»¥åŠä»¥ä»€ä¹ˆå½¢å¼äº¤äº’æ•°æ®ç­‰åŠŸèƒ½ã€‚ä¸ºæ­¤ï¼Œéœ€è¦ä¸€ä¸ªå«åšâ€œå‘¼å«æ§åˆ¶â€çš„æ”¯æŒã€‚å‘¼å«æ§åˆ¶ä¸»è¦é‡‡ç”¨H.323ä¸SIPåè®®ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦RTPåè®®ï¼ˆç»“åˆå¤šåª’ä½“æ•°æ®æœ¬èº«çš„ç‰¹æ€§è¿›è¡Œä¼ è¾“çš„ä¸€ç§åè®®ï¼‰å’Œå‹ç¼©æŠ€æœ¯ï¼ˆåœ¨ç½‘ç»œä¸Šä¼ è¾“éŸ³é¢‘ã€è§†é¢‘ç­‰å¤§å‹å¤šåª’ä½“æ•°æ®æ—¶è¿›è¡Œå‹ç¼©ï¼‰çš„æ”¯æŒã€‚</p>\n<h4 id=\"H-323\"><a href=\"#H-323\" class=\"headerlink\" title=\"H.323\"></a>H.323</h4><p>H.323æ˜¯ç”±ITUå¼€å‘ç”¨äºåœ¨IPç½‘ä¸Šä¼ è¾“éŸ³é¢‘ã€è§†é¢‘çš„ä¸€ç§åè®®ã€‚èµ·åˆï¼Œå®ƒä¸»è¦æ˜¯ä½œä¸ºæ¥å…¥ISDNç½‘å’ŒIPç½‘ä¹‹ä¸Šçš„ç”µè¯ç½‘ä¸ºç›®çš„çš„ä¸€ç§è§„èŒƒè€Œè¢«æå‡ºçš„ã€‚</p>\n<p>H.323å®šä¹‰äº†4ä¸ªä¸»è¦ç»„ä»¶ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ç»ˆç«¯ï¼ˆç”¨æˆ·ç»ˆç«¯ï¼‰ã€ç½‘å…³ï¼ˆå¸æ”¶ç”¨æˆ·æ•°æ®å‹ç¼©é¡ºåºçš„ä¸ä¸€è‡´æ€§ï¼‰ã€ç½‘é—¸ï¼ˆç”µè¯æœ¬ç®¡ç†ã€å‘¼å«ç®¡ç†ï¼‰ä»¥åŠå¤šç‚¹æ§åˆ¶å•å…ƒï¼ˆå…è®¸å¤šä¸ªç»ˆç«¯åŒæ—¶ä½¿ç”¨ï¼‰ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922202435.png\" alt=\"\"></p>\n<h4 id=\"SIP\"><a href=\"#SIP\" class=\"headerlink\" title=\"SIP\"></a>SIP</h4><p>ä¸H.323ç›¸å¯¹çš„TCP/IPåè®®å³æ˜¯SIPï¼ˆSession Initiation Protocolï¼‰åè®®ã€‚</p>\n<p>â€œç»ˆç«¯ä¹‹é—´è¿›è¡Œå¤šåª’ä½“é€šä¿¡æ—¶ï¼Œéœ€è¦å…·å¤‡äº‹å…ˆè§£æå¯¹æ–¹åœ°å€ã€å‘¼å‡ºå¯¹æ–¹å·ç å¹¶å¯¹æ‰€è¦ä¼ è¾“çš„åª’ä½“ä¿¡æ¯è¿›è¡Œå¤„ç†ç­‰åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦å…·å¤‡ä¸­æ–­ä¼šè¯å’Œæ•°æ®è½¬å‘çš„åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½ï¼ˆå‘¼å«æ§åˆ¶ä¸ä¿¡ä»¤ï¼‰éƒ½è¢«ç»Ÿä¸€äºSIPåè®®ä¸­ã€‚å®ƒç›¸å½“äºOSIå‚è€ƒæ¨¡å‹ä¸­çš„ä¼šè¯å±‚ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922202804.png\" alt=\"\"></p>\n<h4 id=\"RTPå’ŒRTCP\"><a href=\"#RTPå’ŒRTCP\" class=\"headerlink\" title=\"RTPå’ŒRTCP\"></a>RTPå’ŒRTCP</h4><p>UDPä¸æ˜¯ä¸€ç§å¯é æ€§ä¼ è¾“åè®®ã€‚å› æ­¤æœ‰å¯èƒ½å‘ç”Ÿä¸¢åŒ…æˆ–ä¹±åºç­‰ç°è±¡ã€‚å› æ­¤é‡‡ç”¨UDPå®ç°å®æ—¶çš„å¤šåª’ä½“é€šä¿¡éœ€è¦é™„åŠ ä¸€ä¸ªè¡¨ç¤ºæŠ¥æ–‡é¡ºåºçš„åºåˆ—å·å­—æ®µï¼Œè¿˜éœ€è¦å¯¹æŠ¥æ–‡å‘é€æ—¶é—´è¿›è¡Œç®¡ç†ã€‚è¿™äº›æ­£æ˜¯RTPï¼ˆReal-Time Protocolï¼‰çš„ä¸»è¦èŒè´£ã€‚</p>\n<p>RTPä¸ºæ¯ä¸ªæŠ¥æ–‡é™„åŠ æ—¶é—´æˆ³å’Œåºåˆ—å·ã€‚æ¥æ”¶æŠ¥æ–‡çš„åº”ç”¨ï¼Œæ ¹æ®æ—¶é—´æˆ³å†³å®šæ•°æ®é‡æ„çš„æ—¶æœºã€‚åºåˆ—å·åˆ™æ ¹æ®æ¯å‘å‡ºä¸€æ¬¡æŠ¥æ–‡åŠ ä¸€çš„åŸåˆ™è¿›è¡Œç´¯åŠ ã€‚RTPä½¿ç”¨è¿™ä¸ªåºåˆ—å·å¯¹åŒä¸€æ—¶é—´æˆ³çš„æ•°æ®ï¼ˆå°¤å…¶æ˜¯å¯¹äºè§†é¢‘çš„æ•°æ®ã€‚è§†é¢‘ä¸­ä¸€ä¸ªå¸§çš„æ•°æ®å¾€å¾€è¦è¶…è¿‡ä¸€ä¸ªåŒ…ï¼Œç„¶è€Œå®ƒä»¬å‘é€çš„æ—¶é—´æˆ³ä¸€è‡´ã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨åŒä¸€æ—¶é—´æˆ³å†…ä¸åŒçš„åºåˆ—å·åŠ ä»¥åŒºåˆ†ã€‚ï¼‰ è¿›è¡Œæ’åºï¼ŒæŒæ¡æ˜¯å¦æœ‰ä¸¢åŒ…çš„æƒ…å†µå‘ç”Ÿã€‚</p>\n<p>RTCPï¼ˆRTP Control Protocolï¼‰æ˜¯è¾…åŠ©RTPçš„ä¸€ç§åè®®ã€‚é€šè¿‡ä¸¢åŒ…ç‡ç­‰çº¿è·¯è´¨é‡çš„ç®¡ç†ï¼Œå¯¹RTPçš„æ•°æ®ä¼ é€ç‡è¿›è¡Œæ§åˆ¶ã€‚</p>\n<h3 id=\"TLS-SSLä¸HTTPS\"><a href=\"#TLS-SSLä¸HTTPS\" class=\"headerlink\" title=\"TLS/SSLä¸HTTPS\"></a>TLS/SSLä¸HTTPS</h3><p>å¯¹äºä¸€äº›æ¶‰åŠæœºå¯†ä¿¡æ¯çš„ç½‘ç»œè¿æ¥éœ€è¦è¿›è¡ŒåŠ å¯†å¤„ç†ï¼ŒWebä¸­å¯ä»¥é€šè¿‡TLS/SSLï¼ˆTransport Layer Security/Secure Sockets Layerã€‚ç”±ç½‘æ™¯å…¬å¸æœ€æ—©æå‡ºçš„åç§°å«SSLï¼Œæ ‡å‡†åŒ–ä»¥åè¢«ç§°ä½œTLSã€‚ä½¿ç”¨TLS/SSLçš„HTTPé€šä¿¡å«åšHTTPSé€šä¿¡ã€‚</p>\n<p>HTTPSä¸­é‡‡ç”¨å¯¹ç§°åŠ å¯†æ–¹å¼ã€‚è€Œåœ¨å‘é€å…¶å…¬å…±å¯†é’¥æ—¶é‡‡ç”¨çš„åˆ™æ˜¯å…¬é’¥åŠ å¯†æ–¹å¼ï¼ˆå¯¹ç§°åŠ å¯†è™½ç„¶é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¯†é’¥ç®¡ç†æ˜¯å·¨å¤§çš„æŒ‘æˆ˜ã€‚å…¬é’¥åŠ å¯†å¯†é’¥ç®¡ç†ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å¤„ç†é€Ÿåº¦éå¸¸æ…¢ã€‚TLS/SSLå°†ä¸¤è€…è¿›è¡Œå–é•¿è¡¥çŸ­ä»¤åŠ å¯†è¿‡ç¨‹è¾¾åˆ°äº†æå¥½çš„æ•ˆæœã€‚ç”±äºè°éƒ½å¯ä»¥å‘é€å…¬é’¥ï¼Œä½¿å¾—å¯†é’¥ç®¡ç†æ›´ä¸ºç®€å•ã€‚ï¼‰ ã€‚</p>\n<p>ç¡®è®¤å…¬é’¥æ˜¯å¦æ­£ç¡®ä¸»è¦ä½¿ç”¨è®¤è¯ä¸­å¿ƒï¼ˆCAï¼ˆCertificate Authorityï¼‰ ï¼‰ç­¾å‘çš„è¯ä¹¦ï¼Œè€Œä¸»è¦çš„è®¤è¯ä¸­å¿ƒçš„ä¿¡æ¯å·²ç»åµŒå…¥åˆ°æµè§ˆå™¨çš„å‡ºå‚è®¾ç½®ä¸­ã€‚å¦‚æœWebæµè§ˆå™¨ä¸­å°šæœªåŠ å…¥æŸä¸ªè®¤è¯ä¸­å¿ƒï¼Œé‚£ä¹ˆä¼šåœ¨é¡µé¢ä¸Šæç¤ºä¸€ä¸ªè­¦å‘Šä¿¡æ¯ã€‚æ­¤æ—¶ï¼Œåˆ¤æ–­è®¤è¯ä¸­å¿ƒåˆæ³•ä¸å¦å°±è¦ç”±ç”¨æˆ·è‡ªå·±å†³å®šäº†ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922203528.png\" alt=\"\"></p>\n<h3 id=\"IEEE802-1X\"><a href=\"#IEEE802-1X\" class=\"headerlink\" title=\"IEEE802.1X\"></a>IEEE802.1X</h3><p>IEEEï¼ˆThe Institute of Electronical and Electronics Engineersï¼Œç¾å›½ç”µå­å’Œç”µæ°”å·¥ç¨‹å¸ˆåä¼šï¼‰å§”å‘˜ä¼šä¸­ï¼Œä¾æ®ä¸åŒçš„å·¥ä½œå°ç»„åˆ¶å®šäº†å„ç§å±€åŸŸç½‘æŠ€æœ¯æ ‡å‡†ã€‚å› äº1980å¹´2æœˆå¯åŠ¨å±€åŸŸç½‘å›½é™…æ ‡å‡†åŒ–é¡¹ç›®ï¼Œæ‰€ä»¥å‘½åä¸º802ã€‚</p>\n<p>IEEE802.1Xæ˜¯ä¸ºäº†èƒ½å¤Ÿæ¥å…¥LANäº¤æ¢æœºå’Œæ— çº¿LANæ¥å…¥ç‚¹è€Œå¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯çš„æŠ€æœ¯ï¼ˆåŒ…æ‹¬æˆ‘ä»¬å¸¸ç”¨çš„WiFiï¼‰<br>å¹¶ä¸”å®ƒåªå…è®¸è¢«è®¤å¯çš„è®¾å¤‡æ‰èƒ½è®¿é—®ç½‘ç»œã€‚è™½ç„¶å®ƒæ˜¯ä¸€ä¸ªæä¾›æ•°æ®é“¾è·¯å±‚æ§åˆ¶çš„è§„èŒƒï¼Œä½†æ˜¯ä¸TCP/IPå…³ç³»ç´§å¯†ã€‚ä¸€èˆ¬ï¼Œç”±å®¢æˆ·ç«¯ç»ˆç«¯ã€APï¼ˆæ— çº¿åŸºç«™ï¼‰æˆ–2å±‚äº¤æ¢æœºä»¥åŠè®¤è¯æœåŠ¡å™¨ç»„æˆã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190922204520.png\" alt=\"\"></p>\n<h4 id=\"è“ç‰™\"><a href=\"#è“ç‰™\" class=\"headerlink\" title=\"è“ç‰™\"></a>è“ç‰™</h4><p>è“ç‰™ä¸IEEE802.11b/gç±»ä¼¼ï¼Œæ˜¯ä½¿ç”¨2.4GHzé¢‘ç‡æ— çº¿ç”µæ³¢çš„ä¸€ç§æ ‡å‡†ï¼ˆå› æ­¤ï¼Œå½“IEEE802.b/gç­‰è®¾å¤‡ä¸è“ç‰™è®¾å¤‡ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ— çº¿ç”µæ³¢ä¿¡å·å‰Šå‡æœ‰å¯èƒ½å¯¼è‡´é€šä¿¡æ€§èƒ½çš„ä¸‹é™ã€‚ï¼‰ ã€‚æ•°æ®ä¼ è¾“é€Ÿç‡åœ¨V2ä¸­èƒ½è¾¾åˆ°3Mbpsï¼ˆå®é™…æœ€å¤§ååé‡ä¸º2.1Mbpsï¼‰ã€‚é€šä¿¡è·ç¦»æ ¹æ®æ— çº¿ç”µæ³¢çš„ä¿¡å·çš„å¼ºå¼±ï¼Œæœ‰1è¯çœ‹çœ‹å§3 Bã€10è¯çœ‹çœ‹å§3 Bã€100è¯çœ‹çœ‹å§3 Bä¸‰ç§ç±»å‹ã€‚é€šä¿¡ç»ˆç«¯æœ€å¤šå…è®¸8å°è®¾å¤‡ï¼ˆå…¶ä¸­ä¸€å°ä¸ºä¸»èŠ‚ç‚¹ï¼Œå…¶ä»–1ï½7å°ä¸ºå—ç®¡èŠ‚ç‚¹ã€‚è¿™ç§ç½‘ç»œä¹Ÿå«åšpiconetï¼Œå¾®å¾®ç½‘ã€‚ï¼‰ ã€‚</p>\n<p>å¦‚æœè¯´IEEE802.11æ˜¯é’ˆå¯¹ç¬”è®°æœ¬ç”µè„‘è¿™æ ·è¾ƒå¤§çš„è®¡ç®—æœºè®¾å¤‡çš„æ ‡å‡†ï¼Œé‚£ä¹ˆè“ç‰™åˆ™æ˜¯ä¸ºæ‰‹æœºæˆ–æ™ºèƒ½æ‰‹æœºã€é”®ç›˜ã€é¼ æ ‡ç­‰è¾ƒå°è®¾å¤‡è€Œè®¾è®¡çš„æ ‡å‡†ã€‚</p>\n","categories":[],"tags":["è®¡ç®—æœºç½‘ç»œ"]},{"title":"ã€è¯‘ã€‘Swift Worldï¼šè®¾è®¡æ¨¡å¼--ä¸­ä»‹è€…æ¨¡å¼","url":"http://zhangferry.github.io/2019/08/28/design_pattern_mediator/","content":"<blockquote>\n<p>åŸæ–‡ï¼š<a href=\"https://medium.com/swiftworld/swift-world-design-patterns-mediator-e6b3c35d68b0\">https://medium.com/swiftworld/swift-world-design-patterns-mediator-e6b3c35d68b0</a><br>ä½œè€…ï¼šPeng</p>\n</blockquote>\n<p>ä»Šå¤©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹ä¸­ä»‹è€…æ¨¡å¼(Mediator)ã€‚è¿™æ¬¡ä¸ä»æŠ½è±¡å®šä¹‰å¼€å§‹ï¼Œè€Œæ˜¯ç”¨ç°å®ä¸–ç•Œä¸­çš„ä¸€ä¸ªåœºæ™¯æ¥è§£é‡Šå®ƒã€‚åœ¨ä¸€ä¸ªå›¢é˜Ÿé‡Œï¼Œæœ‰äº§å“ç»ç†ï¼Œå¼€å‘å·¥ç¨‹å¸ˆï¼Œè´¨é‡å·¥ç¨‹å¸ˆã€‚å½“å¼€å‘å®Œæˆäº†æŸäº›åŠŸèƒ½ï¼Œå°†ä»£ç æäº¤åˆ°ä»“åº“ã€‚ç›¸å…³ç¯èŠ‚äººå‘˜ï¼Œåƒè´¨é‡å·¥ç¨‹å¸ˆå’Œäº§å“ç»ç†éœ€è¦è¢«é€šçŸ¥ã€‚</p>\n<a id=\"more\"></a>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Collogue</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Developer</span>: <span class=\"title\">Collogue</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> qe: <span class=\"type\">QE</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> pm: <span class=\"type\">PM</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(qe: <span class=\"type\">QE</span>, pm: <span class=\"type\">PM</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"Developer\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.qe = qe</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.pm = pm</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        qe.receive(message: message)</span><br><span class=\"line\">        pm.receive(message: message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(message)</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">QE</span>: <span class=\"title\">Collogue</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> developer: <span class=\"type\">Developer</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> pm: <span class=\"type\">PM</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(developer: <span class=\"type\">Developer</span>, pm: <span class=\"type\">PM</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"QE\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.developer = developer</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.pm = pm</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        developer.receive(message: message)</span><br><span class=\"line\">        pm.receive(message: message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PM</span>: <span class=\"title\">Collogue</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> developer: <span class=\"type\">Developer</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> qe: <span class=\"type\">QE</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(developer: <span class=\"type\">Developer</span>, qe: <span class=\"type\">QE</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"PM\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.developer = developer</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.qe = qe</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        developer.receive(message: message)</span><br><span class=\"line\">        qe.receive(message: message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ¯ä¸ªè§’è‰²éƒ½éœ€è¦æŒæœ‰å¦ä¸€ä¸ªè§’è‰²çš„å®ä¾‹ï¼Œè¿™ç§è¿æ¥æ–¹å¼æ˜¯é«˜è€¦åˆçš„ï¼Œä¸”å¾ˆä¸å®¹æ˜“ä¿®æ”¹ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190828104157.png\" alt=\"\"></p>\n<p>ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸­ä»‹è€…å¸®åŠ©æˆ‘ä»¬ç®€åŒ–è¿™ä¸ªç³»ç»Ÿã€‚ä¸­ä»‹è€…çš„ç›®çš„æ˜¯å¸®åŠ©å¯¹è±¡ä¹‹é—´ç›¸äº’äº¤æµã€‚å®ƒè®©æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯è·Ÿè‡ªå·±è¿›è¡Œäº¤äº’è€Œä¸æ˜¯å…¶ä»–å¯¹è±¡ã€‚å½“å‰å¯¹è±¡ä¸éœ€è¦æŒæœ‰åˆ«çš„å¯¹è±¡ï¼Œè€Œæ˜¯æŒæœ‰ä¸­ä»‹è€…ã€‚è¿™æ ·å°†è§£è€¦ç³»ç»Ÿï¼Œå®ƒçš„ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190828104852.png\" alt=\"\"></p>\n<p>æˆ‘ä»¬æ¥å†™ä¸€ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Mediator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String, sender: Colleague)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TeamMediator</span>: <span class=\"title\">Mediator</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> colleagues: [<span class=\"type\">Colleague</span>] = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">register</span><span class=\"params\">(colleague: Colleague)</span></span> &#123;</span><br><span class=\"line\">        colleagues.append(colleague)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String, sender: Colleague)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> colleague <span class=\"keyword\">in</span> colleagues &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> colleague.id != sender.id &#123;</span><br><span class=\"line\">                colleague.receive(message: message)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>é€šè¿‡æŒæœ‰ä¸­ä»‹è€…ï¼Œé‚£å‡ ä¸ªè§’è‰²å¯¹è±¡å˜æˆäº†è¿™æ ·ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">protocol</span> <span class=\"title\">Colleague</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> mediator: <span class=\"type\">Mediator</span> &#123; <span class=\"keyword\">get</span> &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Developer</span>: <span class=\"title\">Colleague</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> mediator: <span class=\"type\">Mediator</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(mediator: <span class=\"type\">Mediator</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"Developer\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.mediator = mediator</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        mediator.send(message: message, sender: <span class=\"keyword\">self</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"Developer received: \"</span> + message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">QE</span>: <span class=\"title\">Colleague</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> mediator: <span class=\"type\">Mediator</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(mediator: <span class=\"type\">Mediator</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"QE\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.mediator = mediator</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        mediator.send(message: message, sender: <span class=\"keyword\">self</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"QE received: \"</span> + message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PM</span>: <span class=\"title\">Colleague</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> mediator: <span class=\"type\">Mediator</span></span><br><span class=\"line\">    <span class=\"keyword\">init</span>(mediator: <span class=\"type\">Mediator</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.id = <span class=\"string\">\"PM\"</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.mediator = mediator</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">send</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        mediator.send(message: message, sender: <span class=\"keyword\">self</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">receive</span><span class=\"params\">(message: String)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"PM received: \"</span> + message)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™æ ·ä¸€æ¥ï¼Œæ•´ä¸ªç»“æ„å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190828105301.png\" alt=\"\"></p>\n<p>è®©æˆ‘ä»¬ç”¨æ–°çš„æ–¹å¼æ¥ä½¿ç”¨å®ƒï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//usage</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> mediator = <span class=\"type\">TeamMediator</span>()</span><br><span class=\"line\"><span class=\"keyword\">let</span> qe = <span class=\"type\">QE</span>(mediator: mediator)</span><br><span class=\"line\"><span class=\"keyword\">let</span> developer = <span class=\"type\">Developer</span>(mediator: mediator)</span><br><span class=\"line\"><span class=\"keyword\">let</span> pm = <span class=\"type\">PM</span>(mediator: mediator)</span><br><span class=\"line\">mediator.register(colleague: developer)</span><br><span class=\"line\">mediator.register(colleague: qe)</span><br><span class=\"line\">mediator.register(colleague: pm)</span><br><span class=\"line\">mediator.send(message: <span class=\"string\">\"Hello world!\"</span>, sender: developer)</span><br></pre></td></tr></table></figure>\n<p>å¦ä¸€ä¸ªç›¸ä¼¼çš„ä¾‹å­å°±æ˜¯éå¸¸å—æ¬¢è¿çš„<code>Notification</code>(<code>NSNotification</code>)ã€‚ä½ å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°å¾ˆå¤šç›¸å…³çš„ä»£ç ã€‚</p>\n","categories":[],"tags":["iOS","è®¾è®¡æ¨¡å¼"]},{"title":"ã€è¯‘ã€‘è®¾è®¡æ¨¡å¼å¼•å¯¼--OOPçš„èƒ½åŠ›","url":"http://zhangferry.github.io/2019/08/20/builder_design_pattern_swift/","content":"<blockquote>\n<p><a href=\"https://medium.com/swift-india/design-patterns-by-tutorials-the-power-of-oop-2e871b551cbe\">åŸæ–‡é“¾æ¥</a><br>ä½œè€…ï¼šHitendra Solanki</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190819211318.jpeg\" alt=\"\"><br>å¯¼è¯»â€“æœ¬åšå®¢ç³»åˆ—è¦æ±‚å…·æœ‰é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸­çº§ä¸“ä¸šçŸ¥è¯†ã€‚æ‚¨åº”è¯¥å¯¹ç±»ã€å¯¹è±¡ã€æ„é€ å‡½æ•°ã€ç»§æ‰¿ã€å€¼å’Œå¼•ç”¨ç±»å‹æœ‰åŸºæœ¬çš„äº†è§£ã€‚é€šè¿‡ä»”ç»†åœ°ä»å¤´åˆ°å°¾é˜…è¯»æœ¬ç³»åˆ—æ–‡ç« ï¼Œä¸ç®¡æ˜¯ä¸­çº§è¿˜æ˜¯é«˜çº§å¼€å‘ï¼Œæ‚¨éƒ½å°†æœ‰æ‰€æ”¶è·ã€‚</p>\n<a id=\"more\"></a>\n<p>è®¾è®¡æ¨¡å¼ç”¨äºè¡¨ç¤ºç»éªŒä¸°å¯Œçš„é¢å‘å¯¹è±¡è½¯ä»¶å¼€å‘äººå‘˜ç¤¾åŒºé‡‡ç”¨çš„æœ€ä½³å®è·µã€‚</p>\n<p>å»ºé€ è€…æ¨¡å¼å¸®åŠ©æˆ‘ä»¬æ›´ç®€å•æ›´æ˜“è¯»åœ°åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ƒéµå®ˆç€ä»¥ä¸‹ä¸¤æ¡è§„åˆ™ï¼š<br>1ã€åˆ†å‰²åŸå§‹ç±»å’Œå®ƒçš„æ„é€ æ–¹æ³•<br>2ã€åœ¨æœ€åä¸€ä¸ªè¿”å›ç±»çš„å®ä¾‹</p>\n<p><strong>å»ºé€ è€…æ¨¡å¼æœ€ä½³çš„ä¾‹å­å°±æ˜¯SwiftUIï¼Œæ˜¯çš„ä½ æ²¡æœ‰çœ‹é”™ã€‚SwiftUIä¸­å¤§éƒ¨åˆ†ç±»åƒæ˜¯Textï¼ŒImageéƒ½æ˜¯ä½¿ç”¨çš„å»ºé€ è€…æ¨¡å¼ã€‚</strong></p>\n<h2 id=\"é—®é¢˜ï¼š\"><a href=\"#é—®é¢˜ï¼š\" class=\"headerlink\" title=\"é—®é¢˜ï¼š\"></a>é—®é¢˜ï¼š</h2><p>æƒ³ä¸€ä¸‹ï¼Œä¸€ä¸ª<code>Person</code>ç±»æ‹¥æœ‰ä¸å°‘äºåä¸ªå±æ€§ï¼Œå½“ä½ è¦ä½¿ç”¨å®ƒæ—¶ï¼Œä½ éœ€è¦ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚å®ƒçš„æ„é€ è€…å°†æ‹¥æœ‰ä¸å°‘äºåä¸ªå‚æ•°ï¼Œå»ç®¡ç†è¿™ä¹ˆä¸€ä¸ªå¸¦æœ‰å¾ˆå¤šå‚æ•°çš„å•ä¸€å‡½æ•°æˆ–æ„é€ æ–¹å¼å°†æ˜¯éå¸¸å›°éš¾çš„ï¼Œæœ€ç»ˆä½ ä¹Ÿä¼šè®©è¿™ç«¯ä»£ç å¤±å»å¯è¯»æ€§ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//personal details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> name: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> gender: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> birthDate: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> birthPlace: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> height: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> weight: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//contact details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> phone: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> email: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//address details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> streeAddress: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> zipCode: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> city: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//work details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> companyName: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> designation: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> annualIncome: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//constructor</span></span><br><span class=\"line\">  <span class=\"keyword\">init</span>(name: <span class=\"type\">String</span>,</span><br><span class=\"line\">       gender: <span class=\"type\">String</span>,</span><br><span class=\"line\">       birthDate: <span class=\"type\">String</span>,</span><br><span class=\"line\">       birthPlace: <span class=\"type\">String</span>,</span><br><span class=\"line\">       height: <span class=\"type\">String</span>,</span><br><span class=\"line\">       weight: <span class=\"type\">String</span>,</span><br><span class=\"line\">       phone: <span class=\"type\">String</span>,</span><br><span class=\"line\">       email: <span class=\"type\">String</span>,</span><br><span class=\"line\">       streeAddress: <span class=\"type\">String</span>,</span><br><span class=\"line\">       zipCode: <span class=\"type\">String</span>,</span><br><span class=\"line\">       city: <span class=\"type\">String</span>,</span><br><span class=\"line\">       companyName: <span class=\"type\">String</span>,</span><br><span class=\"line\">       designation: <span class=\"type\">String</span>,</span><br><span class=\"line\">       annualIncome: <span class=\"type\">String</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.name = name</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.gender = gender</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.birthDate = birthDate</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.birthPlace = birthPlace</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.height = height</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.weight = weight</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.phone = phone</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.email = email</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.streeAddress = streeAddress</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.zipCode = zipCode</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.height = height</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.city = city</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.companyName = companyName</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.designation = designation</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.annualIncome = annualIncome</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//This is function in Xcode-Playground which executes our test code</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> hitendra = <span class=\"type\">Person</span>(name: <span class=\"string\">\"Hitendra Solanki\"</span>,</span><br><span class=\"line\">                        gender: <span class=\"string\">\"Male\"</span>,</span><br><span class=\"line\">                        birthDate: <span class=\"string\">\"2nd Oct 1991\"</span>,</span><br><span class=\"line\">                        birthPlace: <span class=\"string\">\"Gujarat, India\"</span>,</span><br><span class=\"line\">                        height: <span class=\"string\">\"5.9 ft\"</span>,</span><br><span class=\"line\">                        weight: <span class=\"string\">\"85kg\"</span>,</span><br><span class=\"line\">                        phone: <span class=\"string\">\"+91 90333-71772\"</span>,</span><br><span class=\"line\">                        email: <span class=\"string\">\"hitendra.developer@gmail.com\"</span>,</span><br><span class=\"line\">                        streeAddress: <span class=\"string\">\"52nd Godrej Street\"</span>,</span><br><span class=\"line\">                        zipCode: <span class=\"string\">\"380015\"</span>,</span><br><span class=\"line\">                        city: <span class=\"string\">\"Ahmedabad\"</span>,</span><br><span class=\"line\">                        companyName: <span class=\"string\">\"Fortune 500\"</span>,</span><br><span class=\"line\">                        designation: <span class=\"string\">\"Software architect\"</span>,</span><br><span class=\"line\">                        annualIncome: <span class=\"string\">\"45,000 USD\"</span>)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//use of Person object</span></span><br><span class=\"line\">  <span class=\"built_in\">print</span>(<span class=\"string\">\"\\(hitendra.name) works in \\(hitendra.companyName) compay as a \\(hitendra.designation).\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//call main to execute our test code in Xcode-Playground</span></span><br><span class=\"line\">main()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Console output:</span></span><br><span class=\"line\"><span class=\"comment\">Hitendra Solanki works in Fortune 500 compay as a Software architect.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n<p>å°†ä¸Šé¢çš„ä¾‹å­åœ¨playgroundä¸­è¿è¡Œä¸€ä¸‹ï¼Œä½ ä¼šå¾—åˆ°é¢„æœŸç»“æœã€‚é€»è¾‘ä¸Šè¿™ä¹Ÿæ˜¯å¯¹çš„ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥å°è¯•ä¼˜åŒ–ä¸Šé¢çš„ä»£ç ï¼Œä»è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜å…¥æ‰‹ã€‚<br>1ã€æˆ‘ä»¬å¿…é¡»æŒ‰ç…§æ—¢å®šçš„é¡ºåºä¼ å‚æ•°ï¼Œè€Œä¸èƒ½é€šè¿‡é‡æ–°æ’åˆ—å‚æ•°æé«˜å¯è¯»æ€§ã€‚<br>2ã€å³ä½¿åˆ›å»ºå¯¹è±¡æ—¶æˆ‘ä»¬ä¸çŸ¥é“ä¸€äº›å±æ€§å€¼ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¾—ä¸ä¼ å…¥æ‰€æœ‰å‚æ•°ã€‚</p>\n<p>ä¾‹å¦‚ä½ éœ€è¦åˆ›å»ºä¸€ä¸ª<code>Person</code>ç±»ï¼Œä½†æ˜¯è¿™ä¸ªäººè¿˜åœ¨æ‰¾å·¥ä½œã€‚åªæœ‰å½“ä»–è¿›å…¥æŸä¸€å…¬å¸æˆ‘ä»¬æ‰èƒ½å¾—åˆ°ä»–çš„å·¥ä½œä¿¡æ¯ã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆï¼š\"><a href=\"#è§£å†³æ–¹æ¡ˆï¼š\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆï¼š\"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><p>1ã€åˆ›å»ºç›¸å…³å±æ€§çš„é€»è¾‘åˆ†ç»„ã€‚<br>2ã€ä¸ºä¸åŒåˆ†ç»„çš„å±æ€§åˆ›å»ºä¸åŒçš„å»ºé€ è€…ç±»ã€‚<br>3ã€åœ¨å»ºé€ è€…ç±»ä¸­æœ€åä¸€æ­¥è¿”å›å®ä¾‹ã€‚</p>\n<p>è®©æˆ‘ä»¬ä»ä¸Šé¢çš„ä¾‹å­å¼€å§‹ï¼Œæˆ‘ä»¬å·²ç»æ‹¥æœ‰ä¸€ä¸ª<code>Person</code>ç±»ï¼Œå®ƒå«æœ‰14ä¸ªå±æ€§ã€‚æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿè¿™14ä¸ªå±æ€§ï¼Œå¯ä»¥å°†å®ƒåˆ†ä¸ºå››ç»„ã€‚<br>1ã€ä¸ªäººä¿¡æ¯<br>2ã€è”ç³»æ–¹å¼<br>3ã€åœ°å€ä¿¡æ¯<br>4ã€å…¬å¸ä¿¡æ¯</p>\n<p>é€šè¿‡å¼ºå¤§çš„è®¾è®¡æ¨¡å¼æˆ‘ä»¬å¯ä»¥è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//This is function in playground which executes our test code</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> hitendra = <span class=\"type\">Person</span>() <span class=\"comment\">//person with empty details</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> personBuilder = <span class=\"type\">PersonBuilder</span>(person: hitendra)</span><br><span class=\"line\">  </span><br><span class=\"line\">  hitendra = personBuilder</span><br><span class=\"line\">    .personalInfo</span><br><span class=\"line\">      .nameIs(<span class=\"string\">\"Hitendra Solanki\"</span>)</span><br><span class=\"line\">      .genderIs(<span class=\"string\">\"Male\"</span>)</span><br><span class=\"line\">      .bornOn(<span class=\"string\">\"2nd Oct 1991\"</span>)</span><br><span class=\"line\">      .bornAt(<span class=\"string\">\"Gujarat, India\"</span>)</span><br><span class=\"line\">      .havingHeight(<span class=\"string\">\"5.9 ft\"</span>)</span><br><span class=\"line\">      .havingWeight(<span class=\"string\">\"85 kg\"</span>)</span><br><span class=\"line\">    .contacts</span><br><span class=\"line\">      .hasPhone(<span class=\"string\">\"+91 90333-71772\"</span>)</span><br><span class=\"line\">      .hasEmail(<span class=\"string\">\"hitendra.developer@gmail.com\"</span>)</span><br><span class=\"line\">    .lives</span><br><span class=\"line\">      .at(<span class=\"string\">\"52nd Godrej Street\"</span>)</span><br><span class=\"line\">      .inCity(<span class=\"string\">\"Ahmedabad\"</span>)</span><br><span class=\"line\">      .withZipCode(<span class=\"string\">\"380015\"</span>)</span><br><span class=\"line\">    .build()</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//use of Person object</span></span><br><span class=\"line\">  <span class=\"built_in\">print</span>(<span class=\"string\">\"\\(hitendra.name) has contact number \\(hitendra.phone) and email \\(hitendra.email)\"</span>)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//later on when we have company details ready for the person</span></span><br><span class=\"line\">  hitendra = personBuilder</span><br><span class=\"line\">    .works</span><br><span class=\"line\">      .asA(<span class=\"string\">\"Software architect\"</span>)</span><br><span class=\"line\">      .inCompany(<span class=\"string\">\"Fortune 500\"</span>)</span><br><span class=\"line\">      .hasAnnualEarning(<span class=\"string\">\"45,000 USD\"</span>)</span><br><span class=\"line\">    .build()</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//use of Person object with update info</span></span><br><span class=\"line\">  <span class=\"built_in\">print</span>(<span class=\"string\">\"\\(hitendra.name) works in \\(hitendra.companyName) compay as a \\(hitendra.designation).\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//call main to execute our test code</span></span><br><span class=\"line\">main()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Person class which only contains the details</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//personal details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> name: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> gender: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> birthDate: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> birthPlace: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> height: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> weight: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//contact details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> phone: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> email: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//address details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> streeAddress: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> zipCode: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> city: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//work details</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> companyName: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> designation: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> annualIncome: <span class=\"type\">String</span> = <span class=\"string\">\"\"</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//empty constructor</span></span><br><span class=\"line\">  <span class=\"keyword\">init</span>() &#123; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//PersonBuilder class helps to construct the person class instance</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PersonBuilder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> person: <span class=\"type\">Person</span></span><br><span class=\"line\">  <span class=\"keyword\">init</span>(person: <span class=\"type\">Person</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person = person</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//personal details builder switching</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> personalInfo: <span class=\"type\">PersonPersonalDetailsBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"type\">PersonPersonalDetailsBuilder</span>(person: <span class=\"keyword\">self</span>.person)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//contact details builder switching</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> contacts: <span class=\"type\">PersonContactDetailsBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"type\">PersonContactDetailsBuilder</span>(person: <span class=\"keyword\">self</span>.person)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//address details builder switching</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> lives: <span class=\"type\">PersonAddressDetailsBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"type\">PersonAddressDetailsBuilder</span>(person: <span class=\"keyword\">self</span>.person)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//work details builder switching</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> works: <span class=\"type\">PersonCompanyDetailsBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"type\">PersonCompanyDetailsBuilder</span>(person: <span class=\"keyword\">self</span>.person)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">build</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Person</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>.person</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//PersonPersonalDetailsBuilder: update personal details</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PersonPersonalDetailsBuilder</span>: <span class=\"title\">PersonBuilder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">nameIs</span><span class=\"params\">(<span class=\"number\">_</span> name: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.name = name</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">genderIs</span><span class=\"params\">(<span class=\"number\">_</span> gender: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.gender = gender</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">bornOn</span><span class=\"params\">(<span class=\"number\">_</span> birthDate: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.birthDate = birthDate</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">bornAt</span><span class=\"params\">(<span class=\"number\">_</span> birthPlace: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.birthPlace = birthPlace</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">havingHeight</span><span class=\"params\">(<span class=\"number\">_</span> height: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.height = height</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">havingWeight</span><span class=\"params\">(<span class=\"number\">_</span> weight: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.weight = weight</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//PersonContactDetailsBuilder: update contact details</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PersonContactDetailsBuilder</span>: <span class=\"title\">PersonBuilder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hasPhone</span><span class=\"params\">(<span class=\"number\">_</span> phone: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.phone = phone</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hasEmail</span><span class=\"params\">(<span class=\"number\">_</span> email: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.email = email</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//PersonAddressDetailsBuilder: update address details</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PersonAddressDetailsBuilder</span>: <span class=\"title\">PersonBuilder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">at</span><span class=\"params\">(<span class=\"number\">_</span> streeAddress: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.streeAddress = streeAddress</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">withZipCode</span><span class=\"params\">(<span class=\"number\">_</span> zipCode: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.zipCode = zipCode</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">inCity</span><span class=\"params\">(<span class=\"number\">_</span> city: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.city = city</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//PersonCompanyDetailsBuilder: update company details</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PersonCompanyDetailsBuilder</span>: <span class=\"title\">PersonBuilder</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">inCompany</span><span class=\"params\">(<span class=\"number\">_</span> companyName: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.companyName = companyName</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">asA</span><span class=\"params\">(<span class=\"number\">_</span> designation: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.designation = designation</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hasAnnualEarning</span><span class=\"params\">(<span class=\"number\">_</span> annualIncome: String)</span></span> -&gt; <span class=\"type\">Self</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.person.annualIncome = annualIncome</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">self</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Console output:</span></span><br><span class=\"line\"><span class=\"comment\"> </span></span><br><span class=\"line\"><span class=\"comment\"> Hitendra Solanki has contact number +91 90333-71772 and email hitendra.developer@gmail.com</span></span><br><span class=\"line\"><span class=\"comment\"> Hitendra Solanki works in Fortune 500 compay as a Software architect.</span></span><br><span class=\"line\"><span class=\"comment\"> </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠ<code>Person</code>ç±»æ ¹æ®èŒè´£åˆ†å‰²æˆäº†å‡ ä¸ªä¸åŒçš„ç±»ã€‚æˆ‘ä»¬åˆ›å»ºäº†å¤šä¸ªå»ºé€ è€…ï¼Œä»–ä»¬åˆ†åˆ«ç®¡ç†ç›¸å…³åˆ†ç»„å†…çš„å±æ€§ï¼Œè€ŒPersonåªæŒæœ‰è¿™äº›å»ºé€ è€…ã€‚</p>\n<p>æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªå»ºé€ è€…åŸºç±»<code>PersonBuilder</code>å’Œå››ä¸ªè¡ç”Ÿçš„å»ºé€ è€…ç±»ï¼Œ<code>PersonPersonalDetailsBuilder</code>, <code>PersonContactDetailsBuilder</code>, <code>PersonAddressDetailsBuilder</code> å’Œ <code>PersonCompanyDetailsBuilder</code>ã€‚</p>\n<p>å½“å…¶ä»–å››ä¸ªä»<code>Personbuilder</code>è¡ç”Ÿå‡ºæ¥çš„å»ºé€ è€…éœ€è¦æ›´æ–°ç›¸å…³å±æ€§æ—¶ï¼Œ<code>Personbuilder</code>è¿™ä¸ªåŸºç±»å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚</p>\n<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–°çš„æ„é€ æ–¹æ³•å˜å¾—æ›´åŠ æ˜“è¯»äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§æ›´åŠ ä¼˜é›…çš„æ–¹å¼æ›´æ–°ä¸€ç»„æˆ–è€…æŸä¸€ä¸ªå±æ€§ã€‚</p>\n<p>éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å†æ¯ä¸ªå»ºé€ è€…æ›´æ–°æ–¹æ³•ä¹‹åè¿”å›äº†å®ƒè‡ªå·±ã€‚è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç›¸åŒçš„å»ºé€ è€…ä¸­å†™å‡ºé“¾å¼æ–¹æ³•ï¼Œè€Œä¸æ˜¯åˆ†å¼€çš„å¤šè¡Œã€‚è¿™ä¸ªæ¦‚å¿µç§°ä¸ºæµç¨‹æ¨¡å¼ã€‚</p>\n<h2 id=\"ä¼˜ç‚¹\"><a href=\"#ä¼˜ç‚¹\" class=\"headerlink\" title=\"ä¼˜ç‚¹\"></a>ä¼˜ç‚¹</h2><p>1ã€ç”¨ä¸€ç§ä¼˜é›…çš„æ–¹å¼å¾ˆå®¹æ˜“åœ°åˆå§‹åŒ–ä¸€ä¸ªå«å¾ˆå¤šå‚æ•°çš„ç±»ã€‚<br>2ã€éµä»å•ä¸€èŒè´£åŸåˆ™ã€‚<br>3ã€æ ¹æ®ä½ çš„æƒ…å†µï¼Œä»¥ä»»æ„çš„é¡ºåºåˆå§‹åŒ–å¯¹è±¡å’Œæ›´æ–°å±æ€§ã€‚</p>\n","categories":[],"tags":["è®¾è®¡æ¨¡å¼"]},{"title":"iOSå›½é™…åŒ–åŠæœ¬åœ°åŒ–ï¼ˆä¸€ï¼‰ä¸åŒè¯­è¨€çš„å·®å¼‚å¤„ç†åŠæµ‹è¯•","url":"http://zhangferry.github.io/2019/08/19/localization_guide/","content":"<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190819180049.png\" alt=\"\"></p>\n<h2 id=\"å›½é™…åŒ–åŠæœ¬åœ°åŒ–æ¦‚å¿µ\"><a href=\"#å›½é™…åŒ–åŠæœ¬åœ°åŒ–æ¦‚å¿µ\" class=\"headerlink\" title=\"å›½é™…åŒ–åŠæœ¬åœ°åŒ–æ¦‚å¿µ\"></a>å›½é™…åŒ–åŠæœ¬åœ°åŒ–æ¦‚å¿µ</h2><p>å°†æ ‡é¢˜å–åä¸ºå›½é™…åŒ–åŠæœ¬åœ°åŒ–ï¼ˆinternationalization and localizationï¼‰ï¼Œæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯æœ‰å·®å¼‚çš„ï¼Œè€Œè¿™ä¸ªå·®å¼‚å¸¸å¸¸è¢«æˆ‘ä»¬å¿½ç•¥ï¼Œä»¥ä¸‹æ˜¯ç»´åŸºç™¾ç§‘çš„è§£é‡Šï¼š</p>\n<a id=\"more\"></a>\n<blockquote>\n<p>å›½é™…åŒ–æ˜¯æŒ‡åœ¨è®¾è®¡è½¯ä»¶ï¼Œå°†è½¯ä»¶ä¸ç‰¹å®šè¯­è¨€åŠåœ°åŒºè„±é’©çš„è¿‡ç¨‹ã€‚å½“è½¯ä»¶è¢«ç§»æ¤åˆ°ä¸åŒçš„è¯­è¨€åŠåœ°åŒºæ—¶ï¼Œè½¯ä»¶æœ¬èº«ä¸ç”¨åšå†…éƒ¨å·¥ç¨‹ä¸Šçš„æ”¹å˜æˆ–ä¿®æ­£ã€‚æœ¬åœ°åŒ–åˆ™æ˜¯æŒ‡å½“ç§»æ¤è½¯ä»¶æ—¶ï¼ŒåŠ ä¸Šä¸ç‰¹å®šåŒºåŸŸè®¾ç½®æœ‰å…³çš„ä¿¡æ¯å’Œç¿»è¯‘æ–‡ä»¶çš„è¿‡ç¨‹ã€‚</p>\n<p>å›½é™…åŒ–å’Œæœ¬åœ°åŒ–ä¹‹é—´çš„åŒºåˆ«è™½ç„¶å¾®å¦™ï¼Œä½†å´å¾ˆé‡è¦ã€‚å›½é™…åŒ–æ„å‘³ç€äº§å“æœ‰é€‚ç”¨äºä»»ä½•åœ°æ–¹çš„â€œæ½œåŠ›â€ï¼›æœ¬åœ°åŒ–åˆ™æ˜¯ä¸ºäº†æ›´é€‚åˆäºâ€œç‰¹å®šâ€åœ°æ–¹çš„ä½¿ç”¨ï¼Œè€Œå¦å¤–å¢æ·»çš„ç‰¹è‰²ã€‚ç”¨ä¸€é¡¹äº§å“æ¥è¯´ï¼Œå›½é™…åŒ–åªéœ€åšä¸€æ¬¡ï¼Œä½†æœ¬åœ°åŒ–åˆ™è¦é’ˆå¯¹ä¸åŒçš„åŒºåŸŸå„åšä¸€æ¬¡ã€‚è¿™ä¸¤è€…ä¹‹é—´æ˜¯äº’è¡¥çš„ï¼Œå¹¶ä¸”ä¸¤è€…åˆèµ·æ¥æ‰èƒ½è®©ä¸€ä¸ªç³»ç»Ÿé€‚ç”¨äºå„åœ°ã€‚</p>\n</blockquote>\n<p>æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¹Ÿä¼šç”¨å›½é™…åŒ–æˆ–è€…å…¨çƒåŒ–ä»£æ›¿è¿™ä¸¤è€…å«ä¹‰ã€‚</p>\n<p>ä½œä¸ºä¸€æ¬¾ä¼˜ç§€çš„äº§å“æˆ‘ä»¬åšå¤šè¯­è¨€ç‰ˆæœ¬æ—¶ä¸åº”ä»…ä»…è€ƒè™‘åˆ°ç¿»è¯‘è¿™ä¸€å±‚é¢ï¼Œè¿˜æœ‰æ›´å¤šæœ¬åœ°åŒ–ç›¸å…³å†…å®¹éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¶‰åŠçš„ä¹Ÿæ˜¯æœ¬åœ°åŒ–è¿™ä¸€å—ã€‚</p>\n<h2 id=\"å›½é™…åŒ–å·¥ä½œæµç¨‹\"><a href=\"#å›½é™…åŒ–å·¥ä½œæµç¨‹\" class=\"headerlink\" title=\"å›½é™…åŒ–å·¥ä½œæµç¨‹\"></a>å›½é™…åŒ–å·¥ä½œæµç¨‹</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190815094524.png\" alt=\"\"></p>\n<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Internationalizeå’ŒTestè¿™ä¸¤æ­¥ã€‚</p>\n<p>æœ¬æ–‡ç›®å½•ä¸ºï¼š</p>\n<blockquote>\n<p>1.å¢åŠ å¤šè¯­è¨€</p>\n<p>2.UIå…ƒç´ çš„æœ¬åœ°åŒ–</p>\n<p>3.èµ„æºæ–‡ä»¶æœ¬åœ°åŒ–</p>\n<p>4.å­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–</p>\n<p>5.ä½¿ç”¨NSLocalè¿›è¡Œæœ¬åœ°åŒ–</p>\n<p>6.ä»å³åˆ°å·¦è¯­è¨€çš„å¤„ç†</p>\n<p>7.æœ¬åœ°åŒ–æµ‹è¯•</p>\n</blockquote>\n<h2 id=\"å¢åŠ å¤šè¯­è¨€\"><a href=\"#å¢åŠ å¤šè¯­è¨€\" class=\"headerlink\" title=\"å¢åŠ å¤šè¯­è¨€\"></a>å¢åŠ å¤šè¯­è¨€</h2><p>1ã€åœ¨é¡¹ç›®å¯¼èˆªæ é€‰æ‹©é¡¹ç›®ï¼ˆä¸æ˜¯targetï¼‰</p>\n<p>2ã€åœ¨Localizationsä¸€æ ï¼Œç‚¹å‡»â€œ+â€å·ï¼Œæ·»åŠ è¯­è¨€<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813162840.png\" alt=\"\"><br>æ¯ä¸ªæ¡ç›®éƒ½æ˜¯ç”±è¯­è¨€åç§°å’Œè¯­è¨€idæ„æˆï¼Œä¾‹å¦‚<code>Chinese(Simplified)(zh-Hans)</code>, <code>Japanese(ja)</code><br>è‡³æ­¤æˆ‘ä»¬çš„é¡¹ç›®å°±å¼€å¯äº†å¯¹åº”è¯­è¨€çš„æœ¬åœ°åŒ–æ”¯æŒã€‚</p>\n<p>3ã€åœ¨å¯¹è¯æ¡†ä¸­é€‰ä¸­ä½ æƒ³æœ¬åœ°åŒ–çš„æ–‡ä»¶ã€‚</p>\n<h3 id=\"è¯­è¨€å’ŒåŒºåŸŸçš„å½±å“\"><a href=\"#è¯­è¨€å’ŒåŒºåŸŸçš„å½±å“\" class=\"headerlink\" title=\"è¯­è¨€å’ŒåŒºåŸŸçš„å½±å“\"></a>è¯­è¨€å’ŒåŒºåŸŸçš„å½±å“</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813164121.png\" alt=\"\"><br>é€šè¿‡è§‚å¯Ÿç³»ç»Ÿæ—¥å†ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä½¿è¯­è¨€ä¸€æ ·ï¼Œå›½å®¶åŒºåŸŸçš„ä¸ä¸€è‡´ä¹Ÿä¼šæœ‰ä¸€äº›çº¦å®šä¸Šçš„åŒºåˆ«ï¼Œå…³äºæ—¥æœŸå’Œæ—¶é—´çš„æœ¬åœ°åŒ–ä¼šåœ¨ä¸‹é¢ä»‹ç»ã€‚</p>\n<p>1ã€è¯­è¨€è®¾ç½®ï¼šSetting -&gt; General -&gt; Language &amp; Region<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813164521.png\" alt=\"\"><br>åŒæ ·çš„ï¼Œå…³äºRegionå’ŒCalendarçš„è®¾ç½®ä¹Ÿåœ¨è¯¥é¡µé¢ã€‚</p>\n<h2 id=\"èµ„æºæ–‡ä»¶çš„æœ¬åœ°åŒ–\"><a href=\"#èµ„æºæ–‡ä»¶çš„æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"èµ„æºæ–‡ä»¶çš„æœ¬åœ°åŒ–\"></a>èµ„æºæ–‡ä»¶çš„æœ¬åœ°åŒ–</h2><h3 id=\"storyboard-xibæ–‡ä»¶\"><a href=\"#storyboard-xibæ–‡ä»¶\" class=\"headerlink\" title=\"storyboard, xibæ–‡ä»¶\"></a>storyboard, xibæ–‡ä»¶</h3><p>å¯¹äº<code>sotryboard</code>å’Œ<code>xib</code>æ–‡ä»¶çš„æœ¬åœ°åŒ–æ˜¯Xcodeç›´æ¥æ”¯æŒçš„ã€‚<br>åœ¨æ·»åŠ è¯­è¨€æ—¶ä¼šæç¤ºæˆ‘ä»¬è‡ªåŠ¨é€‰æ‹©åˆ›å»ºæœ¬åœ°åŒ–æ–‡ä»¶ï¼Œå¦‚æœæ˜¯åœ¨æ·»åŠ è¯­è¨€ä¹‹ååˆ›å»ºçš„IBæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡xcodeå³ä¾§å±æ€§æ ä¸­ç‚¹å‡»<code>Localize...</code>ç”Ÿæˆæœ¬åœ°åŒ–æ–‡ä»¶ã€‚</p>\n<h3 id=\"å›¾ç‰‡æ–‡ä»¶\"><a href=\"#å›¾ç‰‡æ–‡ä»¶\" class=\"headerlink\" title=\"å›¾ç‰‡æ–‡ä»¶\"></a>å›¾ç‰‡æ–‡ä»¶</h3><p><strong>1ã€æ–¹æ³•ä¸€</strong><br>å¯¹äºå›¾ç‰‡å†…å®¹æˆ‘ä»¬å¯ä»¥é€šè¿‡åŒIBæ–‡ä»¶çš„æ–¹å¼è¿›è¡Œæœ¬åœ°åŒ–ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé™åˆ¶å°±æ˜¯å›¾ç‰‡è¦æ˜¯æ”¾åˆ°é¡¹ç›®æ–‡ä»¶å±‚çº§çš„ï¼Œè€Œä¸èƒ½æ”¾åˆ°Assetsæ–‡ä»¶å¤¹ä¸­ã€‚<br>å¥½æ¶ˆæ¯æ˜¯Xcode 11å°†æ”¾å¼€è¿™ç§é™åˆ¶ï¼Œå¯¹äºAssetså¼•å…¥çš„å›¾ç‰‡ä¹Ÿå¯ä»¥åšæœ¬åœ°åŒ–å¤„ç†ã€‚</p>\n<p><strong>2ã€æ–¹æ³•äºŒ</strong><br>é™¤äº†Xcodeæœ¬èº«æ”¯æŒçš„æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å‘½åæ¥åŒºåˆ†å›¾ç‰‡å†…å®¹ï¼ŒæŠŠå›¾ç‰‡åå½“åšéœ€è¦æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ï¼Œå„ä¸ªè¯­è¨€å¯¹åº”ä¸åŒç‰ˆæœ¬çš„å›¾ç‰‡åï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å®ç°å›¾ç‰‡æ–‡ä»¶çš„æœ¬åœ°åŒ–ã€‚</p>\n<h3 id=\"éŸ³è§†é¢‘åŠå…¶ä»–èµ„æºæ–‡ä»¶\"><a href=\"#éŸ³è§†é¢‘åŠå…¶ä»–èµ„æºæ–‡ä»¶\" class=\"headerlink\" title=\"éŸ³è§†é¢‘åŠå…¶ä»–èµ„æºæ–‡ä»¶\"></a>éŸ³è§†é¢‘åŠå…¶ä»–èµ„æºæ–‡ä»¶</h3><p>å¦‚æœæ˜¯å†…ç½®çš„åƒæ˜¯éŸ³è§†é¢‘ï¼Œjsonæˆ–è€…å…¶ä»–ç±»å‹çš„é…ç½®æ–‡ä»¶è¿™ç±»å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨å›¾ç‰‡æ–‡ä»¶çš„æ–¹æ³•äºŒè¿›è¡Œå¼•å…¥ã€‚</p>\n<p>æ›´å¤šè¯¦ç»†çš„è®¾ç½®å¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡ç« ï¼š<a href=\"https://juejin.im/post/5b90ea53e51d450ea131ef81\">iOSè¯­è¨€å›½é™…åŒ–/æœ¬åœ°åŒ–-å®è·µæ€»ç»“</a></p>\n<h2 id=\"UIå…ƒç´ çš„æœ¬åœ°åŒ–\"><a href=\"#UIå…ƒç´ çš„æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"UIå…ƒç´ çš„æœ¬åœ°åŒ–\"></a>UIå…ƒç´ çš„æœ¬åœ°åŒ–</h2><h3 id=\"ä½¿ç”¨Auto-layout\"><a href=\"#ä½¿ç”¨Auto-layout\" class=\"headerlink\" title=\"ä½¿ç”¨Auto layout\"></a>ä½¿ç”¨Auto layout</h3><p><code>Auto layout</code>æ˜¯ç›¸å¯¹å¸ƒå±€ï¼Œå®ƒæœ‰èƒ½åŠ›åœ¨è¯­è¨€å’ŒåŒºåŸŸå˜åŒ–æ—¶è¿›è¡Œè‡ªé€‚åº”ã€‚ä»¥ä¸‹æœ‰å‡ ç‚¹ä½¿ç”¨auto layoutçš„æŠ€å·§ï¼š</p>\n<p><strong>1ã€ç§»é™¤å®½åº¦çš„çº¦æŸ</strong><br>ç›¸åŒå«ä¹‰ä¸‹ä¸åŒè¯­è¨€å®½åº¦å¾€å¾€ä¸ä¸€æ ·ï¼Œåº”è¯¥è®©æ§ä»¶èƒ½å¤Ÿè‡ªé€‚åº”ã€‚</p>\n<p><strong>2ã€ä½¿ç”¨å†…å®¹å†…éƒ¨å¤§å°</strong><br>fieldså’Œlabelé»˜è®¤æ˜¯è‡ªåŠ¨è°ƒæ•´å¤§å°çš„ï¼Œå¦‚æœä¸€ä¸ªæ˜¾ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è§†å›¾éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œé€‰æ‹©è¯¥viewï¼Œé€‰æ‹©<code>Editor &gt; Size To Fit Content</code></p>\n<p><strong>3ã€ä½¿ç”¨<code>leading</code>å’Œ<code>trailing</code>å±æ€§</strong><br>æ­£å¸¸<code>leading</code>å’Œ<code>trailing</code>å¯¹åº”<code>left</code>å’Œ<code>right</code>ï¼Œä»–ä»¬å«ä¹‰ç›¸åŒã€‚ä½†æ˜¯æœ‰äº›å›½å®¶ï¼Œåƒæ˜¯å¸Œä¼¯æ¥å’Œé˜¿æ‹‰ä¼¯çš„äººä½¿ç”¨ä¹ æƒ¯æ˜¯ä»å³å¾€å·¦ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨<code>leading</code>å’Œ<code>trailing</code>ï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹å°†è‡ªåŠ¨å¯¹åº”<code>right</code>å’Œ<code>left</code>ã€‚</p>\n<p><strong>4ã€å°†è§†å›¾å›ºå®šåˆ°ç›¸é‚»è§†å›¾</strong><br>å°±æ˜¯å®šä¹‰ç›¸é‚»çº¦æŸï¼Œé¿å…æŸä¸€è§†å›¾å˜åŒ–å¯¼è‡´é‡å ã€‚</p>\n<h3 id=\"ä½¿ç”¨ä¼ªæœ¬åœ°åŒ–å‘ç°é—®é¢˜\"><a href=\"#ä½¿ç”¨ä¼ªæœ¬åœ°åŒ–å‘ç°é—®é¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨ä¼ªæœ¬åœ°åŒ–å‘ç°é—®é¢˜\"></a>ä½¿ç”¨ä¼ªæœ¬åœ°åŒ–å‘ç°é—®é¢˜</h3><p>è¿™ä¸ªåŠŸèƒ½åªæ”¯æŒä½¿ç”¨<code>storyboard</code>å’Œ<code>xib</code>è¿›è¡Œå¸ƒå±€çš„UIã€‚<br>1ã€é€‰ä¸­éœ€è¦æµ‹è¯•çš„.storyboardæˆ–è€….xibæ–‡ä»¶<br>2ã€é€‰æ‹©èœå•æ  View &gt; Assistant Editor &gt; Show Assistant Editor<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813174244.png\" alt=\"\"></p>\n<h2 id=\"å­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–\"><a href=\"#å­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–\"></a>å­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–</h2><h3 id=\"ä½¿ç”¨Unicodeå­—ç¬¦ä¸²\"><a href=\"#ä½¿ç”¨Unicodeå­—ç¬¦ä¸²\" class=\"headerlink\" title=\"ä½¿ç”¨Unicodeå­—ç¬¦ä¸²\"></a>ä½¿ç”¨Unicodeå­—ç¬¦ä¸²</h3><p>å¯¹äºæ‰€æœ‰é¢å‘ç”¨æˆ·çš„å­—ç¬¦ä¸²éƒ½è¦ä½¿ç”¨<code>NSString, NSAttributedString</code>ï¼Œå¯¹äºSwiftå°±æ˜¯<code>String, AttributedString</code>ï¼Œå› ä¸ºä»–ä»¬æ”¯æŒUnicodeï¼ŒUnicodeæ˜¯ä¸–ç•Œä¸Šæ‰€æœ‰ä¹¦å†™ç³»ç»Ÿçš„å­—ç¬¦ç¼–ç æ ‡å‡†ã€‚</p>\n<p>å¯¹äºä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦ä¸²éœ€æ±‚ï¼š<br><strong>1ã€è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦</strong><br>ä½¿ç”¨NSStringä¸­çš„<code>rangeOfComposedCharacterSequenceAtIndex:</code>å’Œ <code>rangeOfComposedCharacterSequencesForRange:</code>æ–¹æ³•ï¼Œä»–ä»¬ä¼šç¡®ä¿ä½ åœ¨å–å­—ç¬¦ä¸²æ—¶ä¸ä¼šç ´ååŸæ–‡æœ¬ã€‚çœ‹ä¸€ä¸ªä¾‹å­ä½ å¯èƒ½ä¼šæ˜ç™½ï¼š</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813174801.png\" alt=\"\"><br>è¿™ä¸¤ä¸ªæ–‡å­—æ— è®ºæ˜¯åœ¨UTF-16è¿˜æ˜¯UTF-32ç¼–ç çš„æƒ…å†µä¸‹éƒ½æ˜¯ä¸åŒçš„é•¿åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½é€šè¿‡é•¿åº¦è€Œè¦é€šè¿‡ä»¥ä¸Šçš„ä¸¤ç§æ–¹å¼å–ç›®æ ‡å­—ç¬¦ä¸²ã€‚</p>\n<p><strong>2ã€éå†å­—ç¬¦ä¸²</strong></p>\n<p>å¦‚æœæˆ‘ä»¬è¦éå†å±•ç¤ºä¸‹é¢çš„å­—ç¬¦ä¸²ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813175200.png\" alt=\"\"><br>å¯ä»¥é€šè¿‡<code>enumerateSubstringsInRange:options:usingBlock:</code>æ–¹æ³•ï¼Œå…¶ä¸­optionså‚æ•°å¦‚æœä¼ é€’<code>NSStringEnumerationByComposedCharacterSequences</code>å°†ä¼šæŒ‰ç…§æœ€å°å­—ç¬¦è¿›è¡Œéå†ï¼Œå¦‚æœé€‰ç”¨<code>NSStringEnumerationByWords</code>å°†ä¼šæŒ‰ç…§è¯è¯­è¿›è¡Œéå†ã€‚<br>ä»¥ä¸Šä¾‹å­ä½¿ç”¨è¯¥å€¼éå†çš„ç»“æœæ˜¯ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190813175638.png\" alt=\"\"></p>\n<p>æ›´å¤šå…³äºå­—ç¬¦ä¸²ç›¸å…³çš„æœ¬åœ°åŒ–é—®é¢˜å¯ä»¥å‚ç…§è¯¥æ¡è§†é¢‘ï¼š<br><a href=\"https://developer.apple.com/videos/play/wwdc2013/219/\">WWDC 2013 Making Your App World-Ready\n</a></p>\n<p><strong>3ã€å…³äºäººåï¼Œé‚®å¯„åœ°å€ï¼Œç”µè¯å·ç çš„æ£€æµ‹</strong><br>å› ä¸ºä¸åŒå›½å®¶å¯¹äºäººåå’Œç”µè¯å·ç çš„è§„åˆ™å·®åˆ«è¾ƒå¤§ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹ä¸åŒå›½å®¶å†™æ­£åˆ™è¿›è¡Œæ£€æµ‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‹¹æœæä¾›çš„ä¸€ä¸ªç‰¹æ®Šå«ä¹‰å­—ç¬¦çš„æ£€æµ‹ç±»ï¼š<a href=\"https://developer.apple.com/documentation/foundation/nsdatadetector\">NSDataDetector</a></p>\n<p>æ”¯æŒæ£€æµ‹çš„ç±»å‹åŒ…æ‹¬æ—¥æœŸï¼Œåœ°å€ï¼Œé“¾æ¥ï¼Œæ‰‹æœºå·ï¼Œäº¤é€šä¿¡æ¯ã€‚</p>\n<h3 id=\"è·å–å½“å‰è¯­è¨€\"><a href=\"#è·å–å½“å‰è¯­è¨€\" class=\"headerlink\" title=\"è·å–å½“å‰è¯­è¨€\"></a>è·å–å½“å‰è¯­è¨€</h3><p>å°†è¯­è¨€è®¾ç½®ä¸ºEnglish(United Kingdom)ï¼ŒåŒºåŸŸè®¾ç½®æˆUnited Statesï¼Œé€šè¿‡ä»¥ä¸‹APIè·å–åˆ°ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//en</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *languageID = [[<span class=\"built_in\">NSBundle</span> mainBundle] preferredLocalizations].firstObject;</span><br></pre></td></tr></table></figure>\n<p>ä¸€èˆ¬è·å–è¯­è¨€æ‰€ç”¨çš„æ–¹å¼æ˜¯é€šè¿‡Bundleä¹Ÿå°±æ˜¯ç¬¬ä¸€ç§æ–¹å¼ã€‚</p>\n<h2 id=\"ä½¿ç”¨NSLocalè¿›è¡Œæœ¬åœ°åŒ–\"><a href=\"#ä½¿ç”¨NSLocalè¿›è¡Œæœ¬åœ°åŒ–\" class=\"headerlink\" title=\"ä½¿ç”¨NSLocalè¿›è¡Œæœ¬åœ°åŒ–\"></a>ä½¿ç”¨NSLocalè¿›è¡Œæœ¬åœ°åŒ–</h2><p>NSLocaleå¯¹è±¡å°è£…å…³äºç‰¹å®šåŒºåŸŸæ ¼å¼åŒ–æ ‡å‡†çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ—¥æœŸï¼Œæ—¶é—´ï¼Œæµ‹é‡ï¼Œæ•°å­—ï¼Œè´§å¸ç­‰ä¸€ç³»åˆ—å†…å®¹ã€‚</p>\n<p>å°†è¯­è¨€è®¾ç½®ä¸ºEnglish(United Kingdom)ï¼ŒåŒºåŸŸè®¾ç½®æˆUnited Statesï¼Œé€šè¿‡ä»¥ä¸‹APIè·å–åˆ°ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//en-GB_US</span></span><br><span class=\"line\">[<span class=\"built_in\">NSLocale</span> currentLocale].localeIdentifier;</span><br><span class=\"line\"><span class=\"comment\">//en</span></span><br><span class=\"line\">[<span class=\"built_in\">NSLocale</span> currentLocale].languageCode;</span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­languageCodeè·Ÿé€šè¿‡Bundleè·å–åˆ°çš„æ˜¯ä¸€æ ·çš„ã€‚</p>\n<p>å…¶ä¸­localIdentifierè¡¨ç¤ºä¸º<code>en-GB_US</code>ï¼Œå¯¹åº”ä¸ºï¼š<code>è¯­è¨€id-å›½å®¶id_åŒºåŸŸç </code>ï¼Œè¿™å‡ ä¸ªå†…å®¹éƒ½å¯ä»¥é€šè¿‡NSLocalå¯¹è±¡å–åˆ°ã€‚</p>\n<h3 id=\"è·å–ç‰¹å®šè¯­è¨€çš„å¼•å·\"><a href=\"#è·å–ç‰¹å®šè¯­è¨€çš„å¼•å·\" class=\"headerlink\" title=\"è·å–ç‰¹å®šè¯­è¨€çš„å¼•å·\"></a>è·å–ç‰¹å®šè¯­è¨€çš„å¼•å·</h3><p>å› ä¸ºæ¯ç§è¯­è¨€å¯¹äºå¼•å·çš„ä½¿ç”¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡NSLocalè·å–åˆ°å¼•å·</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.Get the language that the app is using.</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *languageID = [[<span class=\"built_in\">NSBundle</span> mainBundle] preferredLocalizations].firstObject;</span><br><span class=\"line\"><span class=\"comment\">//2.Get the associated locale object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSLocale</span> *locale = [<span class=\"built_in\">NSLocale</span> localeWithLocaleIdentifier:languageID];</span><br><span class=\"line\"><span class=\"comment\">//3.Get the beginning and ending symbols for quotes from the locale object.</span></span><br><span class=\"line\">bQuote = [locale objectForKey:<span class=\"built_in\">NSLocaleQuotationBeginDelimiterKey</span>];</span><br><span class=\"line\">eQuote = [locale objectForKey:<span class=\"built_in\">NSLocaleQuotationEndDelimiterKey</span>];</span><br><span class=\"line\"><span class=\"comment\">//4.Format a string using the locale-sensitive quotes.</span></span><br><span class=\"line\">quotedString = [<span class=\"built_in\">NSString</span> stringWithFormat:<span class=\"string\">@\"%@%@%@\"</span>, bQuote, myText, eQuote];</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹å±•ç¤ºäº†ä¸åŒåŒºåŸŸå¯¹äº<code>myText</code>ä¸º<code>@&quot;iPhone&quot;</code>æ—¶çš„å­—ç¬¦ä¸²æ•ˆæœã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814110652.png\" alt=\"\"></p>\n<h3 id=\"å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–\"><a href=\"#å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–\"></a>å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–</h3><p>1ã€åˆ›å»ºæ ¼å¼åŒ–å­—ç¬¦ä¸²<br>åº”è¯¥ä½¿ç”¨<code>localizedStringWithFormat:</code>è€Œä¸æ˜¯<code>stringWithFormat:</code>ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSString</span> *localizedString = [<span class=\"built_in\">NSString</span> localizedStringWithFormat:<span class=\"string\">@\"%3.2f\"</span>, myNumber];</span><br></pre></td></tr></table></figure>\n<p>æ­¤æ–¹æ³•ä¼šæ ¹æ®ç³»ç»ŸLocalè¿›è¡Œæ˜¾ç¤ºã€‚</p>\n<h3 id=\"æ—¥æœŸæ—¶é—´æœ¬åœ°åŒ–\"><a href=\"#æ—¥æœŸæ—¶é—´æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"æ—¥æœŸæ—¶é—´æœ¬åœ°åŒ–\"></a>æ—¥æœŸæ—¶é—´æœ¬åœ°åŒ–</h3><p>2ã€æ—¥æœŸå’Œæ—¶é—´è½¬å­—ç¬¦ä¸²<br>ä½¿ç”¨<code>NSDateFormatter</code>è¡¨ç¤º<code>NSDate</code>å¯¹è±¡ã€‚æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼š<code>localizedStringFromDate:dateStyle:timeStyle:</code>ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//14 Aug 2019 at 11:19</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *localizedDateTime = [<span class=\"built_in\">NSDateFormatter</span> localizedStringFromDate:[<span class=\"built_in\">NSDate</span> date] dateStyle:<span class=\"built_in\">NSDateFormatterMediumStyle</span> timeStyle:<span class=\"built_in\">NSDateFormatterShortStyle</span>];</span><br></pre></td></tr></table></figure>\n<p>ä¸‹è¡¨å±•ç¤ºäº†è¯­è¨€ä¸ºè‹±è¯­ï¼ŒåŒºåŸŸæ˜¯ç¾å›½æ—¶çš„æ—¥æœŸå’Œæ—¶é—´æ ¼å¼ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814112216.png\" alt=\"\"><br>ä¸‹è¡¨å±•ç¤ºäº†<code>dateStyle</code>ä¸º<code>NSDateFormatterMediumStyle</code>ï¼Œ<code>timeStyle</code>ä¸º<code>NSDateFormatterShortStyle</code>åœ¨ä¸åŒè¯­è¨€å’Œåœ°åŒºæ—¶çš„è¡¨ç°å½¢å¼ï¼š</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814113048.png\" alt=\"\"><br>3ã€ä½¿ç”¨è‡ªå®šä¹‰æ—¥æœŸå’Œæ—¶é—´æ ¼å¼</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.Create an NSDateFormatter object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSDateFormatter</span> *dateFormatter = [<span class=\"built_in\">NSDateFormatter</span> new];</span><br><span class=\"line\"><span class=\"comment\">//2.get a localized format string from a template that you provide.</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *localeFormatString = [<span class=\"built_in\">NSDateFormatter</span> dateFormatFromTemplate:<span class=\"string\">@\"MMM d\"</span> options:<span class=\"number\">0</span> locale:dateFormatter.locale];</span><br><span class=\"line\"><span class=\"comment\">//3.Set the format of the NSDateFormatter instance to the locale-sensitive format string.</span></span><br><span class=\"line\">dateFormatter.dateFormat = localeFormatString;</span><br><span class=\"line\"><span class=\"comment\">//4.Use the stringFromDate: method to get a localized string representation of the date.</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *localizedString = [dateFormatter stringFromDate:[<span class=\"built_in\">NSDate</span> date]];</span><br></pre></td></tr></table></figure>\n<p>åœ¨ä¸åŒè¯­è¨€å’ŒåŒºåŸŸä¸‹<code>localizedString</code>å¯¹åº”çš„å†…å®¹ä¸ºï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814113008.png\" alt=\"\"></p>\n<p>3ã€è§£ææ—¥æœŸå­—ç¬¦ä¸²</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.Create a date formatter object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSDateFormatter</span> *dateFormatter = [<span class=\"built_in\">NSDateFormatter</span> new];</span><br><span class=\"line\"><span class=\"comment\">//2.Set the formatterâ€™s style to a preset style.</span></span><br><span class=\"line\">dateFormatter.dateStyle = <span class=\"built_in\">NSDateFormatterMediumStyle</span>;</span><br><span class=\"line\"><span class=\"comment\">//3.If the input string is not expected to contain a time, set the time style to none.</span></span><br><span class=\"line\">dateFormatter.timeStyle = <span class=\"built_in\">NSDateFormatterNoStyle</span>;</span><br><span class=\"line\"><span class=\"comment\">//4.Set the leniency to YES (enables the heuristics).</span></span><br><span class=\"line\">dateFormatter.lenient = <span class=\"literal\">YES</span>;</span><br><span class=\"line\"><span class=\"comment\">//5.Convert the string to a date object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSDate</span> *date = [dateFormatter dateFromString:inputString];</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯<code>9/3/14</code>ï¼ŒdateStyleè®¾ä¸º<code>NSDateFormatterShortStyle</code>ï¼Œå¦‚æœåŒºåŸŸä¸ºç¾å›½ï¼Œæˆ‘ä»¬å¾—åˆ°çš„NSDateä¿¡æ¯ä¸ºï¼š<code>2014-09-03 07:00:00 +0000</code>ï¼Œå¦‚æœåŒºåŸŸä¸ºå¾·å›½ï¼Œæˆ‘ä»¬å°†å¾—åˆ°<code>2014-03-09 08:00:00 +0000</code>ã€‚</p>\n<h3 id=\"æ•°å­—æœ¬åœ°åŒ–\"><a href=\"#æ•°å­—æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"æ•°å­—æœ¬åœ°åŒ–\"></a>æ•°å­—æœ¬åœ°åŒ–</h3><p>æœ¬åœ°åŒ–è®¾ç½®ä¼šå½±å“å°æ•°ç‚¹ç¬¦å·ï¼Œåƒåˆ†ç¬¦ï¼Œè´§å¸ç¬¦ç­‰å†…å®¹ï¼Œæ¯”å¦‚æ•°å­—<code>1,234.56</code>åœ¨æ„å¤§åˆ©åº”è¯¥è¡¨ç¤ºä¸º<code>1.234,56</code>ï¼Œæ‰€ä»¥å¯¹äºæ•°å­—çš„æ ¼å¼åŒ–æˆ‘ä»¬åº”è¯¥ç”¨<code>NSNumberFormatter</code>å¤„ç†ã€‚<br><strong>æ³¨æ„ï¼šNSNumberFormatterä¸æ˜¯ç°æˆå®‰å…¨çš„</strong><br>1ã€å°†Numberè½¬æˆæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²<br>å¯ä»¥ä½¿ç”¨<code>NSNumberFormatter</code>çš„<code>localizedStringFromNumber:numberStyle:</code>æ–¹å¼</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSString</span> *localizedString = [<span class=\"built_in\">NSNumberFormatter</span> localizedStringFromNumber:myNumber numberStyle:<span class=\"built_in\">NSNumberFormatterDecimalStyle</span>];</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹æ˜¯ä¸åŒè¯­è¨€å’ŒåŒºåŸŸå…³äºæ•°å­—çš„æ˜¾ç¤ºæ•ˆæœï¼Œå·¦ä¾§çš„styleåŠ<code>numberStyle</code>ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814115914.png\" alt=\"\"><br>2ã€å°†å­—ç¬¦ä¸²è½¬æˆNSNumberå¯¹è±¡<br>è¿™ä¸ªç±»ä¼¼æ—¥æœŸçš„è½¬æ¢</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.Create a number formatter object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSNumberFormatter</span> *numberFormatter = [<span class=\"built_in\">NSNumberFormatter</span> new];</span><br><span class=\"line\"><span class=\"comment\">//2.Set the formatterâ€™s style to a preset style.</span></span><br><span class=\"line\">numberFormatter.numberStyle = <span class=\"built_in\">NSNumberFormatterDecimalStyle</span>;</span><br><span class=\"line\"><span class=\"comment\">//3.Set the leniency to YES (enables the heuristics).</span></span><br><span class=\"line\">numberFormatter.lenient = <span class=\"literal\">YES</span>;</span><br><span class=\"line\"><span class=\"comment\">//4.Convert the string to a number object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSNumber</span> *number = [numberFormatter numberFromString:inputString];</span><br></pre></td></tr></table></figure>\n<p>3ã€é€šè¿‡NSCalendarè®¡ç®—æ—¥æœŸ<br>NSCalendarç±»å°è£…äº†æ—¥å†çš„æ‰€æœ‰åŒºåŸŸå·®å¼‚å’Œå¤æ‚æ€§ã€‚è¯´ä»–å…·æœ‰å¤æ‚æ€§æ˜¯å› ä¸ºåœ¨ä¸åŒå›½å®¶ï¼Œä¸€å¹´ä¹‹ä¸­çš„æœˆä»½å¯èƒ½æ˜¯12æˆ–è€…13ï¼Œä¸€æœˆä¸­çš„å¤©æ•°å¯èƒ½æ˜¯5åˆ°31çš„ä»»æ„å€¼ï¼Œæ¯å‘¨ç¬¬ä¸€å¤©å¯èƒ½æ˜¯å‘¨å…­ï¼Œå‘¨æ—¥æˆ–è€…å‘¨ä¸€ã€‚å¯ä»¥çœ‹ä¸‹è¡¨<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814121444.png\" alt=\"\"><br>å› æ­¤ä½¿ç”¨NSCalendarå–è¿™äº›å€¼å°†ä¼šå¾ˆæ–¹ä¾¿ã€‚<br>è·å–Calendar unitçš„æ–¹å¼ä¸º</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.Create an NSDateComponents object.</span></span><br><span class=\"line\"><span class=\"built_in\">NSDateComponents</span> *components = [[<span class=\"built_in\">NSCalendar</span> currentCalendar]</span><br><span class=\"line\">    components:<span class=\"built_in\">NSDayCalendarUnit</span> | <span class=\"built_in\">NSMonthCalendarUnit</span> | <span class=\"built_in\">NSYearCalendarUnit</span> | <span class=\"built_in\">NSEraCalendarUnit</span></span><br><span class=\"line\">    fromDate:[<span class=\"built_in\">NSDate</span> date]];</span><br><span class=\"line\"><span class=\"comment\">//2.Access the values for day, month, year, and era.</span></span><br><span class=\"line\"><span class=\"built_in\">NSInteger</span> day = [components day];</span><br><span class=\"line\"><span class=\"built_in\">NSInteger</span> month = [components month];</span><br><span class=\"line\"><span class=\"built_in\">NSInteger</span> year = [components year];</span><br><span class=\"line\"><span class=\"built_in\">NSInteger</span> era = [components era];</span><br></pre></td></tr></table></figure>\n<p>4ã€ç›‘å¬æœ¬åœ°åŒ–ä¿¡æ¯æˆ–è€…æ—¶åŒºä¿®æ”¹<br>å¯ä»¥é€šè¿‡<code>NSCurrentLocaleDidChangeNotification</code>ç›‘å¬åŒºåŸŸçš„æ”¹å˜</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[[<span class=\"built_in\">NSNotificationCenter</span> defaultCenter] addObserver:<span class=\"keyword\">self</span> selector:<span class=\"keyword\">@selector</span>(localeDidChange:) name:<span class=\"built_in\">NSCurrentLocaleDidChangeNotification</span> object:<span class=\"literal\">nil</span>];</span><br></pre></td></tr></table></figure>\n<p>åŒæ ·çš„ç›‘å¬æ—¶åŒºå˜åŒ–å¯ä»¥é€šè¿‡<code>NSSystemTimeZoneDidChangeNotification</code>ã€‚</p>\n<h2 id=\"ä»å³åˆ°å·¦è¯­è¨€çš„å¤„ç†\"><a href=\"#ä»å³åˆ°å·¦è¯­è¨€çš„å¤„ç†\" class=\"headerlink\" title=\"ä»å³åˆ°å·¦è¯­è¨€çš„å¤„ç†\"></a>ä»å³åˆ°å·¦è¯­è¨€çš„å¤„ç†</h2><h3 id=\"åˆ›å»ºä»å³åˆ°å·¦è¯­è¨€çš„äº¤äº’ç•Œé¢\"><a href=\"#åˆ›å»ºä»å³åˆ°å·¦è¯­è¨€çš„äº¤äº’ç•Œé¢\" class=\"headerlink\" title=\"åˆ›å»ºä»å³åˆ°å·¦è¯­è¨€çš„äº¤äº’ç•Œé¢\"></a>åˆ›å»ºä»å³åˆ°å·¦è¯­è¨€çš„äº¤äº’ç•Œé¢</h3><p>æ”¯æŒä»å³åˆ°å·¦å‘çš„è¯­è¨€ï¼Œåœ¨çº¦æŸå±‚é¢åº”è¯¥ä½¿ç”¨Auto layoutä¸­çš„<code>leading</code>å’Œ<code>trailing</code>å±æ€§ï¼Œè€Œä¸æ˜¯<code>right</code>å’Œ<code>right</code>ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å¯¹æ¯”çœ‹åˆ°åŒºåˆ«<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814202653.png\" alt=\"\"><br>æ•´ä½“åƒæ˜¯åšäº†æ°´å¹³çš„ç¿»è½¬ï¼Œæœ‰å¾ˆå¤šæ§ä»¶åƒæ˜¯segmentedæ§ä»¶, è¿›åº¦æŒ‡ç¤ºå™¨ç³»ç»Ÿä¼šè‡ªåŠ¨åšç¿»è½¬ã€‚ä½†æ˜¯æœ‰äº›æƒ…å†µæ˜¯ä¸éœ€è¦ç¿»è½¬çš„ï¼š</p>\n<ul>\n<li>è§†é¢‘æ§åˆ¶å’Œæ—¶é—´çº¿æŒ‡ç¤ºå™¨</li>\n<li>å›¾ç‰‡ï¼Œé™¤éä»–ä»¬ä¼ è¾¾æ–¹å‘æ„Ÿï¼Œå¦‚ç®­å¤´</li>\n<li>æ—¶é’Ÿ</li>\n<li>ä¹è°±</li>\n<li>å›¾è¡¨ï¼ˆxè½´å’Œyè½´æ€»æ˜¯åœ¨ä¸€è‡´çš„æ–¹å‘ï¼‰</li>\n</ul>\n<h3 id=\"è·å–å¸ƒå±€çš„æ–¹å‘æ€§\"><a href=\"#è·å–å¸ƒå±€çš„æ–¹å‘æ€§\" class=\"headerlink\" title=\"è·å–å¸ƒå±€çš„æ–¹å‘æ€§\"></a>è·å–å¸ƒå±€çš„æ–¹å‘æ€§</h3><p>å¦‚æœæˆ‘ä»¬æƒ³è·å–å½“å‰è¯­è¨€æ˜¯å¦åº”è¯¥æ˜¯ä»å³åˆ°å·¦é¡¹çš„è¯­è¨€å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//right-to-left language</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> ([<span class=\"built_in\">UIView</span> userInterfaceLayoutDirectionForSemanticContentAttribute:view.semanticContentAttribute] == <span class=\"built_in\">UIUserInterfaceLayoutDirectionRightToLeft</span>) &#123;</span><br><span class=\"line\">    â€¦</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è®¾ç½®æ–‡æœ¬çš„å¯¹é½æ–¹å¼\"><a href=\"#è®¾ç½®æ–‡æœ¬çš„å¯¹é½æ–¹å¼\" class=\"headerlink\" title=\"è®¾ç½®æ–‡æœ¬çš„å¯¹é½æ–¹å¼\"></a>è®¾ç½®æ–‡æœ¬çš„å¯¹é½æ–¹å¼</h3><p>åœ¨iOSä¸­é»˜è®¤çš„æ–‡æœ¬å¯¹é½æ–¹å¼æ˜¯â€œnaturalâ€ï¼Œåœ¨OS Xä¸­é»˜è®¤æ–¹å¼æ˜¯â€œleftâ€ã€‚naturalçš„å«ä¹‰å°±æ˜¯ä¼šæ„Ÿè§‰è¯­è¨€çš„æ–¹å‘è‡ªåŠ¨è°ƒæ•´ä¸ºleftæˆ–è€…rightã€‚<br>å¦‚æœä½ æƒ³<code>NSMutableParagraphStyle</code>å¯¹è±¡çš„å¯¹é½æ–¹å¼ä¸ºè‡ªç„¶çš„æ–¹å‘ï¼Œå¯ä»¥ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[[(<span class=\"built_in\">NSMutableParagraphStyle</span> *)paraStyle setAlignment:<span class=\"built_in\">NSNaturalTextAlignment</span>];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å¯¹åŒå‘æ–‡æœ¬çš„å¤„ç†\"><a href=\"#å¯¹åŒå‘æ–‡æœ¬çš„å¤„ç†\" class=\"headerlink\" title=\"å¯¹åŒå‘æ–‡æœ¬çš„å¤„ç†\"></a>å¯¹åŒå‘æ–‡æœ¬çš„å¤„ç†</h3><p>åŒå‘æ–‡æœ¬å°±æ˜¯ä¸€æ®µæ–‡æœ¬ä¸­åŠå«æœ‰ä»å³å¾€å·¦çš„æ–‡æœ¬è¿˜å«æœ‰ä»å·¦å¾€å³çš„æ–‡æœ¬ã€‚æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆè¯§å¼‚ï¼Ÿå› ä¸ºå³ä½¿åƒé˜¿æ‹‰ä¼¯å’Œå¸Œä¼¯æ¥å›½å®¶è¿™äº›ä¹¦å†™ä¹ æƒ¯ä¸ºä»å³å¾€å·¦ï¼Œä½†æ˜¯å¯¹äºæ•°å­—å’Œæ‹‰ä¸æ–‡æ˜¯ä»å·¦å¾€å³å†™çš„ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ ‡å‡†æ§ä»¶ï¼ŒåƒLabelï¼ŒTextViewï¼ŒTextfiledä»–ä»¬ä¼šè‡ªåŠ¨å¤„ç†åŒå‘æ–‡æœ¬å†…å®¹ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ§ä»¶ï¼Œé‚£è¿™äº›é—®é¢˜å°±éœ€è¦ä½ æ‰‹åŠ¨å¤„ç†ã€‚</p>\n<h3 id=\"å‘åŒå‘æ–‡æœ¬æ·»åŠ Unicodeæ ‡è®°\"><a href=\"#å‘åŒå‘æ–‡æœ¬æ·»åŠ Unicodeæ ‡è®°\" class=\"headerlink\" title=\"å‘åŒå‘æ–‡æœ¬æ·»åŠ Unicodeæ ‡è®°\"></a>å‘åŒå‘æ–‡æœ¬æ·»åŠ Unicodeæ ‡è®°</h3><p>åœ¨æŸäº›ç‰¹æ®Šçš„æ—¶å€™ï¼Œç³»ç»Ÿé»˜è®¤çš„è¡Œä¸ºå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ä¸æ­£ç¡®çš„ç»“æœï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ Unicodeæ ‡è®°è¿›è¡Œçº æ­£ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œæ‰‹æœºå·åœ¨æ‰€æœ‰è¯­è¨€ä¸­éƒ½æ˜¯ä»å·¦å¾€å³è¯»çš„ï¼Œå¦‚æœä¸€ä¸ªéœ€è¦æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²å˜é‡è¡¨ç¤ºä¸€ä¸ªæ‰‹æœºå·ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¿è¯ä»–æ˜¯ä»å·¦å¾€å³çš„é¡ºåºå±•ç¤ºï¼Œéœ€è¦å†å­—ç¬¦ä¸²é¦–éƒ¨å¢åŠ ä¸€ä¸ªä»å·¦å¾€å³çš„åµŒå…¥å­—ç¬¦ï¼ˆLREï¼‰ï¼š<code>U+202A</code>ï¼Œåœ¨å­—ç¬¦å°¾éƒ¨å¢åŠ å®šå‘æ ¼å¼å­—ç¬¦ï¼ˆPDFï¼‰:<code>U+202C</code>ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Wrap the plus (+) prefix and phone number in left-to-right directional markers</span></span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *phoneNumber = <span class=\"string\">@\"408-555-1212\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *localizedPhoneNumber = [<span class=\"built_in\">NSString</span> stringWithFormat:<span class=\"string\">@\"\\u202A%@\\u202C\"</span>, phoneNumber];</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç¿»è½¬Cocoa-Touchè§†å›¾\"><a href=\"#ç¿»è½¬Cocoa-Touchè§†å›¾\" class=\"headerlink\" title=\"ç¿»è½¬Cocoa Touchè§†å›¾\"></a>ç¿»è½¬Cocoa Touchè§†å›¾</h3><p>æœ‰äº›è§†å›¾æ˜¯ä¸åº”è¯¥ç¿»è½¬çš„ï¼Œåœ¨iOS9ä¹‹åå¯ä»¥é€šè¿‡UIViewçš„<code>semanticContentAttribute</code>å±æ€§æ‰‹åŠ¨æŒ‡å®šè§†å›¾åº”è¯¥æ˜¯ä»å·¦åˆ°åè¿˜æ˜¯ä»å³å¾€å·¦çš„æ–¹å¼å±•ç¤ºã€‚</p>\n<p>å¦‚æœæ˜¯æƒ³ç¿»è½¬å›¾ç‰‡å¯ä»¥é€šè¿‡<code>UIImage</code>çš„<code>imageFlippedForRightToLeftLayoutDirection</code>æ–¹æ³•ã€‚</p>\n<h2 id=\"æœ¬åœ°åŒ–æµ‹è¯•\"><a href=\"#æœ¬åœ°åŒ–æµ‹è¯•\" class=\"headerlink\" title=\"æœ¬åœ°åŒ–æµ‹è¯•\"></a>æœ¬åœ°åŒ–æµ‹è¯•</h2><h3 id=\"é€šè¿‡IBé¢„è§ˆæµ‹è¯•æœ¬åœ°åŒ–\"><a href=\"#é€šè¿‡IBé¢„è§ˆæµ‹è¯•æœ¬åœ°åŒ–\" class=\"headerlink\" title=\"é€šè¿‡IBé¢„è§ˆæµ‹è¯•æœ¬åœ°åŒ–\"></a>é€šè¿‡IBé¢„è§ˆæµ‹è¯•æœ¬åœ°åŒ–</h3><p>è¿™ä¸ªåŠŸèƒ½åªèƒ½åœ¨.storyboardå’Œ.xibæ–‡ä»¶å®ç°ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814201716.png\" alt=\"\"><br>é€‰ä¸­previewä¹‹åæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶å³ä¸‹è§’çš„è¯­è¨€é€‰é¡¹åˆ‡æ¢ä¸åŒè¯­è¨€ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å®æ—¶è§‚å¯Ÿè°ƒæ¢è¯­è¨€ä¹‹åçš„æ•ˆæœã€‚</p>\n<h3 id=\"é€šè¿‡ä¼ªè¯­è¨€åŠŸèƒ½æµ‹è¯•\"><a href=\"#é€šè¿‡ä¼ªè¯­è¨€åŠŸèƒ½æµ‹è¯•\" class=\"headerlink\" title=\"é€šè¿‡ä¼ªè¯­è¨€åŠŸèƒ½æµ‹è¯•\"></a>é€šè¿‡ä¼ªè¯­è¨€åŠŸèƒ½æµ‹è¯•</h3><p>é€šè¿‡<code>Edit Schema &gt; Run &gt; Options</code> ç„¶åç‚¹å¼€è¯­è¨€é€‰é¡¹ï¼Œé™¤äº†å„ç§ç³»ç»Ÿæ”¯æŒè¯­è¨€å¤–ï¼Œç¿»åˆ°æœ€ä¸‹é¢å¯ä»¥çœ‹åˆ°è¿™å‡ ä¸ªé€‰é¡¹ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190814214907.png\" alt=\"\"><br>1.Double-Length Pseudolanguage<br>å¯ä»¥å°†æ–‡æœ¬å†…å®¹å˜æˆä¸¤å€é•¿åº¦ã€‚</p>\n<p>2.Right-to-Left Pseudolanguage<br>å°†è¯­è¨€æ–¹å‘æ”¹æˆä»å³å¾€å·¦ï¼Œä¹Ÿå¯ä»¥å°†è¯­è¨€æ”¹æˆé˜¿æ‹‰ä¼¯æ–‡æˆ–è€…å¸Œä¼¯æ¥æ–‡ã€‚</p>\n<p>3.Accented Pseudolanguage<br>å¸¦é‡éŸ³ç¬¦å·ã€‚</p>\n<p>4.Bounded String Pseudolanguage<br>å¸¦è¾¹ç•Œçš„å­—ç¬¦ä¸²ã€‚</p>\n<p>5.Right-to-Left Pseudolanguage With Right-to-Left Strings<br>åŒä»å³å¾€å·¦è¯­è¨€ã€‚</p>\n<h2 id=\"å¼•ç”¨\"><a href=\"#å¼•ç”¨\" class=\"headerlink\" title=\"å¼•ç”¨\"></a>å¼•ç”¨</h2><p>è‹¹æœæ–‡æ¡£ï¼š<a href=\"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPInternational/Introduction/Introduction.html#//apple_ref/doc/uid/10000171i-CH1-SW1\">Internationzlization and Localization Guide</a></p>\n","categories":[],"tags":["iOS","æœ¬åœ°åŒ–"]},{"title":"iOSå¼€å‘æœˆæŠ¥#13|201907","url":"http://zhangferry.github.io/2019/07/31/monthly_13/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190731213558.png\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"Golbal-queuesçš„ä¼˜å…ˆçº§\"><a href=\"#Golbal-queuesçš„ä¼˜å…ˆçº§\" class=\"headerlink\" title=\"Golbal queuesçš„ä¼˜å…ˆçº§\"></a>Golbal queuesçš„ä¼˜å…ˆçº§</h3><p>å¦‚æœè¦åœ¨åå°æ‰§è¡ŒéUIç›¸å…³çš„å·¥ä½œ, ä¸€èˆ¬æŠŠè¿™éƒ¨åˆ†å·¥ä½œæ”¾åœ¨Global queue. Global queueæ˜¯ä¸€ç§ç³»ç»Ÿå†…å…±äº«çš„å¹¶è¡Œçš„é˜Ÿåˆ—ã€‚ç”³è¯·Global queueçš„æ–¹æ³•å¾ˆç®€å•:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let userQueue &#x3D; DispatchQueue.global(qos: .userInitiated)</span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­åé¢çš„<code>.userInitiated</code>å‚æ•°ä»£è¡¨é˜Ÿåˆ—çš„ä¼˜å…ˆçº§ã€‚è¯¥ä¼˜å…ˆçº§å…¬æœ‰6ä¸­åˆ†ç±»ï¼Œæœ‰é«˜åˆ°ä½ä¸ºï¼š<br><code>userInteractive&gt;default&gt;unspecified&gt;userInitiated&gt;utility&gt;background</code><br>é€šè¿‡è¯¥æ®µä»£ç éªŒè¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"number\">1</span>...<span class=\"number\">3</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.<span class=\"keyword\">default</span>).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.default, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.background).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.background, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.unspecified).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.unspecified, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.userInitiated).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.userInitiated, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.userInteractive).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.userInteractive, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">DispatchQueue</span>.global(qos: <span class=\"type\">DispatchQoS</span>.<span class=\"type\">QoSClass</span>.utility).async &#123;</span><br><span class=\"line\">        <span class=\"type\">NSLog</span>(<span class=\"string\">\"DispatchQoS.QoSClass.utility, %d\"</span>, i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­<code>userInitiated</code>ä¸º<code>LIFO(åè¿›å…ˆå‡º)</code>ï¼Œå³å¦‚æœæœ‰æ–°æ’å…¥çš„<code>userInteractive</code>çº§åˆ«çš„é˜Ÿåˆ—ä»»åŠ¡ï¼Œä¸ºå…ˆæ‰§è¡Œæ–°ä»»åŠ¡ä¹‹åå†æ‰§è¡Œä¹‹å‰è¯¥çº§åˆ«ä»»åŠ¡ã€‚å…¶ä½™ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä»»åŠ¡å‡æ˜¯<code>FIFO(å…ˆè¿›å…ˆå‡º)</code>ã€‚</p>\n<h3 id=\"â€œNo-such-moduleâ€-when-using-testable-in-Xcode-Unit-tests\"><a href=\"#â€œNo-such-moduleâ€-when-using-testable-in-Xcode-Unit-tests\" class=\"headerlink\" title=\"â€œNo such moduleâ€ when using @testable in Xcode Unit tests\"></a>â€œNo such moduleâ€ when using @testable in Xcode Unit tests</h3><p>å› ä¸ºæµ‹è¯•å·¥ç¨‹å’Œä¸»å·¥ç¨‹åˆ†å±ä¸åŒ<code>Module</code>ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³åœ¨æµ‹è¯•é¡¹ç›®ä¸­è°ƒç”¨ä¸»å·¥ç¨‹ä»£ç éœ€è¦å¯¼å…¥ä¸»å·¥ç¨‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@testable</span> <span class=\"keyword\">import</span> moduleName</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ—¶å€™å¦‚æœæŠ¥ä»¥ä¸Šé”™è¯¯ï¼Œä¼šæœ‰ä»¥ä¸‹å¯èƒ½ï¼š<br>1ã€targetNameé”™è¯¯<br>è¿™ä¸ªå¯ä»¥å»<code>Target-&gt;Build Setting-&gt;Product Module Name</code>ç¡®è®¤ã€‚<br>2ã€ä¸»å·¥ç¨‹å’Œæµ‹è¯•æ¨¡å—æ”¯æŒç‰ˆæœ¬å·ä¸ä¸€è‡´<br>ä¿è¯<code>Build Setting-&gt;iOS Deployment Target</code>ä¸­çš„ç‰ˆæœ¬å·åœ¨ä¸»å·¥ç¨‹å’Œæµ‹è¯•å·¥ç¨‹ä¸­ä¸€è‡´ã€‚</p>\n<h3 id=\"authenticating-with-the-app-storeä¸Šä¼ å¡é¡¿\"><a href=\"#authenticating-with-the-app-storeä¸Šä¼ å¡é¡¿\" class=\"headerlink\" title=\"authenticating with the app storeä¸Šä¼ å¡é¡¿\"></a>authenticating with the app storeä¸Šä¼ å¡é¡¿</h3><p>å¦‚æœå¾€AppStoreConnectä¼ åŒ…ä¸€ç›´å¡åœ¨è¿™ä¸ªæ­¥éª¤ï¼Œå¯ä»¥è¯•ä¸€ä¸‹è¿™ç§æ–¹å¼ï¼š<br>ç¬¬ä¸€æ­¥ï¼š<code>cd ~</code><br>ç¬¬äºŒæ­¥ï¼š<code>mv .itmstransporter/ .old_itmstransporter/</code><br>ç¬¬ä¸‰æ­¥ï¼š<code>&quot;/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/itms/bin/iTMSTransporter&quot;</code><br>ç­‰å¾…æ‰§è¡Œå®Œæˆã€‚</p>\n<h3 id=\"è®¢é˜…çš„freetrialæ²¡æœ‰æ ‡æ˜æˆªæ­¢æ—¶é—´è¢«æ‹’\"><a href=\"#è®¢é˜…çš„freetrialæ²¡æœ‰æ ‡æ˜æˆªæ­¢æ—¶é—´è¢«æ‹’\" class=\"headerlink\" title=\"è®¢é˜…çš„freetrialæ²¡æœ‰æ ‡æ˜æˆªæ­¢æ—¶é—´è¢«æ‹’\"></a>è®¢é˜…çš„freetrialæ²¡æœ‰æ ‡æ˜æˆªæ­¢æ—¶é—´è¢«æ‹’</h3><p>å¦‚é¢˜ï¼Œå¦‚æœè®¢é˜…åŠŸèƒ½å«freetrialï¼Œä¸€å®šè¦åœ¨freetrialæŒ‰é’®æ—è¾¹æ ‡æ¸…æ¥šè¯•ç”¨çš„æˆªæ­¢æ—¶é—´ã€‚</p>\n<h3 id=\"WakaTime\"><a href=\"#WakaTime\" class=\"headerlink\" title=\"WakaTime\"></a><a href=\"https://wakatime.com/dashboard\">WakaTime</a></h3><p>ä¸€æ¬¾èƒ½å¤Ÿç»Ÿè®¡å¼€å‘æ—¶é—´çš„ç½‘é¡µç«¯åº”ç”¨ï¼Œæ”¯æŒä¼—å¤šIDEã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190731203414.png\" alt=\"\"><br>é›†æˆåˆ°IDEä¹‹åï¼Œæ³¨å†Œè´¦å·ç„¶åä¼šè·å–åˆ°ä¸€ä¸ªKeyï¼Œç»‘å®šè¯¥å€¼ã€‚ç„¶åå½“æˆ‘ä»¬æ„‰å¿«çš„å¼€å‘æ—¶ï¼Œä¸€äº›å¼€å‘çš„ä¿¡æ¯å°±ä¼šè¢«è®°å½•ä¸‹æ¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ç½‘é¡µç«¯çš„dashboardæŸ¥çœ‹æˆ‘ä»¬å¼€å‘çš„æƒ…å†µã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190731203603.png\" alt=\"\"><br>å› ä¸ºå‰å‡ å¤©å‡çº§XCodeï¼Œéœ€è¦é‡æ–°è£…æ’ä»¶ï¼Œæ‰€ä»¥æœ€è¿‘å‡ å¤©çš„å¼€å‘è®°å½•ä¸ºç©ºã€‚</p>\n<h3 id=\"Lookin-å…è´¹å¥½ç”¨çš„iOS-UIè°ƒè¯•è½¯ä»¶\"><a href=\"#Lookin-å…è´¹å¥½ç”¨çš„iOS-UIè°ƒè¯•è½¯ä»¶\" class=\"headerlink\" title=\"Lookin | å…è´¹å¥½ç”¨çš„iOS UIè°ƒè¯•è½¯ä»¶\"></a><a href=\"https://lookin.work/\">Lookin | å…è´¹å¥½ç”¨çš„iOS UIè°ƒè¯•è½¯ä»¶</a></h3><p>å‡ºè‡ªQMUIå›¢é˜Ÿï¼Œå¯èƒ½æ˜¯å°é›†çš„å½±å“åŠ›å·²ç»å¾ˆå¤§äº†ï¼Œè¿™ä¸ªè½¯ä»¶é¦–å‘ä¹‹åç«Ÿå‘ç°å·²ç»æœ‰ä¸€ä¼—äººå¼€å§‹å…³æ³¨è¿™ä¸ªä¸œè¥¿äº†ã€‚å¯èƒ½å› ä¸ºUIè°ƒè¯•è¿™ä¸ªæ“ä½œæ˜¯ä¸€ä¸ªé«˜é¢‘çš„è¡Œä¸ºï¼Œè€ŒXcodeç›®å‰åˆåšçš„ä¸å¤Ÿå¥½ï¼Œæ‰€ä»¥å¤§å®¶éƒ½æœŸå¾…æœ‰ä¸€ä¸ªé«˜æ•ˆçš„UIè°ƒè¯•å·¥å…·ã€‚æˆ‘ä¹Ÿæ˜¯ä¸‹ä¸‹æ¥è¯•äº†ä¸‹ï¼Œç»“åˆä¹‹å‰å¯¹<a href=\"https://revealapp.com/\">Reveal</a>å’Œ<a href=\"https://sherlock.inspiredcode.io\">Sherlock</a>çš„ä½¿ç”¨ï¼Œè¯´ä¸‹è‡ªå·±çš„ä½“ä¼šå§ï¼Œé¦–å…ˆæ˜¯ä¼˜ç‚¹ï¼š<br>1ã€å…è´¹<br>2ã€æ”¯æŒåŠ¨æ€ä¿®æ”¹UIå…ƒç´ å±æ€§ï¼Œä¾‹å¦‚ä½ç½®ï¼Œé¢œè‰²ï¼Œåœ†è§’è¿™äº›<br>3ã€å¯ä»¥æŸ¥çœ‹CALayerçš„ä¿¡æ¯<br>å› ä¸ºæ˜¯åˆšå‘å¸ƒæ²¡å¤šä¹…ï¼Œè¿˜æ˜¯æœ‰äº›éœ€è¦æ”¹è¿›çš„åœ°æ–¹çš„<br>1ã€åŠ¨æ€ä¿®æ”¹UIå…ƒç´ çš„ä¿¡æ¯ï¼Œå‡æ˜¯é€šè¿‡UIViewï¼Œå’ŒCALayerçš„ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œæ— æ³•å®ç°åƒUILabelæ”¹æ–‡æ¡ˆï¼Œæ›´æ–°è¡Œæ•°ç­‰æ“ä½œ<br>2ã€3Dçš„æ¸²æŸ“æœ‰æ—¶å€™ä¼šæœ‰bugå‡ºç°ï¼Œä½ç½®ä¸æ­£ç¡®ï¼Œå¦å¤–ä»…æ”¯æŒä¸€ä¸ªå·¦å³çš„æ—‹è½¬ä¸æ”¯æŒä¸Šä¸‹<br>3ã€å±å¹•é€‚é…è¿˜ä¸æ”¯æŒï¼Œä¸èƒ½ä¿®æ”¹å±å¹•<br>å…¶å®æˆ‘å¯¹sherlockä¹Ÿéƒ½ä»…é™äºä½¿ç”¨ï¼Œä¸­å’Œé¢‘ç‡ä¸é«˜çš„ä½¿ç”¨æ€§å’Œé«˜æ˜‚çš„è´¹ç”¨ï¼Œæˆ‘é€‰æ‹©è¯•ç”¨ç»“æŸå°±æ”¾å¼ƒï¼Œè™½ç„¶Lookinè¿˜å­˜åœ¨ä¸€äº›ä¸è¶³ï¼Œä½†æ˜¯å…è´¹å¤§äºä¸€åˆ‡å•Šï¼Œå¸Œæœ›å¯ä»¥åšçš„æ›´å¥½ï¼Œä¸ºæ›´å¤šå¼€å‘è€…å¸¦æ¥ä¾¿åˆ©ã€‚</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"R-swift\"><a href=\"#R-swift\" class=\"headerlink\" title=\"R.swift\"></a><a href=\"https://github.com/mac-cain13/R.swift\">R.swift</a></h3><p>Androidå¼€å‘ä¸­å¼•ç”¨èµ„æºå¯ä»¥é€šè¿‡<code>Ræœºåˆ¶</code>ï¼Œæ‰€è°“<code>Ræœºåˆ¶</code>å°±æ˜¯åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªAndroidé¡¹ç›®çš„æ—¶å€™ï¼ŒIDEä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºRçš„ç±»å‹ï¼Œå®ƒæ‰€åœ¨çš„æ–‡ä»¶åç§°ä¹Ÿæ˜¯å«åšR.javaï¼ŒRç±»å‹ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼ŒåŒ…å«çš„æ˜¯ä»£è¡¨ä¸åŒç±»å‹èµ„æºçš„å†…éƒ¨é™æ€ç±»ï¼Œè€Œè¿™äº›å†…éƒ¨é™æ€ç±»ä¸­ï¼Œä¹Ÿåªæœ‰é™æ€çš„å±æ€§ï¼Œæ¯ä¸ªå±æ€§ä»£è¡¨ä¸€ä¸ªèµ„æºï¼Œæ•…æˆ‘ä»¬è¦å¼•ç”¨æŸä¸ªèµ„æºç±»å‹ä¸­çš„æŸä¸ªèµ„æºï¼Œå¯ç”¨R.èµ„æºç±»å‹.èµ„æºåæ¥å¼•ç”¨ã€‚ä¸‹é¢å°±æ˜¯ä»£ç ä¸­çš„å®ä¾‹ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ä»å›¾ç‰‡èµ„æºæ–‡ä»¶å¤¹ä¸­åŠ è½½åä¸º\"image_test\"çš„å›¾ç‰‡ä»¥å…¶åˆ›å»ºä½å›¾</span></span><br><span class=\"line\">Bitmap aBitmap = BitmapFactory.decodeResource(<span class=\"keyword\">this</span>.getResources(), R.drawable.image_test);</span><br></pre></td></tr></table></figure>\n<p>ç›¸å¯¹æ¥è¯´iOSä¸­çš„èµ„æºå¼•ç”¨å°±éº»çƒ¦å¾ˆå¤šï¼Œéœ€è¦é€šè¿‡å­—ç¬¦ä¸²å¼•ç”¨ï¼Œæ— æ³•ä»£ç è¡¥å…¨ï¼Œèµ„æºæ›´æ¢æ— æ³•è‡ªæ£€æŸ¥ã€‚è§£å†³iOSèµ„æºå¼•ç”¨çš„è¿™äº›é—®é¢˜è€Œå€Ÿé‰´Androidæ–¹æ¡ˆçš„<code>R.Swift</code>åº”è¿è€Œç”Ÿã€‚<br>ä¼ ç»Ÿçš„æ–¹å¼ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> settingsIcon = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"settings-icon\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> gradientBackground = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"gradient.jpg\"</span>)</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨R.Swift</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let settingsIcon &#x3D; R.image.settingsIcon()</span><br><span class=\"line\">let gradientBackground &#x3D; R.image.gradientJpg()</span><br></pre></td></tr></table></figure>\n<p>ä¸å…‰å›¾ç‰‡ï¼Œå®ƒè¿˜æ”¯æŒ<code>Fonts</code>ï¼Œ<code>Resource files</code>ï¼Œ<code>Colors</code>ï¼Œ<code>Localized strings</code>ï¼Œ<code>Storyboards</code>ï¼Œ<code>Segues</code>ï¼Œ<code>Nibs</code>ï¼Œ<code>Reuseable Cells</code>ã€‚<br>æˆ‘ç¬¬ä¸€æ¬¡è§åˆ°è¿™ç©æ„çš„æ—¶å€™å°±ä¸€ä¸ªæ„Ÿå—ï¼šwocaoï¼ŒğŸ‚ğŸºï¼<br>æ›´å¤šå…³äºR.Swiftçš„ä½¿ç”¨è§„åˆ™å‚ç…§å®˜ç½‘è¯´æ˜ã€‚</p>\n<h3 id=\"Swift-Books\"><a href=\"#Swift-Books\" class=\"headerlink\" title=\"Swift-Books\"></a><a href=\"https://github.com/longsirhero/Swift-Books\">Swift-Books</a></h3><p>githubä¸Šçš„å†…å®¹ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œçº¯å¹²è´§å’Œå¹²è´§çš„æ•´ç†ã€‚è¿™ä¸ªåº“å±äºåè€…ï¼Œæ˜¯ä¸€ä¸ªæ”¶å½•Swift&amp;Object-Cç›¸å…³èµ„æ–™çš„ä»“åº“ã€‚æ”¶å½•çš„éƒ½æ˜¯æ¯”è¾ƒç»å…¸çš„å­¦ä¹ èµ„æ–™ï¼Œè€Œä¸”éå¸¸å…¨ï¼<br>å»ºåº“å·²ç»ä¸¤å¹´äº†ï¼Œä½†æ˜¯starå´ä¸å¤šï¼Œä¸çŸ¥é“æ˜¯å› ä¸ºæ›å…‰åº¦çš„é—®é¢˜ï¼Œè¿˜æ˜¯å› ä¸ºå¤§å®¶å¯¹è®¾è®¡ç‰ˆæƒé—®é¢˜çš„å†…å®¹æœ‰äº›è­¦æƒ•ã€‚ä½†ä¸ç®¡æ€æ ·å§ï¼Œæˆ‘è¿˜æ˜¯è¦æ¨ä¸€æ¨è¿™ä¸ªåº“ã€‚</p>\n<h3 id=\"open-source-ios-apps\"><a href=\"#open-source-ios-apps\" class=\"headerlink\" title=\"open-source-ios-apps\"></a><a href=\"https://github.com/dkhamsing/open-source-ios-apps\">open-source-ios-apps</a></h3><p>å¼€æºçš„iOSåº”ç”¨åˆ—è¡¨ã€‚åŸºæœ¬æ¶µç›–äº†iOSå¼€å‘æ¶‰åŠçš„æ‰€æœ‰é¢†åŸŸï¼Œé€šè¿‡å®Œæ•´çš„appå»å­¦ä¹ åˆ«äººçš„å¼€å‘æŠ€å·§æ˜¯ä¸€ä¸ªç›¸å¯¹ç›´è§‚çš„æ–¹å¼ï¼Œé¢å¯¹è¿™ä¸ªå¤§ç¤¼åŒ…ï¼Œè®°å¾—æ¥çœ‹ä¸€çœ‹å“ˆã€‚</p>\n<h3 id=\"Chinese-Podcasts\"><a href=\"#Chinese-Podcasts\" class=\"headerlink\" title=\"Chinese-Podcasts\"></a><a href=\"https://github.com/alaskasquirrel/Chinese-Podcasts\">Chinese-Podcasts</a></h3><p>ä¸­æ–‡åšå®¢çš„æ”¶å½•ï¼ŒåŒ…å«ç§‘æŠ€ï¼Œé£æŠ•ï¼Œç”Ÿæ´»ï¼Œç”µå½±ï¼Œè®¾è®¡ç­‰é¢†åŸŸã€‚<br>éŸ³é¢‘å†…å®¹æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯ä¾¿æ·ï¼Œä½ å¯ä»¥åœ¨èµ°è·¯ï¼Œè·‘æ­¥ï¼Œç”šè‡³ä¼‘æ¯çš„æ—¶å€™ä½¿ç”¨å®ƒã€‚éŸ³é¢‘ç›¸æ¯”è§†é¢‘è¿˜æœ‰ä¸€ä¸ªæ›´å¤§çš„å¥½å¤„æ˜¯ï¼Œå®ƒä¼šç»™å¤§è„‘é¢„ç•™æ›´å¤šçš„æƒ³è±¡ç©ºé—´ï¼Œå¬éŸ³é¢‘æˆ‘ä»¬ä¼šæ€è€ƒçš„æ›´å¤šä¸€äº›ã€‚<br>å»å¹´ä¸€ç›´åœ¨å¬ä¸œå´åŒå­¦ä¼šï¼Œæœ€è¿‘ä¸€æ®µæ—¶é—´åˆ™å¬ggtalkå’Œç¡…è°·æ—©çŸ¥é“å¤šä¸€äº›ã€‚</p>\n<h2 id=\"æ–‡æ‘˜\"><a href=\"#æ–‡æ‘˜\" class=\"headerlink\" title=\"æ–‡æ‘˜\"></a>æ–‡æ‘˜</h2><p>1ã€</p>\n<blockquote>\n<p>ç”Ÿå­˜æ˜¯ä¸€ç§å³æ—¶ç­–ç•¥æ¸¸æˆï¼Œæ‰€æœ‰çš„äººéƒ½æ˜¯è¿™åœºæ¸¸æˆçš„ç©å®¶ã€‚è´¢åŠ¡è‡ªç”±äº†ï¼Œå°±æ˜¯æ¸¸æˆèµ¢å®¶ã€‚<br>â€“ã€Šç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼š66æœŸã€‹</p>\n</blockquote>\n<p>2ã€</p>\n<blockquote>\n<p>æˆ‘ä»¥ä¸ºåˆ«äººå°Šé‡æˆ‘ï¼Œæ˜¯å› ä¸ºæˆ‘å¾ˆä¼˜ç§€ã€‚æ…¢æ…¢çš„æˆ‘æ˜ç™½äº†ï¼Œåˆ«äººå°Šé‡æˆ‘ï¼Œæ˜¯åˆ«äººå¾ˆä¼˜ç§€ï¼›ä¼˜ç§€çš„äººæ›´æ‡‚å¾—å°Šé‡åˆ«äººï¼Œå¯¹äººæ­æ•¬å…¶å®æ˜¯åœ¨åº„ä¸¥ä½ è‡ªå·±ã€‚</p>\n</blockquote>\n<p>3ã€</p>\n<blockquote>\n<p>æ‰€è°“æˆç†Ÿçš„äººï¼Œå°±æ˜¯ç²¾ç¥ä¸Šèƒ½å¤Ÿè‡ªç»™è‡ªè¶³çš„äººã€‚</p>\n</blockquote>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"iOSå¼€å‘æœˆæŠ¥#12|201906","url":"http://zhangferry.github.io/2019/06/29/monthly_12/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/C6B082E3EE78560B53A3C9A99698359F.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"é—ªå…‰åŠ¨ç”»\"><a href=\"#é—ªå…‰åŠ¨ç”»\" class=\"headerlink\" title=\"é—ªå…‰åŠ¨ç”»\"></a>é—ªå…‰åŠ¨ç”»</h3><p>å›¾ç‰‡ä¸Šçš„é—ªå…‰åŠ¨ç”»ï¼Œç±»ä¼¼è¿™ç§æ•ˆæœï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/2019-06-30%2014.24.47.gif\" alt=\"\"><br>åˆ†ææ‹†è§£å¯çŸ¥è¿™æ˜¯ä¸€ä¸ªå¸¦é€æ˜çš„ç™½è‰²æ¸å˜ç§»åŠ¨äº§ç”Ÿçš„æ•ˆæœã€‚æ¸å˜+ç§»åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>CAGradientLayer</code> + <code>CABasicAnimation</code>å®ç°ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">showGradientAnimation</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> gradient = <span class=\"type\">CAGradientLayer</span>()</span><br><span class=\"line\">    gradient.frame = canvasView.bounds</span><br><span class=\"line\">    <span class=\"comment\">//å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æ¸å˜</span></span><br><span class=\"line\">    gradient.startPoint = <span class=\"type\">CGPoint</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>)</span><br><span class=\"line\">    gradient.endPoint = <span class=\"type\">CGPoint</span>(x: <span class=\"number\">1</span>, y: <span class=\"number\">1</span>)</span><br><span class=\"line\">    gradient.locations = [<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>]</span><br><span class=\"line\">    <span class=\"comment\">//è°ƒé€æ˜åº¦æ¸å˜è¦ä½¿ç”¨ç™½è‰²</span></span><br><span class=\"line\">    gradient.colors = [<span class=\"type\">UIColor</span>.<span class=\"keyword\">init</span>(white: <span class=\"number\">1</span>, alpha: <span class=\"number\">0.0</span>).cgColor,</span><br><span class=\"line\">                           <span class=\"type\">UIColor</span>.<span class=\"keyword\">init</span>(white: <span class=\"number\">1</span>, alpha: <span class=\"number\">0.3</span>).cgColor,</span><br><span class=\"line\">                           <span class=\"type\">UIColor</span>.<span class=\"keyword\">init</span>(white: <span class=\"number\">1</span>, alpha: <span class=\"number\">0.0</span>).cgColor]</span><br><span class=\"line\">    </span><br><span class=\"line\">    canvasView.layer.addSublayer(gradient)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> animation = <span class=\"type\">CABasicAnimation</span>.<span class=\"keyword\">init</span>(keyPath: <span class=\"string\">\"locations\"</span>)</span><br><span class=\"line\">    <span class=\"comment\">//ä»0ä½ç½®å¼€å§‹ä»1ä½ç½®ç»“æŸ</span></span><br><span class=\"line\">    animation.fromValue = [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>]</span><br><span class=\"line\">    animation.toValue = [<span class=\"number\">0.7</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    animation.duration = gradientAnimationDuration</span><br><span class=\"line\">    animation.repeatCount = <span class=\"number\">1</span></span><br><span class=\"line\">    animation.isRemovedOnCompletion = <span class=\"literal\">true</span></span><br><span class=\"line\">    gradient.add(animation, forKey: <span class=\"literal\">nil</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é›†æˆUniversal-Linksæ—¶çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹\"><a href=\"#é›†æˆUniversal-Linksæ—¶çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"é›†æˆUniversal Linksæ—¶çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹\"></a>é›†æˆUniversal Linksæ—¶çš„å‡ ç‚¹æ³¨æ„äº‹é¡¹</h3><p>è¿™ä¸ªæ˜¯onlinkæ€»ç»“å¯¹äºå„ä¸ªå¹³å°å¯¹åº”ç”¨é—´è·³è½¬çš„æ”¯æŒæƒ…å†µï¼Œå…¶ä¸­deeplinkæŒ‡Universal Linksï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/C8614AF1-9B2E-4CA5-A771-B1BA59F87868.png\" alt=\"\"></p>\n<h4 id=\"è·³è½¬è‡³facebookæŒ‡å®šé¡µé¢\"><a href=\"#è·³è½¬è‡³facebookæŒ‡å®šé¡µé¢\" class=\"headerlink\" title=\"è·³è½¬è‡³facebookæŒ‡å®šé¡µé¢\"></a>è·³è½¬è‡³facebookæŒ‡å®šé¡µé¢</h4><p>å¦‚æœæ˜¯facebookæŸä¸€ä¸»é¡µï¼Œå¯ä»¥é€šè¿‡ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿™é‡Œå¯ä»¥æ›¿æ¢æˆè‡ªå·±çš„ä¸»é¡µid</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: <span class=\"string\">\"fb://page?id=**\"</span>)! </span><br><span class=\"line\"><span class=\"type\">UIApplication</span>.shared.<span class=\"keyword\">open</span>(url, options: [:], completionHandler: <span class=\"literal\">nil</span>)</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯ä½¿ç”¨äº†app schemeçš„æ–¹å¼è¿›è¡Œè·³è½¬çš„ï¼Œè¦æ±‚æœ¬æœºå®‰è£…äº†facebookæ‰èƒ½è·³è½¬æˆåŠŸã€‚</p>\n<p>å¦‚æœæ˜¯è·³è½¬åˆ°æŸä¸€ä¸ªä¸»é¡µçš„æŸä¸€ä¸ªå¸–å­ï¼Œå¯ä»¥é€šè¿‡ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿™é‡Œæ›¿æ¢æˆå›ºå®šçš„å¸–å­é“¾æ¥</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: <span class=\"string\">\"https://www.facebook.com/**/posts/**\"</span>)! </span><br><span class=\"line\"><span class=\"type\">UIApplication</span>.shared.<span class=\"keyword\">open</span>(url, options: [:], completionHandler: <span class=\"literal\">nil</span>)</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯é€šè¿‡<code>Universal Links</code>æ–¹å¼è·³è½¬çš„ï¼Œè¯¥é“¾æ¥å¯ä»¥é€šè¿‡è‹¹æœçš„<a href=\"https://search.developer.apple.com/appsearch-validation-tool/\">éªŒè¯</a>ã€‚å¦‚æœæœªå®‰è£…åº”ç”¨ä¼šè·³è½¬åˆ°ç½‘é¡µç«¯ï¼Œå¦‚æœå®‰è£…äº†å°±ç›´æ¥è·³åˆ°æŒ‡å®šé¡µé¢ã€‚</p>\n<p>é‚£æ­£å¸¸æ¥è¯´ï¼Œfacebookä¸»é¡µä¹Ÿåº”è¯¥å¯ä»¥é€šè¿‡æ”¯æŒdeep linkçš„httpsé“¾æ¥è·³è½¬æ‰å¯¹ï¼Œä½†å®é™…æµ‹è¯•æ¥çœ‹æ˜¯ä¸è¡Œçš„ã€‚æ‰€ä»¥å¦‚æœè¦åŠ ä¸Šæ˜¯å¦å®‰è£…çš„é€»è¾‘çš„è¯ï¼Œå°±æ˜¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: kFacebookHomePageSchemeUrl)!</span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"type\">UIApplication</span>.shared.canOpenURL(url) &#123;</span><br><span class=\"line\">    <span class=\"type\">UIApplication</span>.shared.<span class=\"keyword\">open</span>(url, options: [:], completionHandler: <span class=\"literal\">nil</span>)   </span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">UIApplication</span>.shared.<span class=\"keyword\">open</span>(<span class=\"type\">URL</span>(string: kFacebookHomePageUrl)!, options: [:], completionHandler: <span class=\"literal\">nil</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"æµ‹è¯•ï¼š\"><a href=\"#æµ‹è¯•ï¼š\" class=\"headerlink\" title=\"æµ‹è¯•ï¼š\"></a>æµ‹è¯•ï¼š</h4><p>æ¨èï¼šå°†è¿æ¥å¤åˆ¶åˆ°ä¾¿ç­¾ï¼Œé‚®ä»¶ï¼ŒçŸ­ä¿¡ï¼Œæˆ–è€…ä½¿ç”¨äºŒç»´ç çš„å½¢å¼ä½¿ç”¨ã€‚</p>\n<p><strong>ä¸è¦å°†é“¾æ¥ç²˜è´´åˆ° Safari ä¸­ - iOS ç›®å‰é˜»æ­¢ä»ä»»ä½•æµè§ˆå™¨çš„åœ°å€æ è¿›è¡Œæ·±åº¦é“¾æ¥ã€‚</strong></p>\n<p>éªŒè¯apple-app-site-associationçš„è¿æ¥ï¼Œå¯ä»¥è‹¹æœçš„<a href=\"https://search.developer.apple.com/appsearch-validation-tool/\">éªŒè¯å·¥å…·</a></p>\n<h3 id=\"lottieåŠ¨ç”»æ•ˆæœåœ¨å®‰å“å’Œç½‘é¡µç«¯æ­£å¸¸åœ¨iOSç«¯ä¸æ­£å¸¸\"><a href=\"#lottieåŠ¨ç”»æ•ˆæœåœ¨å®‰å“å’Œç½‘é¡µç«¯æ­£å¸¸åœ¨iOSç«¯ä¸æ­£å¸¸\" class=\"headerlink\" title=\"lottieåŠ¨ç”»æ•ˆæœåœ¨å®‰å“å’Œç½‘é¡µç«¯æ­£å¸¸åœ¨iOSç«¯ä¸æ­£å¸¸\"></a>lottieåŠ¨ç”»æ•ˆæœåœ¨å®‰å“å’Œç½‘é¡µç«¯æ­£å¸¸åœ¨iOSç«¯ä¸æ­£å¸¸</h3><p>åœ¨ä¸€æ¬¡ä½¿ç”¨<a href=\"https://github.com/airbnb/lottie-ios\">lottie</a>è°ƒç”¨è®¾è®¡æä¾›çš„åŠ¨ç”»æ—¶ï¼Œè¯¥åŠ¨ç”»æ˜¯ä¸€ä¸ªæ”¾çƒŸèŠ±ï¼Œç„¶åæ•£å¼€çš„åŠ¨ç”»ã€‚ç”¨<a href=\"https://lottiefiles.com/preview\">ç½‘é¡µé¢„è§ˆ</a>å¯ä»¥å®Œç¾å±•ç¤ºæ•ˆæœï¼Œä½†æ˜¯æ”¾åˆ°å®¢æˆ·ç«¯è¿è¡Œæ—¶ï¼Œå´åªå±•ç¤ºä¸€éƒ¨åˆ†å³çƒŸèŠ±ä¸Šé£è¿‡ç¨‹ï¼Œè€Œæ²¡æœ‰æ•£å¼€æ•ˆæœã€‚æœ€åä»”ç»†æŸ¥çœ‹æ–‡æ¡£ï¼Œæ‰¾åˆ°è¿™ä¸ªï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190630120203.png\" alt=\"\"><br>ç»è®¾è®¡ç¡®è®¤ï¼ŒçƒŸèŠ±ç»½æ”¾çš„æ•ˆæœä½¿ç”¨äº†AEä¸­çš„<code>Repeaterï¼ˆä¸­ç»§å™¨ï¼‰</code>æ§ä»¶ï¼Œè€Œè¯¥æ§ä»¶åœ¨lottieçš„3.0ç‰ˆæœ¬è¿˜ä¸æ”¯æŒï¼Œä½†æ˜¯åœ¨2.5.2ç‰ˆæœ¬æ˜¯æ”¯æŒçš„ï¼Œå›é€€ç‰ˆæœ¬è‡³2.5.2è§£å†³äº†åŠ¨ç”»ç¡®è®¤é—®é¢˜ã€‚</p>\n<p><strong>PSï¼šä¸€äº›å¤æ€ªé—®é¢˜ï¼Œç¬¬ä¸€ååº”è¦ä»å®˜ç½‘æ–‡æ¡£è¯´æ˜ã€Issuesã€QAä¸­æ‰¾ç­”æ¡ˆ</strong></p>\n<h3 id=\"å‡ ä¸ªäº§å“ç›¸å…³æ¦‚å¿µ\"><a href=\"#å‡ ä¸ªäº§å“ç›¸å…³æ¦‚å¿µ\" class=\"headerlink\" title=\"å‡ ä¸ªäº§å“ç›¸å…³æ¦‚å¿µ\"></a>å‡ ä¸ªäº§å“ç›¸å…³æ¦‚å¿µ</h3><p><strong>ROI(return on investment)ï¼šæŠ•èµ„å›æŠ¥ç‡</strong><br>ååº”äº§å“çš„ç›ˆåˆ©æƒ…å†µï¼Œç”¨ç™¾åˆ†æ¯”è¡¨ç¤ºã€‚<br>å¸‚åœºè¥é”€ã€è¿è¥æ´»åŠ¨ï¼Œéƒ½æ˜¯ä¼ä¸šè·åˆ©ä¸ºå‡ºå‘ç‚¹ï¼Œé€šè¿‡åˆ©æ¶¦/æŠ•èµ„é‡åŒ–ç›®æ ‡ã€‚åˆ©æ¶¦çš„è®¡ç®—æ¶‰åŠè´¢åŠ¡ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æ›´ç®€å•çš„æ”¶å…¥ä½œåˆ†å­ã€‚å½“è¿è¥æ´»åŠ¨çš„ROIå¤§äº1ï¼Œè¯´æ˜è¿™ä¸ªæ´»åŠ¨æ˜¯æˆåŠŸçš„ï¼Œèƒ½èµšé’±ã€‚<br><strong>ecpm(effective cost per mille)ï¼šæ¯åƒæ¬¡å±•ç¤ºå¯ä»¥è·å¾—çš„å¹¿å‘Šæ”¶å…¥</strong><br>è¿™æ˜¯å¹¿å‘Šä¸»é¢„ä¼°è‡ªèº«æ”¶ç›Šçš„æŒ‡æ ‡ã€‚<br><strong>arpu(Average Revenue Per User)ï¼šæ¯ç”¨æˆ·å¹³å‡æ”¶å…¥</strong><br>ARPUæ³¨é‡çš„æ˜¯ä¸€ä¸ªæ—¶é—´æ®µå†…è¿è¥å•†ä»æ¯ä¸ªç”¨æˆ·æ‰€å¾—åˆ°çš„åˆ©æ¶¦ã€‚å¾ˆæ˜æ˜¾ï¼Œé«˜ç«¯çš„ç”¨æˆ·è¶Šå¤šï¼ŒARPUè¶Šé«˜ã€‚<br><strong>LTV(life time value)ï¼šç”Ÿå‘½å‘¨æœŸæ€»ä»·å€¼</strong><br>æ„ä¸ºå®¢æˆ·ç»ˆç”Ÿä»·å€¼ï¼Œæ˜¯å…¬å¸ä»ç”¨æˆ·æ‰€æœ‰çš„äº’åŠ¨ä¸­æ‰€å¾—åˆ°çš„å…¨éƒ¨ç»æµæ”¶ç›Šçš„æ€»å’Œã€‚</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"23-ä½å¼€å‘è€…å‘Šè¯‰ä½ è¿™æ¬¡-WWDC-æœ€è®©ä»–ä»¬å…´å¥‹çš„æ–°äº‹ç‰©\"><a href=\"#23-ä½å¼€å‘è€…å‘Šè¯‰ä½ è¿™æ¬¡-WWDC-æœ€è®©ä»–ä»¬å…´å¥‹çš„æ–°äº‹ç‰©\" class=\"headerlink\" title=\"23 ä½å¼€å‘è€…å‘Šè¯‰ä½ è¿™æ¬¡ WWDC æœ€è®©ä»–ä»¬å…´å¥‹çš„æ–°äº‹ç‰©\"></a><a href=\"https://mp.weixin.qq.com/s?__biz=MzU2NjM2NDkxNg==&mid=2247488121&idx=1&sn=c336a82dea45fc58ad70f563876b2e5d&chksm=fcaccde2cbdb44f4516a54416fd0e0ce4fdd08d29e2a9963fce1933902fad5cffafcbcfc9e32&token=407105051&lang=zh_CN&scene=21#wechat_redirect\">23 ä½å¼€å‘è€…å‘Šè¯‰ä½ è¿™æ¬¡ WWDC æœ€è®©ä»–ä»¬å…´å¥‹çš„æ–°äº‹ç‰©</a></h3><p>å¯¹23ä½iOSå¼€å‘è€…çš„é‡‡è®¿ï¼Œä¸€èµ·æ¥çœ‹ä¸‹ä»–ä»¬çœ¼ä¸­è¿™å±ŠWWDCä»€ä¹ˆæœ€è®©äººå…´å¥‹ã€‚</p>\n<h3 id=\"å…è´¹é¢†å–å°ä¸“æ -â€“-WWDC2019-å†…å‚\"><a href=\"#å…è´¹é¢†å–å°ä¸“æ -â€“-WWDC2019-å†…å‚\" class=\"headerlink\" title=\"å…è´¹é¢†å–å°ä¸“æ  â€“ WWDC2019 å†…å‚\"></a><a href=\"https://xiaozhuanlan.com/wwdc19/present/380ad33db882a12ae9c0b2402d386ef10ecafa51\">å…è´¹é¢†å–å°ä¸“æ  â€“ WWDC2019 å†…å‚</a></h3><p>6æœˆä»½çš„WWDCç»™æˆ‘ä»¬å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤šä¸œè¥¿ï¼ŒDark Modeã€Swift UIã€Combineã€iPad OSç­‰ç­‰ã€‚ä¹Ÿæ˜¯æˆ‘æ„Ÿè§‰è¿‘å‡ å¹´WWDCå¹²è´§æœ€å¤šçš„ä¸€ç•Œäº†ã€‚å¹²è´§å¤ªå¤šä¸çŸ¥é“æ€ä¹ˆå­¦ä¹ æ€ä¹ˆåŠï¼Ÿè¿™é‡Œ<a href=\"https://juejin.im/user/5624c86b60b2b199f7611227\">æ²¡æ•…äº‹çš„å“åŒå­¦</a>åˆ†äº«çš„<code>WWDC2019 å†…å‚</code>å…è´¹é¢†å–åé¢ã€‚å¯ä»¥çœ‹å„ä½å¤§ä½¬å¯¹WWDCçš„æœ€æ–°è§£è¯»åˆ†æï¼Œç›®å‰äºŒåå¤šå¤©é‡Œå·²ç»æ›´æ–°äº†30ç¯‡æ–‡ç« ï¼ã€‚</p>\n<h3 id=\"SwiftUI-çš„ä¸€äº›åˆæ­¥æ¢ç´¢-ä¸€\"><a href=\"#SwiftUI-çš„ä¸€äº›åˆæ­¥æ¢ç´¢-ä¸€\" class=\"headerlink\" title=\"SwiftUI çš„ä¸€äº›åˆæ­¥æ¢ç´¢ (ä¸€)\"></a><a href=\"https://onevcat.com/2019/06/swift-ui-firstlook/\">SwiftUI çš„ä¸€äº›åˆæ­¥æ¢ç´¢ (ä¸€)</a></h3><p>è¿™æ˜¯ä¸€ç¯‡è§£è¯»SwiftUIçš„æ–‡ç« ï¼Œç›®å‰è¿˜æœ‰<a href=\"https://onevcat.com/2019/06/swift-ui-firstlook-2/\">ç¬¬äºŒç¯‡</a>ã€‚è€Œå–µç¥ä¹Ÿåœ¨è®¡åˆ’å†™ä¸€æœ¬å…³äº<code>SwiftUI</code> å’Œ<code>Combine</code> çš„ä¹¦ç±</p>\n<blockquote>\n<p>æˆ‘å·²ç»è®¡åˆ’å†™ä¸€æœ¬å…³äº SwiftUI å’Œ Combine ç¼–ç¨‹çš„ä¹¦ç±ï¼Œå¸Œæœ›èƒ½é€šè¿‡ä¸€äº›å®è·µæ¡ˆä¾‹å¸®åŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹ SwiftUI åŠ Combine å“åº”å¼ç¼–ç¨‹æ¡†æ¶ï¼ŒæŒæ¡ä¸‹ä¸€ä»£å®¢æˆ·ç«¯ UI å¼€å‘æŠ€æœ¯ã€‚ç°åœ¨è¿™æœ¬ä¹¦å·²ç»å¼€å§‹é¢„å”®ï¼Œé¢„è®¡èƒ½åœ¨ 10 æœˆå·¦å³å®Œæˆã€‚å¦‚æœæ‚¨å¯¹æ­¤æœ‰å…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹ ObjC ä¸­å›½çš„äº§å“é¡µé¢äº†è§£è¯¦æƒ…åŠè´­ä¹°ã€‚ååˆ†æ„Ÿè°¢ï¼</p>\n</blockquote>\n<p>æˆ‘å‘ç°å–µç¥æ€»èƒ½ä¸€ä¸‹æ‰¾åˆ°ä½œä¸ºæ–°æ¦‚å¿µæœ€åº”è¯¥æ³¨æ„çš„é—®é¢˜ï¼Œæ¯”å¦‚SwiftUIå’ŒSwift5.1çš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆéœ€è¦æ–°ç³»ç»Ÿæ‰èƒ½é¢„è§ˆä»¥åŠViewBuilderé‡Œæ¥å—é‚£äº›æ¡ä»¶è¯­å¥ç­‰ã€‚æƒ³äº†è§£SwiftUI è¿™ç¯‡æ–‡ç« çœŸæ˜¯å¿…è¯»</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"About-SwiftUI\"><a href=\"#About-SwiftUI\" class=\"headerlink\" title=\"About-SwiftUI\"></a><a href=\"https://github.com/Juanpe/About-SwiftUI\">About-SwiftUI</a></h3><p><img src=\"https://raw.githubusercontent.com/Juanpe/About-SwiftUI/master/Assets/banner_about_swift.jpg\" alt=\"\"><br>WWDCå½“å¤©å¼€å§‹å»ºç«‹çš„ä¸€ä¸ªä¸“é—¨æ”¶é›†SwiftUIèµ„æ–™çš„ä»“åº“ï¼Œåº”è¯¥æ˜¯å²ä¸Šæœ€å…¨äº†ã€‚æœç„¶å¤§å®¶è¿˜æ˜¯æœ€çˆ±SwiftUIï¼</p>\n<h3 id=\"MovieSwiftUI\"><a href=\"#MovieSwiftUI\" class=\"headerlink\" title=\"MovieSwiftUI\"></a><a href=\"https://github.com/Dimillian/MovieSwiftUI\">MovieSwiftUI</a></h3><p>ä½¿ç”¨ <code>SwiftUI</code> &amp; <code>Combine</code>å’ŒMovieDB APIå®ç°çš„ä¸€æ¬¾åº”ç”¨ã€‚<br>Talk is cheap, show me the code.<br>ç»“åˆå®è·µæ˜¯æœ€å¿«é€Ÿçš„äº†è§£ä¸€ä¸ªæ¦‚å¿µçš„æ–¹å¼ã€‚è¿™ä¹Ÿæ˜¯æœ€è¿‘ä¸€æ®µæ—¶é—´ä¸Šå‡æœ€å¿«çš„<code>SwiftUI&amp;Combine</code>ç›¸å…³ä»“åº“äº†ã€‚</p>\n<h3 id=\"CombineSwiftPlayground\"><a href=\"#CombineSwiftPlayground\" class=\"headerlink\" title=\"CombineSwiftPlayground\"></a><a href=\"https://github.com/AvdLee/CombineSwiftPlayground\">CombineSwiftPlayground</a></h3><p>ä¸€ä¸ªå¸®åŠ©ç†è§£<code>Combine</code>æ¦‚å¿µçš„ Swift Playgroundã€‚å¯¹äºé¦–æ¬¡æ¥è§¦å“åº”å¼ç¼–ç¨‹çš„äººæ¥è¯´å…·ä½“äº‹ä¾‹æ˜¯å¸®åŠ©ç†è§£æ¦‚å¿µå¾ˆå¥½çš„æ–¹å¼ã€‚</p>\n<p>è¯¥Playgroundsè¦æ±‚Xcode11 beta2åŠä»¥ä¸Šç‰ˆæœ¬æ‰èƒ½æŸ¥çœ‹ã€‚</p>\n<h3 id=\"rxswift-to-combine-cheatsheet\"><a href=\"#rxswift-to-combine-cheatsheet\" class=\"headerlink\" title=\"rxswift-to-combine-cheatsheet\"></a><a href=\"https://github.com/freak4pc/rxswift-to-combine-cheatsheet\">rxswift-to-combine-cheatsheet</a></h3><p>åˆ—ä¸¾äº†<code>Combine</code>å’Œ<code>RxSwift</code>ä¹‹é—´çš„å·®åˆ«å’Œä¸€äº›æ¦‚å¿µä¸Šçš„å¯¹æ¯”ï¼Œå¯¹äºæœ‰ä¸€ç‚¹RxSwiftæ¦‚å¿µçš„äººæ¥è¯´å¯ä»¥å¿«é€Ÿçš„ç†è§£Combineï¼Œä¹Ÿæ˜¯å¯¹äºæƒ³ä»RxSwiftè¿ç§»è‡³Combineçš„ä¸€ä»½å‚è€ƒã€‚</p>\n<h2 id=\"æ–‡æ‘˜\"><a href=\"#æ–‡æ‘˜\" class=\"headerlink\" title=\"æ–‡æ‘˜\"></a>æ–‡æ‘˜</h2><blockquote>\n<p>æ™®é€šé€‰æ°‘ä¹Ÿå¼€å§‹æ„è¯†åˆ°ï¼Œæ°‘ä¸»æœºåˆ¶å·²ç»ä¸å†èƒ½å¤Ÿä¸ºä»–ä»¬å¸¦æ¥æƒåŠ›ã€‚ä¸–ç•Œæ­£åœ¨å˜åŒ–ï¼Œä½†ä»–ä»¬æ‘¸ä¸æ¸…å˜åŒ–çš„æ–¹å¼å’ŒåŸå› ã€‚æƒåŠ›æ­£åœ¨è½¬ç§»ï¼Œä½†é€‰æ°‘ä¸çŸ¥é“æƒåŠ›å»äº†å“ªå„¿ã€‚åœ¨è‹±å›½é€‰æ°‘çš„æƒ³è±¡ä¸­ï¼ŒæƒåŠ›è¢«æ¬§ç›Ÿå¤ºèµ°äº†ï¼Œæ‰€ä»¥ä»–ä»¬æŠ•ç¥¨è„±æ¬§ã€‚è€Œåœ¨ç¾å›½é€‰æ°‘çš„æƒ³è±¡ä¸­ï¼Œæ˜¯æ—¢å¾—åˆ©ç›Šè€…å„æ–­äº†æƒåŠ›ï¼Œæ‰€ä»¥ä»–ä»¬æ”¯æŒåä½“åˆ¶çš„å€™é€‰äººï¼Œæ¯”å¦‚ä¼¯å°¼Â·æ¡‘å¾·æ–¯å’Œå”çº³å¾·Â·ç‰¹æœ—æ™®ã€‚ä½†å¯æ‚²çš„äº‹å®æ˜¯ï¼Œæ²¡æœ‰äººçŸ¥é“æ‰€æœ‰çš„æƒåŠ›å»äº†å“ªå„¿ã€‚å°±ç®—è‹±å›½ç¦»å¼€æ¬§ç›Ÿã€ç‰¹æœ—æ™®æ¥æŒç™½å®«ï¼ŒæƒåŠ›ä¹Ÿç»ä¸ä¼šå›åˆ°æ™®é€šé€‰æ°‘èº«ä¸Šã€‚<br>â€“æœªæ¥ç®€å²</p>\n</blockquote>\n<h2 id=\"æœˆåº¦å°ç»“\"><a href=\"#æœˆåº¦å°ç»“\" class=\"headerlink\" title=\"æœˆåº¦å°ç»“\"></a>æœˆåº¦å°ç»“</h2><h3 id=\"å…³äºWWDC\"><a href=\"#å…³äºWWDC\" class=\"headerlink\" title=\"å…³äºWWDC\"></a>å…³äºWWDC</h3><p>WWDCå‘å¸ƒçš„ä¿¡æ¯é‡Œé¢æœ€è®©æˆ‘æ„Ÿå…´è¶£çš„å°±æ˜¯<code>SwiftUI</code>å’Œ<code>Combine</code>ï¼Œç›®å‰ä»Githubçš„æ´»è·ƒæƒ…å†µæ¥çœ‹ä¹Ÿæ˜¯è¿™ä¸¤ä¸ªæŠ€æœ¯ç›¸å…³ä»“äºæœ€å¤šã€‚SwiftUIè§£å†³äº†å†™UIå¸ƒå±€çš„ç—›ç‚¹ï¼Œè€ŒCombineçš„å‡ºç°è¡¨æ˜äº†è‹¹æœå¯¹å“åº”å¼ç¼–ç¨‹çš„è®¤å¯ï¼Œå¯¹äºæˆ‘è¿™ç§ä½¿ç”¨äº†ä¸€å¹´RxSwiftçš„äººæ¥è¯´ç®€ç›´æ˜¯ä¸€ç§ç¦éŸ³ã€‚è¿˜æœ‰ä¸€ç‚¹æ˜¯è¿™ä¸¤ä¸ªå¤§æ‹›éƒ½æ˜¯å¯¹Swiftçš„æ”¯æŒï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ä¿¡å·ï¼šSwiftå·²ç»å¾ˆæˆç†Ÿäº†ï¼Œå¾ˆå¼ºå¤§äº†ï¼Œä»¥åè¿˜ä¼šæœ‰æ›´å¤šæ›´å¥½çš„ä¼˜åŒ–ã€‚</p>\n<p>è¿‡å»å‡ å¹´ï¼Œä½ å¯ä»¥å¿½è§† Swiftï¼Œä½†æ˜¯ï¼Œæœªæ¥å‡ å¹´ï¼Œå¦‚æœä¸æ‹¥æŠ± Swiftï¼Œå°†æ— æ³•ç´§è·Ÿç€ Apple ç”Ÿæ€åœˆã€‚</p>\n<h3 id=\"å…³äºç”Ÿæ´»\"><a href=\"#å…³äºç”Ÿæ´»\" class=\"headerlink\" title=\"å…³äºç”Ÿæ´»\"></a>å…³äºç”Ÿæ´»</h3><p>ä»ä¸Šä¸ªæœˆå¼€å§‹æœ‰è§„å¾‹çš„è¿›è¡Œè·‘æ­¥ï¼Œä¸Šä¸ªæœˆè·‘æ­¥é‡Œç¨‹æ˜¯60kmï¼Œè¿™ä¸ªæœˆæ˜¯70kmï¼Œè·å¹´åˆå®šçš„ç›®æ ‡å·²ç»å®Œæˆäº†56%ã€‚<br>è·‘æ­¥å¸¦æ¥çš„ä¸€ä¸ªå¥½å¤„æ˜¯æœ€è¿‘ä¸€æ®µæ—¶é—´çš„ç¡çœ è´¨é‡æœ‰æ˜¾è‘—æé«˜ï¼Œç¡å¾—æ›´é¦™äº†ã€‚å¦‚æœä½ æœ‰ç¡çœ è´¨é‡é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘è·‘æ­¥è¿™ä¸ªæ–¹å¼å°è¯•è§£å†³å“¦ã€‚</p>\n<p>å°é¢å›¾æ¥è‡ªäºåœ¨å…¬å¸å›­åŒºè·‘é“ä¸Šçš„æ‹æ‘„ã€‚</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"iOSå¼€å‘æœˆæŠ¥#11|201905","url":"http://zhangferry.github.io/2019/06/03/monthly_11/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/marc-olivier-jodoin-291607-unsplash.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"å¯¹UISearchBaræ ·å¼çš„ä¿®æ”¹\"><a href=\"#å¯¹UISearchBaræ ·å¼çš„ä¿®æ”¹\" class=\"headerlink\" title=\"å¯¹UISearchBaræ ·å¼çš„ä¿®æ”¹\"></a>å¯¹UISearchBaræ ·å¼çš„ä¿®æ”¹</h3><p>1ã€å®Œæˆä¸€æ¬¡æœç´¢ä¹‹åï¼Œè°ƒç”¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">searchBar.resignFirstResponder()</span><br></pre></td></tr></table></figure>\n<p>éšè—é”®ç›˜ï¼Œä¼šå°†<br>searchBarçš„å–æ¶ˆæŒ‰é’®é»˜è®¤ç½®ä¸º<code>disEnable</code>ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ­¤æ—¶èƒ½å¤Ÿç›‘å¬å–æ¶ˆæŒ‰é’®çš„ç‚¹å‡»çŠ¶æ€ï¼Œéœ€è¦æ¢å¤å…¶å¯ç”¨çŠ¶æ€:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if let cancelButton &#x3D; searchBar.value(forKey: &quot;cancelButton&quot;) as? UIButton</span><br><span class=\"line\">    cancelButton.isEnabled &#x3D; true</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2ã€ä¿®æ”¹å–æ¶ˆæŒ‰é’®çš„æ–‡æ¡ˆ</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¿®æ”¹searchbarçš„å–æ¶ˆæŒ‰é’®æ–‡æ¡ˆ</span></span><br><span class=\"line\">searchBar.setValue(<span class=\"string\">\"delete\"</span>, forKey: <span class=\"string\">\"cancelButtonText\"</span>)</span><br></pre></td></tr></table></figure>\n<p>3ã€æ›´æ”¹å–æ¶ˆæŒ‰é’®æ–‡æ¡ˆæ ·å¼</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">UIBarButtonItem</span>.appearance(whenContainedInInstancesOf: [<span class=\"type\">UISearchBar</span>.<span class=\"keyword\">self</span>])</span><br><span class=\"line\">            .setTitleTextAttributes([<span class=\"type\">NSAttributedString</span>.<span class=\"type\">Key</span>.font: <span class=\"type\">UIFont</span>.systemFont(ofSize: <span class=\"number\">15</span>)], <span class=\"keyword\">for</span>: .normal)</span><br></pre></td></tr></table></figure>\n<p>4ã€æ›´æ”¹searchBaræ–‡æœ¬æ¡†æ–‡å­—æ ·å¼</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">UITextField</span>.appearance(whenContainedInInstancesOf: [<span class=\"type\">UISearchBar</span>.<span class=\"keyword\">self</span>])</span><br><span class=\"line\">         .defaultTextAttributes = [<span class=\"type\">NSAttributedString</span>.<span class=\"type\">Key</span>.font: <span class=\"type\">UIFont</span>.systemFont(ofSize: <span class=\"number\">15</span>)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸Šä¼ IAPæ—¶å‡ºç°TCP-443é—®é¢˜\"><a href=\"#ä¸Šä¼ IAPæ—¶å‡ºç°TCP-443é—®é¢˜\" class=\"headerlink\" title=\"ä¸Šä¼ IAPæ—¶å‡ºç°TCP 443é—®é¢˜\"></a>ä¸Šä¼ IAPæ—¶å‡ºç°TCP 443é—®é¢˜</h3><p>å…·ä½“é”™è¯¯ä¸ºï¼š </p>\n<blockquote>\n<p>Communication error. Please use diagnostic mode to check connectivity. You need to have outbound access to TCP port 443.</p>\n</blockquote>\n<p>è¿™æ˜¯ç”±äºä»£ç†é—®é¢˜å¼•èµ·çš„ä¸Šä¼ é”™è¯¯ï¼Œä¸Šä¼ IAPè‡³App Store Connectä¸éœ€è¦ä»£ç†ï¼Œå…³æ‰ä»£ç†ç»§ç»­ä¸Šä¼ å°±å¯ä»¥äº†ã€‚</p>\n<h3 id=\"ä¸Šä¼ IAPæ—¶å‡ºç°ï¼šWARNING-ITMS-90176\"><a href=\"#ä¸Šä¼ IAPæ—¶å‡ºç°ï¼šWARNING-ITMS-90176\" class=\"headerlink\" title=\"ä¸Šä¼ IAPæ—¶å‡ºç°ï¼šWARNING ITMS-90176\"></a>ä¸Šä¼ IAPæ—¶å‡ºç°ï¼šWARNING ITMS-90176</h3><p>å®Œæ•´é”™è¯¯ä¸ºï¼š</p>\n<blockquote>\n<p>WARNING ITMS-90176: â€œUnrecognized Locale - The locale names used in localization directories at ( â€œPayload/sandbox.app/AccountKitStrings.bundle/Resources/cb_IQ.lprojâ€ ) are invalid. iTunes supports BCP47 but not the UN M.49 specification. Refer to the Language and Locale Designations guide at <a href=\"https://developer.apple.com/library/content/documentation/MacOSX/Conceptual/BPInternational/LanguageandLocaleIDs/LanguageandLocaleIDs.html\">https://developer.apple.com/library/content/documentation/MacOSX/Conceptual/BPInternational/LanguageandLocaleIDs/LanguageandLocaleIDs.html</a> for more information on naming your language-specific directories.â€</p>\n</blockquote>\n<p>è¯¥é”™è¯¯æ˜¯ç”±Xcode9ä¸å†å…¼å®¹<code>cb_IQ.lproj</code>è¿™ä¸ªæ ¼å¼ï¼Œæ‰€ä»¥åªè¦ä¸€å‡º<code>AccountKitStrings.bundle</code>ä¸­çš„<code>cb_IQ.lproj</code>æ–‡ä»¶å³å¯ã€‚</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"Core-Image-ä¹‹è‡ªå®šä¹‰-Filter\"><a href=\"#Core-Image-ä¹‹è‡ªå®šä¹‰-Filter\" class=\"headerlink\" title=\"Core Image ä¹‹è‡ªå®šä¹‰ Filter~\"></a><a href=\"http://colin1994.github.io/2016/10/21/Core-Image-Custom-Filter/\">Core Image ä¹‹è‡ªå®šä¹‰ Filter~</a></h3><p>éå¸¸è¯¦ç»†çš„ä»‹ç»<code>Core Image</code>ä¸­<code>Filter</code>(æ»¤é•œ)æ¶‰åŠçš„æ¦‚å¿µå’Œä½¿ç”¨æ–¹æ³•ã€‚<br>ä½œè€…æ˜¯ç¾å›¾çš„iOSå¼€å‘å·¥ç¨‹å¸ˆï¼Œåšå®¢å¤šè®²è§£å›¾åƒå¤„ç†ç›¸å…³çŸ¥è¯†ï¼Œæ˜¯iOSå›¾åƒé¢†åŸŸçš„å¤§ç‰›ï¼Œæ¨èå…³æ³¨ã€‚</p>\n<h3 id=\"iOSå›¾å½¢å¤„ç†æ¦‚è®ºï¼šOpenGL-ESï¼ŒMetalï¼ŒCore-Graphicsï¼ŒCore-Imageï¼ŒGPUImageï¼ŒOpenCVç­‰\"><a href=\"#iOSå›¾å½¢å¤„ç†æ¦‚è®ºï¼šOpenGL-ESï¼ŒMetalï¼ŒCore-Graphicsï¼ŒCore-Imageï¼ŒGPUImageï¼ŒOpenCVç­‰\" class=\"headerlink\" title=\"iOSå›¾å½¢å¤„ç†æ¦‚è®ºï¼šOpenGL ESï¼ŒMetalï¼ŒCore Graphicsï¼ŒCore Imageï¼ŒGPUImageï¼ŒOpenCVç­‰\"></a><a href=\"https://juejin.im/post/5b5681b6f265da0f61320b0a\">iOSå›¾å½¢å¤„ç†æ¦‚è®ºï¼šOpenGL ESï¼ŒMetalï¼ŒCore Graphicsï¼ŒCore Imageï¼ŒGPUImageï¼ŒOpenCVç­‰</a></h3><p>å¯¹äºåˆšæ¥è§¦iOSå›¾å½¢ç›¸å…³æ¡†æ¶çš„å°ç™½ï¼Œæœ‰ä¸€äº›å›¾å½¢æ¡†æ¶åœ¨å­—é¢ä¸Šå’ŒåŠŸèƒ½ä¸Šéå¸¸å®¹æ˜“æ··æ·†ã€‚è¿™é‡Œæ—¨åœ¨æ€»ç»“ä¸€ä¸‹å„ç§æ¡†æ¶ï¼ŒåŒºåˆ†å®ƒä»¬çš„æ¦‚å¿µå’ŒåŠŸèƒ½ï¼Œä»¥ä½œæ—¥åè¿›ä¸€æ­¥ç»†åˆ†å­¦ä¹ çš„æŒ‡å¼•ã€‚</p>\n<h3 id=\"Swift-5-å­—ç¬¦ä¸²æ’å€¼ä¹‹ç¾\"><a href=\"#Swift-5-å­—ç¬¦ä¸²æ’å€¼ä¹‹ç¾\" class=\"headerlink\" title=\"Swift 5 å­—ç¬¦ä¸²æ’å€¼ä¹‹ç¾\"></a><a href=\"https://swift.gg/2019/02/21/the-beauty-of-swift-5-string-interpolation/\">Swift 5 å­—ç¬¦ä¸²æ’å€¼ä¹‹ç¾</a></h3><p>Swift5é™¤äº†ABIç¨³å®šå¹¶æ²¡æœ‰å¸¦æ¥å¾ˆå¤šè¯­æ³•ä¸Šçš„å˜åŒ–ï¼Œä½ å¦‚æœä»¥ä¸ºSwift5åªæœ‰ABIç¨³å®šé‚£ä½ å°±é”™äº†ï¼Œå®ƒè¿˜å¸¦æ¥äº†ä¸€ä¸ªå¾ˆå¼ºçš„ç‰¹æ€§â€”å­—ç¬¦ä¸²æ’å€¼ã€‚ä¸€å¼€å§‹æˆ‘è¿˜ä»¥ä¸ºå®ƒæ˜¯ä¸€ä¸ªå°ç‰¹æ€§ï¼Œä½†æ˜¯å½“æˆ‘æŠŠå®ƒå’Œ<code>AttributedStrings</code>, <code>sql</code>è”ç³»åˆ°ä¸€å—æ—¶ï¼Œæˆ‘æ‰å‘ç°ä»–çš„å¼ºå¤§ä¹‹å¤„ï¼</p>\n<p>è¿˜æœ‰ä¸€ç¯‡å°†å­—ç¬¦ä¸²æ’å€¼åº”ç”¨åˆ°<code>AttributedStrings</code>ä¸Šçš„æ–‡ç« : <a href=\"https://alisoftware.github.io/swift/2018/12/16/swift5-stringinterpolation-part2/\">StringInterpolation in Swift 5 â€” AttributedStrings</a></p>\n<h3 id=\"å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯\"><a href=\"#å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯\" class=\"headerlink\" title=\"å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯\"></a><a href=\"http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html\">å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯</a></h3><p>å…³äºå‡ ç§å¸¸è§å¼€æºè®¸å¯è¯çš„åŒºåˆ«ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190603164444.jpg\" alt=\"\"></p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"Python-100-Days\"><a href=\"#Python-100-Days\" class=\"headerlink\" title=\"Python-100-Days\"></a><a href=\"https://github.com/jackfrued/Python-100-Days\">Python-100-Days</a></h3><p>Python - 100å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆã€‚<br>ä½œä¸ºä¸€çº¿ç§»åŠ¨ç«¯å¼€å‘ï¼Œæˆ–å¤šæˆ–å°‘éƒ½æœ‰ç€ä¸€ä¸ªå…¨æ ˆçš„ç›®æ ‡ï¼Œè€Œä½œä¸ºåç«¯è¯­è¨€çš„Pythonæ— ç–‘æ˜¯æœ€ä½³é€‰æ‹©ã€‚ä¸€ä¸ªstaræ•°å¤šè¾¾3w+çš„Pythonæ•™å­¦é¡¹ç›®ï¼Œè¿™è¶³ä»¥è¯´æ˜Pythonçš„å—æ¬¢è¿ç¨‹åº¦ï¼Œè¿™ä»½æ•™ç¨‹çš„å—æ¬¢è¿ç¨‹åº¦ã€‚</p>\n<h3 id=\"markdown-weixin\"><a href=\"#markdown-weixin\" class=\"headerlink\" title=\"markdown-weixin\"></a><a href=\"https://github.com/cnych/markdown-weixin\">markdown-weixin</a></h3><p>ä¸€ä¸ªåœ¨çº¿å°† Markdown è½¬æ¢ä¸ºå¾®ä¿¡å…¬ä¼—å¸å·æ–‡ç« æ ¼å¼çš„å·¥å…·ã€‚<br><a href=\"http://md.qikqiak.com/\">http://md.qikqiak.com/</a></p>\n<h3 id=\"AssetsExtractor\"><a href=\"#AssetsExtractor\" class=\"headerlink\" title=\"AssetsExtractor\"></a><a href=\"https://github.com/pcjbird/AssetsExtractor\">AssetsExtractor</a></h3><p>ã€Assetsæå–å·¥å…·ã€æ˜¯ä¸€æ¬¾OSXå¹³å°ä¸Šç”¨äºå°†Assets.caræˆ–xxx.appä¸­æ‰“åŒ…çš„pngå›¾ç‰‡ã€pdfç­‰èµ„æºé‡æ–°æå–å‡ºæ¥çš„å¼€å‘è€…å·¥å…·ã€‚Assets.carå¸¸è§äºiOS/Mac/Unityç­‰å¼€å‘ä¸­çš„èµ„æºæ‰“åŒ…ã€‚</p>\n<h3 id=\"awesome-ios-bluetooth\"><a href=\"#awesome-ios-bluetooth\" class=\"headerlink\" title=\"awesome-ios-bluetooth\"></a><a href=\"https://github.com/zhangferry/awesome-ios-bluetooth\">awesome-ios-bluetooth</a></h3><p>ä¸€ä¸ªæ”¶é›†å¼€å‘iOSè“ç‰™åŠŸèƒ½èµ„æ–™çš„ä»“åº“ã€‚ä»å…¥é—¨å¿…è¯»ã€è“ç‰™å‡çº§ã€ANCSã€è°ƒè¯•å·¥å…·éƒ½æœ‰ä»‹ç»ã€‚ç›®å‰è¯¥åº“ç”±æˆ‘ç»´æŠ¤ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆè“ç‰™ç›¸å…³çš„é—®é¢˜å¯ä»¥æissueç»™æˆ‘ã€‚</p>\n<h3 id=\"firefox-ios\"><a href=\"#firefox-ios\" class=\"headerlink\" title=\"firefox-ios\"></a><a href=\"https://github.com/mozilla-mobile/firefox-ios\">firefox-ios</a></h3><p>ç«ç‹æµè§ˆå™¨çš„iOSå¼€æºåº“ï¼Œç”±Swift4.2ç¼–å†™ã€‚æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¯ä¾›å‚è€ƒå­¦ä¹ çš„å¼€æºé¡¹ç›®ã€‚</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"å°†é»‘è‹¹æœç³»ç»Ÿå‡çº§è‡³macOS 10.14.4(Mojave)","url":"http://zhangferry.github.io/2019/05/17/hackintosh_os_update/","content":"<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517203841.png\" alt=\"\"></p>\n<h2 id=\"åŸæœ‰é…ç½®\"><a href=\"#åŸæœ‰é…ç½®\" class=\"headerlink\" title=\"åŸæœ‰é…ç½®\"></a>åŸæœ‰é…ç½®</h2><p>æ“ä½œç³»ç»Ÿ: macOS 10.13.6<br>ä¸»æ¿ï¼šAORUS MASTER z390<br>CPU: intel core i7-8700<br>æ˜¾å¡ï¼šNVIDIA GTX 750<br>å†…å­˜ï¼šGeil 8G * 2<br>ç¡¬ç›˜ï¼štigo SSD 240G</p>\n<p>å¦‚æœè¦å‡10.14çš„ç³»ç»Ÿï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤çš„æ˜¯å½“å‰æ˜¾å¡æ˜¯å¦æ”¯æŒã€‚</p>\n<a id=\"more\"></a>\n<p>å¯ä»¥å‚ç…§è¿™ä¸ªè¡¨<a href=\"https://blog.daliansky.net/Mojave-Hardware-Support-List.html\">Mojaveç¡¬ä»¶æ”¯æŒåˆ—è¡¨ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰</a></p>\n<p>å¯ä»¥çœ‹åˆ°GTX 750å·²ç»æ— æ³•é©±åŠ¨äº†ï¼Œæ‰€ä»¥æ˜¾å¡è¦æ¢ã€‚æœ€å¥½æ¢æˆå…é©±çš„ï¼Œæˆ‘è¿™é‡Œé€‰äº†RX 560Dã€‚</p>\n<p><strong>æ³¨æ„äº‹é¡¹</strong><br>gtx750æ˜¯å³æ’å³ç”¨ï¼Œè€Œrx560dæœ‰ä¸“é—¨çš„ä¾›ç”µçº¿ï¼Œæ‰€ä»¥æ›´æ¢æ˜¾å¡æ—¶ä¸€å®šè¦æ³¨æ„åˆ«å¿˜äº†æ’rx560dçš„ä¾›ç”µçº¿ã€‚</p>\n<h2 id=\"å‡çº§å‡†å¤‡\"><a href=\"#å‡çº§å‡†å¤‡\" class=\"headerlink\" title=\"å‡çº§å‡†å¤‡\"></a>å‡çº§å‡†å¤‡</h2><p>ä¸ç®¡æ˜¯è£…é»‘è‹¹æœè¿˜æ˜¯å‡çº§é»‘è‹¹æœéƒ½éœ€è¦æœ‰ä¸€ä¸ªå¯åŠ¨Uç›˜ï¼Œå®ƒå¯ä»¥åœ¨æˆ‘ä»¬ç³»ç»Ÿé…ç½®é”™è¯¯æ— æ³•è¿›å…¥çš„æ—¶å€™ï¼Œå¸®åŠ©æˆ‘ä»¬é€šè¿‡Uç›˜è¿›å…¥ï¼Œç„¶åæˆ‘ä»¬å†æŠŠé…ç½®æ”¹å›æ¥å°±è¡Œäº†ã€‚</p>\n<h3 id=\"åˆ¶ä½œå¯åŠ¨Uç›˜ï¼ˆå¤§äº8G\"><a href=\"#åˆ¶ä½œå¯åŠ¨Uç›˜ï¼ˆå¤§äº8G\" class=\"headerlink\" title=\"åˆ¶ä½œå¯åŠ¨Uç›˜ï¼ˆå¤§äº8G)\"></a>åˆ¶ä½œå¯åŠ¨Uç›˜ï¼ˆå¤§äº8G)</h3><p>1ã€æ’å…¥Uç›˜<br>2ã€æ‰“å¼€ /Applications/Utilities/Disk Utilityï¼ˆç£ç›˜å·¥å…·ï¼‰<br>3ã€é€‰ä¸­Uç›˜<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517181447.png\" alt=\"\"><br>4ã€ç‚¹å‡»ä¸Šæ–¹ Erase é€‰é¡¹æŒ‰é’®<br>5ã€ä½ å¯ä»¥ä¿®æ”¹Uç›˜åç§°<br>6ã€Formatï¼šé€‰æ‹©Mac OS Extended(Journaled)ï¼Œä¸­æ–‡å¯¹åº”ï¼šMac OSæ‰©å±•(æ—¥å¿—)ï¼›<br>Schemeï¼šé€‰æ‹©GUID Partition Mapï¼Œä¸­æ–‡å¯¹åº”ï¼šGUID åˆ†åŒºæ˜ å°„<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517182006.png\" alt=\"\"><br>7ã€ç‚¹å‡»EraseæŒ‰é’®<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517182411.png\" alt=\"\"><br>8ã€ä¸‹è½½<a href=\"https://www.tonymacx86.com/resources/unibeast-9-2-0-mojave.426/\">UniBeast</a><br>UniBeastç‰ˆæœ¬è¦è·Ÿç³»ç»Ÿç‰ˆæœ¬å¯¹åº”ï¼Œéœ€è¦æ³¨å†Œtonymacx86è´¦å·æ‰èƒ½ä¸‹è½½ã€‚<br>9ã€å®‰è£…UniBeastï¼Œéœ€è¦æŠŠç³»ç»Ÿéœ€è¦è®¾ç½®æˆè‹±æ–‡æ‰èƒ½è¿›è¡Œå®‰è£…ã€‚è®¾ç½®å®Œæ¯•ï¼Œä¸€è·¯Continueã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517183045.png\" alt=\"\"><br>10ã€æ ¹æ®æç¤ºï¼Œé€‰æ‹©Installation Type/Bootloader Configuration/Graphics Configurationç„¶åå®Œæˆï¼Œå¼€å§‹Copyç³»ç»Ÿæ–‡ä»¶ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517183045.png\" alt=\"\"><br>11ã€æŠŠ<a href=\"https://www.tonymacx86.com/resources/multibeast-11-2-1-mojave.425/\">MultiBeast</a>æ‹–è¿›Uç›˜</p>\n<p>ç¿»è¯‘è‡ª<a href=\"https://www.tonymacx86.com/threads/unibeast-install-macos-mojave-on-any-supported-intel-based-pc.259381/\">tonymacx86</a></p>\n<h3 id=\"å‡çº§Clover\"><a href=\"#å‡çº§Clover\" class=\"headerlink\" title=\"å‡çº§Clover\"></a>å‡çº§Clover</h3><p>å¦‚æœæƒ³è¦å®‰è£…macOS Mojave 10.14ï¼Œå®ƒè¦æ±‚ä½ çš„<code>Clover Bootloader</code>ç‰ˆæœ¬ä¸ä½äºr4515ã€‚æœ€æ–°çš„Cloverç‰ˆæœ¬å¯ä»¥åœ¨è¿™<a href=\"https://github.com/Dids/clover-builder/releases\">ä¸‹è½½</a>ã€‚</p>\n<h2 id=\"å‡çº§ç³»ç»Ÿ\"><a href=\"#å‡çº§ç³»ç»Ÿ\" class=\"headerlink\" title=\"å‡çº§ç³»ç»Ÿ\"></a>å‡çº§ç³»ç»Ÿ</h2><p>ä¸‹è½½å¥½å‡çº§ç¨‹åºä¹‹åï¼Œç›´æ¥è¿›è¡Œå®‰è£…ã€‚ä¼šé‡å¯ä¸¤æ¬¡ï¼Œä¹‹åæ˜¯è¾ƒé•¿ä¸€æ®µæ—¶é—´çš„ç­‰å¾…ï¼ˆ20-30åˆ†é’Ÿï¼‰ï¼Œè·Ÿæ­£å¸¸macbookå‡çº§ä¸€æ ·çš„æµç¨‹ã€‚å¦‚æœæ²¡æœ‰æ„å¤–ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œé»‘è‹¹æœå‡çº§æˆåŠŸäº†ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190517203514.png\" alt=\"\"></p>\n<h2 id=\"å¯èƒ½çš„é—®é¢˜\"><a href=\"#å¯èƒ½çš„é—®é¢˜\" class=\"headerlink\" title=\"å¯èƒ½çš„é—®é¢˜\"></a>å¯èƒ½çš„é—®é¢˜</h2><h3 id=\"å…³æœºæ— æ³•æ–­ç”µ\"><a href=\"#å…³æœºæ— æ³•æ–­ç”µ\" class=\"headerlink\" title=\"å…³æœºæ— æ³•æ–­ç”µ\"></a>å…³æœºæ— æ³•æ–­ç”µ</h3><p>è¿™ä¸ªé—®é¢˜ç½‘ä¸Šæœ‰çš„è¯´åœ¨configæ–‡ä»¶ä¸­çš„Acpiå°†FixShutdowné€‰ä¸ºtrueï¼Œæœ‰çš„è¯´æ˜¯å¢åŠ ç”µé‡ä¿®å¤çš„efiæ–‡ä»¶ã€‚æˆ‘éƒ½è¯•è¿‡ï¼Œå‡æ— æ•ˆï¼Œæˆ‘çœ‹è¿™æ–¹é¢çš„å›ç­”æ—¶é—´éƒ½æ¯”è¾ƒä¹…ï¼Œåº”è¯¥æ˜¯æ—§ç‰ˆæœ¬çš„è§£å†³æ–¹æ¡ˆã€‚æ–°ç‰ˆæœ¬åªéœ€è¦å°†FixShutdownåˆ¶ä¸ºfalseå³å¯ã€‚</p>\n<h3 id=\"å®‰è£…è¿‡ç¨‹å¡åœ¨æœ€å2åˆ†é’Ÿæˆ–è€…å¡åœ¨æœ€å¼€å§‹18åˆ†é’Ÿ\"><a href=\"#å®‰è£…è¿‡ç¨‹å¡åœ¨æœ€å2åˆ†é’Ÿæˆ–è€…å¡åœ¨æœ€å¼€å§‹18åˆ†é’Ÿ\" class=\"headerlink\" title=\"å®‰è£…è¿‡ç¨‹å¡åœ¨æœ€å2åˆ†é’Ÿæˆ–è€…å¡åœ¨æœ€å¼€å§‹18åˆ†é’Ÿ\"></a>å®‰è£…è¿‡ç¨‹å¡åœ¨æœ€å2åˆ†é’Ÿæˆ–è€…å¡åœ¨æœ€å¼€å§‹18åˆ†é’Ÿ</h3><p>åœ¨EFIçš„drivers64UEFIæ–‡ä»¶ä¸­å¢åŠ <code>OsxAptioFixDrv3-64.efi</code>æ–‡ä»¶å³å¯ã€‚<br>å®Œæ•´çš„<a href=\"https://pan.baidu.com/s/1faSAQm7RbTGRqc6_y6P9Ug\">EFI</a>æ–‡ä»¶ï¼Œæå–ç ï¼šawxlã€‚</p>\n<h3 id=\"å¦‚æœå› ä¸ºé…ç½®å‡ºé”™æ— æ³•è¿›å…¥ç³»ç»Ÿ\"><a href=\"#å¦‚æœå› ä¸ºé…ç½®å‡ºé”™æ— æ³•è¿›å…¥ç³»ç»Ÿ\" class=\"headerlink\" title=\"å¦‚æœå› ä¸ºé…ç½®å‡ºé”™æ— æ³•è¿›å…¥ç³»ç»Ÿ\"></a>å¦‚æœå› ä¸ºé…ç½®å‡ºé”™æ— æ³•è¿›å…¥ç³»ç»Ÿ</h3><p>åœ¨BIOSç•Œé¢é€‰æ‹©Uç›˜å¯åŠ¨ï¼Œå³å¯é€šè¿‡Uç›˜é…ç½®çš„EFIè¿›å…¥ç³»ç»Ÿã€‚ç„¶åæ›´æ”¹æ­£ç¡®è®¾ç½®å³å¯ã€‚</p>\n<h3 id=\"é‡è¦æ–‡ä»¶è®°å¾—å¤‡ä»½\"><a href=\"#é‡è¦æ–‡ä»¶è®°å¾—å¤‡ä»½\" class=\"headerlink\" title=\"é‡è¦æ–‡ä»¶è®°å¾—å¤‡ä»½\"></a>é‡è¦æ–‡ä»¶è®°å¾—å¤‡ä»½</h3><ul>\n<li>Time Machine å…è´¹</li>\n<li><a href=\"https://bombich.com/\">Carbon Copy Cloner</a> ï¿¥290.15</li>\n<li><a href=\"https://www.shirt-pocket.com/SuperDuper/SuperDuperDescription.html\">Super Duper</a> $27.95</li>\n</ul>\n<p>Time Machineå› ä¸ºæ˜¯è‹¹æœè‡ªå¸¦çš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜å…è´¹ï¼Œæ¯”è¾ƒæ¨èä½¿ç”¨è¿™ä¸ªã€‚é™„ä¸€ä»½<a href=\"https://support.apple.com/zh-cn/HT201250\">æ•™ç¨‹</a></p>\n<h3 id=\"å…¶ä»–é—®é¢˜\"><a href=\"#å…¶ä»–é—®é¢˜\" class=\"headerlink\" title=\"å…¶ä»–é—®é¢˜\"></a>å…¶ä»–é—®é¢˜</h3><p>å½“ç„¶é…ç½®é»‘è‹¹æœçš„æœºå‹ç»„åˆæœ‰å¾ˆå¤šç§ï¼Œå¯èƒ½ä¼šé‡åˆ°å„å¼å„æ ·çš„é—®é¢˜ã€‚è¿™é‡Œå†è´´å‡ ä¸ªå¯ä»¥å‚è€ƒçš„é“¾æ¥ï¼š<br><a href=\"https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html\">macOS Mojave 10.14å®‰è£…ä¸­å¸¸è§çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</a><br><a href=\"https://github.com/tsingui/clover-efi\">Hackintoshé»‘è‹¹æœé©±åŠ¨Clover</a></p>\n","categories":[],"tags":["é»‘è‹¹æœ"]},{"title":"ã€è¯‘ã€‘iOS13æ–°ç‰¹æ€§æŠ¢é²œçœ‹","url":"http://zhangferry.github.io/2019/05/10/iOS13_new_features/","content":"<blockquote>\n<p><a href=\"https://www.macrumors.com/roundup/ios-13/\">åŸæ–‡é“¾æ¥</a><br>ä½œè€…ï¼šMacRumors Staff<br>åŸæ–‡æ—¥æœŸï¼š2019-5-2</p>\n</blockquote>\n<h2 id=\"åˆè§ˆ\"><a href=\"#åˆè§ˆ\" class=\"headerlink\" title=\"åˆè§ˆ\"></a>åˆè§ˆ</h2><p>iOS13æ˜¯è‹¹æœé’ˆå¯¹iPhoneå’ŒiPadçš„ä¸‹ä¸€ä»£æ“ä½œç³»ç»Ÿï¼Œå°†ä¼šåœ¨6æœˆä»½çš„WWDCä¸Šå’Œå¤§å®¶åˆæ¬¡è§é¢ã€‚ä¼ é—»çš„åŠŸèƒ½åŒ…æ‹¬å¤œé—´æ¨¡å¼ã€iPadç•Œé¢æ›´æ–°å’Œæ–°çš„ä¸»å±å¹•ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"æˆ‘ä»¬å¯ä»¥æœŸå¾…ä»€ä¹ˆ\"><a href=\"#æˆ‘ä»¬å¯ä»¥æœŸå¾…ä»€ä¹ˆ\" class=\"headerlink\" title=\"æˆ‘ä»¬å¯ä»¥æœŸå¾…ä»€ä¹ˆ\"></a>æˆ‘ä»¬å¯ä»¥æœŸå¾…ä»€ä¹ˆ</h2><p>è‹¹æœä½äºåŠ å·çš„æ€»éƒ¨å·²ç»åœ¨å¼€å‘iOSæ“ä½œç³»ç»Ÿçš„ä¸‹ä¸€ä¸ªå‡çº§ç‰ˆæœ¬ï¼Œè¯¥ç³»ç»Ÿå¯ä»¥åœ¨iPhoneã€iPadå’ŒiPod touchä¸Šè¿è¡Œã€‚</p>\n<p>è™½ç„¶ç›®å‰æˆ‘ä»¬å¯¹è¿™æ¬¾æ–°è½¯ä»¶çš„äº†è§£æœ‰é™ï¼Œä½†æˆ‘ä»¬å·²ç»å¬åˆ°äº†ä¸€äº›æœ‰è¶£çš„ä¼ è¨€ï¼Œè¿™äº›ä¼ è¨€é€éœ²äº†ä¸€äº›æˆ‘ä»¬æœ‰æœ›åœ¨æ­¤æ¬¡æ›´æ–°ä¸­çœ‹åˆ°çš„åŠŸèƒ½å’Œå˜åŒ–ï¼Œæ ¹æ®ä¹‹å‰çš„æ›´æ–°ï¼Œè¿™æ¬¡æ›´æ–°å°†è¢«å‘½åä¸ºâ€œiOS 13â€ã€‚<a href=\"https://www.macrumors.com/roundup/ios-12/\">iOS 12</a>æ ‡å¿—ç€è‹¹æœiOSå¼€å‘æ”¿ç­–çš„é‡å¤§è½¬å˜ï¼Œå·¥ç¨‹å¸ˆä»¬ç°åœ¨æœ‰äº†æ›´å¤šçš„è‡ªç”±ï¼Œå¯ä»¥åœ¨å¿…è¦æ—¶æ¨å‡ºå°šæœªå‡†å¤‡å¥½çš„åŠŸèƒ½ã€‚</p>\n<p>ç”±äºè¿™ä¸ªåŸå› ï¼ŒiOS 13å¯èƒ½æ¯”ä¹‹å‰çš„æ›´æ–°æ›´åŠ æˆç†Ÿï¼ŒåŒæ—¶ï¼Œä»»ä½•æœªæœ€ç»ˆç¡®å®šçš„åŠŸèƒ½éƒ½æœ‰å¯èƒ½è¢«æ¨è¿Ÿã€‚</p>\n<p>ç”±äºè‹¹æœåœ¨iOS 12åˆ°iOS 13ä¹‹é—´ä¸“æ³¨äºbugä¿®å¤å’Œåº•å±‚æ”¹è¿›æ‰€å¼•èµ·çš„å»¶è¿Ÿï¼Œæˆ‘ä»¬å·²ç»è·å–äº†æƒŠäººæ•°é‡çš„æ³„æ¼ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥é¢„è§6æœˆä»½iOS 13ä¸å°‘çš„ç‰¹æ€§ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥é¢„è§çš„åŠŸèƒ½åŒ…æ‹¬å¤œæ™šæ¨¡å¼ï¼ŒéŸ³é‡å¤–è§‚çš„æ”¹å˜ï¼ŒiPadä¸Šå…³äºå¤šä»»åŠ¡çš„æ›´æ–°ï¼Œæ–°çš„æ’¤é”€æ‰‹åŠ¿ï¼Œä¸€ä¸ªåˆå¹¶äº†â€œå¯»æ‰¾æ‰‹æœºâ€å’Œâ€œå¯»æ‰¾æœ‹å‹â€çš„APPï¼šâ€œå¯»æ‰¾æˆ‘çš„æ‰‹æœºâ€ï¼Œé—¹é’Ÿå’Œé‚®ä»¶çš„æ›´æ–°ï¼Œä»¥åŠåƒiOS appå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨Macä¸Šä½¿ç”¨è¿™æ ·çš„æ‰©å¹³å°èƒ½åŠ›ã€‚</p>\n<p>æˆ‘ä»¬æœ‰æœ›åœ¨6æœˆä»½çš„WWDCé¦–æ¬¡ä¸€ç¹iOS 13çš„é£é‡‡ï¼Œå±Šæ—¶å°†æ­£å¼å‘å¸ƒæ–°æ¬¾iPhoneã€‚å¼€å‘è€…å’Œå¼€æ”¾çš„æµ‹è¯•äººå‘˜å°†æ›´æ—©ä¸€ç‚¹ä½¿ç”¨åˆ°è¿™æ¬¡æ›´æ–°ï¼Œbetaç‰ˆæœ¬ç³»ç»Ÿæµ‹è¯•æœŸé—´ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåœ¨MacRumors.comä¸ŠæŒç»­è·Ÿè¿›æ–°çš„ç‰¹æ€§å’Œæ”¹å˜ã€‚</p>\n<h2 id=\"å¯èƒ½çš„ç‰¹æ€§\"><a href=\"#å¯èƒ½çš„ç‰¹æ€§\" class=\"headerlink\" title=\"å¯èƒ½çš„ç‰¹æ€§\"></a>å¯èƒ½çš„ç‰¹æ€§</h2><h3 id=\"å¤œé—´æ¨¡å¼\"><a href=\"#å¤œé—´æ¨¡å¼\" class=\"headerlink\" title=\"å¤œé—´æ¨¡å¼\"></a>å¤œé—´æ¨¡å¼</h3><p>iOS 13å°†é¦–æ¬¡æ‹¥æœ‰å¤œé—´æ¨¡å¼ï¼Œè¿™ä¸ªåŠŸèƒ½iOSç”¨æˆ·å·²ç»æœŸç›¼äº†ç›¸å½“ä¸€æ®µæ—¶é—´äº†ã€‚è¿™ä¸ªå¤œé—´æ¨¡å¼å’ŒMacOS Mojaveé‡Œçš„å¤œé—´æ¨¡å¼ç›¸å‘¼åº”ï¼Œå®ƒä¼šä¼šä½¿ç”¨æˆ·æ‹¥æœ‰ä¸€ä¸ªæ›´å¥½çš„å¤œæ™šè§‚çœ‹ä½“éªŒã€‚ä»Šå¹´çš„WWDCé‡Œæœ‰ä¸€å¼ å¤œé—´ä¸»é¢˜çš„æ•ˆæœå›¾ï¼Œå¯èƒ½æ­£æš—ç¤ºäº†å³å°†åˆ°æ¥çš„iOS 13çš„å¤œé—´æ¨¡å¼ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190506161208.jpg\" alt=\"\"></p>\n<h3 id=\"iPadè°ƒæ•´\"><a href=\"#iPadè°ƒæ•´\" class=\"headerlink\" title=\"iPadè°ƒæ•´\"></a>iPadè°ƒæ•´</h3><p>iOS 13ä¸­å°†æœ‰å‡ ä¸ªç‰¹æ€§æ˜¯å…³äºiPadçš„ã€‚æ®è¯´ï¼Œè‹¹æœå°†æ¨å‡ºä¸€é¡¹åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªiPadåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨tabè§†å›¾æ˜¾ç¤ºå¤šä¸ªçª—å£ã€‚æ”¹è¿›çš„å¤šä»»åŠ¡å¤„ç†åŠŸèƒ½å°†åœ¨iOS 13ä¸­å®ç°ï¼ŒiPadåº”ç”¨ç¨‹åºæ”¯æŒå¤šä¸ªçª—å£å’Œåº”ç”¨ç¨‹åºå†…çš„å¯å †å å¡ã€‚åº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹æ˜¯ï¼Œæœ€åˆé™„åŠ åœ¨å±å¹•æŸä¸€éƒ¨åˆ†ä¸Šçš„è¡¨æ ¼ï¼Œå¯ä»¥é€šè¿‡æ‹–åŠ¨æ‰‹åŠ¿åˆ†ç¦»ï¼Œå˜æˆä¸€å¼ å¯ä»¥æ“çºµçš„å¡ç‰‡ã€‚</p>\n<p>å¡ç‰‡å¯ä»¥å åœ¨å¦ä¸€å¼ ä¸Šé¢ï¼Œæ·±åº¦æ•ˆæœå°†æŒ‡ç¤ºå¡ç‰‡çš„ä¸Šä¸‹æ•ˆæœï¼Œå¿«é€Ÿæ»‘åŠ¨å¡ç‰‡å°†ä½¿å®ƒæ¶ˆå¤±ã€‚</p>\n<h3 id=\"æ–°çš„æ‰‹åŠ¿\"><a href=\"#æ–°çš„æ‰‹åŠ¿\" class=\"headerlink\" title=\"æ–°çš„æ‰‹åŠ¿\"></a>æ–°çš„æ‰‹åŠ¿</h3><p>iPadæˆ–å°†æ‹¥æœ‰ä¸€ä¸ªæ–°çš„å¯¹äºæ ‡å‡†æ–‡æœ¬è¾“å…¥æ—¶çš„æ’¤é”€æ‰‹åŠ¿ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä¸‰æ ¹æ‰‹æŒ‡è½»æ•²é”®ç›˜åŒºåŸŸï¼Œç„¶åå‘å·¦æˆ–è€…å‘å³æ»‘åŠ¨ï¼Œå°±å¯ä»¥æ’¤é”€æˆ–è€…é‡åšä¸€ä¸ªåŠ¨ä½œã€‚</p>\n<p>æ–°çš„æ‰‹åŠ¿å°†å…è®¸ç”¨æˆ·åœ¨è¡¨è§†å›¾å’Œé›†åˆè§†å›¾ä¸­é€‰æ‹©å¤šä¸ªé¡¹ç›®ï¼Œå…è®¸ä»–ä»¬åœ¨é¡¹ç›®åˆ—è¡¨ä¸Šæ‹–åŠ¨å¤šä¸ªæ‰‹æŒ‡æ¥ç»˜åˆ¶é€‰æ‹©ï¼Œç±»ä¼¼äºMacä¸Šçš„å•å‡»å’Œæ‹–åŠ¨Finderã€‚</p>\n<h3 id=\"éŸ³é‡æŒ‡ç¤ºå™¨æ›´æ–°\"><a href=\"#éŸ³é‡æŒ‡ç¤ºå™¨æ›´æ–°\" class=\"headerlink\" title=\"éŸ³é‡æŒ‡ç¤ºå™¨æ›´æ–°\"></a>éŸ³é‡æŒ‡ç¤ºå™¨æ›´æ–°</h3><p>iOS 13è·å¥–åŒ…å«ä¸€ä¸ªæ–°çš„éŸ³é‡æŒ‡ç¤ºå™¨ï¼Œå®ƒä¼šæ¯”ç°åœ¨çš„æŒ‡ç¤ºå™¨æ ·å¼æ›´ç¼“å’Œã€‚</p>\n<h3 id=\"é‚®ä»¶\"><a href=\"#é‚®ä»¶\" class=\"headerlink\" title=\"é‚®ä»¶\"></a>é‚®ä»¶</h3><p>æ–°çš„é‚®ä»¶appå°†æŠŠé‚®ä»¶å†…å®¹åˆ†æˆå¸‚åœºã€è´­ä¹°ã€æ—…æ¸¸ã€ä¸é‡è¦ã€æ›´å¤šç­‰å¯æœç´¢åˆ†ç±»ã€‚æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªç¨åé˜…è¯»çš„é˜Ÿåˆ—å’Œä¸€ä¸ªé’ˆå¯¹ç‰¹æ®Šé‚®ä»¶çº¿ç¨‹çš„é™éŸ³æ”¶ä»¶é€‰é¡¹ã€‚</p>\n<h3 id=\"è·¨å¹³å°çš„iOSå’ŒMacåº”ç”¨\"><a href=\"#è·¨å¹³å°çš„iOSå’ŒMacåº”ç”¨\" class=\"headerlink\" title=\"è·¨å¹³å°çš„iOSå’ŒMacåº”ç”¨\"></a>è·¨å¹³å°çš„iOSå’ŒMacåº”ç”¨</h3><p>åœ¨iOS 12å’ŒmacOS Mojaveçš„æ—¶å€™ï¼Œè‹¹æœå¼•å…¥äº†ä¸€ä¸ªæ–°æ¡†æ¶æ¡¥æ¥iOSå’ŒMacä¹‹é—´çš„åº”ç”¨ï¼Œä½œä¸ºæµ‹è¯•ï¼Œåƒè‚¡ç¥¨ã€å®¶åº­å’Œå½•éŸ³ç­‰iOSç‹¬äº«çš„appè¢«å‘å¸ƒåˆ°macOSä¸Šã€‚åœ¨iOS 13å’ŒmacOS10.15, è‹¹æœè®¡åˆ’å‘å¼€å‘è€…æ‰©å¤§è¿™ä¸ªåŠŸèƒ½ï¼Œè¿™å°†ä½¿å¾—åº”ç”¨ä»iOSå¹³å°åˆ°Macä¸Šçš„è¿ç§»æ›´åŠ å®¹æ˜“ã€‚</p>\n<h3 id=\"æ–°ç‰ˆâ€œæ‰¾åˆ°æˆ‘çš„æ‰‹æœºâ€\"><a href=\"#æ–°ç‰ˆâ€œæ‰¾åˆ°æˆ‘çš„æ‰‹æœºâ€\" class=\"headerlink\" title=\"æ–°ç‰ˆâ€œæ‰¾åˆ°æˆ‘çš„æ‰‹æœºâ€\"></a>æ–°ç‰ˆâ€œæ‰¾åˆ°æˆ‘çš„æ‰‹æœºâ€</h3><p>è‹¹æœæ­£åœ¨å¼€å‘ä¸€ä¸ªèåˆâ€œæŸ¥æ‰¾æœ‹å‹â€å’Œâ€œæŸ¥æ‰¾iPhoneâ€çš„æ–°åº”ç”¨ï¼Œå®ƒå¾ˆå¯èƒ½ä¼šéšç€iOS 13å’ŒmacOS 10.15ä¸€åŒå‘å¸ƒã€‚è¯¥åº”ç”¨ç¨‹åºå°†åŒ…æ‹¬ä¸€ä¸ªæ–°çš„â€œæŸ¥æ‰¾ç½‘ç»œâ€åŠŸèƒ½ï¼Œå…è®¸è‹¹æœè®¾å¤‡è¢«è·Ÿè¸ªï¼Œå³ä½¿æ²¡æœ‰è¿æ¥åˆ°Wi-Fiæˆ–èœ‚çªç½‘ç»œï¼ŒåŸç†æ˜¯åˆ©ç”¨é™„è¿‘çš„å…¶ä»–è®¾å¤‡ã€‚</p>\n<p>è¿™ä¸ªåº”ç”¨å°†åŒ…æ‹¬å·²æœ‰çš„æŸ¥æ‰¾æ‰‹æœºåŠŸèƒ½ï¼Œåƒä¸¢å¤±æ¨¡å¼ã€è¿œç¨‹æ“¦é™¤è®¾å¤‡ã€‚ä»â€œæŸ¥æ‰¾æœ‹å‹â€ä¸­æå–çš„åŸºäºä½ç½®çš„å…±äº«é€‰é¡¹ä¹Ÿä»ç„¶å¯ç”¨ã€‚</p>\n<p>æ®è¯´è‹¹æœè¿˜åœ¨ç ”ç©¶ä¸€ä¸ªç›¸å…³çš„ç¡¬ä»¶äº§å“ï¼Œåƒæ˜¯ç“¦ç‰‡ä¸€æ ·çš„è·Ÿè¸ªå™¨ã€‚å®ƒè¢«æè¿°ä¸ºä¸€ä¸ªâ€œæ ‡ç­¾â€ï¼Œèƒ½å¤Ÿé™„ç€åœ¨ä»»ä½•è®¾å¤‡ä¸Šï¼Œå¹¶ä¸”é€šè¿‡ç”¨æˆ·çš„iCloudè´¦å·è¿›è¡Œé…å¯¹ã€‚å½“ç”¨æˆ·è·ç¦»ä»–ä»¬ç»‘å®šçš„è®¾å¤‡å¤ªè¿œçš„è¯ï¼Œè¿™ä¸ªå°ä¸œè¥¿å°±ä¼šå‘å‡ºæŠ¥è­¦å£°ï¼Œå®ƒæ˜¯åŸºäºä¸iPhoneä¹‹é—´çš„è·ç¦»å·¥ä½œçš„ã€‚è‹¹æœæ²¡è¯´ä»€ä¹ˆæ—¶å€™å‘å¸ƒå®ƒï¼Œä½†æ˜¯æœ‰å¯èƒ½æ˜¯è·Ÿæ–°ç‰ˆiPhoneä¸€åŒå‘å¸ƒã€‚</p>\n<h3 id=\"åœ°å›¾\"><a href=\"#åœ°å›¾\" class=\"headerlink\" title=\"åœ°å›¾\"></a>åœ°å›¾</h3><p>æ–°ç‰ˆçš„åœ°å›¾åº”ç”¨å°†ä½¿å“ªäº›å¸¸ç”¨åœ°å€åƒæ˜¯å®¶æˆ–è€…å…¬å¸çš„è®¾ç½®å’Œå¯¼èˆªæ›´ç®€å•ã€‚é¢‘ç¹ä½¿ç”¨çš„åœ°å€ä¿¡æ¯å°†ä¼šæ›´é«˜æ•ˆçš„åˆ†ç±»ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºä»–ä»¬é…ä¸Šå›¾ç‰‡ã€‚</p>\n<h3 id=\"æé†’äº‹é¡¹\"><a href=\"#æé†’äº‹é¡¹\" class=\"headerlink\" title=\"æé†’äº‹é¡¹\"></a>æé†’äº‹é¡¹</h3><p>ä¸€ä¸ªæ–°çš„æé†’åº”ç”¨ç¨‹åºå°†åœ¨ä¸€ä¸ªç½‘æ ¼ä¸­åŒ…å«å››ä¸ªé»˜è®¤éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ä»Šå¤©è¦å®Œæˆçš„ä»»åŠ¡ã€æ‰€æœ‰ä»»åŠ¡ã€è®¡åˆ’ä»»åŠ¡å’Œæ ‡è®°ä»»åŠ¡ã€‚</p>\n<h3 id=\"å›¾ä¹¦\"><a href=\"#å›¾ä¹¦\" class=\"headerlink\" title=\"å›¾ä¹¦\"></a>å›¾ä¹¦</h3><p>æ–°ç‰ˆçš„å›¾ä¹¦åº”ç”¨å°†åŒ…å«ä¸€ä¸ªæ–°çš„è¿›åº¦è¿½è¸ªåŠŸèƒ½å’Œä¸€ä¸ªæ—¨åœ¨é¼“åŠ±ç”¨æˆ·é˜…è¯»çš„å¥–åŠ±ç³»ç»Ÿã€‚</p>\n<h3 id=\"å®¶åº­\"><a href=\"#å®¶åº­\" class=\"headerlink\" title=\"å®¶åº­\"></a>å®¶åº­</h3><p>æ–°çš„å®¶åº­åº”ç”¨å°†æ›´å¥½åœ°ä¸å®‰å…¨æ‘„åƒå¤´é›†æˆï¼Œå¹¶å°†æä¾›ä¸€é¡¹æ— éœ€ç¬¬ä¸‰æ–¹åº”ç”¨å°±èƒ½æŸ¥çœ‹è¿‡å»å½•éŸ³çš„åŠŸèƒ½ã€‚</p>\n<h3 id=\"å¥åº·\"><a href=\"#å¥åº·\" class=\"headerlink\" title=\"å¥åº·\"></a>å¥åº·</h3><p>æ–°çš„å¥åº·åº”ç”¨å°†æœ‰ä¸€ä¸ªæ”¹è‰¯çš„æ¯æ—¥æ´»åŠ¨è§†å›¾å’Œæ›´åŠ å…¨é¢çš„æœˆç»å‘¨æœŸè·Ÿè¸ªã€‚è¿˜ä¼šæœ‰ä¸€ä¸ªâ€œå¬åŠ›å¥åº·â€çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥æµ‹é‡ä½ è€³æœºå’Œå‘¨å›´ç¯å¢ƒçš„éŸ³é‡ã€‚</p>\n<h2 id=\"å…¶ä»–æ–°åŠŸèƒ½\"><a href=\"#å…¶ä»–æ–°åŠŸèƒ½\" class=\"headerlink\" title=\"å…¶ä»–æ–°åŠŸèƒ½\"></a>å…¶ä»–æ–°åŠŸèƒ½</h2><h3 id=\"é€Ÿåº¦æå‡å’Œbugä¿®å¤\"><a href=\"#é€Ÿåº¦æå‡å’Œbugä¿®å¤\" class=\"headerlink\" title=\"é€Ÿåº¦æå‡å’Œbugä¿®å¤\"></a>é€Ÿåº¦æå‡å’Œbugä¿®å¤</h3><p>iOS 13å’ŒiOS 12å¾ˆåƒï¼Œå°†ä¼šæé«˜è¿è¡Œé€Ÿåº¦ï¼Œå¹¶ä¿®å¤ä¸€ä¸ªbugã€‚</p>\n<h3 id=\"é”®ç›˜\"><a href=\"#é”®ç›˜\" class=\"headerlink\" title=\"é”®ç›˜\"></a>é”®ç›˜</h3><p>å°†ä¼šæœ‰ä¸€ä¸ªæ–°çš„é»˜è®¤çš„åŸºäºæ»‘åŠ¨çš„é”®ç›˜å¯ç”¨ï¼Œç±»ä¼¼äºSwiftKeyã€‚</p>\n<h3 id=\"å­—ä½“\"><a href=\"#å­—ä½“\" class=\"headerlink\" title=\"å­—ä½“\"></a>å­—ä½“</h3><p>å­—ä½“ç®¡ç†å°†åœ¨iOS 13ä¸­å¾—åˆ°æ”¹è¿›ï¼Œè®¾ç½®åº”ç”¨ç¨‹åºå°†è·å¾—ä¸€ä¸ªæ–°çš„å­—ä½“ç®¡ç†èœå•ã€‚</p>\n<h3 id=\"æ›´æ–°åˆ†äº«æ \"><a href=\"#æ›´æ–°åˆ†äº«æ \" class=\"headerlink\" title=\"æ›´æ–°åˆ†äº«æ \"></a>æ›´æ–°åˆ†äº«æ </h3><p>åœ¨iOS 13ä¸­ï¼Œç”¨äºå…±äº«ç…§ç‰‡å’Œwebé“¾æ¥çš„å…±äº«è¡¨å•ç•Œé¢å°†å˜å¾—æ›´åŠ æ™ºèƒ½ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥å‘å…¶ä¸­å‘é€å†…å®¹ã€‚</p>\n<h3 id=\"Safari\"><a href=\"#Safari\" class=\"headerlink\" title=\"Safari\"></a>Safari</h3><p>åœ¨iPadçš„iOS 13ç³»ç»Ÿä¸­ï¼ŒSafariä¼šåœ¨å¿…è¦æ—¶è‡ªåŠ¨åŠ è½½æ¡Œé¢ç‰ˆæœ¬çš„ç½‘ç«™ã€‚è‹¹æœæ­£åœ¨æµ‹è¯•ä¸€æ¬¾Safariä¸‹è½½ç®¡ç†å™¨ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹ä¸‹è½½ã€‚</p>\n<h3 id=\"ç…§ç‰‡å®å†µæ›´æ–°\"><a href=\"#ç…§ç‰‡å®å†µæ›´æ–°\" class=\"headerlink\" title=\"ç…§ç‰‡å®å†µæ›´æ–°\"></a>ç…§ç‰‡å®å†µæ›´æ–°</h3><p>è‹¹æœè®¡åˆ’å°†ç…§ç‰‡å®å†µçš„è§†é¢‘é•¿åº¦å»¶é•¿è‡³åŸæ¥çš„ä¸¤å€ï¼Œä¹Ÿå°±æ˜¯ä»3ç§’å˜æˆ6ç§’ã€‚</p>\n<h3 id=\"å—¨Siri\"><a href=\"#å—¨Siri\" class=\"headerlink\" title=\"å—¨Siri\"></a>å—¨Siri</h3><p>â€å—¨Siriâ€œå°†ä¼šæ›´å¥½çš„è¿‡æ»¤åƒæ˜¯ç¬‘å£°å’Œå­©å­å“­å£°è¿™ç§ç¯å¢ƒéŸ³ã€‚</p>\n<h3 id=\"å±å¹•ä½¿ç”¨æ—¶é—´\"><a href=\"#å±å¹•ä½¿ç”¨æ—¶é—´\" class=\"headerlink\" title=\"å±å¹•ä½¿ç”¨æ—¶é—´\"></a>å±å¹•ä½¿ç”¨æ—¶é—´</h3><p>å±å¹•ä½¿ç”¨æ—¶é—´åŠŸèƒ½å°†å¢åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ç”¨äºé™åˆ¶å­©å­å¯¹æ‰‹æœºçš„ä½¿ç”¨ï¼Œå¯ä»¥è®¾å®šä¸€ä¸ªå¯ä»¥å’Œä¸å¯ä»¥ç©çš„æ—¶é—´ã€‚</p>\n<h3 id=\"ç•Œé¢çš„æ›´æ–°\"><a href=\"#ç•Œé¢çš„æ›´æ–°\" class=\"headerlink\" title=\"ç•Œé¢çš„æ›´æ–°\"></a>ç•Œé¢çš„æ›´æ–°</h3><p>å½“å¯åŠ¨å¤šä»»åŠ¡å¤„ç†é¢æ¿å¹¶å…³é—­åº”ç”¨ç¨‹åºæ—¶ï¼Œå°†ä¼šæœ‰ä¸€ä¸ªæ–°çš„åŠ¨ç”»ï¼ŒiPadçš„ä¸»å±å¹•å°†ä¼šå‘ç”Ÿä¸€äº›å˜åŒ–ã€‚</p>\n<h3 id=\"æ–‡ä»¶åº”ç”¨çš„ä¿®æ”¹\"><a href=\"#æ–‡ä»¶åº”ç”¨çš„ä¿®æ”¹\" class=\"headerlink\" title=\"æ–‡ä»¶åº”ç”¨çš„ä¿®æ”¹\"></a>æ–‡ä»¶åº”ç”¨çš„ä¿®æ”¹</h3><p>è™½ç„¶å…³äºä¸€ä¸ªæ”¹ç‰ˆåçš„æ–‡ä»¶åº”ç”¨ç¨‹åºä¼šæ˜¯ä»€ä¹ˆæ ·å­çš„ç»†èŠ‚å¾ˆå°‘ï¼Œä½†æ®è¯´è‹¹æœæ­£åœ¨ä¸ºå®ƒå¼€å‘æ–°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ›´å¥½çš„ç¬¬ä¸‰æ–¹è½¯ä»¶é›†æˆã€‚</p>\n<h3 id=\"æ–°ç‰ˆçš„Emojis\"><a href=\"#æ–°ç‰ˆçš„Emojis\" class=\"headerlink\" title=\"æ–°ç‰ˆçš„Emojis\"></a>æ–°ç‰ˆçš„Emojis</h3><p>æ–°è¡¨æƒ…ç¬¦å·å°†ä¸ä¼šåœ¨iOS 13å‘å¸ƒæ—¶å‡ºç°ï¼Œä½†åœ¨2019å¹´æ™šäº›æ—¶å€™çš„iOS 13æ›´æ–°ä¸­ï¼Œè‹¹æœå°†ä¼šå¼•å…¥ä»–ä»¬ã€‚Unicodeè”ç›Ÿå·²ç»ç¡®å®šäº†åŠ å…¥è¡¨æƒ…ç¬¦å·æ ‡å‡†çš„<a href=\"https://www.macrumors.com/2019/02/05/2019-new-emoji-list/\">å­—ç¬¦</a>ï¼Œå…¶ä¸­åŒ…æ‹¬ç«é¸Ÿã€æ°´ç­ã€åå¤«é¥¼ã€æ ‘æ‡’ã€ç™½å¿ƒã€ç‰µæ‰‹çš„äººã€å†°å—ã€æ½œæ°´å™¨ã€çŒ©çŒ©ã€æœæ±ç›’ã€æ²™æ‹‰ä¸‰æ˜æ²»ç­‰ç­‰ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190510115235.jpg\" alt=\"\"></p>\n<h3 id=\"è¾…åŠ©åŠŸèƒ½\"><a href=\"#è¾…åŠ©åŠŸèƒ½\" class=\"headerlink\" title=\"è¾…åŠ©åŠŸèƒ½\"></a>è¾…åŠ©åŠŸèƒ½</h3><p>ä¸€ä¸ªæ›´å…¨é¢çš„è¾…åŠ©åŠŸèƒ½èœå•å°†å‡ºç°åœ¨è®¾ç½®åº”ç”¨ç¨‹åºçš„ä¸»é¡µä¸Šï¼Œå…¶ä¸­åŒ…æ‹¬æ”¹è¿›çš„åŠ©å¬å™¨æ”¯æŒç­‰ã€‚</p>\n<h3 id=\"iPad-Proæ”¯æŒé¼ æ ‡\"><a href=\"#iPad-Proæ”¯æŒé¼ æ ‡\" class=\"headerlink\" title=\"iPad Proæ”¯æŒé¼ æ ‡\"></a>iPad Proæ”¯æŒé¼ æ ‡</h3><p>æœ‰ä¼ è¨€ç§°ï¼Œè‹¹æœå…¬å¸å¯èƒ½è®¡åˆ’åœ¨iPad Proä¸Šæ·»åŠ USBé¼ æ ‡æ”¯æŒï¼Œä½œä¸ºä¸€é¡¹è¾…åŠ©åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨é€‚é…å™¨ã€‚</p>\n<p>æ®æŠ¥é“ï¼ŒiPad Proçš„USB-Cæ¥å£å°†å…è®¸ä½ æ’å…¥USBé¼ æ ‡ï¼Œä½œä¸ºé‚£äº›æ— æ³•ä½¿ç”¨è§¦æ‘¸å±çš„ç”¨æˆ·çš„å¦ä¸€ç§è¾“å…¥æ–¹å¼ã€‚ç›®å‰è¿˜ä¸æ¸…æ¥šè¯¥åŠŸèƒ½ä½•æ—¶ä¼šå®ç°ï¼Œä½†å®ƒæœ€æ—©å¯èƒ½åœ¨iOS 13ä¸­å®ç°ã€‚</p>\n<h2 id=\"è·Ÿå¼€å‘è€…ç›¸å…³çš„å˜åŒ–\"><a href=\"#è·Ÿå¼€å‘è€…ç›¸å…³çš„å˜åŒ–\" class=\"headerlink\" title=\"è·Ÿå¼€å‘è€…ç›¸å…³çš„å˜åŒ–\"></a>è·Ÿå¼€å‘è€…ç›¸å…³çš„å˜åŒ–</h2><p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒiOS 13å°†ä¸ºåª’ä½“æ’­æ”¾ã€æœç´¢ã€è¯­éŸ³å‘¼å«ã€æ´»åŠ¨ç¥¨åŠ¡ã€æ¶ˆæ¯é™„ä»¶ã€èˆªç­ç­‰åŠŸèƒ½å¸¦æ¥æ”¹è¿›çš„<a href=\"https://www.macrumors.com/2019/04/22/wwdc-2019-developer-features-rumors/\">Sirié›†æˆ</a>ã€‚</p>\n<p>å…¶ä»–é¢å‘å¼€å‘è€…çš„åŠŸèƒ½è¿˜åŒ…æ‹¬ARKitçš„æ”¹è¿›ï¼Œå®ƒä¸ºå¢å¼ºç°å®æä¾›äº†ä¸€ä¸ªå…¨æ–°çš„å¿«é€Ÿæ¡†æ¶ï¼Œä»¥åŠä¸€ä¸ªé…å¥—çš„åº”ç”¨ç¨‹åºï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨è§†è§‰ä¸Šåˆ›å»ºå¢å¼ºç°å®ä½“éªŒã€‚ARKitè¿˜å°†æ”¯æŒæ¸¸æˆæ§åˆ¶å™¨å’Œç«‹ä½“å£°ARè€³æœºã€‚</p>\n<p>æ–°æ¡†æ¶å°†åŒ…æ‹¬æ‰©å±•ä½¿ç”¨Tapticå¼•æ“ï¼Œå¯¹ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºçš„æ–‡æ¡£æ‰«ææ”¯æŒï¼Œä»¥åŠæ— éœ€ä½¿ç”¨ç…§ç‰‡åº”ç”¨ç¨‹åºå³å¯ä»å¤–éƒ¨è®¾å¤‡æ•æ‰ç…§ç‰‡çš„åŠŸèƒ½ã€‚</p>\n<p>NFCå°†å¾—åˆ°æ”¹è¿›ï¼Œå¼€å‘äººå‘˜å°†èƒ½å¤Ÿåœ¨ä»–ä»¬çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ å¯¹æ‰©å±•çš„NFCæ ¼å¼çš„æ”¯æŒï¼Œå¹¶ä¸”è¿˜å°†æ·»åŠ CoreMLçš„æ›´æ–°ç‰ˆæœ¬ã€‚</p>\n","categories":[],"tags":["iOS","ç¿»è¯‘"]},{"title":"iOSå¼€å‘æœˆæŠ¥#10|201904","url":"http://zhangferry.github.io/2019/04/30/monthly_10/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190428174837.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"å…³äºåˆ†äº«ä¸­çš„ä¸€äº›é—®é¢˜\"><a href=\"#å…³äºåˆ†äº«ä¸­çš„ä¸€äº›é—®é¢˜\" class=\"headerlink\" title=\"å…³äºåˆ†äº«ä¸­çš„ä¸€äº›é—®é¢˜\"></a>å…³äºåˆ†äº«ä¸­çš„ä¸€äº›é—®é¢˜</h3><p><strong>å¾®åš</strong></p>\n<ul>\n<li>å¤šåª’ä½“å†…å®¹çš„ç¼©ç•¥å›¾ï¼Œå³thumbnialDataçš„å¤§å°åº”å°äº32Kã€‚å¦åˆ™ä¼šå¯¼è‡´åˆ†äº«å¤±è´¥</li>\n<li>å¾®åšåˆ†äº«çš„AppStoreä¸‹è½½é“¾æ¥æ— æ³•æ‰“å¼€ï¼Œè¿™æ˜¯å› ä¸ºå¾®åšå±è”½äº†æŒ‡å‘AppStoreçš„é“¾æ¥ã€‚ä¸€ä¸ªå¯è¡Œçš„åšæ³•çš„å°†å¾®åšçš„ä¸‹è½½é“¾æ¥å¢åŠ ä¸€ä¸ªå¼•å¯¼é¡µï¼Œæé†’ç”¨æˆ·é€šè¿‡Safariæ‰“å¼€ã€‚</li>\n</ul>\n<p><strong>å¾®ä¿¡</strong></p>\n<ul>\n<li>å¤šåª’ä½“ç¼©ç•¥å›¾ä¸èƒ½è¶…è¿‡64Kã€‚</li>\n<li>å¾®ä¿¡åˆ†äº«ä»6.7.2ä¹‹åæ— æ³•è·çŸ¥æ˜¯å¦çœŸçš„åˆ†äº«æˆåŠŸã€‚è¿™ä¸ªæ˜¯å®˜æ–¹çš„è°ƒæ•´ï¼Œæ—¨åœ¨å‡å°‘â€œå¼ºåˆ¶åˆ†äº«è‡³ä¸åŒç¾¤â€ç­‰æ»¥ç”¨åˆ†äº«èƒ½åŠ›ã€‚</li>\n</ul>\n<p><strong>facebook</strong><br>å…³äºfacebookåˆ†äº«çš„é‡‡å‘å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼ŒåŸºæœ¬ä¹Ÿéƒ½æ˜¯æˆ‘é‡åˆ°çš„é—®é¢˜ã€‚<a href=\"https://www.jianshu.com/p/0e9c73e310c8\">iOS Facebook åˆ†äº«ä¸­çš„å‘</a></p>\n<p><strong>Twitter</strong><br>ç›¸åŒå†…å®¹åˆ†äº«ä¸¤æ¬¡ä¹‹åå†åˆ†äº«å°†å¤±è´¥ã€‚</p>\n<h3 id=\"SWIFT-VERSION-â€˜5-0â€™-is-unsupported-supported-versions-are-3-0-4-0-4-2-in-target-â€˜SwiftyJSONâ€™\"><a href=\"#SWIFT-VERSION-â€˜5-0â€™-is-unsupported-supported-versions-are-3-0-4-0-4-2-in-target-â€˜SwiftyJSONâ€™\" class=\"headerlink\" title=\"SWIFT_VERSION â€˜5.0â€™ is unsupported, supported versions are: 3.0, 4.0, 4.2. (in target â€˜SwiftyJSONâ€™)\"></a>SWIFT_VERSION â€˜5.0â€™ is unsupported, supported versions are: 3.0, 4.0, 4.2. (in target â€˜SwiftyJSONâ€™)</h3><p>è¿™ä¸ªé—®é¢˜æ˜¯å¤šäººå†™ä½œå¼€å‘å¼•èµ·çš„ï¼Œæœ‰ä¸€ä¸ªåŒäº‹å°†<code>SwiftJSON</code>çš„ç‰ˆæœ¬å‡çº§è‡³4.3.0ï¼Œä½¿å…¶æ”¯æŒSwift5.0ï¼Œä½†æ˜¯Swift5.0è·ŸSwift4.0+ä¸å…¼å®¹ï¼Œå¯¼è‡´å‡ºç°ä¸Šé¢çš„é”™è¯¯æç¤ºã€‚</p>\n<p>ä¿®å¤æ–¹å¼ï¼Œæ‰‹åŠ¨æŒ‡å®š<code>SwiftJSON</code>ç‰ˆæœ¬ï¼Œä½¿å…¶ä½äºæˆ–è€…ç­‰äº4.2.0ã€‚</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod <span class=\"string\">'SwiftyJSON'</span>, <span class=\"string\">'~&gt; 4.2.0'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Encountered-an-unknown-error-Unable-to-find-a-specification-for-FrameworkA-depended-upon-by-FrameworkB\"><a href=\"#Encountered-an-unknown-error-Unable-to-find-a-specification-for-FrameworkA-depended-upon-by-FrameworkB\" class=\"headerlink\" title=\"Encountered an unknown error (Unable to find a specification for FrameworkA depended upon by FrameworkB\"></a>Encountered an unknown error (Unable to find a specification for FrameworkA depended upon by FrameworkB</h3><p><code>FrameworkA</code>å’Œ<code>FrameworkB</code>éƒ½æ˜¯ç§æœ‰çš„<code>Cocoapods</code>åº“ï¼Œåœ¨åˆ¶ä½œ<code>FrameworkA</code>æ—¶å¼•ç”¨äº†<code>FrameworkB</code>ï¼Œå¦‚æœæ‰§è¡Œ<code>pod spec lint</code>å°±ä¼šå‡ºç°å¦‚ä¸Šçš„æç¤ºï¼Œåˆ°æ—¶lintæ— æ³•é€šè¿‡ã€‚</p>\n<p>è¿™æ˜¯å› ä¸ºlintåœ¨å¯¹å¼•ç”¨åº“éªŒè¯æ—¶ï¼Œé»˜è®¤åªéªŒè¯å®˜ç½‘çš„ä»“åº“ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ·»åŠ éªŒè¯æºæ‰èƒ½é€šè¿‡ï¼Œæ–¹æ³•æ˜¯ï¼š</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod spec lint --sources=git@bitbucket.<span class=\"symbol\">org:</span>company/privateRepo.git,<span class=\"symbol\">https:</span>/<span class=\"regexp\">/github.com/</span>CocoaPods/Specs --allow-warnings</span><br></pre></td></tr></table></figure>\n<h3 id=\"Tabbarçš„åˆå§‹åŒ–ä¼šç«‹å³è°ƒç”¨viewDidLoadæ–¹æ³•\"><a href=\"#Tabbarçš„åˆå§‹åŒ–ä¼šç«‹å³è°ƒç”¨viewDidLoadæ–¹æ³•\" class=\"headerlink\" title=\"Tabbarçš„åˆå§‹åŒ–ä¼šç«‹å³è°ƒç”¨viewDidLoadæ–¹æ³•\"></a>Tabbarçš„åˆå§‹åŒ–ä¼šç«‹å³è°ƒç”¨viewDidLoadæ–¹æ³•</h3><p>æ­£å¸¸å½“æˆ‘ä»¬åˆå§‹ä¸€ä¸ª<code>UIViewController</code>çš„æ—¶å€™ï¼Œæ€»æ˜¯å…ˆæ‰§è¡Œ<code>init</code>æ–¹æ³•ï¼Œæ‰§è¡Œå®Œä¹‹åæ‰ä¼šè°ƒç”¨<code>viewDidLoad</code>æ–¹æ³•ã€‚ä½†æ˜¯å¦‚æœæ˜¯<code>UITabbarViewController</code>çš„åˆå§‹åŒ–åˆ™ä¸åŒï¼Œå®ƒä¼šåœ¨æ‰§è¡Œ<code>init</code>æ–¹æ³•çš„æ—¶å€™ç«‹å³è°ƒç”¨<code>viewDidLoad</code>ã€‚</p>\n<p>æ¥è‡ªStack Overflowçš„è§£é‡Šï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UITabBarControllers call loadView inside [super init] method, which causes the call to viewDidLoad. So the viewDidLoad method will be called before init has finished its job.</span><br><span class=\"line\"></span><br><span class=\"line\">If you have some thing to setup in viewDidLoad you should perhaps do it inside init method after the call to [super init].</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"AppleScriptæ‰“å°æ¢è¡Œ\"><a href=\"#AppleScriptæ‰“å°æ¢è¡Œ\" class=\"headerlink\" title=\"AppleScriptæ‰“å°æ¢è¡Œ\"></a>AppleScriptæ‰“å°æ¢è¡Œ</h3><p>å½“æˆ‘ä½¿ç”¨AppleScriptç¼–è¾‘ä¸€æ®µè„šæœ¬æ—¶ï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯æ‰“å°ä¸€æ®µæ¢è¡Œçš„æ–‡æœ¬ï¼Œè¯•äº†å¾ˆå¤šæ–¹æ¡ˆï¼ŒåŒ…æ‹¬<code>\\n</code>,<code>\\r</code>, <code>ASCIIç </code>ç­‰éƒ½ä¸è¡Œï¼Œè„šæœ¬æ‰§è¡Œæ—¶ä¼šå¿½ç•¥<code>\\</code>ç¬¦åˆè‡ªåŠ¨æ¢è¡Œï¼Œåˆ†å¼€æ‰§è¡Œè¾“å…¥å†…å®¹ã€‚</p>\n<p>æœ€ååœ¨ä¸æ–­å°è¯•ä¸­æ‰¾åˆ°äº†ä¸€ç§æ–¹æ¡ˆï¼Œç›´æ¥æ•²å‡ºæ¢è¡Œï¼Œå¦‚ä¸‹ï¼Œåœ¨å˜é‡<code>_input</code>åæ‹¼æ¥ä¸€ä¸ªæ¢è¡Œç¬¦ï¼š</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">tell</span> note1 <span class=\"keyword\">to</span> append <span class=\"built_in\">text</span> <span class=\"string\">\"[*]\"</span> &amp; _input &amp; <span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç”±äºç¬¬ä¸‰æ–¹SDKä½¿ç”¨äº†ç”¨äºå®šä½çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ”¶åˆ°è‹¹æœçš„éšç§è­¦å‘Šé‚®ä»¶\"><a href=\"#ç”±äºç¬¬ä¸‰æ–¹SDKä½¿ç”¨äº†ç”¨äºå®šä½çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ”¶åˆ°è‹¹æœçš„éšç§è­¦å‘Šé‚®ä»¶\" class=\"headerlink\" title=\"ç”±äºç¬¬ä¸‰æ–¹SDKä½¿ç”¨äº†ç”¨äºå®šä½çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ”¶åˆ°è‹¹æœçš„éšç§è­¦å‘Šé‚®ä»¶\"></a>ç”±äºç¬¬ä¸‰æ–¹SDKä½¿ç”¨äº†ç”¨äºå®šä½çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ”¶åˆ°è‹¹æœçš„éšç§è­¦å‘Šé‚®ä»¶</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190428151857.png\" alt=\"\"><br>åæ¥å®šä½çš„åˆ°çš„åŸå› æ˜¯<code>Facebook</code>ç›¸å…³çš„å‡ ä¸ªåº“å‡ä½¿ç”¨äº†<code>CoreLocation</code>ï¼Œä¹Ÿå°±æ˜¯è¯´<code>Facebook</code>æœ‰å·å·ä½¿ç”¨ç”¨æˆ·åœ°ç†ä½ç½®æƒé™çš„å«Œç–‘ã€‚å½“ç„¶è”ç³»ä»–ä»¬æä¾›ä¸å¸¦æ­¤åŠŸèƒ½çš„SDKä¹Ÿä¸æ˜¾ç¤ºï¼Œåæ¥åœ¨reactçš„issuseä¸­ä¹Ÿå‘ç°äº†å¯¹äºæ­¤é—®é¢˜çš„è®¨è®ºã€‚<a href=\"https://github.com/facebook/react-native/issues/20879\">#20879</a></p>\n<p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼Œå³å¢åŠ å¯¹åº”çš„éšç§æ¡æ¬¾é€‰é¡¹ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190428153423.png\" alt=\"\"></p>\n<h3 id=\"è¿åGuideline2-3-1è¢«æ‰“å›\"><a href=\"#è¿åGuideline2-3-1è¢«æ‰“å›\" class=\"headerlink\" title=\"è¿åGuideline2.3.1è¢«æ‰“å›\"></a>è¿åGuideline2.3.1è¢«æ‰“å›</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190430101209.png\" alt=\"\"><br>åœ¨ä¸€æ¬¡å°ç‰ˆæœ¬æäº¤æ—¶ï¼Œé‡åˆ°äº†è¿™ä¸ªè¿åGuideline2.3.1è¢«æ‰“å›çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ã€‚åŸå› æè¿°æ˜¯å«æœ‰æ¨¡ç³Šä»£ç ï¼Œé€‰æ‹©å™¨é”™è¯¯æˆ–è€…è¯¯å¯¼å®¡æ ¸çš„åŠŸèƒ½ã€‚å®é™…æ’æŸ¥ä¸­æˆ‘ä»¬å¹¶æœªçŒœæƒ³åˆ°å“ªé‡Œå¯èƒ½å¯¼è‡´è¿™äº›é—®é¢˜ã€‚</p>\n<p>åæ¥é€šè¿‡é‚®ä»¶è·Ÿå®¡æ ¸äººå‘˜æ²Ÿé€šï¼Œå¾—åˆ°å¦‚ä¸‹å›å¤ï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190430103042.png\" alt=\"\"><br>é—®é¢˜åˆå¥½äº†ï¼ŸçŒœæƒ³å¯èƒ½æ˜¯è‹¹æœå®¡æ ¸çš„é—®é¢˜ï¼Œä»–ä»¬ä¹Ÿæ˜¯ä¼šçŠ¯é”™è¯¯çš„ã€‚</p>\n<p>åæ¥åœ¨ç½‘ä¸ŠæŸ¥è¿‡è¿™ç§é—®é¢˜çš„å¤„ç†æƒ…å†µï¼Œä»èµ„æ–™æ—¶é—´æ¥çœ‹ï¼Œå¯ä»¥ç¡®å®šè¿™ä¸ªæ˜¯æœ€è¿‘ä¸€å¹´æ‰å‡ºç°è¿‡çš„é—®é¢˜ã€‚å¤„ç†æ–¹æ³•æ˜¯ï¼Œé¦–å…ˆæ˜¯åº”è¯¥è·Ÿå®¡æ ¸äººå‘˜è”ç³»ï¼Œè®©ä»–ä»¬å‘ŠçŸ¥æ˜¯å“ªé‡Œçš„é—®é¢˜ï¼›ç„¶åå†æ ¹æ®æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"ä½œä¸ºé¢è¯•å®˜ï¼Œå“ªç±»-iOS-å¼€å‘æ›´å®¹æ˜“è¢«ä½ é’çï¼Ÿ\"><a href=\"#ä½œä¸ºé¢è¯•å®˜ï¼Œå“ªç±»-iOS-å¼€å‘æ›´å®¹æ˜“è¢«ä½ é’çï¼Ÿ\" class=\"headerlink\" title=\"ä½œä¸ºé¢è¯•å®˜ï¼Œå“ªç±» iOS å¼€å‘æ›´å®¹æ˜“è¢«ä½ é’çï¼Ÿ\"></a><a href=\"https://mp.weixin.qq.com/s/IpbKUX7562uGA9caYdV-3w\">ä½œä¸ºé¢è¯•å®˜ï¼Œå“ªç±» iOS å¼€å‘æ›´å®¹æ˜“è¢«ä½ é’çï¼Ÿ</a></h3><p>æ¥è‡ªè€å¸æœºå›¢é˜Ÿçš„æ–‡ç« ï¼Œæ­£åœ¨æ‰¾å·¥ä½œçš„ä½ è‚¯å®šèƒ½ä»ä¸­æœ‰æ‰€æ”¶è·ã€‚</p>\n<p>å†è´´ä¸€ä¸ªæˆ‘å¸çš„<a href=\"https://zhangferry.com/2019/04/12/ios-interview/\">æ‹›è˜ä¿¡æ¯</a>ï¼Œæœ‰æ„æ„¿çš„å°ä¼™ä¼´èµ¶ç´§ç®€å†æŠ•è¿‡æ¥ã€‚</p>\n<h3 id=\"ç”¨æˆ·ç«¯æ™ºèƒ½çš„åº”ç”¨å®è·µ\"><a href=\"#ç”¨æˆ·ç«¯æ™ºèƒ½çš„åº”ç”¨å®è·µ\" class=\"headerlink\" title=\"ç”¨æˆ·ç«¯æ™ºèƒ½çš„åº”ç”¨å®è·µ\"></a><a href=\"http://blog.cnbang.net/tech/3643/\">ç”¨æˆ·ç«¯æ™ºèƒ½çš„åº”ç”¨å®è·µ</a></h3><p>bangå†™çš„å…³äºåº”ç”¨åŠŸèƒ½ä¼˜åŒ–çš„å‡ ä¸ªç‚¹ï¼Œæ ¹æ®ç”¨æˆ·çš„ç‰¹å¾æ¨èé‡‘é¢ï¼Œæ ¹æ®ç”¨æˆ·ä½¿ç”¨ä¹ æƒ¯è°ƒæ•´pushçš„æ—¶é—´ï¼Œæœ‰äº›æ–¹æ¡ˆä¸ä¸€å®šèƒ½å¤Ÿä¸ºæˆ‘ä»¬æ‰€ç”¨ä½†æ˜¯è§£å†³é—®é¢˜çš„æ€è·¯è¿˜æ˜¯æŒºä¸é”™çš„ã€‚</p>\n<h3 id=\"è°ˆLinuxï¼ŒWindows-å’ŒMac\"><a href=\"#è°ˆLinuxï¼ŒWindows-å’ŒMac\" class=\"headerlink\" title=\"è°ˆLinuxï¼ŒWindows,å’ŒMac\"></a><a href=\"http://www.yinwang.org/blog-cn/2013/03/07/linux-windows-mac\">è°ˆLinuxï¼ŒWindows,å’ŒMac</a></h3><p><a href=\"http://www.yinwang.org/\">ç‹å </a>çš„åšå®¢å…¶å®å·²ç»è¢«åˆ é™¤äº†ï¼Œè¿™ä¸ªæ˜¯ç½‘ç»œç•™å­˜çš„å¿«ç…§æ–‡ä»¶ã€‚ç‰›Bçš„äººæ€»æ˜¯èƒ½ç•™ä¸‹ç‰›Bçš„è¯ï¼Œè¿™æ˜¯ç‹å å…³äºLinuxã€Windowså’ŒMacçš„çœ‹æ³•ã€‚</p>\n<h3 id=\"Swiftè¯­è¨€çš„è®¾è®¡é”™è¯¯\"><a href=\"#Swiftè¯­è¨€çš„è®¾è®¡é”™è¯¯\" class=\"headerlink\" title=\"Swiftè¯­è¨€çš„è®¾è®¡é”™è¯¯\"></a><a href=\"http://www.yinwang.org/blog-cn/2016/06/06/swift\">Swiftè¯­è¨€çš„è®¾è®¡é”™è¯¯</a></h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> shoppingList = [<span class=\"string\">\"Eggs\"</span>, <span class=\"string\">\"Milk\"</span>]</span><br><span class=\"line\"><span class=\"comment\">//è¿™ä¹ˆå†™åº”ä¸åº”è¯¥æŠ¥é”™ï¼Ÿ</span></span><br><span class=\"line\">shoppingList[<span class=\"number\">0</span>] = <span class=\"string\">\"Salad\"</span></span><br></pre></td></tr></table></figure>\n<p>å…³äºä»¥ä¸Šé—®é¢˜çš„è®¨è®ºã€‚å½“å‰Swiftæ˜¯ä¸å…è®¸å¯¹<code>let</code>ç”Ÿå‘½çš„æ•°å­—ä¿®æ”¹å†…éƒ¨å…ƒç´ çš„ã€‚åœ¨ç‹å çœ‹æ¥è¿™æ˜¯ä¸€ä¸ªä½çº§çš„é”™è¯¯ï¼Œå…·ä½“ä¸ºä»€ä¹ˆè¿™ä¹ˆå®šä¹‰â€œä¸å¯¹â€ï¼Œå¯ä»¥çœ‹æ–‡ç« è®¨è®ºã€‚</p>\n<h2 id=\"éŸ³è§†é¢‘\"><a href=\"#éŸ³è§†é¢‘\" class=\"headerlink\" title=\"éŸ³è§†é¢‘\"></a>éŸ³è§†é¢‘</h2><h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"iOS-Source-Probe\"><a href=\"#iOS-Source-Probe\" class=\"headerlink\" title=\"iOS-Source-Probe\"></a><a href=\"https://github.com/Desgard/iOS-Source-Probe\">iOS-Source-Probe</a></h3><p>iOSæºç æ¢æ±‚ç³»åˆ—ï¼Œæ˜¯iOSç›¸å…³æºç çš„åˆ†æåˆé›†ã€‚</p>\n<h3 id=\"AutoInch\"><a href=\"#AutoInch\" class=\"headerlink\" title=\"AutoInch\"></a><a href=\"https://github.com/lixiang1994/AutoInch\">AutoInch</a></h3><p>ä¼˜é›…çš„iPhoneå…¨å°ºå¯¸/ç­‰æ¯”ä¾‹ç²¾å‡†é€‚é…å·¥å…·ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªå±å¹•çš„å°ºå¯¸å€¼ï¼Œè€Œè‡ªåŠ¨é…ç½®å…¶ä»–å°ºå¯¸å€¼ã€‚æ”¯æŒä»£ç å’Œxibä¸¤ç§æ–¹å¼ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190428173326.png\" alt=\"\"></p>\n<h3 id=\"SwiftTips\"><a href=\"#SwiftTips\" class=\"headerlink\" title=\"SwiftTips\"></a><a href=\"https://github.com/Luur/SwiftTips\">SwiftTips</a></h3><p>ä½œè€…æ€»ç»“çš„Swiftä½¿ç”¨ä¸­çš„ä¸€äº›å°æŠ€å·§ï¼Œå’Œå–µç¥çš„<a href=\"https://leanpub.com/swifter\">ã€Š100 ä¸ª Swift å¿…å¤‡ tipsã€‹</a>æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚ä½œä¸ºä¸€ååˆšå…¥é—¨çš„Swifterï¼Œè¿™ä¸¤ä¸ªèµ„æ–™éƒ½æ˜¯éå¸¸æ¨èçœ‹ä¸€çœ‹çš„ã€‚</p>\n<h3 id=\"ZFPlayer\"><a href=\"#ZFPlayer\" class=\"headerlink\" title=\"ZFPlayer\"></a><a href=\"https://github.com/renzifeng/ZFPlayer\">ZFPlayer</a></h3><p>éå¸¸å…¨é¢çš„ä¸€æ¬¾iOSæ’­æ”¾å™¨ï¼Œæ”¯æŒAVPlayerå’Œijkplayerä¸¤ç§æ’­æ”¾æ¨¡å—ã€‚é¡¹ç›®åŒ…å«ä¸»æµçš„è§†é¢‘æ’­æ”¾åœºæ™¯ï¼ŒæŠ–éŸ³ã€å¾®åšçŸ­è§†é¢‘ç­‰æ ·å¼ã€‚å¦‚æœæ˜¯å¯¹è§†é¢‘åŠŸèƒ½æœ‰éœ€æ±‚çš„å°ä¼™ä¼´éå¸¸å»ºè®®çœ‹ä¸€çœ‹ã€‚</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"ä¸€åˆ™iOSæ‹›è˜ä¿¡æ¯","url":"http://zhangferry.github.io/2019/04/12/ios-interview/","content":"<p>ä»Šå¤©æ”¾å‡ºä¸€æ³¢æˆ‘å¸çš„æ‹›è˜ä¿¡æ¯å§ï¼Œè¿™é‡Œåªè¯´äº†iOSçš„æ‹›è˜è¦æ±‚ã€‚å…¶å®è¿˜æœ‰Android + Unity + æ¸¸æˆæµ‹è¯•ç­‰ä¸€å¤§æ³¢å²—ä½è™šä½ä»¥å¾…ï¼Œå¦‚æœæœ‰æ„æ„¿çš„å°ä¼™ä¼´å¯ä»¥ç§ä¿¡æˆ‘å“¦ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"å…¬å¸ä»‹ç»\"><a href=\"#å…¬å¸ä»‹ç»\" class=\"headerlink\" title=\"å…¬å¸ä»‹ç»\"></a>å…¬å¸ä»‹ç»</h2><p>ä¹ä¿¡åœ£æ–‡ï¼ˆLearningsï¼‰æ˜¯ä¸€å®¶å…¨çƒé¢†å…ˆçš„ç§»åŠ¨å‡ºæµ·åº”ç”¨å¼€å‘å•†ï¼Œè‡´åŠ›äºæœªå…¨çƒç”¨æˆ·æä¾›å“è¶Šçš„ç§»åŠ¨åº”ç”¨ã€‚å…¬å¸æˆç«‹äº2016å¹´2æœˆä»½ï¼Œæ˜¯è¡Œä¸šæˆé•¿æœ€å¿«çš„ä¼ä¸šä¹‹ä¸€ï¼Œæ˜¯Googleï¼ŒFacebookå’ŒAppleçš„å…¨çƒæˆ˜ç•¥åˆä½œä¼™ä¼´ã€‚<br>æˆªè‡³2018å¹´11æœˆï¼Œå…¬å¸äº§å“åœ¨å…¨çƒç§»åŠ¨ç«¯æœˆæ´»ç”¨æˆ·è¶…è¿‡2000ä¸‡ï¼Œç´¯è®¡ç”¨æˆ·è¶…è¿‡3äº¿ï¼›å…¶ä¸­70æ¥è‡ªæ¬§ç¾åœ°åŒºã€‚</p>\n<p>å›¢é˜Ÿè§„æ¨¡ï¼š150äºº<br>å…¬å¸åœ°å€ï¼šæµ·æ·€åŒºä¸œå‡ç§‘æŠ€å›­ï¼ˆåœ°é“8å·çº¿è¥¿å°å£ç«™ï¼‰</p>\n<h2 id=\"æ˜æ˜Ÿäº§å“-Peaceå†¥æƒ³\"><a href=\"#æ˜æ˜Ÿäº§å“-Peaceå†¥æƒ³\" class=\"headerlink\" title=\"æ˜æ˜Ÿäº§å“-Peaceå†¥æƒ³\"></a>æ˜æ˜Ÿäº§å“-Peaceå†¥æƒ³</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/peace.home.png\" alt=\"\"><br>ã€App Store 2018å¹´11æœˆç¼–è¾‘æœ€çˆ±ã€‘<br>ã€App Stroe é¦–é¡µã€Šç”Ÿæ´»è§£å†³æ–¹æ¡ˆã€‹ä¸“é¢˜æ¨èã€‘<br>ã€App Store å¥åº·å¥ç¾åˆ†ç±»ç¼–è¾‘æ¨èã€‘</p>\n<p>â€œPeaceâ€å†¥æƒ³æ˜¯ä¸€æ¬¾ä½ çš„è´Ÿé¢æƒ…ç»ªæ’è§£ç¥å™¨ï¼Œéšæ—¶éšåœ°å¸®ä½ åœ¨çŸ­çŸ­5åˆ†é’Ÿå†…ä¸è‡ªå·±å’Œè§£ã€‚åŠ©çœ ï¼Œå‡å‹ï¼Œå®ƒæ˜¯éƒ½å¸‚å¿«ç”Ÿæ´»ä¸‹çš„ä¸€å‰‚è‰¯è¯ã€‚</p>\n<p>Peaceä¸Šçº¿ä¸åˆ°ä¸€å¹´ï¼Œå°±è¡¨ç°å‡ºäº†å·¨å¤§çš„æˆé•¿æ½œåŠ›ï¼Œå®ƒçš„æœªæ¥å°†ä¼šæ›´åŠ ç¿çƒ‚ã€‚</p>\n<h2 id=\"ä»»èŒè¦æ±‚\"><a href=\"#ä»»èŒè¦æ±‚\" class=\"headerlink\" title=\"ä»»èŒè¦æ±‚\"></a>ä»»èŒè¦æ±‚</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/glenn-carstens-peters-203007-unsplash.jpg\" alt=\"\"><br><strong>èŒä½ï¼š</strong><br>iOSä¸­é«˜çº§å¼€å‘<br><strong>è–ªèµ„ï¼š</strong><br>15<del>30k + å¹´ç»ˆå¥–ï¼ˆ1</del>6ä¸ªæœˆè–ªèµ„ï¼‰<br><strong>ä»»èŒè¦æ±‚ï¼š</strong></p>\n<ul>\n<li>æˆ‘ä»¬æœŸæœ›ä½ æœ‰3å¹´ä»¥ä¸Šå¼€å‘ç»éªŒï¼Œå½“ç„¶å¦‚æœä½ èƒ½åŠ›å¤Ÿå¼ºï¼Œè¿™æ¡å¯ä»¥å¿½ç•¥ã€‚</li>\n<li>å¯¹æ•°æ®ç»“æ„ã€é¢å‘å¯¹è±¡ã€è®¾è®¡æ¨¡å¼æœ‰ä¸€å®šçš„è®¤è¯†</li>\n<li>å…·å¤‡ç‹¬ç«‹å¼€å‘ä¸€æ¬¾äº§å“çš„èƒ½åŠ›</li>\n<li>ä¹è§‚ã€ä¸»åŠ¨ã€å…·å¤‡å›¢é˜Ÿåˆä½œç²¾ç¥</li>\n</ul>\n<h2 id=\"ç¦åˆ©å¾…é‡\"><a href=\"#ç¦åˆ©å¾…é‡\" class=\"headerlink\" title=\"ç¦åˆ©å¾…é‡\"></a>ç¦åˆ©å¾…é‡</h2><ul>\n<li>åŒä¼‘ï¼ˆé996ï¼ï¼‰</li>\n<li>ä¸€æ—¥ä¸‰é¤</li>\n<li>è¿åŠ¨å¥èº«ï¼ˆå®¤å†…å°çƒã€ä¹’ä¹“çƒæ¯å‘¨ç¯®çƒè®­ç»ƒï¼‰</li>\n<li>é¡¶é…Macbook Pro + å‡é™åŠå…¬æ¡Œ</li>\n<li>é›¶é£Ÿä¸‹åˆèŒ¶</li>\n<li>èŠ‚æ—¥ç¦åˆ©</li>\n<li>ä¸æ‰“å¡</li>\n<li>â€¦<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/WechatIMG55.jpeg\" alt=\"\"></li>\n</ul>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/taiqiu.png\" alt=\"\"></p>\n<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/WechatIMG54.jpeg\" alt=\"\"></p>\n<h2 id=\"æ¬¢è¿ä½ çš„åŠ å…¥\"><a href=\"#æ¬¢è¿ä½ çš„åŠ å…¥\" class=\"headerlink\" title=\"æ¬¢è¿ä½ çš„åŠ å…¥\"></a>æ¬¢è¿ä½ çš„åŠ å…¥</h2><p>æœ‰æ²¡æœ‰å¿ƒåŠ¨å‘¢ï¼Œå¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼Œæœ‰å…´è¶£ï¼Œæœ‰éœ€æ±‚çš„å°ä¼™ä¼´èµ¶ç´§æŠŠç®€å†ç ¸è¿‡æ¥å§ï¼</p>\n<p>æˆ‘ä»¬æœ‰å„ä¸ªæŠ€æœ¯æ ˆçš„å¤§ç‰›ï¼Œå¯ä»¥è®©ä½ è¿›æ­¥æ›´å¿«ï¼›æˆ‘ä»¬æ•¢äºå°è¯•æ–°æŠ€æœ¯ï¼Œä¸€å¹´å‰å°±å·²ç»ä½¿ç”¨çº¯Swiftå¼€å‘é¡¹ç›®ï¼›æˆ‘ä»¬é‡è§†äººæ‰ï¼Œåªè¦ä½ å¤Ÿç‰›ï¼Œè–ªèµ„+å¹´ç»ˆå¥–æ‹¿åˆ°ä½ æ‰‹è½¯ã€‚</p>\n<p>æ¥åˆ°å…¬å¸ä¹‹åï¼Œæˆ‘ä»¬å°†ä¸€èµ·ç»è¥ç»´æŠ¤Peaceè¿™é¢—æ–°æ˜Ÿäº§å“ï¼Œä¸€èµ·è§è¯å®ƒçš„æˆé•¿å§ã€‚</p>\n","categories":[],"tags":["å·¥ä½œ","æ‹›è˜"]},{"title":"iOSå¼€å‘æœˆæŠ¥#9|201903","url":"http://zhangferry.github.io/2019/03/31/monthly_9/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-afa5d63933b5bf3c?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"Spine-SpriteKit\"><a href=\"#Spine-SpriteKit\" class=\"headerlink\" title=\"Spine + SpriteKit\"></a>Spine + SpriteKit</h3><p>é¡¹ç›®ä¸­éœ€è¦å¼•å…¥ä¸€äº›å®ç‰©åŠ¨ç”»ï¼Œæ¯ä¸ªåŠ¨ç”»ä¹‹é—´æœ‰ä¸åŒå½¢æ€çš„åˆ‡æ¢ï¼Œè€ƒè™‘è¿‡gif, mp4, AE + lottie, Spine + SpriteKitã€‚</p>\n<p>æœ€åç¡®å®šä½¿ç”¨<a href=\"http://zh.esotericsoftware.com/\">Spine</a>åšåŠ¨ç”»æ•ˆæœï¼Œç”¨SpriteKitå¤„ç†åŠ¨ç”»ã€‚Spinå¹¶æ²¡æœ‰å®˜æ–¹æ”¯æŒSpirteKitçš„åº“ï¼Œä½†æœ‰ä¸€ä¸ªåšçš„æ¯”è¾ƒå¥½çš„ç¬¬ä¸‰æ–¹åº“<a href=\"https://github.com/maxgribov/Spine\">maxgribov/Spine</a>ï¼Œæ”¯æŒSwift4.1ã€‚</p>\n<p>è¯¥åº“æ”¯æŒBones, Slots, Skinsç­‰å¸¸ç”¨çš„åŠ¨ç”»è¦ç´ ï¼Œé€šè¿‡Spineå¯¼å‡ºçš„jsonæ–‡ä»¶å’ŒåŠ¨ç”»ç´ æåšå‡ºå„ç§åŠ¨ç”»æ•ˆæœï¼Œæ˜¯ä»…æœ‰çš„è¿‘æœŸè¿˜åœ¨ç»´æŠ¤çš„æ”¯æŒSpriteKitçš„Spineè¿è¡Œæ—¶åº“ã€‚ä½†å®ƒä¹Ÿå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œè¿˜ä¸æ”¯æŒMesh Animation(ç½‘æ ¼åŠ¨ç”»)ã€‚å¦‚æœæ‰€éœ€çš„åŠ¨ç”»æ•ˆæœä¸éœ€è¦ç½‘æ ¼çš„è¯ï¼Œéå¸¸æ¨èä½¿ç”¨è¿™ä¸ªåº“ã€‚</p>\n<p>è€Œæˆ‘ä»¬æ‰€éœ€çš„åŠ¨ç”»æ•ˆæœåˆå¿…é¡»ç”¨åˆ°ç½‘æ ¼åŠ¨ç”»ï¼Œæ€è€ƒå†ä¸‰è€ƒè™‘å†³å®šæ”¾å¼ƒä½¿ç”¨è¿™ä¸ªåº“ï¼Œä½¿ç”¨SKTextureAtlas(çº¹ç†é›†) + é€å¸§åŠ¨ç”»æ¥å®ç°ç‰¹æ®Šçš„åŠ¨ç”»æ•ˆæœã€‚è™½ç„¶è¾“å‡ºçš„è¿˜æ˜¯pngåºåˆ—ï¼Œä½†æ˜¯SpriteKitå¯¹çº¹ç†é›†æœ‰è¶³å¤Ÿçš„ä¼˜åŒ–ï¼ŒXcodeä¼šåœ¨æ‰“åŒ…æ—¶æŠŠ.atlasæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å›¾ç‰‡åšæˆä¸€å¼ åˆå›¾ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªplistæ–‡ä»¶æè¿°æ¯ä¸ªå°å›¾ç‰‡çš„ä½ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥åŒ…çš„å¤§å°å’Œæ¸²æŸ“æˆæœ¬éƒ½ä¼šå¤§å¤§é™ä½ã€‚</p>\n<h3 id=\"å¿«é€Ÿåˆ›å»ºè½¬åœºæ ·å¼\"><a href=\"#å¿«é€Ÿåˆ›å»ºè½¬åœºæ ·å¼\" class=\"headerlink\" title=\"å¿«é€Ÿåˆ›å»ºè½¬åœºæ ·å¼\"></a>å¿«é€Ÿåˆ›å»ºè½¬åœºæ ·å¼</h3><p>è¯´åˆ°è‡ªå®šä¹‰è½¬åœºæˆ‘ä»¬å¯èƒ½ä¼šç›´æ¥æƒ³åˆ°<code>UIViewControllerAnimatedTransitioning</code>ï¼Œç»“åˆè¿™ä¸ªç±»æˆ‘ä»¬å¯ä»¥å®ç°å¤šç§å¤šæ ·çš„è®¢é˜…æ ·å¼ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼åšè½¬åœºï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¾ˆå¤šä»£ç ã€‚æœ‰ä¸€ç§ç®€å•çš„å®ç°è½¬åœºçš„æ–¹å¼æ˜¯é€šè¿‡<code>CATransition</code></p>\n<blockquote>\n<p>An object that provides an animated transition between a layerâ€™s states.</p>\n</blockquote>\n<p>é€šè¿‡æ–‡æ¡£çš„ä»‹ç»æˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸ªç±»å°±æ˜¯ç”¨æ¥åšè½¬åœºçš„ï¼Œåªä¸è¿‡æ”¯æŒçš„æ ·å¼æœ‰é™ï¼Œä½†å¦‚æœæ­£å¥½æ»¡è¶³ä½ éœ€è¦çš„è¯ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹å¼æ¥å®ç°è½¬åœºã€‚</p>\n<p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªpresentçš„æ¸å˜æ•ˆæœï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åˆ›å»ºtransitionå¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> transition = <span class=\"type\">CATransition</span>()</span><br><span class=\"line\">transition.duration = <span class=\"number\">0.5</span></span><br><span class=\"line\"><span class=\"comment\">//åŠ¨ç”»æ ·å¼</span></span><br><span class=\"line\"><span class=\"comment\">//type: .fade, .moveIn, .push, .reveal</span></span><br><span class=\"line\">transition.type = .fade</span><br><span class=\"line\"><span class=\"comment\">//åŠ¨ç”»å‡ºç°æ–¹ä½</span></span><br><span class=\"line\"><span class=\"comment\">//subtype: .fromRight, .fromLeft, .fromTop, .fromBottem</span></span><br><span class=\"line\"><span class=\"comment\">//transition.subtype = .fromRight</span></span><br><span class=\"line\">transition.timingFunction = <span class=\"type\">CAMediaTimingFunction</span>(name: .easeIn)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">self</span>.view.window?.layer.add(transition, forKey: <span class=\"string\">\"present\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.present(targetVc, animated: <span class=\"literal\">false</span>, completion: completion)</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæ˜¯åšpushçš„æ¸å˜ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¹å˜æœ€åçš„æ§åˆ¶åŠ¨ç”»çš„ä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//çˆ¶å®¹å™¨ä¸ºUINavigationController</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.view.layer.add(transition, forKey: <span class=\"string\">\"push\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.present(targetVc, animated: <span class=\"literal\">false</span>, completion: completion)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//çˆ¶å®¹å™¨ä¸ºUITabbarController</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.tabBarController?.view.layer.add(transition, forKey: <span class=\"string\">\"push\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.present(targetVc, animated: <span class=\"literal\">false</span>, completion: completion)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»€ä¹ˆæ˜¯UserAgent\"><a href=\"#ä»€ä¹ˆæ˜¯UserAgent\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯UserAgent\"></a>ä»€ä¹ˆæ˜¯UserAgent</h3><p><code>User-Agent</code> é¦–éƒ¨åŒ…å«äº†ä¸€ä¸ªç‰¹å¾å­—ç¬¦ä¸²ï¼Œç”¨æ¥è®©ç½‘ç»œåè®®çš„å¯¹ç«¯æ¥è¯†åˆ«å‘èµ·è¯·æ±‚çš„ç”¨æˆ·ä»£ç†è½¯ä»¶çš„åº”ç”¨ç±»å‹ã€æ“ä½œç³»ç»Ÿã€è½¯ä»¶å¼€å‘å•†ä»¥åŠç‰ˆæœ¬å·ï¼Œç„¶åå‰ç«¯çš„å±•ç¤ºå°±å¯ä»¥æ ¹æ®è¿™äº›ä¿¡æ¯è¿›è¡Œé’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚</p>\n<p>æˆ‘ä»¬æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œç”Ÿæˆä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åç”¨CharlesæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”çš„<code>User-Agent</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user-agent  Mozilla/<span class=\"number\">5.0</span> (Macintosh; Intel Mac OS X <span class=\"number\">10</span>_13_6) AppleWebKit/<span class=\"number\">537.36</span> (KHTML, like Gecko) Chrome/<span class=\"number\">74.0</span><span class=\"number\">.3729</span><span class=\"number\">.28</span> Safari/<span class=\"number\">537.36</span></span><br></pre></td></tr></table></figure>\n<p>é€šè¿‡UAæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ä¿¡æ¯é¡¹</th>\n<th>å†…å®¹</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>æµè§ˆå™¨åç§°</td>\n<td>Chrome</td>\n</tr>\n<tr>\n<td>æµè§ˆå™¨ç‰ˆæœ¬å·</td>\n<td>70.4.3729.28</td>\n</tr>\n<tr>\n<td>æ¸²æŸ“å¼•æ“</td>\n<td>WebKit 537.36</td>\n</tr>\n<tr>\n<td>æ“ä½œç³»ç»Ÿ</td>\n<td>Mac OS 10.13.6</td>\n</tr>\n</tbody></table>\n<h3 id=\"Apple-Configurator-2-å‡ºç°-Unauthorized-Error\"><a href=\"#Apple-Configurator-2-å‡ºç°-Unauthorized-Error\" class=\"headerlink\" title=\"Apple Configurator 2 å‡ºç° Unauthorized Error\"></a>Apple Configurator 2 å‡ºç° Unauthorized Error</h3><p>æ³¨é”€è´¦å·ï¼Œå†æ¬¡ç™»å½•</p>\n<h3 id=\"Command-PhaseScriptExecution-failed-with-a-nonzero-exit-code\"><a href=\"#Command-PhaseScriptExecution-failed-with-a-nonzero-exit-code\" class=\"headerlink\" title=\"Command PhaseScriptExecution failed with a nonzero exit code\"></a>Command PhaseScriptExecution failed with a nonzero exit code</h3><p>è¿è¡Œä¸€ä¸ªé¡¹ç›®æ—¶é‡åˆ°äº†è¿™ä¸ªbugæç¤ºï¼Œä¸€ç›´ç¼–è¯‘ä¸è¿‡å»ï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªXcode10å¼•èµ·çš„bug<a href=\"\"></a>ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š<br>åœ¨Xcodeèœå•æ é€‰æ‹©File -&gt; Workspace Setting -&gt; Build System é€‰æ‹©Legacy Build System é‡æ–°è¿è¡Œå³å¯ã€‚<br>å‚è€ƒï¼š<a href=\"https://juejin.im/post/5ba35cc05188255c7c655a8c\">è¸©å‘Xcode 10ä¹‹New Build System</a></p>\n<h3 id=\"æ–æ³¢é‚£å¥‘å‡½æ•°\"><a href=\"#æ–æ³¢é‚£å¥‘å‡½æ•°\" class=\"headerlink\" title=\"æ–æ³¢é‚£å¥‘å‡½æ•°\"></a>æ–æ³¢é‚£å¥‘å‡½æ•°</h3><p>æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆFibonacci sequenceï¼‰ï¼Œåˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ—ã€å› æ•°å­¦å®¶åˆ—æ˜‚çº³å¤šÂ·æ–æ³¢é‚£å¥‘ï¼ˆLeonardoda Fibonacciï¼‰ä»¥å…”å­ç¹æ®–ä¸ºä¾‹å­è€Œå¼•å…¥ï¼Œæ•…åˆç§°ä¸ºâ€œå…”å­æ•°åˆ—â€ï¼ŒæŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦</p>\n<p>è¿™ä¸ªæ˜¯æˆ‘ä»¬å…¬å¸æŠ€æœ¯é¢è¯•çš„å¿…é—®é¢˜ç›®ï¼Œä¹Ÿæ˜¯ç­›æ‰äººæ•°æœ€å¤šçš„ä¸€ä¸ªé—®é¢˜ã€‚æœ‰ä¸€éƒ¨åˆ†åŒå­¦ä¼šä½¿ç”¨æ•°ç»„å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿™ä¼šæŠŠé—®é¢˜å¤æ‚åº¦å‡çº§ï¼Œè¿˜æœ‰äº›å¯èƒ½æ ¹æœ¬æ²¡æœ‰æ€è·¯ã€‚ä½†å…¶å®è¿™ä¸ªé—®é¢˜ä¸å¤æ‚çš„ï¼Œç”¨åˆ°é€’å½’å¯ä»¥å¾ˆå¿«çš„è§£å†³ã€‚æ–æ³¢é‚£å¥‘å‡½æ•°çš„æ•°å­¦è¡¨è¾¾æ˜¯ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">F(1)&#x3D;1</span><br><span class=\"line\">F(2)&#x3D;1</span><br><span class=\"line\">F(n)&#x3D;F(n-1)+F(n-2)ï¼ˆn&gt;&#x3D;3ï¼ŒnâˆˆN*ï¼‰</span><br></pre></td></tr></table></figure>\n<p>ç”¨Swiftå®ç°å°±æ˜¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">fibonacci</span><span class=\"params\">(n: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n == <span class=\"number\">1</span> || n == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fibonacci(n: n - <span class=\"number\">1</span>) + fibonacci(n: n - <span class=\"number\">2</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"SpriteKit-Tutorial-for-Beginners\"><a href=\"#SpriteKit-Tutorial-for-Beginners\" class=\"headerlink\" title=\"SpriteKit Tutorial for Beginners\"></a><a href=\"https://www.raywenderlich.com/71-spritekit-tutorial-for-beginners\">SpriteKit Tutorial for Beginners</a></h3><p>raywenderlichä¸Šä»‹ç»SpriteKitå…¥é—¨çš„ä¸€ç¯‡æ•™ç¨‹ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« ä½ å¯ä»¥å®ç°ä¸€ä¸ªå¿è€…å‡»æ€æ€ªç‰©çš„å°æ¸¸æˆï¼Œç†è§£SpriteKitæ¡†æ¶é‡Œå¸¸ç”¨çš„å‡ ç§æ¸¸æˆå…ƒç´ ã€‚ä¸å¾—ä¸è¯´è¿™ä¸ªæ•™ç¨‹åšçš„æ˜¯çœŸçš„æ£’ğŸ‘</p>\n<h3 id=\"å¼€å‘å°çŸ¥è¯†\"><a href=\"#å¼€å‘å°çŸ¥è¯†\" class=\"headerlink\" title=\"å¼€å‘å°çŸ¥è¯†\"></a><a href=\"https://www.jianshu.com/p/5a4ba3c165b9\">å¼€å‘å°çŸ¥è¯†</a></h3><p>è¯¥æ–‡ç« ä¸»è¦æ•´ç†ä¸€äº›å°çŸ¥è¯†ç‚¹ï¼Œä¸»è¦æ¶‰åŠ iOS ä»¥åŠè®¡ç®—åŸºç¡€ç›¸å…³çŸ¥è¯†ç‚¹ï¼ŒæŸäº›çŸ¥è¯†ç‚¹æš‚æ—¶åªæœ‰æ ‡é¢˜ï¼Œåç»­ä¼šæŒç»­æ›´æ–°ã€‚ç¬”è€…æœ€è¿‘ä¸€æ®µæ—¶é—´é¢è¯•è¿‡ç¨‹ä¸­å‘ç°ä¸€äº›æ™®éç°è±¡ï¼Œå¯¹äºä¸€äº›å¾ˆä¸èµ·çœ¼çš„é—®é¢˜ï¼Œå¾ˆå¤šå¼€å‘è€…éƒ½åªåœç•™åœ¨çŸ¥é“ã€å¬è¯´è¿‡çš„å±‚é¢ï¼Œä½†æ˜¯ä¸€æ—¦é—® æ˜¯ä»€ä¹ˆ å’Œ ä¸ºä»€ä¹ˆ ï¼Œå¾ˆå¤šåº”è¯•è€…å›ç­”çš„å¹¶ä¸ç†æƒ³ã€‚<br>å¤§å®¶å¯ä»¥å¯¹ç€è¿™ç¯‡æ–‡ç« æŸ¥æ‰¾è‡ªå·±çš„çŸ¥è¯†ç›²åŒºã€‚</p>\n<h3 id=\"Swift-5-ç»ˆäºæ¥äº†ï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°ï¼ï¼\"><a href=\"#Swift-5-ç»ˆäºæ¥äº†ï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°ï¼ï¼\" class=\"headerlink\" title=\"Swift 5 ç»ˆäºæ¥äº†ï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°ï¼ï¼\"></a><a href=\"https://mp.weixin.qq.com/s/-fLVdoTz3lT5Kxnea0-Avg\">Swift 5 ç»ˆäºæ¥äº†ï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°ï¼ï¼</a></h3><p>Xcode10.2 å·²ç»å‘å¸ƒï¼Œæ˜¯æ—¶å€™å¼€å§‹ä½¿ç”¨ Swift5 äº†ï¼Œå¯ä»¥æå‰çœ‹ä¸‹è€å¸æœºå‘¨æŠ¥æ€»ç»“çš„Swift5 æ›´æ–°å†…å®¹ï¼Œå¯¹é€‚é…å·¥ä½œåšå¥½å‡†å¤‡ã€‚</p>\n<h3 id=\"è‹¹æœå¼€äº†ä¸€åœºæ²¡æœ‰ä»»ä½•ç¡¬ä»¶çš„å‘å¸ƒä¼š\"><a href=\"#è‹¹æœå¼€äº†ä¸€åœºæ²¡æœ‰ä»»ä½•ç¡¬ä»¶çš„å‘å¸ƒä¼š\" class=\"headerlink\" title=\"è‹¹æœå¼€äº†ä¸€åœºæ²¡æœ‰ä»»ä½•ç¡¬ä»¶çš„å‘å¸ƒä¼š\"></a><a href=\"https://mp.weixin.qq.com/s/ggqK8kzU0efgTdPIZ5vbVw\">è‹¹æœå¼€äº†ä¸€åœºæ²¡æœ‰ä»»ä½•ç¡¬ä»¶çš„å‘å¸ƒä¼š</a></h3><p>3 æœˆ 26 æ—¥å‡Œæ™¨ 1 ç‚¹ï¼Œè‹¹æœåœ¨ Apple Park æ–°æ€»éƒ¨çš„ä¹”å¸ƒæ–¯å‰§é™¢å¬å¼€äº†æ˜¥å­£ç‰¹åˆ«æ´»åŠ¨ã€‚</p>\n<p>åœ¨æ´»åŠ¨ç°åœºï¼Œè‹¹æœå‘å¸ƒäº†ï¼š</p>\n<ul>\n<li>æ–°é—»æœåŠ¡ Apple News+</li>\n<li>å¯ä»¥è¿”ç°çš„ Apple Card</li>\n<li>æ¸¸æˆæœåŠ¡ Apple Arcade</li>\n<li>å…¨æ–°çš„ Apple TV App æœåŠ¡</li>\n<li>Apple TV+ åŸåˆ›è§†é¢‘æœåŠ¡</li>\n</ul>\n<p>å…¨éƒ¨æ˜¯è½¯ä»¶å’ŒæœåŠ¡ï¼Œæ²¡æœ‰æ–°ç¡¬ä»¶çš„å‡ºç°â€”â€”è¿™æˆ–è®¸æ„å‘³ç€ï¼Œè‹¹æœæ­£åœ¨å¯»æ‰¾ä¸‹ä¸€ä¸ªåå¹´çš„ç”Ÿé•¿ç©ºé—´ã€‚</p>\n<h2 id=\"éŸ³è§†é¢‘\"><a href=\"#éŸ³è§†é¢‘\" class=\"headerlink\" title=\"éŸ³è§†é¢‘\"></a>éŸ³è§†é¢‘</h2><h3 id=\"è¾èŒç¯æ¸¸ä¸­å›½çš„ç¨‹åºå‘˜å°-K\"><a href=\"#è¾èŒç¯æ¸¸ä¸­å›½çš„ç¨‹åºå‘˜å°-K\" class=\"headerlink\" title=\"è¾èŒç¯æ¸¸ä¸­å›½çš„ç¨‹åºå‘˜å° K\"></a><a href=\"https://talk.swift.gg/19\">è¾èŒç¯æ¸¸ä¸­å›½çš„ç¨‹åºå‘˜å° K</a></h3><p>å¤§æ¦‚æ¯ä¸ªäººéƒ½æœ‰è¿‡è¿™ç§å†²åŠ¨ï¼Œè¾æ‰å·¥ä½œå‡ºå»æ—…è¡Œï¼Œæƒ³å»å“ªå°±å»å“ªï¼Œå†ä¹Ÿä¸ç”¨èµ¶éœ€æ±‚ä¿® bug é€šå®µåŠ ç­ã€‚ä¸è¿‡å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œä¹Ÿå°±æ­¢æ­¥äºâ€œæƒ³æƒ³â€ï¼Œå¹¶ä¸ä¼šä»˜è¯¸è¡ŒåŠ¨ã€‚ä½†æ˜¯æˆ‘èº«è¾¹æœ‰ä¸€ä½æœ‹å‹ï¼ŒçœŸçš„åšåˆ°äº†è¿™ä»¶äº‹ï¼šè¾èŒä¸€å¹´ç¯æ¸¸ä¸­å›½ï¼</p>\n<p>è¿™æ˜¯æœ€è¿‘å‡ æœŸggtalkå¯¹æˆ‘è§¦åŠ¨æœ€å¤§çš„ä¸€æœŸï¼ŒåŒæ ·æ˜¯åšiOSå¼€å‘çš„ï¼Œä¸ºä»€ä¹ˆäººå®¶é‚£ä¹ˆä¼˜ç§€ğŸ™ƒ</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"996-ICU\"><a href=\"#996-ICU\" class=\"headerlink\" title=\"996.ICU\"></a><a href=\"https://github.com/996icu/996.ICU\">996.ICU</a></h3><p>å·¥ä½œ996ï¼Œç”Ÿç—…ICUã€‚è¿™æ®µæ—¶é—´çš„â€œæ˜æ˜Ÿé¡¹ç›®â€ï¼Œæ—¨åœ¨åæŠ—å›½å†…äº’è”ç½‘å…¬å¸å½¢æˆçš„æ¯å‘¨å·¥ä½œ6å¤©ï¼Œæ¯å¤©å·¥ä½œæ—©9ç‚¹åˆ°æ™š9ç‚¹çš„ä¸è‰¯åŠ ç­é£æ°”ã€‚æˆªæ­¢åˆ°3æœˆ30å·ï¼Œä»…å››å¤©æ—¶é—´starå·²ç»è¶…11ä¸‡ã€‚</p>\n<h3 id=\"XVim2\"><a href=\"#XVim2\" class=\"headerlink\" title=\"XVim2\"></a><a href=\"https://github.com/XVimProject/XVim2\">XVim2</a></h3><p>XVim2æ˜¯ä¸€ä¸ªç”¨äºXcodeçš„Vimæ’ä»¶ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªVimå…šï¼Œä½ å¯ä»¥ç›´æ¥åœ¨Xcodeä»£ç ç¼–è¾‘ç•Œé¢ä½¿ç”¨Vimçš„å„ç§ç‰¹æ€§ã€‚æˆ‘æ˜¯æœ€è¿‘å¼€å§‹æ¥è§¦ï¼Œä¹Ÿåœ¨æ…¢æ…¢é€‚åº”Vimçš„è¿œç¦»é¼ æ ‡å·¥ä½œæ¨¡å¼ã€‚å¦é™„é€ä¸€ä¸ªå®‰è£…æµç¨‹ï¼š</p>\n<p>1ã€å…³é—­Xcode<br>2ã€é’¥åŒ™ä¸²-&gt;è¯ä¹¦åŠ©ç†-&gt;è¯ä¹¦åˆ›å»º<br>    åç§°ï¼šXcodeSigner<br>    èº«ä»½ç±»å‹ï¼šè‡ªç­¾åæ ¹è¯ä¹¦<br>    è¯ä¹¦ç±»å‹ï¼šä»£ç ç­¾å<br>3ã€é‡æ–°ç­¾ç½²Xcode</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´</span></span><br><span class=\"line\">sudo codesign -f -s XcodeSigner /Applications/Xcode.app</span><br></pre></td></tr></table></figure>\n<p>4ã€æŒ‰ç…§å®˜æ–¹æ­¥éª¤å®‰è£…XVim2</p>\n<h2 id=\"æ–‡æ‘˜\"><a href=\"#æ–‡æ‘˜\" class=\"headerlink\" title=\"æ–‡æ‘˜\"></a>æ–‡æ‘˜</h2><p>1ã€åŸ¹å…»å‡ºåœ¨æ²¡äººç›‘ç£è‡ªå·±çš„æ—¶å€™ä¹Ÿèƒ½é«˜æ•ˆå·¥ä½œçš„è‡ªæˆ‘è´£ä»»æ„Ÿéå¸¸é‡è¦ã€‚ä½ ä¹Ÿå¯ä»¥æ‹”è¿™ç§°ä¸ºæ˜¯å…·æœ‰ä¸€ç§æ€§æ ¼æˆ–è€…å…·æœ‰ä¸€ç§ç´ è´¨ï¼Œå®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚å¦‚æœç¼ºä¹å¯¹è‡ªå·±çš„è´£ä»»æ„Ÿï¼Œä½ å°†æ°¸è¿œä¾èµ–å¤–éƒ¨åŠ¨æœºæ¥é©±ä½¿ä½ åŠªåŠ›å·¥ä½œã€‚ä½ å®¹æ˜“æŠ˜æœäºä¸€æ ¹èƒ¡èåœçš„è¯±æƒ‘ï¼Œä¹Ÿå®¹æ˜“å±ˆä»äºä¸€æ ¹å¤§æ£’çš„å¨èƒã€‚<br>â€“ã€Šè½¯æŠ€èƒ½ï¼šä»£ç ä¹‹å¤–çš„ç”Ÿå­˜æŒ‡å—ã€‹</p>\n<p>2ã€æœ€ç»ˆï¼Œå®ƒæˆä¸ºæˆ‘è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ä¸­ä¸¥é‡çš„çŸ­æ¿ã€‚æ²¡æœ‰èŠ±æ—¶é—´å»å½»åº•æŒæ¡Lambdaè¡¨è¾¾å¼çš„å·¥ä½œåŸç†ï¼Œç»“æœæµªè´¹äº†å¤§æŠŠçš„æ—¶é—´ã€‚æœ€åå½“æˆ‘ä¸‹å†³å¿ƒèŠ±æ—¶é—´å»äº†è§£Lambdaè¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæˆ‘åªèŠ±äº†å‡ ä¸ªå°æ—¶é˜…è¯»å¹¶å®è·µï¼Œå°±é¢†ä¼šäº†è¿™ä¸€æ¦‚å¿µã€‚<br>â€“ã€Šè½¯æŠ€èƒ½ï¼šä»£ç ä¹‹å¤–çš„ç”Ÿå­˜æŒ‡å—ã€‹</p>\n<p>3ã€å›åˆ°ä»å‰ï¼Œåœ¨æˆ‘ä»¬åˆšå¼€å§‹ä¸€èµ·ç”Ÿæ´»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å†³å®šå°†æˆ‘ä»¬æ”¶å…¥çš„10%ç”¨äºé£é™©ä»€ä¸€ç¨â€“å®é™…ä¸Šæˆ‘ä»¬æŠŠè¿™éƒ¨åˆ†æ”¶å…¥æç»™ä¸€å®¶æ…ˆå–„æœºæ„ï¼Œä»¥å¸®åŠ©å°åº¦çš„å­¤å„¿ã€‚åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡å¥‰çŒ®ä»€ä¸€ç¨çš„ç¬¬äºŒå‘¨ï¼Œæˆ‘çš„å¦»å­å°±å¾—åˆ°äº†åŠ è–ªï¼ŒåŠ è–ªçš„æ•°é¢æ­£å¥½æ˜¯æˆ‘ä»¬å½“æ—¶å¥‰çŒ®ä»€ä¸€ç¨çš„æ•°é¢ã€‚æˆ‘ä¸ªäººè®¤ä¸ºï¼Œæˆ‘ä»¬çš„æˆåŠŸå¾ˆå¤§ä¸€éƒ¨åˆ†å°±æ˜¯å› ä¸ºè¿™ç§å¯¹å¥‰çŒ®çš„æ‰¿è¯ºï¼Œä¸€ç›´æªå®ˆåˆ°ä»Šå¤©ã€‚<br>å³ä½¿ä½ ä¸ä¿¡ä»°ä»»ä½•å®—æ•™ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸€ç‚¹ä¹Ÿæœ‰æŸç§ç¬¦åˆé€»è¾‘çš„è§£é‡Šã€‚æˆ‘è®¤ä¸ºï¼Œä½ æŠŠé’±çœ‹çš„è¶Šé‡ï¼Œä½ å°±è¶Šéš¾ä»¥åœ¨ç†è´¢æ–¹é¢åšå‡ºæ˜æ™ºçš„ã€æˆåŠŸçš„æŠ•èµ„é€‰æ‹©ã€‚è‡ªæ„¿æŠŠè‡ªå·±æ”¶å…¥çš„å›ºå®šæ•°é¢å¥‰çŒ®æˆ–è€…æèµ ç»™æ…ˆå–„æœºæ„ï¼Œå¯ä»¥æ”¹å˜ä½ å¯¹é‡‘é’±çš„çœ‹æ³•ã€‚è¿™ä¸€æ€æƒ³ä¸Šçš„è½¬å˜è®©ä½ ä»é‡‘é’±çš„æ‰€æœ‰è€…å˜æˆç®¡ç†è€…ã€‚<br>â€“ã€Šè½¯æŠ€èƒ½ï¼šä»£ç ä¹‹å¤–çš„ç”Ÿå­˜æŒ‡å—ã€‹</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"å…³äº996ICUçš„ä¸€äº›çœ‹æ³•","url":"http://zhangferry.github.io/2019/03/31/996-ICU/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-693ded7ab49b4da3?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"996ICU\"></p>\n<p>è¿™ä¸ªé¡¹ç›®åœ¨æœ‰7kå¤šstarçš„æ—¶å€™æˆ‘å°±çœ‹åˆ°æœ‰äººæ¨äº†ï¼Œå½“æ—¶ä¹Ÿå°±æ˜¯çœ‹çœ‹è€Œå·²ï¼Œäº†è§£äº†è¿™ä¸ªæ ‡è¯†çš„æ„æ€ï¼Œå¹¶æ²¡æœ‰ç‚¹è¿›å»ï¼Œæ›´æ²¡æœ‰starã€‚å†ä¹‹åéšç€è¶Šæ¥è¶Šå¤šçš„starå’Œå…³æ³¨é‡ï¼Œå…¬ä¼—å·ã€ç¤¾åŒºã€è®ºå›ï¼Œä½†å‡¡æœ‰ç¨‹åºå‘˜çš„è§’è½ï¼Œå¤§å®¶éƒ½åœ¨äº‰å…ˆä¼ æ’­ç€â€œ996ICUâ€è¿™ä¸ªæ¦‚å¿µï¼Œæ¯ä¸€æ¬¡è½¬å‘ã€staréƒ½æ˜¯å¯¹996è¿™ç§å·¥ä½œåˆ¶çš„æ— å£°æŠµæŠ—ã€‚</p>\n<a id=\"more\"></a>\n<p>åˆšæ‰çœ‹äº†ä¸€çœ¼starå·²ç»12w+ï¼Œé©¬ä¸Šå°±è¦è¶…è¿‡reactï¼Œè¿™è¶³ä»¥è¯´æ˜å¿å—ç€996çš„ç¨‹åºå‘˜æ˜¯å¤šä¹ˆå¤§çš„ä¸€ä¸ªç¾¤ä½“ã€‚æˆ‘è¿™é‡Œä¸æƒ³è·Ÿå¤§éƒ¨åˆ†äººä¸€æ ·ï¼Œç—›æ–¥996ï¼Œæ­Œé¢‚è¿™ç§è¡Œä¸ºï¼Œæˆ‘æƒ³è¯´äº›ä¸ä¸€æ ·çš„ä¸œè¥¿ã€‚</p>\n<p>ä»è‡ªå·±ç»å†å‡ºå‘å§ï¼Œ2015å¹´åˆšå‡ºæ¥å·¥ä½œçš„æ—¶å€™æ˜¯996ï¼Œå½“æ—¶æˆ‘å¹¶æ²¡æœ‰ä¸æƒ…æ„¿æˆ–è€…è§‰å¾—ç´¯ï¼Œå› ä¸ºæˆ‘å¾ˆæ¸…æ¥šè‡ªå·±å°±æ˜¯ä¸ªèœé¸Ÿï¼Œ996å¯ä»¥è®©è‡ªå·±æœ‰æ›´å¤šçš„æ—¶é—´ç”¨æ¥å­¦ä¹ ä¸œè¥¿ï¼Œæå‡æŠ€æœ¯ã€‚è¿™ç§å·¥ä½œèŠ‚å¥æŒç»­äº†å¤§åŠå¹´ï¼Œè¿™æ®µæ—¶é—´çš„æ„Ÿå—ä¹Ÿæ˜¯å³å……å®åˆæ»¡è¶³çš„ã€‚åæ¥å…¬å¸ä¸šç»©å¥½è½¬ï¼Œæ”¹æˆå¤§å°å‘¨ï¼Œå†å‡ ä¸ªæœˆååˆæ”¹æˆåŒä¼‘ã€‚å½“ç„¶æœ€å¼€å§‹äº«å—åŒä¼‘çš„é‚£å‡ å¤©è¿˜æ˜¯å¾ˆçˆ½çš„ï¼Œåæ¥å°±æ…¢æ…¢ä¹ æƒ¯äº†ï¼Œ996å‰åæˆ‘çš„å·¥ä½œçŠ¶æ€å¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚</p>\n<p>å†åæ¥è¿›äº†ç°åœ¨çš„å…¬å¸ï¼Œäººäº‹å‘Šè¯‰æˆ‘å¤§å°å‘¨ï¼Œé‚£æ—¶æˆ‘å·²ç»ä¿æŒäº†å°†è¿‘ä¸€å¹´çš„åŒä¼‘èŠ‚å¥ï¼Œç¨å¾®çŠ¹è±«äº†é‚£ä¹ˆä¸€ä¼šï¼Œä½†è€ƒè™‘åˆ°å…¬å¸ä¸é”™çš„å‘å±•å‰æ™¯ï¼Œæˆ‘è¿˜æ˜¯ç­”åº”è¿›æ¥äº†ã€‚ä»åŒä¼‘åˆ‡æ¢åˆ°å¤§å°å‘¨ä¹‹åï¼Œæˆ‘æ‰æ„è¯†åˆ°åŒä¼‘æ˜¯å¤šä¹ˆçˆ½çš„ä¸€ä»¶äº‹ã€‚ã€‚ã€‚çœŸçš„æ·±åˆ»ä½“ä¼šåˆ°å¾—åˆ°äº†å°±ä¹ ä»¥ä¸ºå¸¸ï¼Œå¤±å»äº†æ‰æ‡‚çš„çæƒœçš„æ„Ÿå—ã€‚</p>\n<p>åœ¨æˆ‘è¿›æ¥ä¸åˆ°åŠå¹´çš„æ—¶é—´ï¼Œå…¬å¸è¿è¡Œçš„å¤§å°å‘¨è°ƒæ•´ä¸º975ï¼Œå› ä¸ºæ™šä¸Š7ç‚¹å…¬å¸æä¾›æ™šé¤ï¼Œå…¶å®å¼€å‘è¿™è¾¹éƒ½æ˜¯åƒå®Œé¥­ä¼‘æ¯ä¸€ä¼šå†ç»§ç»­å›å»å·¥ä½œï¼Œå¤§çº¦ä¹Ÿæ˜¯9ç‚¹èµ°ï¼Œå¯ä»¥è¯´æ˜¯995ã€‚</p>\n<p>å¾—çŸ¥åŒä¼‘ä¹‹åï¼Œæˆ‘çš„å­¦ä¹ çŠ¶æ€ä¹Ÿé«˜æ¶¨èµ·æ¥äº†ï¼Œè§„åˆ’ç€ä¸¤å¤©çš„è‡ªç”±æ—¶é—´å¯ä»¥åšå¾ˆå¤šäº‹æƒ…äº†ï¼Œç¡æ‡’è§‰ã€æ‰“æ¸¸æˆã€å­¦ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€è·‘æ­¥ã€‚ç„¶è€Œå®é™…æƒ…å†µå´æ˜¯å¼€å§‹åŒä¼‘ä¹‹åçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæˆ‘å®Œæˆåº¦æœ€é«˜çš„æ˜¯ç¡æ‡’è§‰ã€æ‰“æ¸¸æˆï¼Œå¯¹äºå­¦ä¹ ï¼Œå¥èº«åŸºæœ¬æ²¡æ€ä¹ˆæ‰§è¡Œã€‚æœ‰é‚£ä¹ˆå‡ ä¸ªå‘¨æœ«æˆ‘æ·±æ·±åœ°ä½“ä¼šåˆ°èˆ’é€‚åŒºåªè¦è¿›å…¥ï¼Œæ˜¯å¾ˆéš¾æŒ£è„±å‡ºæ¥ã€‚å‘¨æœ«çš„æ—©ä¸Šé†’æ¥å°±æ„Ÿè§‰è‡ªå·±æ˜¯è¢«å°å°åœ¨åºŠä¸Šäº†ä¸€æ ·ï¼Œé™¤äº†åˆ·æ‰‹æœºä»€ä¹ˆéƒ½ä¸æƒ³åšï¼Œå“ªéƒ½ä¸æƒ³å»ï¼Œæ—©ä¸Šå–æ°´ï¼Œä¸­åˆå«å¤–å–ï¼Œæ™šä¸Šå†æ¥ä¸€ä»½å¤–å–ï¼Œä¸€å¤©ç»“æŸäº†ã€‚</p>\n<p>åŒæ—¶æˆ‘åˆæ˜¯ä¸€ä¸ªåçœæ„è¯†å¾ˆå¼ºçš„äººï¼Œåœ¨è™šåº¦äº†ä¸€ä¸ªå‘¨æœ«ä¹‹åå¿ƒé‡Œå°±ä¼šéå¸¸è‡ªè´£ã€‚ä¸€ä¸ªè¢«è’åºŸçš„å‘¨æœ«è¿˜ä¸å¦‚å¿™ç¢Œä¸€å¤©çš„å·¥ä½œç»™æˆ‘å¸¦æ¥çš„æ»¡è¶³æ„Ÿï¼Œæˆ‘ç”šè‡³äº§ç”Ÿäº†æƒ³è¦å›åˆ°996çš„çŠ¶æ€ï¼Œä»¥æ­¤æ¥çº¦æŸè‡ªå¾‹æ€§å¾ˆå·®çš„è‡ªå·±ã€‚</p>\n<p>å†åæ¥ä¹Ÿå°±æ˜¯æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œä¸ºäº†è¾¾æˆè¿‘ä¸¤ä¸ªæœˆçš„OKRï¼Œæˆ‘â€œå¦‚æ„¿ä»¥å¿â€åœ°åˆå›åˆ°äº†996çš„æ¨¡å¼ã€‚å› ä¸ºæ—©æœ‰å‡†å¤‡ï¼Œå¤šä¸Šä¸€å¤©ç­å¹¶æ²¡æœ‰è®©æˆ‘æ„Ÿè§‰å¤±å»å¤šå°‘è‡ªç”±ã€‚å…¬å¸ä¹Ÿè€ƒè™‘å¤§å®¶åŠ³é€¸ç»“åˆçš„æƒ…å†µï¼Œæ­å»ºäº†å°çƒï¼Œä¹’ä¹“çƒï¼ŒSwitchæ¸¸æˆæœºè¿™ç§å¨±ä¹æªæ–½ã€‚å‘¨å…­åŠ ç­ï¼Œä¹Ÿå°±æ˜¯åšä¸€äº›ä¿®ä¿®è¡¥è¡¥çš„ä»»åŠ¡ï¼Œä¸­åˆåƒå®Œé¥­ä¼šæ‰“ä¸€ä¼šå°çƒï¼Œä¹’ä¹“çƒï¼Œæˆ–è€…ç©ä¸€ä¼šå†œè¯ï¼Œå›æ¥ç»§ç»­å·¥ä½œã€‚æœ‰æ—¶å€™ä¼šæ„Ÿè§‰å‘¨å…­åŠ ç­æ›´åƒæ˜¯æ¢äº†ä¸€ä¸ªåœ°æ–¹è¿‡å‘¨æœ«ã€‚</p>\n<p>ä½†å…¶å®æˆ‘ä¹Ÿä¸æ˜¯å®Œå…¨æ¥å—996çš„ï¼Œå®ƒè§£å†³äº†æˆ‘çš„æ—¶é—´é…æ¯”é—®é¢˜ï¼Œä½†ä¹Ÿä¼šç»™æˆ‘å¼•èµ·å…¶ä»–ä¸ä¾¿ã€‚æ¯”å¦‚æˆ‘æƒ³å’Œå¥³æœ‹å‹å‘¨æœ«å‡ºå»å°±è¿‘ç©ä¸€ä¸‹ï¼ŒåŒ—äº¬ä»¥å†…è¿˜å¥½ï¼Œå¦‚æœæƒ³å‡ºåŒ—äº¬å°±ä¼šæ—¶é—´å®‰æ’ä¸è¿‡æ¥ã€‚å½“ç„¶è¿˜æœ‰å…¶ä»–çš„ä¸ä¾¿ï¼Œè¦çŸ¥é“ä¼‘æ¯ä¸¤å¤©å’Œä¼‘æ¯ä¸€å¤©å¯æ˜¯ç›¸å·®ä¸€å€å‘¢ã€‚</p>\n<p>é‚£å›åˆ°è¿™ä¸ªè¯é¢˜ï¼Œ996è¿™ä¸ªåˆ¶åº¦æ˜¯å¦OKå‘¢ï¼Ÿ</p>\n<p>å¦‚æœä½ è‡ªå¾‹æ€§å¾ˆå¼ºï¼Œæœ‰å¾ˆå¤šæƒ³æ³•æƒ³è¦å®ç°ï¼Œä¹Ÿæœ‰è¾ƒå¥½çš„æ—¶é—´è§„åˆ’ï¼Œé‚£å¤šä¸€äº›è‡ªå·±çš„ç§äººæ—¶é—´æ˜¯å†å¥½ä¸è¿‡çš„äº†ï¼Œ996å¯¹ä½ çš„ç¡®ä¸èƒ½è®©ä½ å‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚å¦‚æœä½ è‡ªå¾‹æ€§å¾ˆå·®ï¼Œä¹Ÿæ²¡è€ƒè™‘è¿‡å¤šå‡ºæ¥çš„æ—¶é—´ç”¨æ¥å¹²å˜›ï¼ˆç©å’Œç¡é™¤å¤–ï¼‰ï¼Œé‚£æˆ‘å»ºè®®ä½ å¯ä»¥å…ˆå¥½å¥½æƒ³æƒ³åŒä¼‘ä¹‹åä½ ä¼šåšä»€ä¹ˆï¼ŒåŒä¼‘å¯¹ä½ æ¥è¯´ç”Ÿæ´»å“è´¨æ˜¯æé«˜äº†è¿˜æ˜¯é™ä½äº†ã€‚å½“ç„¶å¦‚æœä½ è®¤ä¸ºè‡ªå·±å°±æ˜¯ä¸æƒ³åŠ ç­ï¼Œåªæƒ³è¿‡å¹³æ·¡æ¬é™çš„ç”Ÿæ´»ï¼Œä¸Šç­å¯¹ä½ æ¥è¯´å°±æ˜¯ä¸ºäº†èµšé’±ï¼Œè¿™ç§æƒ³æ³•ä¹Ÿæ²¡é”™ã€‚å› ä¸ºä¸æ˜¯æ¯ä¸ªç¨‹åºå‘˜éƒ½çƒ­çˆ±ç€è¿™ä»½å·¥ä½œï¼Œèƒ½ä»ä¸­è·å–åˆ°ä¹è¶£çš„ï¼Œé‚£å°±æ¢ä»½è½»æ¾ç‚¹çš„å·¥ä½œå‘—ã€‚æˆ‘ä¸‹é¢è®¨è®ºçš„å†…å®¹å¯¹è¿™ç±»äººç¾¤ä¹Ÿæ˜¯ä¸é€‚ç”¨çš„ï¼Œä½ ä»¬å¯ä»¥çœ‹åˆ°è¿™å°±ç»“æŸäº†ã€‚</p>\n<p>è¯´äº›ä¸é‚£ä¹ˆä¸­å¬çš„è¯ï¼Œå¦‚æœä½ è‡ªå¾‹æ€§å·®ï¼Œå…¬å¸çš„996ç›¸å½“äºå¸®ä½ åŠ äº†ä¸€é“å±éšœï¼Œè¿™ä¸ªæ—¶é—´æ®µå®ƒå¸®ä½ éš”å¼€èˆ’é€‚åŒºï¼Œè¿«ä½¿ä½ æŠ•å…¥åˆ°å·¥ä½œä¸­ã€‚è€Œæˆ‘å…¬å¸ä¹Ÿæœ‰ä¸å°‘ï¼Œæ²¡æœ‰åŠ ç­ä»»åŠ¡ï¼Œæ—¶ä¸æ—¶ä¹Ÿä¼šä¸»åŠ¨æ¥å…¬å¸åŠ ç­çš„äººã€‚é‚£æœ€ç†æƒ³çš„æƒ…å†µå…¶å®å°±æ˜¯ï¼Œå…¬å¸ç›¸ä¿¡å‘˜å·¥ï¼Œä¸å¼ºåˆ¶åŠ ç­ï¼Œå¤§å®¶æƒ³ä¼‘æ¯äº†ï¼Œè¯¥ä¼‘æ¯äº†å°±ä¼‘æ¯ï¼Œä¿è¯æŠŠå·¥ä½œæ•ˆç‡æä¸Šå»ã€‚å‘˜å·¥å‘¢ï¼ŒåŒæ—¶ä¸ºè‡ªå·±å’Œå…¬å¸è´Ÿè´£ï¼Œæ²¡å®Œæˆå·¥ä½œï¼Œå­¦ä¹ æ–°ä¸œè¥¿ï¼Œå°±å¯ä»¥æ¥å…¬å¸ä¸»åŠ¨åŠ ç­ã€‚</p>\n<p>ä¹‹æ‰€ä»¥è¯´ä»–ç†æƒ³ï¼Œæ˜¯å› ä¸ºå¾ˆå¤šå…¬å¸ä¸ä¿¡ä»»å‘˜å·¥ï¼Œå¾ˆå¤šå‘˜å·¥ä¹Ÿæ²¡æœ‰é‚£ç§å¯¹è‡ªå·±å’Œå…¬å¸å¼ºçƒˆçš„è´£ä»»æ„Ÿã€‚æ‰€ä»¥äº’è”ç½‘è¡Œä¸šå‡ºç°è¿™ä¹ˆå¤šçš„996ä¸æ˜¯å•çº¯å…¬å¸çš„é—®é¢˜ï¼Œä¸€äº›ç¨‹åºå‘˜ä¹Ÿè´Ÿæœ‰ä¸€å®šçš„è´£ä»»ã€‚</p>\n<p>å†è¯´ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœæ˜¯æ— è‰¯å…¬å¸ï¼Œä¸è€ƒè™‘å‘˜å·¥æ•ˆç‡é—®é¢˜ï¼Œå„ç§å¼ºåˆ¶åŠ ç­ï¼Œæ996ï¼Œé‚£æˆ‘ä¹Ÿæ˜¯åšå†³åå¯¹çš„ã€‚</p>\n<p>996ICUé¡¹ç›®é‡Œæœ‰æã€ŠåŠ³åŠ¨æ³•ã€‹ï¼Œæ ‡å‡†å·¥æ—¶ä¸€å‘¨æœ€é«˜ä¸º48å°æ—¶ï¼Œè€Œ996æ˜¯72å°æ—¶ï¼Œè¶…æ ‡ä¸å°‘ï¼›ä»¥åŠè¶…æ—¶è–ªèµ„åº”ä¸ºå¹³æ—¥å·¥èµ„çš„150%ã€‚è¿™è®©æˆ‘æƒ³åˆ°äº†å¤§äºŒå¯’å‡åœ¨ç”µå­å‚æ‰“å·¥çš„ç»å†ï¼Œæ ‡æ ‡å‡†å‡†çš„æŒ‰ç…§åŠ³åŠ¨æ³•æ¥çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯æŒ‰æ—¶è–ªç®—çš„ã€‚ä¸ºä»€ä¹ˆåŒæ ·æ˜¯å—åŠ³åŠ¡åˆåŒä¿æŠ¤ï¼Œä¸åŒçš„è¡Œä¸šå´æœ‰ç€ä¸åŒçš„å¤„ç†æ–¹å¼å‘¢ï¼Ÿ</p>\n<p>æˆ‘è®¤ä¸ºä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯ï¼Œç”µå­å‚æµæ°´çº¿ä¸Šçš„é‚£æ˜¯æ ‡å‡†çš„å·¥äººï¼Œè®¡æ—¶æˆ–è€…è®¡ä»¶ï¼Œå¯ä»¥æ¸…æ¸…æ¥šæ¥šçš„ææ¸…æ¥šã€‚è€Œç¨‹åºå‘˜å‘¢ï¼Œæ™ºåŠ›åŠ³åŠ¨ï¼Œæ²¡æ³•å‡†ç¡®çš„è¡¡é‡ä¸€ä¸ªäººçš„å·¥ä½œä»·å€¼ã€‚ä½ åŠ ç­ä¸¤å°æ—¶ï¼Œæ˜¯å› ä¸ºæ°´å¹³é—®é¢˜è¿˜æ˜¯åˆ«çš„åŸå› ï¼Œå¦‚æœæ˜¯è‡ªå·±åŸå› çš„è¯ï¼Œå…¬å¸éœ€è¦ä»˜é’±å—ï¼Œè¿™ä¸ªè¯´ä¸æ¸…çš„ã€‚æ‰€ä»¥æ˜¯å¦è¦æŒ‰ç…§åŠ³åŠ¨æ³•ä»˜ç»™é›‡å‘˜åŠ ç­è´¹ï¼Œå­˜åœ¨å¾ˆå¤šä¸ç¡®å®šå› ç´ ï¼Œè¿™ä¸ªæ˜¯ä¸ç°å®ä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚</p>\n<p>æˆ‘ä»¬å¾ˆå¤šäººå…¶å®å¿ƒç†ä¹Ÿæ˜ç™½ï¼Œå»ç»™996ICUç‚¹ä¸€ä¸ªstarå¹¶ä¸ä¼šè®©è‡ªå·±æ‘†è„±996ç°çŠ¶ã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯é‚£æ ·åšäº†ï¼Œè¿™å…¶ä¸­æœ‰ä¸€ç‚¹æŠ—äº‰ç²¾ç¥ï¼Œä½†æŠ—äº‰ä¹‹åæˆ‘å¸Œæœ›å¤§å®¶èƒ½å¤Ÿæ›´æ¸…æ¥šçš„çœ‹å¾…996è¿™ä¸ªé—®é¢˜ã€‚</p>\n<p>æˆ‘æ›´å¸Œæœ›996è¿™ä¸ªå«ä¹‰å¯ä»¥é€‚å½“æ‹“å®½ä¸€ç‚¹ï¼ŒåŒ…å«æˆ‘ä»¬å·¥ä½œåŠå·¥ä½œä»¥å¤–æå‡è‡ªæˆ‘çš„æ—¶é—´ã€‚<br>å¦‚æœå…¬å¸è¦æ±‚996ï¼Œåˆ†å‡ºä¸€äº›æ—¶é—´åšè‡ªå·±çš„äº‹æƒ…ï¼Œä¿è¯å·¥ä½œå­¦ä¹ çš„82é…æ¯”ã€‚å¦‚æœä¸è¦æ±‚996ï¼Œé‚£å°±å°½å¯èƒ½åˆç†åˆ†é…æ—¶é—´ï¼Œä¿è¯æ¯å‘¨æœ‰72å°æ—¶æ˜¯æŠ•å…¥åˆ°è¿™ä¸ªè¡Œä¸šé‡Œæ¥çš„ã€‚åœ¨è¿™æ®µæ—¶é—´é‡Œä½ å¯ä»¥ç”¨æ¥æå‡è‡ªæˆ‘ï¼Œæˆ–è€…æ˜¯å¬æˆ‘ç»™ä½ ä»¬å¹æ°´ğŸ™ƒ</p>\n","categories":[],"tags":["ç”Ÿæ´»","ç¨‹åºå‘˜"]},{"title":"iOSå¼€å‘æœˆæŠ¥#8|201902","url":"http://zhangferry.github.io/2019/02/28/monthly_8/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190228110103.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"æ–°é—»ä¸€è§ˆ\"><a href=\"#æ–°é—»ä¸€è§ˆ\" class=\"headerlink\" title=\"æ–°é—»ä¸€è§ˆ\"></a>æ–°é—»ä¸€è§ˆ</h2><p><a href=\"https://research.hackerrank.com/developer-skills/2019\">2019å¹´å¼€å‘äººå‘˜æŠ€èƒ½æŠ¥å‘Š</a></p>\n<p>è¿™æ˜¯<a href=\"https://www.hackerrank.com/\">HackerRank</a>å¹³å°é€šè¿‡å¯¹7ä¸‡å¤šåå¼€å‘äººå‘˜åšçš„ä¸€é¡¹è°ƒæŸ¥ï¼Œé—®é¢˜ä»ä»–ä»¬è®¤ä¸ºæœ€æœ‰å‰é€”çš„æŠ€æœ¯åˆ°ä»–ä»¬åœ¨å·¥ä½œä¸­å’Œé¢è¯•è¿‡ç¨‹ä¸­æƒ³è¦çš„æ˜¯ä»€ä¹ˆï¼Œç”šè‡³è¿˜æœ‰codingè¿‡ç¨‹ä¸­å¬ä»€ä¹ˆéŸ³ä¹æœ€æœ‰å¸®åŠ©ï¼ä¸€èµ·çœ‹ä¸‹å§ã€‚</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"presentedviewcontrollerå’ŒpresentingViewController\"><a href=\"#presentedviewcontrollerå’ŒpresentingViewController\" class=\"headerlink\" title=\"presentedviewcontrollerå’ŒpresentingViewController\"></a>presentedviewcontrollerå’ŒpresentingViewController</h3><p>å‡è®¾ä»Aæ§åˆ¶å™¨é€šè¿‡presentçš„æ–¹å¼è·³è½¬åˆ°äº†Bæ§åˆ¶å™¨ï¼Œé‚£ä¹ˆ <code>A.presentedViewController</code> å°±æ˜¯Bæ§åˆ¶å™¨ï¼›<br><code>B.presentingViewController</code> å°±æ˜¯Aæ§åˆ¶å™¨ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”å…³ç³»ä¼šè¿”å›<code>nil</code></p>\n<h3 id=\"è·å–ç±»å\"><a href=\"#è·å–ç±»å\" class=\"headerlink\" title=\"è·å–ç±»å\"></a>è·å–ç±»å</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¼ å…¥å®ä¾‹å¯¹è±¡object</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> typeName = <span class=\"type\">String</span>(describing: type(of: object))</span><br></pre></td></tr></table></figure>\n<h3 id=\"éšè—NavigationBarå¯¼è‡´æ‰‹åŠ¿è¿”å›å¤±æ•ˆ\"><a href=\"#éšè—NavigationBarå¯¼è‡´æ‰‹åŠ¿è¿”å›å¤±æ•ˆ\" class=\"headerlink\" title=\"éšè—NavigationBarå¯¼è‡´æ‰‹åŠ¿è¿”å›å¤±æ•ˆ\"></a>éšè—NavigationBarå¯¼è‡´æ‰‹åŠ¿è¿”å›å¤±æ•ˆ</h3><p>å½“æˆ‘ä»¬ä»ä¸€ä¸ªA(NavigationController)ç•Œé¢é€šè¿‡pushè¿›å…¥Bç•Œé¢ï¼Œå¦‚æœè¦éšè—Bçš„NavigationBarï¼Œé‚£ä¹ˆä»Båˆ°Açš„è¿”å›æ‰‹åŠ¿ä¹Ÿä¼šè¢«å±è”½æ‰ã€‚<br>å¦‚æœéœ€è¦åŠ å›æ¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.ç»™éœ€è¦æ·»åŠ è¿”å›æ‰‹åŠ¿çš„ViewControllerå¢åŠ UIGestureRecognizerDelegate</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.ç”±å½“å‰ViewControlleræ¥ç®¡popæ‰‹åŠ¿</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.navigationController?.interactivePopGestureRecognizer?.delegate = <span class=\"keyword\">self</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…³äº-Decimal\"><a href=\"#å…³äº-Decimal\" class=\"headerlink\" title=\"å…³äº Decimal\"></a>å…³äº Decimal</h3><p>å®˜æ–¹å¯¹<code>Decimal</code>ä»‹ç»å°±ä¸€å¥è¯</p>\n<blockquote>\n<p>A structure representing a base-10 number.</p>\n</blockquote>\n<p>è¡¨ç¤ºä»¥10ä¸ºåŸºæ•°çš„æ•°çš„ç»“æ„ä½“ï¼Œå°±æ˜¯åè¿›åˆ¶çš„è¡¨ç¤ºæ–¹æ³•ã€‚<br>å®ƒå¯ä»¥é€šè¿‡ <code>mantissa * 10 ^ exponent</code>çš„å½¢å¼è¡¨ç¤ºä»»æ„æ•°å€¼ã€‚<code>mantissa</code>(å°¾æ•°)æ˜¯æœ€é•¿38ä½çš„æ•´æ•°ï¼Œ<code>exponent</code>(æŒ‡æ•°)æ˜¯ -128åˆ°127çš„æ•´æ•°ã€‚</p>\n<p>ä½ ä¹Ÿå¯ä»¥æŠŠDecimalç†è§£æˆè·ŸInt, Float, Doubleä¸€æ ·çš„æ•°æ®ç±»å‹ï¼Œé‚£æœ‰äº†æ•´å½¢ï¼Œæµ®ç‚¹å‹æ•°å€¼è¿˜ä¼šå‡ºç°Decimalè¿™ä¸ªç±»å‹ï¼Ÿ<br>å¯ä»¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"built_in\">stride</span>: <span class=\"type\">Float</span> = <span class=\"number\">0.01</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sum: <span class=\"type\">Float</span> = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"number\">_</span> <span class=\"keyword\">in</span> <span class=\"number\">1</span>...<span class=\"number\">100</span> &#123;</span><br><span class=\"line\">    sum += <span class=\"built_in\">stride</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(sum)<span class=\"comment\">//0.99999934</span></span><br></pre></td></tr></table></figure>\n<p>sumçš„å€¼ä¸æ˜¯1ï¼Œè¿™æ˜¯å› ä¸ºç²¾åº¦çš„é—®é¢˜ï¼Œé‚£å¦‚æœæŠŠFloatæ¢æˆDecimalå°±ä¼šå®Œå…¨ç­‰äº1ã€‚</p>\n<p><code>SKProduct</code>çš„<code>price</code>å±æ€§å°±æ˜¯Decimalç±»å‹</p>\n<h3 id=\"è¿å5-5æ¡æ¬¾è¢«æ‰“å›çš„ç»å†\"><a href=\"#è¿å5-5æ¡æ¬¾è¢«æ‰“å›çš„ç»å†\" class=\"headerlink\" title=\"è¿å5.5æ¡æ¬¾è¢«æ‰“å›çš„ç»å†\"></a>è¿å5.5æ¡æ¬¾è¢«æ‰“å›çš„ç»å†</h3><p>åœ¨ä¸€æ¬¡æœ‰å…³å†…è´­é¡¹å®¡æ ¸è¢«æ‰“å›çš„ç»å†ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªæ–°é—®é¢˜ï¼Œé”™è¯¯æè¿°ä¸­æç¤ºè¿åäº†æ¡æ¬¾<code>5.5 Developer Code of Conduct</code>ã€‚<br>ç®€å•çœ‹ä¸‹è¿™ä¸€æ¡</p>\n<blockquote>\n<p>Please treat everyone with respect, whether in your responses to App Store reviews, customer support requests, or when communicating with Apple, including your responses in Resolution Center. Do not engage in harassment of any kind, discriminatory practices, intimidation, bullying, and donâ€™t encourage others to engage in any of the above.<br>Customer trust is the cornerstone of the App Storeâ€™s success. Apps should never prey on users or attempt to rip-off customers, trick them into making unwanted purchases, force them to share unnecessary data, raise prices in a tricky manner, charge for features or content that are not delivered, or engage in any other manipulative practices within or outside of the app.</p>\n</blockquote>\n<p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯è¦å°Šé‡ç”¨æˆ·ã€‚</p>\n<p>åœ¨è”ç³»è¿‡è‹¹æœå®¡æ ¸å®¢æœä¹‹åï¼Œè¢«å‘ŠçŸ¥æ˜¯å› ä¸ºåœ¨å¼•å¯¼è¿‡ç¨‹ä¸­å¼¹äº†ä¸¤æ¬¡è®¢é˜…å¼¹çª—ï¼ˆä¸€æ¬¡è®¢é˜…ï¼Œä¸€æ¬¡freetrialï¼‰è¢«æ‹’çš„ã€‚ä½†å…¶å®è¿™ä¸ªæµç¨‹å·²ç»è·‘äº†å¤§åŠå¹´ï¼Œä¸€ç›´æ²¡é—®é¢˜ï¼Œè¿™æ¬¡å´çªç„¶è¢«æªå‡ºæ¥äº†ï¼Œæœ‰ç‚¹è«åå…¶å¦™ã€‚</p>\n<p>å¯èƒ½å®¡æ ¸äººå‘˜è®¤ä¸ºï¼Œè¿™ç§è¡Œä¸ºæœ‰è¯±å¯¼æˆ–è€…å¼ºè¿«ç”¨æˆ·ä»˜è´¹çš„å«Œç–‘ã€‚ç”±æ­¤ä¹Ÿå¯ä»¥çœ‹å‡ºå®¡æ ¸äººå‘˜å¯¹é¡¹ç›®æµç¨‹çš„ç®¡ç†è¶Šæ¥è¶Šä¸¥æ ¼äº†ã€‚å»æ‰ä¸€ä¸ªæ­¥éª¤ä¹‹åå†æ¬¡æäº¤å°±è¿‡å®¡äº†ã€‚</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"Swift-ABI-ç¨³å®šå¯¹æˆ‘ä»¬åˆ°åº•æ„å‘³ç€ä»€ä¹ˆ\"><a href=\"#Swift-ABI-ç¨³å®šå¯¹æˆ‘ä»¬åˆ°åº•æ„å‘³ç€ä»€ä¹ˆ\" class=\"headerlink\" title=\"Swift ABI ç¨³å®šå¯¹æˆ‘ä»¬åˆ°åº•æ„å‘³ç€ä»€ä¹ˆ\"></a><a href=\"https://onevcat.com/2019/02/swift-abi/\">Swift ABI ç¨³å®šå¯¹æˆ‘ä»¬åˆ°åº•æ„å‘³ç€ä»€ä¹ˆ</a></h3><p>Swift ç¤¾åŒºæœ€è¿‘æœ€é‡å¤§çš„æ–°é—»åº”è¯¥å°±æ˜¯ ABI ç¨³å®šäº†ã€‚è¿™ä¸ªè¯é¢˜è™½ç„¶å·²ç»è®¨è®ºäº†æœ‰ä¸€é˜µå­äº†ï¼Œä½†éšç€ Xcode 10.2 beta çš„è¿­ä»£å’Œ Swift 5 çš„ release è¢«æä¸Šæ—¥ç¨‹ï¼Œæœ€ç»ˆ Swift ABI ç¨³å®šèƒ½åšåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œæˆ‘ä»¬å¼€å‘è€…èƒ½åšäº›ä»€ä¹ˆï¼Œéœ€è¦åšäº›ä»€ä¹ˆï¼Œå°±å˜æˆäº†ä¸€ä¸ªé‡è¦çš„è¯é¢˜ã€‚</p>\n<p>ä¸€èµ·æ¥çœ‹ä¸‹ä½¿ç”¨ Swift 5 ä¼šå¯¹æˆ‘ä»¬çš„é¡¹ç›®æœ‰ä»€ä¹ˆå½±å“ä»¥åŠæ€ä¹ˆå¤„ç†ã€‚</p>\n<h3 id=\"Void\"><a href=\"#Void\" class=\"headerlink\" title=\"Void\"></a><a href=\"https://juejin.im/post/5c73af896fb9a049cb1963d4\">Void</a></h3><p>SwiftGGç¿»è¯‘ç»„ç¿»è¯‘çš„Matttä¸€ç¯‡ä»‹ç»Voidçš„æ–‡ç« ã€‚<br><code>Void</code>æ˜¯ä»€ä¹ˆï¼Œå®ƒå’Œ<code>nil</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œè¿™ä¸ªæˆ‘ä»¬ç»å¸¸ç”¨ä½†ä¸ä¸€å®šçœŸçš„ç†è§£çš„ä¸œè¥¿ï¼Œä¸€èµ·é€šè¿‡è¿™ç¯‡æ–‡ç« çœ‹ä¸‹å§ã€‚</p>\n<h3 id=\"love2-io\"><a href=\"#love2-io\" class=\"headerlink\" title=\"love2.io\"></a><a href=\"https://love2.io/@tzivanmoe/doc/a-programmer-prepares/README.md\">love2.io</a></h3><p>ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ï¼Œä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ç¨‹åºå‘˜éœ€è¦å…·å¤‡å“ªäº›çŸ¥è¯†å‘¢ï¼Ÿ</p>\n<p>æ•°æ®ç»“æ„ã€ç®—æ³•ã€ä»£ç æ¶æ„ã€é¡¹ç›®ç®¡ç†å·¥å…·ã€ç½‘ç»œçŸ¥è¯†ç­‰ï¼Ÿå¯èƒ½è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦æ‡‚ç‚¹è®¾è®¡ã€å­¦ç€å½“ä¸€ä¸ªåˆæ ¼çš„PMã€å­¦ä¼šå›¢é˜Ÿåˆä½œã€å­¦ä¼šå­¦ä¹ ã€æå‡æ•ˆç‡ç­‰ç­‰ï¼›å¤Ÿäº†å—ï¼Ÿä½ è¿˜éœ€è¦äº†è§£ä¸€ä¸‹åˆ›ä¸šæµç¨‹ã€å…³æ³¨è‡ªå·±çš„èº«ä½“å¥åº·ã€‚ã€‚ã€‚</p>\n<p>å¤ªå¤šäº†ï¼Œä¸åˆ—ä¸¾äº†ï¼Œå› ä¸ºè¿™é‡Œéƒ½æœ‰ã€‚</p>\n<h3 id=\"ä¸ºä»€ä¹ˆæ•°å­—ä¸‹æ ‡è¦ä»-0-å¼€å§‹è€Œä¸æ˜¯-1ï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆæ•°å­—ä¸‹æ ‡è¦ä»-0-å¼€å§‹è€Œä¸æ˜¯-1ï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆæ•°å­—ä¸‹æ ‡è¦ä» 0 å¼€å§‹è€Œä¸æ˜¯ 1ï¼Ÿ\"></a><a href=\"http://czheo.github.io/2019/02/24/why-numbering-should-start-at-zero/\">ä¸ºä»€ä¹ˆæ•°å­—ä¸‹æ ‡è¦ä» 0 å¼€å§‹è€Œä¸æ˜¯ 1ï¼Ÿ</a></h3><p>å¤§å®¶éƒ½çŸ¥é“æ•°å­—ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ï¼Œé‚£ä¸ºä»€ä¹ˆæ˜¯0è€Œä¸æ˜¯1å‘¢ï¼Ÿè¯´å®è¯åœ¨çœ‹è¿™ç¯‡æ–‡ç« ä¹‹å‰æˆ‘ä¹Ÿä¸èƒ½å¾ˆæ¸…æ¥šçš„è¯´æ˜ç™½ï¼Œå¦‚æœä½ ä¹Ÿæœ‰è¿™ç§ç–‘æƒ‘å°±çœ‹çœ‹è¿™ä¸ªæ–‡ç« å§ã€‚</p>\n<h3 id=\"ä»€ä¹ˆå«æœ‰çŸ¥è¯†\"><a href=\"#ä»€ä¹ˆå«æœ‰çŸ¥è¯†\" class=\"headerlink\" title=\"ä»€ä¹ˆå«æœ‰çŸ¥è¯†\"></a><a href=\"https://mp.weixin.qq.com/s/P87aDQ5h5qfy27bc77fOUg\">ä»€ä¹ˆå«æœ‰çŸ¥è¯†</a></h3><p>é€‰è‡ªç½—èƒ–60ç§’ï¼š<br>1ã€è¯è¯´ä»€ä¹ˆå«åšæœ‰çŸ¥è¯†ï¼Ÿæœ€è¿‘æˆ‘çœ‹ä¸‡ç»´é’¢è€å¸ˆæœ‰ä¸€ä¸ªæœ‰è¶£çš„å®šä¹‰ã€‚ä»–è¯´ï¼Œè€ƒè¯•å¾—äº†é«˜åˆ†ï¼Œä¸å«æœ‰çŸ¥è¯†ã€‚èŒ¶ä½™é¥­åèƒ½é«˜è°ˆé˜”è®ºï¼Œè¿™ä¹Ÿä¸å«æœ‰çŸ¥è¯†ã€‚</p>\n<p>ä½ å‘ç°æ²¡æœ‰ï¼Œè¿™äº›åœºåˆä¸‹ï¼ŒçŸ¥è¯†è™½ç„¶æœ‰ç”¨ï¼Œä½†æ˜¯è¿™äº›çŸ¥è¯†éƒ½ä¸å¤ªç‰µæ‰¯åˆ°å…·ä½“çš„å¾—å¤±ï¼Œæ‰€ä»¥åªæ˜¯æ™ºåŠ›æ¸¸æˆã€‚</p>\n<p>2ã€é‚£ä»€ä¹ˆæ‰å«æœ‰çŸ¥è¯†å‘¢ï¼Ÿä¸‡ç»´é’¢è€å¸ˆè¯´ï¼Œåªæœ‰å½“å±€åŠ¿ä¸æ˜æœ—ï¼Œæ²¡æœ‰äººå‘Šè¯‰ä½ è¯¥æ€ä¹ˆåŠï¼Œè€Œé”™è¯¯çš„åˆ¤æ–­åˆä¼šå¯¼è‡´ä¸€äº›ä¸è‰¯åæœï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœä½ å› ä¸ºæœ‰çŸ¥è¯†è€Œæ•¢äºæ‹¿ä¸€ä¸ªä¸»æ„ï¼Œä½ æ‰ç®—æ˜¯çœŸæœ‰çŸ¥è¯†ã€‚</p>\n<p>3ã€è¯·æ³¨æ„ï¼Œè¿™ä¸æ˜¯åœ¨è¯´ï¼Œå®ç”¨çš„çŸ¥è¯†æ‰æ˜¯çŸ¥è¯†ï¼Œè€Œæ˜¯åœ¨è¯´ï¼Œåªæœ‰å½“çŸ¥è¯†èƒ½å¤Ÿå¸®åŠ©ä½ åšå®é™…å†³ç­–çš„æ—¶å€™ï¼Œå®ƒæ‰æ˜¯ä½ çš„çŸ¥è¯†ã€‚</p>\n<p>4ã€è¿™ç§å†³ç­–å½“ç„¶å¯å¤§å¯å°ï¼Œå¤§åˆ°ä½ é€‰æ‹©ä»€ä¹ˆæ ·çš„èŒä¸šï¼Œé€‰æ‹©å¬åŒ»ç”Ÿçš„å“ªä¸ªå»ºè®®ï¼›å°åˆ°å¸®ä½ é€‰æ‹©çœ‹å“ªä¸€éƒ¨ç”µå½±ï¼Œæˆ–è€…æ˜¯ä¸ºå­©å­æŒ‘é€‰ä¹°å“ªä¸€æœ¬ä¹¦ã€‚è¿™éƒ½æ˜¯å…·ä½“çš„å†³ç­–ã€‚</p>\n<h2 id=\"éŸ³è§†é¢‘\"><a href=\"#éŸ³è§†é¢‘\" class=\"headerlink\" title=\"éŸ³è§†é¢‘\"></a>éŸ³è§†é¢‘</h2><p><a href=\"https://www.gcores.com/radios/106545\">è‹ä¿„ç§‘å¹»ç®€å²ï¼šç›´æŒ‡æ˜Ÿæµ·çš„å†’é™©æ—¶ä»£</a></p>\n<p>æœ€è¿‘åœ¨æœºæ ¸ï¼ˆgamecoresï¼‰ä¸Šå¬åˆ°çš„ä¸€æ®µè®²è¿°è‹ä¿„ç§‘å¹»çš„éŸ³é¢‘ï¼Œå¯ä»¥å½“æ•…äº‹å¬ï¼Œä¹Ÿå¯ä»¥å½“ä¸€æ®µå†å²å»å¬ï¼Œéå¸¸æœ‰æ„æ€ã€‚</p>\n<p>å¯¹äºå¾ˆå¤šäººè€Œè¨€ï¼Œè‹ä¿„çš„ç§‘å¹»æ–‡å­¦ã€ç”µå½±ä¹ƒè‡³æ¸¸æˆéƒ½æ˜¯ä¸€ä¸ªæ¯”è¾ƒé™Œç”Ÿçš„æ¦‚å¿µã€‚äº‹å®ä¸Šä»æ²™ä¿„æœ«æœŸåˆ°è‹è”å†åˆ°ä»Šå¤©çš„ä¿„ç½—æ–¯ï¼Œæ¥è‡ªæåŒ—ä¹‹åœ°çš„æ–¯æ‹‰å¤«äººæ°‘ä¹Ÿæ›¾åœ¨ç§‘å¹»è¿™ä¸ªé¢†åŸŸä¸Šèµ°äº†å¾ˆè¿œå¾ˆè¿œï¼Œå–å¾—äº†æƒŠäººçš„æˆç»©ã€‚</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"DoraemonKit\"><a href=\"#DoraemonKit\" class=\"headerlink\" title=\"DoraemonKit\"></a><a href=\"https://github.com/didi/DoraemonKit\">DoraemonKit</a></h3><p>ç”±æ»´æ»´å›¢é˜Ÿå¼€æºï¼Œä¸­æ–‡åâ€œå“†å•¦Aæ¢¦â€ã€‚</p>\n<p>DoraemonKit æ˜¯ä¸€ä¸ªåŠŸèƒ½é›†åˆé¢æ¿ï¼Œèƒ½å¤Ÿè®©æ¯ä¸€ä¸ª App å¿«é€Ÿæ¥å…¥ä¸€äº›å¸¸ç”¨çš„æˆ–è€…ä½ æ²¡æœ‰å®ç°çš„ä¸€äº›è¾…åŠ©å¼€å‘å·¥å…·ã€æµ‹è¯•æ•ˆç‡å·¥å…·ã€è§†è§‰è¾…åŠ©å·¥å…·ï¼Œè€Œä¸”èƒ½å¤Ÿå®Œç¾åœ¨ Doraemon é¢æ¿ä¸­æ¥å…¥ä½ å·²ç»å®ç°çš„ä¸ä¸šåŠ¡ç´§å¯†è€¦åˆçš„ä¸€äº›éé€šæœ‰çš„è¾…åŠ©å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ¥å…¥æ–¹ä¾¿ï¼Œä¾¿äºæ‰©å±•ã€‚</p>\n<h3 id=\"git-history\"><a href=\"#git-history\" class=\"headerlink\" title=\"git-history\"></a><a href=\"https://github.com/pomber/git-history\">git-history</a></h3><p>è¿™ä¸ªé¡¹ç›®å¯ä»¥è®©ä½ åœ¨æµè§ˆå™¨åŠ¨æ€åœ°æŸ¥çœ‹Githubåº“ä¸Šä»£ç çš„å˜åŠ¨å†å²ã€‚</p>\n<p>ä½¿ç”¨æ–¹æ³•éå¸¸ç®€å•ï¼š<br>1ã€åœ¨å¯¹åº”çš„æ–‡ä»¶urlä¸­æŠŠ<code>github.com</code>æ›¿æ¢æˆ<code>github.githistory.xyz</code><br>2ã€æ²¡æœ‰ç¬¬äºŒæ­¥</p>\n<h3 id=\"resume-github-com\"><a href=\"#resume-github-com\" class=\"headerlink\" title=\"resume.github.com\"></a><a href=\"https://github.com/resume/resume.github.com\">resume.github.com</a></h3><p>è¿™ä¸ªåº“å¯ä»¥é€šè¿‡ä½ ä»“åº“çš„æ´»è·ƒäº‹ä»¶æ¥ç”Ÿæˆä¸€ä»½åœ¨çº¿ç®€å†ã€‚ä½¿ç”¨å¾ˆç®€å•ï¼Œç›´æ¥è®¿é—®ä»¥ä¸‹ç½‘å€ï¼š<a href=\"https://resume.github.io/?yourusername\">https://resume.github.io/?yourusername</a></p>\n<p>éœ€è¦å°†<code>yourusername</code>æ›¿æ¢æˆä½ çš„ç”¨æˆ·åï¼Œåˆ«å¿˜äº†é‚£ä¸ª<code>?</code></p>\n<h3 id=\"iOS-Developer-Roadmap\"><a href=\"#iOS-Developer-Roadmap\" class=\"headerlink\" title=\"iOS-Developer-Roadmap\"></a><a href=\"https://github.com/BohdanOrlov/iOS-Developer-Roadmap\">iOS-Developer-Roadmap</a></h3><p>ä¸€åiOSå¼€å‘äººå‘˜éœ€è¦å…·å¤‡å“ªäº›çŸ¥è¯†å‘¢ï¼Ÿè¿™ä¸ªåº“åšäº†æ¯”è¾ƒè¯¦å°½çš„æ€»ç»“ï¼Œä»¥æŠ€èƒ½æ ‘çš„å½¢å¼å¯¹iOSå¼€å‘æ‰€éœ€çŸ¥è¯†ç‚¹ï¼ŒçŸ¥è¯†é¢åšäº†æ•´ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½œä¸ºå‚ç…§ï¼ŒæŸ¥çœ‹è‡ªå·±æœ‰å“ªäº›ç¼ºå¤±ã€‚</p>\n<ul>\n<li><a href=\"https://github.com/BohdanOrlov/iOS-Developer-Roadmap/blob/master/RoadmapProject/Script/Generated/ROADMAP.md\">æ–‡æœ¬ç‰ˆæœ¬</a></li>\n<li>å›¾ç‰‡ç‰ˆæœ¬(<a href=\"https://github.com/BohdanOrlov/iOS-Developer-Roadmap/blob/master/RoadmapProject/Script/Generated/ESSENTIALROADMAP.png\">åŸºç¡€ç‰ˆæœ¬</a>, <a href=\"https://github.com/BohdanOrlov/iOS-Developer-Roadmap/blob/master/RoadmapProject/Script/Generated/ROADMAP.png\">å®Œæ•´ç‰ˆæœ¬</a>)</li>\n</ul>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"å…³äºæ¶ˆæ¯æ‘˜è¦åŠå¯¹åº”çš„Swiftå®ç°","url":"http://zhangferry.github.io/2019/02/27/digest_introduction/","content":"<p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/20190227163346.jpg\" alt=\"\"><br>å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å¯¹æ•°æ®è¿›è¡Œä¸€äº›ç±»ä¼¼<code>MD5</code>ï¼Œ<code>SHA-256</code>ç­‰çš„å¤„ç†ï¼Œé‚£å¤„ç†çš„ä½œç”¨æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œå°±æ˜¯ä»Šå¤©è¦è®¨è®ºçš„å†…å®¹ã€‚å¦‚æœä½ å¯¹è¿™äº›ç®—æ³•çš„æ¦‚å¿µå·²ç»å¾ˆç†Ÿæ‚‰ï¼Œé‚£å°±ä¸ç”¨ç»§ç»­å¾€ä¸‹çœ‹äº†ï¼Œå¦‚æœä½ æ„Ÿè§‰ç”Ÿç–ï¼Œæˆ–è€…å¹¶ä¸èƒ½è¯´æ¸…æ¥šä»–ä»¬çš„ä½œç”¨ï¼Œé‚£å°±è·Ÿç€æˆ‘ä¸€èµ·å›é¡¾ä¸€ä¸‹å§ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"ä»MD5è¯´èµ·\"><a href=\"#ä»MD5è¯´èµ·\" class=\"headerlink\" title=\"ä»MD5è¯´èµ·\"></a>ä»MD5è¯´èµ·</h2><p>æˆ‘é—¨ä»æœ€å¸¸è§çš„<a href=\"https://zh.wikipedia.org/wiki/MD5\">MD5</a>è¯´èµ·ã€‚ä¸‹é¢æ˜¯ç»´åŸºç™¾ç§‘å¯¹MD5çš„å®šä¹‰ï¼š</p>\n<blockquote>\n<p>MD5æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼ˆè‹±è¯­ï¼šMD5 Message-Digest Algorithmï¼‰ï¼Œä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„å¯†ç æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥äº§ç”Ÿå‡ºä¸€ä¸ª128ä½ï¼ˆ16å­—èŠ‚ï¼‰çš„æ•£åˆ—å€¼ï¼ˆhash valueï¼‰ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´ä¸€è‡´ã€‚</p>\n</blockquote>\n<p>MD5çš„æ¦‚å¿µä¸­å‡ºç°äº†ä¸¤ä¸ªåè¯ï¼š<strong>ä¿¡æ¯æ‘˜è¦ç®—æ³•</strong> + <strong>å¯†ç æ•£åˆ—å‡½æ•°</strong>ã€‚<br>æˆ‘ä»¬å†åˆ†åˆ«æ¥çœ‹è¿™ä¸¤ä¸ªæ¦‚å¿µçš„å«ä¹‰ã€‚</p>\n<h3 id=\"ä¿¡æ¯æ‘˜è¦ç®—æ³•\"><a href=\"#ä¿¡æ¯æ‘˜è¦ç®—æ³•\" class=\"headerlink\" title=\"ä¿¡æ¯æ‘˜è¦ç®—æ³•\"></a>ä¿¡æ¯æ‘˜è¦ç®—æ³•</h3><p><a href=\"https://baike.baidu.com/item/%E6%B6%88%E6%81%AF%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95/3286770?fromtitle=%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95&fromid=12011257\">æ¶ˆæ¯æ‘˜è¦ç®—æ³•</a>æ¶ˆæ¯æ‘˜è¦æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥æ‰å’Œè€Œäº§ç”Ÿé•¿åº¦å›ºå®šçš„ä¼ªéšæœºè¾“å…¥çš„ç®—æ³•ã€‚</p>\n<p>å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><p>æ— è®ºè¾“å…¥çš„æ¶ˆæ¯æœ‰å¤šé•¿ï¼Œè®¡ç®—å‡ºæ¥çš„æ¶ˆæ¯æ‘˜è¦çš„é•¿åº¦æ€»æ˜¯å›ºå®šçš„ã€‚ä¾‹å¦‚åº”ç”¨MD5ç®—æ³•æ‘˜è¦çš„æ¶ˆæ¯æœ‰128ä¸ªæ¯”ç‰¹ä½ï¼Œä¸€èˆ¬è®¤ä¸ºï¼Œæ‘˜è¦çš„æœ€ç»ˆè¾“å‡ºè¶Šé•¿ï¼Œè¯¥æ‘˜è¦ç®—æ³•å°±è¶Šå®‰å…¨ã€‚å˜é•¿è¾“å…¥ï¼Œå®šé•¿è¾“å‡ºã€‚</p>\n</li>\n<li><p>ä¸€èˆ¬åœ°ï¼Œåªè¦è¾“å…¥çš„æ¶ˆæ¯ä¸åŒï¼Œå¯¹å…¶è¿›è¡Œæ‘˜è¦ä»¥åäº§ç”Ÿçš„æ‘˜è¦æ¶ˆæ¯ä¹Ÿå¿…ä¸ç›¸åŒï¼›ä½†ç›¸åŒçš„è¾“å…¥å¿…ä¼šäº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚</p>\n</li>\n<li><p>æ¶ˆæ¯æ‘˜è¦å‡½æ•°æ˜¯å•å‘å‡½æ•°ï¼Œå³åªèƒ½è¿›è¡Œæ­£å‘çš„ä¿¡æ¯æ‘˜è¦ï¼Œè€Œæ— æ³•ä»æ‘˜è¦ä¸­æ¢å¤å‡ºä»»ä½•çš„æ¶ˆæ¯ï¼Œç”šè‡³æ ¹æœ¬å°±æ‰¾ä¸åˆ°ä»»ä½•ä¸åŸä¿¡æ¯ç›¸å…³çš„ä¿¡æ¯ã€‚</p>\n</li>\n<li><p>å¥½çš„æ‘˜è¦ç®—æ³•ï¼Œæ²¡æœ‰äººèƒ½ä»ä¸­æ‰¾åˆ°â€œç¢°æ’â€ï¼Œå³æ— æ³•æ‰¾åˆ°ä¸¤æ¡ä¸åŒçš„æ¶ˆæ¯ï¼Œä½¿å®ƒä»¬çš„æ‘˜è¦ç›¸åŒã€‚</p>\n</li>\n</ul>\n<p>ä»ç†è®ºä¸Šæ¥è¯´ï¼Œä¸ç®¡ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ‘˜è¦ç®—æ³•ï¼Œå¿…ç„¶å­˜åœ¨2ä¸ªä¸åŒçš„æ¶ˆæ¯ï¼Œå¯¹åº”åŒæ ·çš„æ‘˜è¦ã€‚å› ä¸ºè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç©·é›†åˆï¼Œè€Œè¾“å‡ºæ˜¯ä¸€ä¸ªæœ‰é™é›†åˆã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œå¾ˆéš¾æˆ–è€…è¯´æ ¹æœ¬ä¸å¯èƒ½äººä¸ºçš„é€ å‡ºå…·æœ‰åŒæ ·æ‘˜è¦çš„2ä¸ªä¸åŒæ¶ˆæ¯ã€‚</p>\n<h3 id=\"å¯†ç æ•£åˆ—å‡½æ•°ï¼š\"><a href=\"#å¯†ç æ•£åˆ—å‡½æ•°ï¼š\" class=\"headerlink\" title=\"å¯†ç æ•£åˆ—å‡½æ•°ï¼š\"></a>å¯†ç æ•£åˆ—å‡½æ•°ï¼š</h3><p><a href=\"https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E9%9B%9C%E6%B9%8A%E5%87%BD%E6%95%B8\">å¯†ç æ•£åˆ—å‡½æ•°ï¼ˆCryptographic hash functionï¼‰</a>ï¼Œåˆè¯‘ä¸ºåŠ å¯†æ•£åˆ—å‡½æ•°ï¼Œæ˜¯æ•£åˆ—å‡½æ•°çš„ä¸€ç§ã€‚å®ƒè¢«è®¤ä¸ºæ˜¯ä¸€ç§å•å‘å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æå…¶éš¾ä»¥ç”±æ•£åˆ—å‡½æ•°è¾“å‡ºçš„ç»“æœï¼Œå›æ¨è¾“å…¥çš„æ•°æ®æ˜¯ä»€ä¹ˆã€‚</p>\n<h3 id=\"æ¦‚å¿µæ¢³ç†\"><a href=\"#æ¦‚å¿µæ¢³ç†\" class=\"headerlink\" title=\"æ¦‚å¿µæ¢³ç†\"></a>æ¦‚å¿µæ¢³ç†</h3><p>è¿™é‡Œæ¯”è¾ƒé‡è¦çš„å°±æ˜¯ç†è§£ä¿¡æ¯æ‘˜è¦ï¼Œå®ƒæ¦‚å¿µå°±æ˜¯æŠŠä¸€æ®µæ•°æ®å‹ç¼©æˆå›ºå®šé•¿åº¦çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½é€šè¿‡å‹ç¼©åçš„æ•°æ®åæ¨åŸå§‹æ•°æ®ã€‚</p>\n<p>æœ‰ä¸€ç§åº”ç”¨åœºæ™¯æ¯”è¾ƒèƒ½è¯´æ˜é—®é¢˜ï¼š<br>æˆ‘ä»¬åœ¨ç™»å½•çš„æ—¶å€™ï¼Œå¯¹ç”¨æˆ·å¯†ç è¿›è¡ŒMD5è®¡ç®—ä¹‹åå†ä¼ åˆ°æœåŠ¡å™¨ï¼Œä¹‹åæ•°æ®åº“æ˜¾ç¤ºçš„ç”¨æˆ·ä¿¡æ¯å°±æ˜¯MD5ä¹‹åçš„16å­—èŠ‚å­—ç¬¦ä¸²ã€‚ç®¡ç†å‘˜å³ä½¿èƒ½è®¿é—®ç”¨æˆ·æ•°æ®åº“ä½†ä»–å¹¶ä¸èƒ½ç”±MD5å¤„ç†ä¹‹åçš„æ•°æ®å¾—çŸ¥åŸå§‹å¯†ç ã€‚<br>è€Œå®¢æˆ·ç«¯è¿™è¾¹å´å¯ä»¥åœ¨è¾“å…¥å¯†ç ä¹‹åï¼Œè¿›è¡ŒMD5è®¡ç®—ç„¶åä¸æœåŠ¡å™¨å¯†ç è¿›è¡Œæ¯”è¾ƒã€‚</p>\n<h2 id=\"SHAå®¶æ—\"><a href=\"#SHAå®¶æ—\" class=\"headerlink\" title=\"SHAå®¶æ—\"></a>SHAå®¶æ—</h2><p><a href=\"https://zh.wikipedia.org/wiki/SHA%E5%AE%B6%E6%97%8F\">å®‰å…¨æ•£åˆ—ç®—æ³•</a>ï¼ˆè‹±è¯­ï¼šSecure Hash Algorithmï¼Œç¼©å†™ä¸ºSHAï¼‰æ˜¯ä¸€ä¸ªå¯†ç æ•£åˆ—å‡½æ•°å®¶æ—ï¼Œæ˜¯FIPSæ‰€è®¤è¯çš„å®‰å…¨æ•£åˆ—ç®—æ³•ã€‚èƒ½è®¡ç®—å‡ºä¸€ä¸ªæ•°å­—æ¶ˆæ¯æ‰€å¯¹åº”åˆ°çš„ï¼Œé•¿åº¦å›ºå®šçš„å­—ç¬¦ä¸²ï¼ˆåˆç§°æ¶ˆæ¯æ‘˜è¦ï¼‰çš„ç®—æ³•ã€‚</p>\n<p>SHAçš„å‡ºç°å°±æ˜¯è§£å†³MD5ä¸å®‰å…¨çš„é—®é¢˜ï¼Œå®ƒæ˜¯ä¸€ç§æ¯”MD5æ›´å®‰å…¨çš„å¯†ç æ•£åˆ—å‡½æ•°ã€‚</p>\n<p>SHAå®¶æ—çš„ç®—æ³•ï¼Œç”±ç¾å›½å›½å®¶å®‰å…¨å±€ï¼ˆNSAï¼‰æ‰€è®¾è®¡ï¼Œå¹¶ç”±ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢ï¼ˆNISTï¼‰å‘å¸ƒï¼Œæ˜¯ç¾å›½çš„æ”¿åºœæ ‡å‡†ï¼Œå…¶åˆ†åˆ«æ˜¯ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>ç®€ä»‹</th>\n<th>åº”ç”¨èŒƒå›´</th>\n<th>å‘å¸ƒæ—¶é—´</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SHA-0</td>\n<td>SHA-1å‰èº«</td>\n<td>-</td>\n<td>1993</td>\n</tr>\n<tr>\n<td>SHA-1</td>\n<td>æ›¾è¢«è§†ä¸ºMD5çš„åç»§è€…ï¼Œä½†SHA-1çš„å®‰å…¨æ€§åœ¨2000å¹´ä»¥åå·²ç»ä¸è¢«å¤§å¤šæ•°çš„åŠ å¯†åœºæ™¯æ‰€æ¥å—ã€‚</td>\n<td>å¹¿æ³›</td>\n<td>1995</td>\n</tr>\n<tr>\n<td>SHA-2</td>\n<td>åŒ…æ‹¬SHA-224/SHA-256/SHA-384/SHA-512ï¼Œç›®å‰å¹¶æœªè¢«ç ´è§£</td>\n<td>å¹¿æ³›</td>\n<td>2001</td>\n</tr>\n<tr>\n<td>SHA-3</td>\n<td>æ¯”SHA-2æ›´å®‰å…¨çš„æ•£åˆ—å‡½æ•°ï¼Œå¹¶æ— æ›¿ä»£SHA-2çš„è®¡åˆ’</td>\n<td>è¾ƒå°</td>\n<td>2015</td>\n</tr>\n</tbody></table>\n<h2 id=\"æ•£åˆ—å‡½æ•°çš„å®‰å…¨æ€§\"><a href=\"#æ•£åˆ—å‡½æ•°çš„å®‰å…¨æ€§\" class=\"headerlink\" title=\"æ•£åˆ—å‡½æ•°çš„å®‰å…¨æ€§\"></a>æ•£åˆ—å‡½æ•°çš„å®‰å…¨æ€§</h2><p>ä¸Šé¢è¯´åˆ°äº†MD5æ˜¯ä¸å®‰å…¨çš„ï¼Œä¸å®‰å…¨æ„å‘³ç€å¯ä»¥æ‰¾åˆ°MD5çš„â€œç¢°æ’â€ï¼Œå°±æ˜¯ä¸¤ä¸ªæ–‡ä»¶å¯ä»¥äº§ç”Ÿç›¸åŒçš„â€œæŒ‡çº¹â€ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä½ åœ¨ç½‘ç»œä¸Šä½¿ç”¨ç”µå­ç­¾åç­¾ç½²ä¸€ä»½åˆåŒåï¼Œè¿˜å¯èƒ½æ‰¾åˆ°å¦å¤–ä¸€ä»½å…·æœ‰ç›¸åŒç­¾åä½†å†…å®¹è¿¥å¼‚çš„åˆåŒï¼Œè¿™æ ·ä¸¤ä»½åˆåŒçš„çœŸä¼ªæ€§ä¾¿æ— ä»è¾¨åˆ«ã€‚</p>\n<p>2004å¹´8æœˆ17æ—¥ï¼Œåœ¨CRYPTO 2004çš„Rumpä¼šè®®ä¸Šï¼Œç‹å°äº‘ï¼Œå†¯ç™»å›½ã€æ¥å­¦å˜‰ï¼Œå’Œäºçº¢æ³¢å®£å¸ƒäº†æ”»å‡»MD5ã€SHA-0 å’Œå…¶ä»–æ‚å‡‘å‡½æ•°çš„åˆæ­¥ç»“æœã€‚ä»–ä»¬æ”»å‡»SHA-0çš„è®¡ç®—å¤æ‚åº¦æ˜¯2çš„40æ¬¡æ–¹ï¼Œè¿™æ„å‘³ç€ä»–ä»¬çš„æ”»å‡»æˆæœæ¯”Jouxè¿˜æœ‰å…¶ä»–äººæ‰€åšçš„æ›´å¥½ã€‚</p>\n<p>2005å¹´äºŒæœˆï¼Œç‹å°äº‘å’Œæ®·ç›Šç¾¤ã€äºçº¢æ³¢å†åº¦å‘è¡¨äº†å¯¹SHA-0ç ´å¯†çš„ç®—æ³•ï¼Œå¯åœ¨2çš„39æ¬¡æ–¹çš„è®¡ç®—å¤æ‚åº¦å†…å°±æ‰¾åˆ°ç¢°æ’ã€‚</p>\n<p>2009å¹´ï¼Œä¸­å›½ç§‘å­¦é™¢çš„è°¢æ¶›å’Œå†¯ç™»å›½ä»…ç”¨äº†2çš„20.96æ¬¡æ–¹çš„ç¢°æ’ç®—æ³•å¤æ‚åº¦ï¼Œç ´è§£äº†MD5çš„ç¢°æ’æŠµæŠ—ï¼Œè¯¥æ”»å‡»åœ¨æ™®é€šè®¡ç®—æœºä¸Šè¿è¡Œåªéœ€è¦æ•°ç§’é’Ÿã€‚</p>\n<p>2017å¹´è·å…°å¯†ç å­¦ç ”ç©¶å°ç»„CWIå’ŒGoogleæ­£å¼å®£å¸ƒæ”»ç ´äº†SHA-1ã€‚</p>\n<h2 id=\"æ‘˜è¦çš„Swiftå®ç°\"><a href=\"#æ‘˜è¦çš„Swiftå®ç°\" class=\"headerlink\" title=\"æ‘˜è¦çš„Swiftå®ç°\"></a>æ‘˜è¦çš„Swiftå®ç°</h2><p>Swiftæœ‰ä¸€ä¸ªæ¯”è¾ƒæˆç†Ÿçš„ä¸“é—¨å¤„ç†æ‘˜è¦ï¼ŒåŠ å¯†ç­‰å®‰å…¨ç›¸å…³çš„æ¡†æ¶<a href=\"https://github.com/krzyzanowskim/CryptoSwift\">CryptoSwift</a>ã€‚</p>\n<p>ä»¥ä¸‹æ˜¯Swiftå¯¹æ‘˜è¦ç®—æ³•çš„åŸç”Ÿå®ç°ï¼Œéœ€è¦å¼•å…¥<code>CommonCrypto</code>æ¡†æ¶ï¼Œè¿™ä¸ªå·²ç»å†…ç½®åˆ°Xcodeé‡Œé¢äº†ï¼Œåˆ—å‡ºäº†å¯¹Stringå’ŒDataçš„æ‘˜è¦æ‰©å±•ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Foundation</span><br><span class=\"line\"><span class=\"keyword\">import</span> CommonCrypto</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">enum</span> <span class=\"title\">CryptoAlgorithm</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"type\">MD5</span>, <span class=\"type\">SHA1</span>, <span class=\"type\">SHA224</span>, <span class=\"type\">SHA256</span>, <span class=\"type\">SHA384</span>, <span class=\"type\">SHA512</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">var</span> digestLength: <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> result: <span class=\"type\">Int32</span> = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> <span class=\"keyword\">self</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">MD5</span>:      result = <span class=\"type\">CC_MD5_DIGEST_LENGTH</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA1</span>:     result = <span class=\"type\">CC_SHA1_DIGEST_LENGTH</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA224</span>:   result = <span class=\"type\">CC_SHA224_DIGEST_LENGTH</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA256</span>:   result = <span class=\"type\">CC_SHA256_DIGEST_LENGTH</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA384</span>:   result = <span class=\"type\">CC_SHA384_DIGEST_LENGTH</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA512</span>:   result = <span class=\"type\">CC_SHA512_DIGEST_LENGTH</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Int</span>(result)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">String</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> md5:    <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">MD5</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha1:   <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA1</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha224: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA224</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha256: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA256</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha384: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA384</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha512: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(string: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA512</span>) &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">digest</span><span class=\"params\">(string: String, algorithm: CryptoAlgorithm)</span></span> -&gt; <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> result: [<span class=\"type\">CUnsignedChar</span>]</span><br><span class=\"line\">        <span class=\"keyword\">let</span> digestLength = <span class=\"type\">Int</span>(algorithm.digestLength)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">let</span> cdata = string.cString(using: <span class=\"type\">String</span>.<span class=\"type\">Encoding</span>.utf8) &#123;</span><br><span class=\"line\">            result = <span class=\"type\">Array</span>(repeating: <span class=\"number\">0</span>, <span class=\"built_in\">count</span>: digestLength)</span><br><span class=\"line\">            <span class=\"keyword\">switch</span> algorithm &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">MD5</span>:      <span class=\"type\">CC_MD5</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">SHA1</span>:     <span class=\"type\">CC_SHA1</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">SHA224</span>:   <span class=\"type\">CC_SHA224</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">SHA256</span>:   <span class=\"type\">CC_SHA256</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">SHA384</span>:   <span class=\"type\">CC_SHA384</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            <span class=\"keyword\">case</span> .<span class=\"type\">SHA512</span>:   <span class=\"type\">CC_SHA512</span>(cdata, <span class=\"type\">CC_LONG</span>(cdata.<span class=\"built_in\">count</span>-<span class=\"number\">1</span>), &amp;result)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">fatalError</span>(<span class=\"string\">\"Nil returned when processing input strings as UTF8\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"number\">0</span>..&lt;digestLength).<span class=\"built_in\">reduce</span>(<span class=\"string\">\"\"</span>) &#123; $<span class=\"number\">0</span> + <span class=\"type\">String</span>(format: <span class=\"string\">\"%02hhx\"</span>, result[$<span class=\"number\">1</span>])&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">Data</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> md5:    <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">MD5</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha1:   <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA1</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha224: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA224</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha256: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA256</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha384: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA384</span>) &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sha512: <span class=\"type\">String</span> &#123; <span class=\"keyword\">return</span> digest(data: <span class=\"keyword\">self</span>, algorithm: .<span class=\"type\">SHA512</span>) &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">digest</span><span class=\"params\">(data: Data, algorithm: CryptoAlgorithm)</span></span> -&gt; <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> result: [<span class=\"type\">CUnsignedChar</span>]</span><br><span class=\"line\">        <span class=\"keyword\">let</span> digestLength = <span class=\"type\">Int</span>(algorithm.digestLength)</span><br><span class=\"line\">        <span class=\"keyword\">let</span> pdata = (data <span class=\"keyword\">as</span> <span class=\"type\">NSData</span>).bytes</span><br><span class=\"line\">        result = <span class=\"type\">Array</span>(repeating: <span class=\"number\">0</span>, <span class=\"built_in\">count</span>: digestLength)</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> algorithm &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">MD5</span>:      <span class=\"type\">CC_MD5</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA1</span>:     <span class=\"type\">CC_SHA1</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA224</span>:   <span class=\"type\">CC_SHA224</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA256</span>:   <span class=\"type\">CC_SHA256</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA384</span>:   <span class=\"type\">CC_SHA384</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        <span class=\"keyword\">case</span> .<span class=\"type\">SHA512</span>:   <span class=\"type\">CC_SHA512</span>(pdata, <span class=\"type\">CC_LONG</span>(data.<span class=\"built_in\">count</span>), &amp;result)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"number\">0</span>..&lt;digestLength).<span class=\"built_in\">reduce</span>(<span class=\"string\">\"\"</span>) &#123; $<span class=\"number\">0</span> + <span class=\"type\">String</span>(format: <span class=\"string\">\"%02hhx\"</span>, result[$<span class=\"number\">1</span>])&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[],"tags":["ç®—æ³•"]},{"title":"è‰°éš¾çš„å›¾åºŠä¼˜åŒ–æ–¹æ¡ˆ(MWeb+PicGo+Github)","url":"http://zhangferry.github.io/2019/02/20/figure_bed_github/","content":"<h2 id=\"åšå®¢å†™ä½œä¼˜åŒ–\"><a href=\"#åšå®¢å†™ä½œä¼˜åŒ–\" class=\"headerlink\" title=\"åšå®¢å†™ä½œä¼˜åŒ–\"></a>åšå®¢å†™ä½œä¼˜åŒ–</h2><p>å†™åšå®¢å°±è‚¯å®šä¼šé‡åˆ°æ’å…¥å›¾ç‰‡çš„æƒ…å†µï¼Œæˆ‘ä¹‹å‰çš„åšæ³•æ˜¯å…ˆåœ¨<a href=\"https://boostnote.io/\">Boostnote</a>è¿™ç§Markdownç¼–è¾‘å™¨é‡Œé¢å†™ä¸ªè‰ç¨¿ï¼Œå¦‚æœæœ‰å›¾ç‰‡å°±é™„ä¸Šå›¾ç‰‡ï¼Œç„¶åå†ç²˜åˆ°ç®€ä¹¦çš„webç«¯ã€‚å½“ç„¶å›¾ç‰‡ä¹Ÿéœ€è¦å¦æ‹–ï¼Œä¼šç”Ÿæˆä¸€ä¸ªç®€ä¹¦çš„å›¾ç‰‡é“¾æ¥ï¼Œç›¸å½“äºæŠŠç®€ä¹¦ä½œä¸ºå›¾åºŠï¼Œç„¶åæˆ‘å†æŠŠç®€ä¹¦æ’å¥½ç‰ˆçš„æ–‡ç« å‘å¸ƒåˆ°è‡ªå·±çš„åšå®¢ã€‚ã€‚ã€‚</p>\n<a id=\"more\"></a>\n<p>å½“ç„¶æ˜¯å¾ˆéº»çƒ¦çš„æ–¹å¼ï¼Œè¿™ç§å†™æ³•æŒç»­äº†å¤§åŠå¹´ä¹‹åï¼Œå¼€å§‹å¯»æ‰¾æ›´é«˜æ•ˆçš„å†™åšå®¢çš„æ–¹å¼ã€‚é¦–å…ˆå®¢æˆ·ç«¯ï¼Œæœ€ç»ˆé€‰äº†MWebã€‚ç„¶åæ˜¯è¦è§£å†³éº»çƒ¦çš„å›¾åºŠé—®é¢˜ï¼Œå› ä¸ºMWebå†…åµŒäº†ä¸ƒç‰›äº‘å›¾ä¼ æœåŠ¡ï¼Œæ‰€ä»¥ç”³è¯·äº†ä¸ƒç‰›äº‘è´¦å·ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´æ„Ÿè§‰çœŸæ˜¯å¦‚ä¸èˆ¬é¡ºæ»‘ã€‚</p>\n<h2 id=\"å›¾åºŠå†é™©è®°\"><a href=\"#å›¾åºŠå†é™©è®°\" class=\"headerlink\" title=\"å›¾åºŠå†é™©è®°\"></a>å›¾åºŠå†é™©è®°</h2><p>ç›´åˆ°æˆ‘æ”¶åˆ°äº†è¿™ä¸ªï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/15504845205127.jpg\" alt=\"\"></p>\n<p>åœ¨ä¸ƒç‰›äº‘ä¸Šç”³è¯·çš„åªæ˜¯æµ‹è¯•åŸŸåæœåŠ¡ï¼Œåªæœ‰ä¸€ä¸ªæœˆçš„æœ‰æ•ˆæœŸã€‚å¦‚æœæƒ³ç»§ç»­ä½¿ç”¨å°±éœ€è¦ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œè€Œä¸”è¿™ä¸ªåŸŸåè¿˜éœ€è¦å¤‡æ¡ˆã€‚</p>\n<p>äºæ˜¯æˆ‘åœ¨è…¾è®¯äº‘ä¸Šæ³¨å†Œäº†ä¸¤å¹´çš„<a href=\"http://www.zhangferry.com\">zhangferry.com</a>è¿™ä¸ªåŸŸåã€‚å¡«å†™èµ„æ–™æ—¶ï¼Œæˆ‘çœ‹åˆ°ç³»ç»Ÿæç¤ºåŸŸåè¦è¿›è¡Œå¤‡æ¡ˆï¼Œå¤‡æ¡ˆè¿‡ç¨‹ä¸­åˆå‘ç°ï¼Œè¦æœ‰ç»‘å®šè…¾è®¯äº‘æœåŠ¡æ‰èƒ½è¿›è¡Œå¤‡æ¡ˆã€‚ï¼Ÿï¼Ÿæˆ‘åªæ˜¯è¦åŸŸåå¹¶ä¸éœ€è¦äº‘æœåŠ¡å•Šã€‚éšçº¦æ„Ÿè§‰å¥½åƒè¢«ä¸‹å¥—äº†ï¼Œéœ€è¦è§£å†³çš„é—®é¢˜ä¸€ä¸ªå¥—ä¸€ä¸ªã€‚æˆ‘è¿˜æ€€ç€ä¾¥å¹¸çš„å¿ƒç†çœ‹äº†ä¸‹è…¾è®¯äº‘æœåŠ¡çš„ä»·æ ¼ï¼Œç”¨ä¸èµ·ç”¨ä¸èµ·ã€‚ã€‚ã€‚<br>çœ‹åˆ°æç¤ºè¯´å¦‚æœä¸å¤‡æ¡ˆåŸŸåï¼Œä¸‰ä¸ªæœˆåä¼šè¢«å›æ”¶ï¼Œæœ‰ç‚¹æ…Œã€‚è¯¢é—®å®¢æœä¹‹åå¾—çŸ¥ï¼ŒæœåŠ¡å™¨åœ¨å›½å†…ä¸”æ²¡æœ‰å¤‡æ¡ˆçš„æƒ…å†µä¸‹æ‰ä¼šè¢«å›æ”¶ï¼Œå› ä¸ºæˆ‘çš„åšå®¢æ˜¯æ­åœ¨Githubä¸Šçš„ï¼Œæ‰€ä»¥å¯ä»¥ä¸å¤‡æ¡ˆï¼Œæ¾äº†ä¸€å£æ°”ï¼ŒåŸŸåä¿ä½äº†ã€‚ä½†æ˜¯ï¼Œä¸å¤‡æ¡ˆä¸ƒç‰›äº‘åˆä¸å¹²äº†ï¼Œwhat fã€‚ã€‚ã€‚</p>\n<p>çº ç»“ä¸€æ®µæ—¶é—´ä¹‹åæˆ‘åªèƒ½æ”¾å¼ƒä¸ƒç‰›äº‘ï¼Œå¯»æ‰¾å…¶ä»–çš„å›¾åºŠæœåŠ¡ï¼ŒçŸ¥ä¹ä¸Šæœ‰ä¸€ä¸ªæ€»ç»“æ¯”è¾ƒå…¨çš„æ–‡ç« <a href=\"https://zhuanlan.zhihu.com/p/35270383\">ç›˜ç‚¹ä¸€ä¸‹å…è´¹å¥½ç”¨çš„å›¾åºŠ</a>ã€‚åŸæ¥æ˜¯æœ‰å¾ˆå¤šå…è´¹æœåŠ¡çš„ï¼Œæ„Ÿè§‰æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯ï¼Œåˆæ˜¯ä¸€ä¸ªä½†æ˜¯ï¼Œå›¾åºŠè¿™ä¸ªä¸œè¥¿ï¼Œå…è´¹å°±æ„å‘³ç€ä¸ç¨³å®šï¼Œä¸‡ä¸€å“ªå¤©æŒ‚äº†ï¼Œå›¾ç‰‡å°±éƒ½ä¸¢äº†ã€‚æœ€åæ–‡æœ«æœ‰æ€»ç»“ï¼š<strong>å¦‚æœæ‰“ç®—é•¿æœŸç¨³å®šä½¿ç”¨è¯·ä¼˜å…ˆé€‰æ‹©åˆæ‹äº‘æˆ–è€…ä¸ƒç‰›äº‘ï¼Œå¦‚æœæ˜¯å­˜å‚¨å¹¶ä¸é‡è¦çš„å›¾ç‰‡å¯ä»¥ä½¿ç”¨å…è´¹ä¸é™å¤§å°çš„SM.MSå›¾åºŠ</strong>ã€‚</p>\n<p>å†ç»“åˆæˆ‘å¯¹å›¾åºŠçš„éœ€æ±‚ï¼šå…è´¹+ç¨³å®šã€‚<a href=\"https://sm.ms/\">SM.MS</a>å¥½åƒæ˜¯æœ€æ¥è¿‘çš„æ–¹æ¡ˆäº†ï¼Œè™½ç„¶SM.MSçŸ¥ååº¦ä¸ç®—ä½ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æœ‰ç‚¹æ‹…å¿ƒå®ƒçš„ç¨³å®šæ€§ã€‚</p>\n<p>å†ç»§ç»­æ‰¾ï¼Œæ‰¾åˆ°äº†è¿™ä¸ª<a href=\"https://github.com/Molunerfinn/PicGo\">PicGo</a>ï¼Œä¸€ä¸ªå›¾åºŠç®¡ç†å·¥å…·ï¼Œé¡ºç€PicGoï¼ˆv2.0.3ï¼‰æˆ‘æ‰¾åˆ°äº†Githubä½œä¸ºå›¾åºŠè¿™ä¸€æ–¹æ¡ˆã€‚Githubï¼Œå¯¹å•Šï¼Œæˆ‘ç›´æ¥å°±ç¡®è®¤äº†è¿™ç§æ–¹æ¡ˆã€‚è™½ç„¶æœ‰äººè¯´Githubå›¾ç‰‡å›½å†…è®¿é—®ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®ƒè‚¯å®šèƒ½ä¿è¯æ•°æ®çš„ç¨³å®šæ€§å•Šã€‚è¿™æ ·å›¾åºŠå·¥å…·å’Œå›¾åºŠæœåŠ¡éƒ½æ‰¾å¥½äº†ï¼Œå–œå¤§æ™®å¥”ï¼</p>\n<h2 id=\"Githubå›¾åºŠé…ç½®\"><a href=\"#Githubå›¾åºŠé…ç½®\" class=\"headerlink\" title=\"Githubå›¾åºŠé…ç½®\"></a>Githubå›¾åºŠé…ç½®</h2><p>è¯´äº†å¾ˆå¤šåºŸè¯ï¼Œç»ˆäºåˆ°äº†è¿™ä¸ªç†æƒ³å›¾åºŠçš„é…ç½®é˜¶æ®µäº†ï¼Œæ¯”è¾ƒç®€å•ã€‚</p>\n<h3 id=\"1ã€å»ºä¸€ä¸ªä»“åº“\"><a href=\"#1ã€å»ºä¸€ä¸ªä»“åº“\" class=\"headerlink\" title=\"1ã€å»ºä¸€ä¸ªä»“åº“\"></a>1ã€å»ºä¸€ä¸ªä»“åº“</h3><p>ç”¨äºå­˜éœ€è¦ä¸Šä¼ çš„å›¾ç‰‡ã€‚è¿™ä¸ªä»“åº“æœ€å¥½æ˜¯publicçš„ï¼Œå› ä¸ºprivateçš„ä»“åº“ï¼Œå›¾ç‰‡é“¾æ¥ä¼šå¸¦tokenï¼Œè¿™ä¸ªtokenåˆå­˜åœ¨è¿‡æœŸçš„é—®é¢˜ã€‚</p>\n<h3 id=\"2ã€è·å–æˆæƒtoken\"><a href=\"#2ã€è·å–æˆæƒtoken\" class=\"headerlink\" title=\"2ã€è·å–æˆæƒtoken\"></a>2ã€è·å–æˆæƒtoken</h3><p>åœ¨Githubçš„<a href=\"https://github.com/settings/tokens\">Developer setting</a>ç•Œé¢ç”Ÿä¸€ä¸ªtokenã€‚è®°å¾—ä¿å­˜ï¼Œå› ä¸ºå®ƒåªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/02060BA7-54CC-448B-ABFE-ADFE6E72FF1B.png\" alt=\"\"></p>\n<h3 id=\"3ã€é…ç½®PicGo\"><a href=\"#3ã€é…ç½®PicGo\" class=\"headerlink\" title=\"3ã€é…ç½®PicGo\"></a>3ã€é…ç½®PicGo</h3><p>æ ¹æ®å›¾ç¤ºï¼š<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/15504954147366.jpg\" alt=\"\"></p>\n<h3 id=\"4ã€ä½¿ç”¨\"><a href=\"#4ã€ä½¿ç”¨\" class=\"headerlink\" title=\"4ã€ä½¿ç”¨\"></a>4ã€ä½¿ç”¨</h3><p>ä½¿ç”¨ä¹Ÿå¾ˆæ–¹ä¾¿ï¼ŒPicGoæœ‰ä¸¤ç§æ–¹å¼ï¼š<br><strong>å±å¹•æˆªå›¾</strong><br>æˆªå–å›¾ç‰‡ä¹‹åï¼Œå›¾ç‰‡ä¼šå‡ºç°åœ¨PicGoçš„å¾…ä¸Šä¼ åˆ—è¡¨é‡Œé¢ã€‚æˆ‘ä»¬æ‰‹åŠ¨ç‚¹ä¸€ä¸‹ä¼šè§¦å‘ä¸Šä¼ ï¼Œä¸Šä¼ æˆåŠŸä¹‹åï¼Œå‰ªè´´æ¿ä¼šæœ‰å¯¹åº”markdownæ ¼å¼çš„å›¾ç‰‡æ–‡æœ¬ï¼Œç›´æ¥ç²˜è´´å¯ä»¥ä½¿ç”¨ã€‚<br><strong>å›ºå®šå›¾ç‰‡</strong><br>æˆ‘ä»¬éœ€è¦å°†éœ€è¦ä½¿ç”¨çš„å›¾ç‰‡æ‹–åˆ°PicGoçš„å®¢æˆ·ç«¯å†…æ‰‹åŠ¨ä¸Šä¼ ï¼Œä¸Šä¼ æˆåŠŸä¹‹åï¼Œä¼šè‡ªåŠ¨å¤åˆ¶æˆmarkdownæ–‡æœ¬ï¼Œå¯ä»¥ç›´æ¥ç²˜è´´ä½¿ç”¨ã€‚</p>\n<p>ç»ˆäºæå®šäº†ï¼Œæ’’èŠ±ï¼</p>\n","categories":[],"tags":["åšå®¢","å·¥å…·"]},{"title":"iOSå¼€å‘æœˆæŠ¥#7|201901","url":"http://zhangferry.github.io/2019/01/31/monthly_7/","content":"<p>è¿™é‡Œè®°å½•è¿‡å»ä¸€ä¸ªæœˆï¼Œæˆ‘çœ‹åˆ°çš„å€¼å¾—åˆ†äº«çš„å†…å®¹ï¼ŒåŒ…å«ä½†ä¸é™äºiOSçŸ¥è¯†ï¼Œæ¯ä¸ªæœˆçš„æœ€åä¸€å¤©å‘å¸ƒã€‚<br>æ¬¢è¿æ¨èå†…å®¹ï¼Œå¯ä»¥å‰å¾€<a href=\"https://github.com/zhangferry/iOSMonthlyReport\">zhangferry/iOSMonthlyReport</a>æäº¤issueã€‚</p>\n<p>å¦å¤–ï¼Œé©¬ä¸Šå°±è¦è¿‡å¹´äº†ï¼Œæå‰ç¥å¤§å®¶æ˜¥èŠ‚å¿«ä¹ï¼<br><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/freestocks-org-506237-unsplash.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"æ–°é—»ä¸€è§ˆ\"><a href=\"#æ–°é—»ä¸€è§ˆ\" class=\"headerlink\" title=\"æ–°é—»ä¸€è§ˆ\"></a>æ–°é—»ä¸€è§ˆ</h2><h3 id=\"Githubå®£å¸ƒç§æœ‰åº“å…è´¹\"><a href=\"#Githubå®£å¸ƒç§æœ‰åº“å…è´¹\" class=\"headerlink\" title=\"Githubå®£å¸ƒç§æœ‰åº“å…è´¹\"></a><a href=\"https://github.blog/2019-01-07-new-year-new-github/\">Githubå®£å¸ƒç§æœ‰åº“å…è´¹</a></h3><p>Githubå®£å¸ƒæä¾›å…è´¹ä¸”ä¸é™é‡çš„ç§æœ‰ä»“åº“æœåŠ¡ï¼Œå¦‚æœåä½œè€…è¶…è¿‡3ä¸ªä»éœ€è´­ä¹°ä»˜è´¹æœåŠ¡ã€‚<br>å–œå¤§æ™®å¥”å•Šï¼Œå¾—çŸ¥æ¶ˆæ¯ä¹‹åï¼Œæˆ‘èµ¶ç´§å°±å»ºç«‹ä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œæ”¾ä¸€äº›ä¸æƒ³è®©ä½ ä»¬çœ‹åˆ°çš„ä¸œè¥¿ğŸ™ƒ</p>\n<h3 id=\"Swift-5-Release-Notes-for-Xcode-10-2-beta\"><a href=\"#Swift-5-Release-Notes-for-Xcode-10-2-beta\" class=\"headerlink\" title=\"Swift 5 Release Notes for Xcode 10.2 beta\"></a><a href=\"https://developer.apple.com/documentation/xcode_release_notes/xcode_10_2_beta_release_notes/swift_5_release_notes_for_xcode_10_2_beta?language=objc\">Swift 5 Release Notes for Xcode 10.2 beta</a></h3><p>Swift5 ç‰ˆæœ¬ç»ˆäºå‘å¸ƒäº†ï¼Œæœ€ä½å¯ä»¥ä½¿ç”¨Xcode10.2beta æŸ¥çœ‹ã€‚Swift5 å¸¦æ¥äº†ABIç¨³å®šï¼Œå±Šæ—¶ç³»ç»Ÿå°†è‡ªå¸¦SwiftåŠ¨æ€åº“ï¼Œç”±Swiftç¼–è¯‘çš„é¡¹ç›®å°†ä¸ä¼šè‡ªåŠ¨æŠŠè¿è¡Œåº“æ‰“åˆ°åŒ…é‡Œã€‚</p>\n<p>Swift5 å…·ä½“è¿˜æœ‰å“ªäº›ç‰¹æ€§ï¼Œå¯ä»¥å‚è€ƒçŸ¥è¯†å°é›†å›¢é˜Ÿçš„<a href=\"https://juejin.im/post/5c4b3e91e51d452c8e6d6bcc\">ç¿»è¯‘ç‰ˆæœ¬</a></p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"Dictionaryçš„mergeæ“ä½œ\"><a href=\"#Dictionaryçš„mergeæ“ä½œ\" class=\"headerlink\" title=\"Dictionaryçš„mergeæ“ä½œ\"></a>Dictionaryçš„mergeæ“ä½œ</h3><p><code>Dictionary</code>çš„mergeå¯èƒ½å¹³å¸¸ç”¨çš„ä¸å¤šï¼Œæˆ‘æ˜¯åœ¨ä¸€æ¬¡bugæ’æŸ¥çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è‡ªå·±å¯¹mergeæ“ä½œç†è§£ä¹Ÿæœ‰äº›åå·®ã€‚è¿™é‡Œåšä¸ªç®€å•æ¢³ç†ã€‚<br>çœ‹å…¶ä¸­ä¸€ç§æƒ…å†µï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dictionary = [<span class=\"string\">\"a\"</span>: <span class=\"number\">1</span>, <span class=\"string\">\"b\"</span>: <span class=\"number\">2</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Keeping existing value for key \"a\":</span></span><br><span class=\"line\">dictionary.merge([<span class=\"string\">\"a\"</span>: <span class=\"number\">3</span>, <span class=\"string\">\"c\"</span>: <span class=\"number\">4</span>]) &#123; (current, <span class=\"number\">_</span>) <span class=\"keyword\">in</span> current &#125;</span><br><span class=\"line\"><span class=\"comment\">// [\"b\": 2, \"a\": 1, \"c\": 4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Taking the new value for key \"a\":</span></span><br><span class=\"line\">dictionary.merge([<span class=\"string\">\"a\"</span>: <span class=\"number\">5</span>, <span class=\"string\">\"d\"</span>: <span class=\"number\">6</span>]) &#123; (<span class=\"number\">_</span>, new) <span class=\"keyword\">in</span> new &#125;</span><br><span class=\"line\"><span class=\"comment\">// [\"b\": 2, \"a\": 5, \"c\": 4, \"d\": 6]</span></span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„å°¾éšé—­åŒ…ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¦‚æœmergeæ“ä½œæœ‰é‡å¤keyå€¼ï¼Œå°†ä¿ç•™mergeå‰çš„valueä¸å˜ã€‚å¦‚æœé—­åŒ…è¿”å›ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦‚æœmergeæœ‰é‡å¤keyï¼Œå°†æ›´æ–°è‡³æœ€æ–°å€¼ã€‚<br><code>Dictionary</code>å‘å…³çš„mergeå‡½æ•°ä¸€å…±æœ‰å››ä¸ªï¼Œä½¿ç”¨ç±»ä¼¼ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">merge</span>&lt;S&gt;<span class=\"params\">(<span class=\"number\">_</span> other: S, uniquingKeysWith combine: <span class=\"params\">([Key : Value].Value, [Key : Value].Value)</span></span></span> <span class=\"keyword\">throws</span> -&gt; [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>) <span class=\"keyword\">rethrows</span> <span class=\"keyword\">where</span> <span class=\"type\">S</span> : <span class=\"type\">Sequence</span>, <span class=\"type\">S</span>.<span class=\"type\">Element</span> == (<span class=\"type\">Key</span>, <span class=\"type\">Value</span>)</span><br><span class=\"line\"><span class=\"comment\">//ä¸Šé¢ç¤ºä¾‹å¯¹åº”æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">mutating</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">merge</span><span class=\"params\">(<span class=\"number\">_</span> other: [[Key : Value].Key : [Key : Value].Value], uniquingKeysWith combine: <span class=\"params\">([Key : Value].Value, [Key : Value].Value)</span></span></span> <span class=\"keyword\">throws</span> -&gt; [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>) <span class=\"keyword\">rethrows</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">merging</span>&lt;S&gt;<span class=\"params\">(<span class=\"number\">_</span> other: S, uniquingKeysWith combine: <span class=\"params\">([Key : Value].Value, [Key : Value].Value)</span></span></span> <span class=\"keyword\">throws</span> -&gt; [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>) <span class=\"keyword\">rethrows</span> -&gt; [[<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Key</span> : [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>] <span class=\"keyword\">where</span> <span class=\"type\">S</span> : <span class=\"type\">Sequence</span>, <span class=\"type\">S</span>.<span class=\"type\">Element</span> == (<span class=\"type\">Key</span>, <span class=\"type\">Value</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">merging</span><span class=\"params\">(<span class=\"number\">_</span> other: [[Key : Value].Key : [Key : Value].Value], uniquingKeysWith combine: <span class=\"params\">([Key : Value].Value, [Key : Value].Value)</span></span></span> <span class=\"keyword\">throws</span> -&gt; [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>) <span class=\"keyword\">rethrows</span> -&gt; [[<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Key</span> : [<span class=\"type\">Key</span> : <span class=\"type\">Value</span>].<span class=\"type\">Value</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸€äº›Gitæ“ä½œ\"><a href=\"#ä¸€äº›Gitæ“ä½œ\" class=\"headerlink\" title=\"ä¸€äº›Gitæ“ä½œ\"></a>ä¸€äº›Gitæ“ä½œ</h3><p><strong>åˆ é™¤å­ç›®å½•git</strong><br>å½“ä¸€ä¸ªå«gitçš„ç›®å½•åŒ…å«äº†å…¶ä»–å«gitç›®å½•æ—¶ï¼Œå¤–éƒ¨gitæ˜¯ä¸èƒ½å°†å†…éƒ¨gitçº³å…¥ç‰ˆæœ¬ç®¡ç†çš„ã€‚æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œç§»é™¤å†…éƒ¨çš„gitä»“åº“ã€‚<br>1ã€åˆ é™¤å†…éƒ¨git</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd éœ€è¦ç§»é™¤çš„gitç›®å½•</span><br><span class=\"line\">rm -rf .git  # æˆ–è€…æ˜¾ç¤ºéšè—ç›®å½•æ‰‹åŠ¨åˆ é™¤.gitæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure>\n<p>æ­¤æ—¶è™½ç„¶å·²ç»åˆ é™¤äº†<code>.git</code>ä½†æ˜¯åŸç›®å½•è¿˜å­˜åœ¨ç¼“å­˜ï¼Œæ— æ³•æ·»åŠ åˆ°å¤–éƒ¨gitä¸­ã€‚<br>2ã€åˆ é™¤ç¼“å­˜å†…å®¹</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rm -r --cached next</span><br></pre></td></tr></table></figure>\n<p><strong>git pullå¼ºåˆ¶è¦†ç›–æœ¬åœ°æ–‡ä»¶</strong><br>å½“æˆ‘ä»¬éœ€è¦å°†æŸä¸€åˆ†æ”¯ï¼Œè·Ÿè¿œç¨‹å¯¹åº”åˆ†æ”¯ä¿æŒä¸€è‡´æ—¶ï¼Œå¯ä»¥åšå¦‚ä¸‹æ“ä½œï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git fetch</span><br><span class=\"line\">git reset --hard origin/branch_name</span><br><span class=\"line\">git pull</span><br></pre></td></tr></table></figure>\n<p><strong>fatal:refusing to merge unrelated histories</strong><br>å½“æˆ‘ä»¬ä¸ºä¸€ä¸ªé¡¹ç›®å…³è”äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œæ‰§è¡Œpullçš„æ“ä½œæ—¶å‡ºç°</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> * branch            master     -&gt; FETCH_HEAD</span><br><span class=\"line\"> * [new branch]      master     -&gt; origin&#x2F;master</span><br><span class=\"line\">fatal: refusing to merge unrelated histories</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯å› ä¸ºgitä»2.9.0ç‰ˆæœ¬å¼€å§‹ï¼Œé¢„è®¾è¡Œä¸ºä¸å…è®¸åˆå¹¶æ²¡æœ‰å…±åŒç¥–å…ˆçš„åˆ†æ”¯ã€‚å¦‚æœä½ éè¦åˆå¹¶ï¼Œéœ€è¦åŠ ä¸Š<code>--allow-unrelated-histories</code>å‚æ•°æ‰è¡Œï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master --allow-unrelated-histories</span><br></pre></td></tr></table></figure>\n<h3 id=\"å‡ ä¸ªæé«˜æ•ˆç‡çš„å¿«æ·é”®\"><a href=\"#å‡ ä¸ªæé«˜æ•ˆç‡çš„å¿«æ·é”®\" class=\"headerlink\" title=\"å‡ ä¸ªæé«˜æ•ˆç‡çš„å¿«æ·é”®\"></a>å‡ ä¸ªæé«˜æ•ˆç‡çš„å¿«æ·é”®</h3><p>æœ€è¿‘åœ¨ç†Ÿç»ƒä½¿ç”¨äº†å‡ ä¸ªå¿«æ·é”®åï¼Œæ˜æ˜¾æ„Ÿè§‰å¼€å‘æ•ˆç‡æé«˜äº†ä¸å°‘ï¼Œè¿™é‡Œæ€»ç»“äº†å‡ ä¸ªå¸¸ç”¨ä½†ä¸æ˜¯éå¸¸å¸¸ç”¨çš„å¿«æ·é”®ï¼ˆCommand + C å’Œ Command Vç­‰ï¼‰ã€‚å¦å¤–</p>\n<ul>\n<li>Commandï¼ˆæˆ– Cmdï¼‰âŒ˜</li>\n<li>Shift â‡§</li>\n<li>Optionï¼ˆæˆ– Altï¼‰âŒ¥</li>\n<li>Controlï¼ˆæˆ– Ctrlï¼‰âŒƒ</li>\n<li>Power ç”µæºé”®</li>\n</ul>\n<p><strong>Xcode</strong><br>Command + Shift + J æ–‡ä»¶ç›®å½•æŒ‡å‘å½“å‰æ–‡ä»¶<br>Command + Shift + O æ–‡ä»¶ã€å¯¹è±¡æœç´¢<br>Command + Shift + F å…¨å±€æœç´¢<br>Command + shift + , ç¼–è¾‘ scheme<br>Command + Control + Left/Right æµè§ˆå†å²åˆ‡æ¢<br>Command + Option + Left/Right æŠ˜å ã€å±•å¼€å½“å‰ä»£ç æ®µ<br>Command + Option + C æ˜¾ç¤ºCommitç•Œé¢<br><strong>ç³»ç»Ÿæ“ä½œ</strong><br>Command + Option + Power ç¡çœ çŠ¶æ€<br>Power 1.5sç¡çœ çŠ¶æ€<br>Command + Control + Power å¼ºåˆ¶Macé‡å¯</p>\n<p><strong>é€‚ç”¨å…¶ä»–ç¨‹åº</strong><br>Command + , æ‰“å¼€åå¥½è®¾ç½®<br>Command + W å…³é—­æœ€å‰é¢çš„çª—å£<br>Command + Option + W å…³é—­åº”ç”¨æ‰€æœ‰çª—å£<br>Command + Q æ¨å‡ºåº”ç”¨<br>Command + M æœ€å°åŒ–<br>Command + Shift + [/] å·¦å³åˆ‡æ¢åº”ç”¨tab</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><h3 id=\"æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€…\"><a href=\"#æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€…\" class=\"headerlink\" title=\"æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€…\"></a><a href=\"http://survivor.ruanyifeng.com/index.html\">æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€…</a></h3><p>ä»Šå¹´å¸‚åœºç»æµä¸æ™¯æ°”ï¼Œå¾ˆå¤šäº’è”ç½‘å…¬å¸ç»å†â€œè£å‘˜æ½®â€ï¼Œå…¶å®ä¸å…‰æ˜¯æ¢è”ç½‘è¡Œä¸šï¼Œå…¶ä»–è¡Œä¸šä¹Ÿé¢ä¸´åŒæ ·çš„é—®é¢˜ã€‚é‚£æ€ä¹ˆæé«˜è‡ªå·±çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œæ˜¯æ¯ä¸€ä¸ªä»äº‹äº’è”ç½‘è¡Œä¸šçš„äººéƒ½åº”è¯¥è€ƒè™‘çš„ã€‚æˆ‘ä»¬ä¸åº”è¯¥åªæ»¡è¶³äºæ—¥å¸¸å¼€å‘ï¼Œè¦æ‰¾å‡†è‡ªå·±çš„å®šä½ï¼Œææ—©åšèŒä¸šè§„åˆ’ã€‚å¦å¤–ä¸æ–­å°è¯•æ‹“å±•è‡ªå·±çš„çŸ¥è¯†é¢ï¼Œå¢åŠ è‡ªå·±çš„å½±å“åŠ›ï¼Œè¿™æ ·æ‰èƒ½è®©è‡ªå·±åœ¨ä¸æ–­å˜åŒ–çš„å¸‚åœºä¸­ç«‹äºä¸è´¥ä¹‹åœ°ã€‚</p>\n<p>é™¤äº†é˜®è€å¸ˆçš„è¿™æœ¬ä¹¦ï¼Œè¿˜æ¨è<br>å“åŒå­¦çš„<a href=\"https://juejin.im/post/5c45c999e51d4551cd71f4e2\">iOS 2019 éš†ä¸­å¯¹</a></p>\n<h3 id=\"ä»€ä¹ˆæ˜¯çœŸæ­£çš„ç¨‹åºå‘˜\"><a href=\"#ä»€ä¹ˆæ˜¯çœŸæ­£çš„ç¨‹åºå‘˜\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯çœŸæ­£çš„ç¨‹åºå‘˜\"></a><a href=\"https://www.cnblogs.com/xueweihan/p/5220513.html\">ä»€ä¹ˆæ˜¯çœŸæ­£çš„ç¨‹åºå‘˜</a></h3><p>ä½œè€…ä»¿ç…§ã€Šå°ç‹å­ã€‹ä¸­çš„æƒ…èŠ‚ï¼Œé€šè¿‡å°printfé‡è§çš„ä¸åŒç±»å‹çš„ç¨‹åºå‘˜ï¼Œæœ€åæ‚Ÿå‡ºä»€ä¹ˆæ‰æ˜¯çœŸæ­£çš„ç¨‹åºå‘˜ï¼<br>æœ‰ä¸¤ä¸ªæ¦‚å¿µæ¯”è¾ƒæœ‰æ„æ€ï¼š</p>\n<ul>\n<li>è¾¾å…‹æ•ˆåº”ï¼šèƒ½åŠ›å¼ºçš„äººæ€»æ˜¯ä½ä¼°è‡ªå·±ï¼Œèƒ½åŠ›å¼±çš„äººæ€»æ˜¯é«˜ä¼°è‡ªå·±ã€‚</li>\n<li>èƒ½å¤Ÿä¸ºäººä»¬è§£å†³çœŸæ­£éœ€è¦è§£å†³çš„é—®é¢˜çš„ç¨‹åºå‘˜ï¼Œæ‰æ˜¯çœŸæ­£çš„ç¨‹åºå‘˜</li>\n</ul>\n<h3 id=\"Language-Server-Protocol\"><a href=\"#Language-Server-Protocol\" class=\"headerlink\" title=\"Language Server Protocol\"></a><a href=\"https://swift.gg/2019/01/15/nshipster-language-server-protocol/\">Language Server Protocol</a></h3><p>æ¥è‡ªSwiftGGç¿»è¯‘ç»„çš„ä¸€ç¯‡æ–‡ç« ã€‚<br>è‹¹æœå…¬å¸ åœ¨ <a href=\"https://forums.swift.org/t/new-lsp-language-service-supporting-swift-and-c-family-languages-for-any-editor-and-platform/17024\">Swift.org</a> è®ºå›ä¸Šå®£å¸ƒï¼Œæ­£åœ¨ç€æ‰‹ä¸º Swift å’Œ C è¯­è¨€æ”¯æŒ <a href=\"https://microsoft.github.io/language-server-protocol/\">Language Server Protocol</a>ï¼ˆè¯­è¨€æœåŠ¡å™¨åè®®ï¼ŒLSPï¼‰ã€‚<br>é‚£è¿™æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿè¿™å¯èƒ½æ˜¯è‹¹æœè‡ª 2014 å¹´å°† Swift ä½œä¸ºå¼€æºè½¯ä»¶å‘å¸ƒä»¥æ¥ï¼Œä¸º Swift åšå‡ºçš„æœ€é‡è¦çš„å†³å®šã€‚å®ƒæ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¸å¿…ä½¿ç”¨Xcodeå»å¼€å‘Swifté¡¹ç›®ï¼Œè€Œæ˜¯å¯ä»¥é€‰æ‹©åƒæ˜¯Visual Studio, Atomè¿™äº›IDEã€‚Swiftå°†å˜æˆä¸€ç§æ›´åŠ é€šç”¨çš„å˜æˆè¯­è¨€ã€‚</p>\n<h3 id=\"Hashable-Hasher\"><a href=\"#Hashable-Hasher\" class=\"headerlink\" title=\"Hashable / Hasher\"></a><a href=\"https://nshipster.cn/hashable/\">Hashable / Hasher</a></h3><p>Hashæ˜¯ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬æŸ¥æ‰¾é›†åˆç‰¹å®šå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ç”±O(n)é™ä½åˆ°O(1)ã€‚<br>è¿™ç¯‡æ–‡ç« ä»‹ç»äº†Swiftä¸­å…³äºå“ˆå¸Œçš„å®ç°ï¼Œå“ˆå¸Œå†²çªçš„æ”¹å˜ï¼Œä»¥åŠSwift4.1ä¹‹åå…³äºè‡ªåŠ¨åŒ–å®ç°<code>Equatable</code>çš„ç›¸å…³ä»‹ç»ã€‚</p>\n<h3 id=\"Table-View-å¤ªè¤‡é›œï¼Ÿåˆ©ç”¨-MVVM-å’Œ-Protocol-å°±å¯ä»¥ç‚ºå®ƒé‡æ§‹ç˜¦èº«ï¼\"><a href=\"#Table-View-å¤ªè¤‡é›œï¼Ÿåˆ©ç”¨-MVVM-å’Œ-Protocol-å°±å¯ä»¥ç‚ºå®ƒé‡æ§‹ç˜¦èº«ï¼\" class=\"headerlink\" title=\"Table View å¤ªè¤‡é›œï¼Ÿåˆ©ç”¨ MVVM å’Œ Protocol å°±å¯ä»¥ç‚ºå®ƒé‡æ§‹ç˜¦èº«ï¼\"></a><a href=\"https://www.appcoda.com.tw/tableview-mvvm/\">Table View å¤ªè¤‡é›œï¼Ÿåˆ©ç”¨ MVVM å’Œ Protocol å°±å¯ä»¥ç‚ºå®ƒé‡æ§‹ç˜¦èº«ï¼</a></h3><p>TableViewæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ç³»ç»Ÿéƒ¨ä»¶ï¼Œéšç€ä¸šåŠ¡é€»è¾‘çš„ä¸æ–­è¿­ä»£å®ƒå†…éƒ¨çš„é€»è¾‘å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œä»£ç é‡ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå¦‚æœä¸èƒ½å¾ˆå¥½çš„ç»„ç»‡é€»è¾‘æ¶æ„ï¼Œè¿™é‡Œä¼šå˜å¾—éå¸¸è‡ƒè‚¿ã€‚<br>ä½œè€…åˆ©ç”¨<code>MVVM pattern</code>ï¼ŒåŠ ä¸Šä¸€ç‚¹<code>Protocol</code>æŠ€å·§ï¼Œæ¥ç®€åŒ–dataSourceçš„å·¥ä½œï¼ŒæŠŠUIå’Œé€»è¾‘è§£è€¦åˆï¼Œå¹¶ä¸”æœ€å¤§åŒ–è¿™ä¸ªtableViewæ¨¡ç»„çš„æ‰©å±•æ€§ã€‚</p>\n<h2 id=\"éŸ³è§†é¢‘\"><a href=\"#éŸ³è§†é¢‘\" class=\"headerlink\" title=\"éŸ³è§†é¢‘\"></a>éŸ³è§†é¢‘</h2><p>ä¸´è¿‘å¹´å…³ï¼Œå¯èƒ½å¾ˆå¤šäººä¼šè€ƒè™‘å¹´åæ¢å·¥ä½œçš„æƒ…å†µï¼Œæœ€è¿‘å‡ æœŸçš„ggtalkä¹Ÿåœ¨è®¨è®ºè·³æ§½è¿™ä¸ªå¤§å®¶æ¯”è¾ƒå…³æ³¨çš„è¯é¢˜ï¼Œå¸Œæœ›å¤§å®¶æ”¶å¬ä¹‹åèƒ½å¤Ÿæœ‰æ‰€æ”¶è·ï¼š<br><a href=\"https://talk.swift.gg/12\">ç‹­ä¹‰è·³æ§½è®ºï¼šé¢è¯•å®˜ï¼Œå¤§å‚æ–°äººå’Œå‡†å¤‡èµ·è·³çš„æŸ C</a><br><a href=\"https://talk.swift.gg/13\">å¹¿ä¹‰è·³æ§½è®ºï¼šç®€æ´æ˜äº†çš„æ–¹æ³•è®º</a><br>é™„å¸¦ä¹‹å‰çš„å‡ æœŸå…³äºå‡èŒåŠ è–ªçš„èŠ‚ç›®ï¼š<br><a href=\"https://talk.swift.gg/0\">èŠèŠç¨‹åºå‘˜çš„å‡èŒåŠ è–ªï¼ˆä¸Šï¼‰</a><br><a href=\"https://talk.swift.gg/4\">èŠèŠç¨‹åºå‘˜çš„å‡èŒåŠ è–ªï¼ˆä¸‹ï¼‰</a></p>\n<h3 id=\"ç¨‹åºå‘˜çš„æ˜¥èŠ‚è¶£äº‹\"><a href=\"#ç¨‹åºå‘˜çš„æ˜¥èŠ‚è¶£äº‹\" class=\"headerlink\" title=\"ç¨‹åºå‘˜çš„æ˜¥èŠ‚è¶£äº‹\"></a><a href=\"https://talk.swift.gg/14\">ç¨‹åºå‘˜çš„æ˜¥èŠ‚è¶£äº‹</a></h3><p>ä»Šå¤©ä¸Šç­è·¯ä¸Šå¬äº†è¿™æœŸèŠ‚ç›®ï¼Œå…¨ç¨‹éå¸¸çš„æ¬¢å¿«ã€‚æˆ‘æ˜¯ä»Šå¤©æ™šä¸Šå›å®¶çš„ç«è½¦ï¼Œé‚£äº›ç›¸ä¼¼çš„æ˜¥èŠ‚è¶£äº‹æˆ‘ä¹Ÿé©¬ä¸Šè¦ç»å†ä¸€æ¬¡äº†ï¼Œæ˜¯éœ€è¦æå‰å‡†å¤‡ä¸‹æ€ä¹ˆåº”å¯¹äº†ğŸ™ƒã€‚</p>\n<p>ä»¥ä¸‹æ˜¯å®˜æ–¹å†…å®¹ä»‹ç»ï¼š<br>å¿«è¿‡å¹´äº†ï¼Œä¼°è®¡å¤§å®¶ä¹Ÿæ²¡å¿ƒæƒ…å·¥ä½œå­¦ä¹ ï¼Œå‡†å¤‡è¿›å…¥æ”¾å‡çŠ¶æ€ã€‚ä¸¥è‚ƒçš„è¯é¢˜æ”¾åˆ°å¹´åï¼Œè¿™æœŸæˆ‘ä»¬è¯·åˆ°äº†è¢æ»šæ»šã€å¼ æ€ç¦å’Œè€æœ‹å‹è²å”ï¼Œå›´ç»•ç€æ˜¥èŠ‚è½»æ¾æ„‰å¿«çš„èŠä¸€æœŸã€‚</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><p>æœ¬ç¯‡GitHubæ¨¡å—ï¼Œä»‹ç»å‡ ä¸ªGitå’ŒGitHubç›¸å…³çš„é¡¹ç›®ã€‚</p>\n<h3 id=\"Gitä¸­æ–‡æ•™ç¨‹\"><a href=\"#Gitä¸­æ–‡æ•™ç¨‹\" class=\"headerlink\" title=\"Gitä¸­æ–‡æ•™ç¨‹\"></a><a href=\"https://github.com/geeeeeeeeek/git-recipes\">Gitä¸­æ–‡æ•™ç¨‹</a></h3><p>æ¥è‡ª<a href=\"https://github.com/geeeeeeeeek\">geeeeeeeeek</a>çš„é«˜è´¨é‡Gitä¸­æ–‡æ•™ç¨‹ï¼Œåœ¨GitHubå·²ç»è·å¾—äº†1w+çš„startã€‚å¯¹gitæ“ä½œè¿˜æœ‰ç–‘é—®çš„åŒå­¦å¯ä»¥å€ŸåŠ©è¿™ä»½æ•™ç¨‹ï¼Œå®Œæ•´çš„æ¢³ç†ä¸€ä¸‹gitç›¸å…³çš„çŸ¥è¯†ï¼Œæˆ–è€…æ‰«ä¸€ä¸‹gitç›²åŒºã€‚ </p>\n<h3 id=\"Gitçš„å¥‡æŠ€æ·«å·§\"><a href=\"#Gitçš„å¥‡æŠ€æ·«å·§\" class=\"headerlink\" title=\"Gitçš„å¥‡æŠ€æ·«å·§\"></a><a href=\"https://github.com/521xueweihan/git-tips\">Gitçš„å¥‡æŠ€æ·«å·§</a></h3><p>æˆ‘ä»¬åœ¨ä½¿ç”¨gitçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šè¢«ä¸€äº›å…·ä½“çš„é—®é¢˜éš¾ä½ï¼Œè¿™ç¯‡æ–‡ç« ä»å…·ä½“æ“ä½œå…¥æ‰‹ï¼Œä»‹ç»ä¸€äº›æˆ‘ä»¬çŸ¥é“ä½†ä¸ä¸€å®šéƒ½ç”¨è¿‡çš„gitæŒ‡ä»¤ã€‚<br>ç­‰ç­‰ï¼Œæˆ‘ä¹Ÿæƒ³å†™ä¸€ä»½æˆ‘è‡ªå·±çš„Gitå¥‡æ·«æŠ€å·§äº†ï¼Œå› ä¸ºgitè¿™ä¸ªä¸œè¥¿æ˜¯çœŸçš„åºå¤§ã€‚</p>\n<h3 id=\"HelloGitHub\"><a href=\"#HelloGitHub\" class=\"headerlink\" title=\"HelloGitHub\"></a><a href=\"https://github.com/521xueweihan/HelloGitHub\">HelloGitHub</a></h3><p>è¿™æ˜¯ä¸€ä¸ªé¢å‘ç¼–ç¨‹æ–°æ‰‹ã€çƒ­çˆ±ç¼–ç¨‹ã€å¯¹å¼€æºç¤¾åŒºæ„Ÿå…´è¶£äººç¾¤çš„é¡¹ç›®ï¼Œå†…å®¹ä»¥æœˆåˆŠçš„å½¢å¼æ›´æ–°å‘å¸ƒã€‚å†…å®¹åŒ…æ‹¬ï¼šæµè¡Œé¡¹ç›®ã€å…¥é—¨çº§é¡¹ç›®ã€è®©ç”Ÿæ´»å˜å¾—æ›´ç¾å¥½çš„å·¥å…·ã€ä¹¦ç±ã€å­¦ä¹ å¿ƒå¾—ç¬”è®°ã€ä¼ä¸šçº§é¡¹ç›®ç­‰ï¼Œè¿™äº›å¼€æºé¡¹ç›®å¤§å¤šéƒ½æ˜¯éå¸¸å®¹æ˜“ä¸Šæ‰‹ã€å¾ˆ Coolï¼Œèƒ½å¤Ÿè®©ä½ ç”¨å¾ˆçŸ­æ—¶é—´æ„Ÿå—åˆ°ç¼–ç¨‹çš„é­…åŠ›å’Œä¾¿æ·ã€‚ä»è€Œè®©å¤§å®¶æ„Ÿå—åˆ°ç¼–ç¨‹çš„ä¹è¶£ï¼ŒåŠ¨æ‰‹å¼€å§‹ç¼–ç¨‹ã€‚</p>\n<h3 id=\"GitHubæ¼«æ¸¸æŒ‡å—\"><a href=\"#GitHubæ¼«æ¸¸æŒ‡å—\" class=\"headerlink\" title=\"GitHubæ¼«æ¸¸æŒ‡å—\"></a><a href=\"https://github.com/phodal/github\">GitHubæ¼«æ¸¸æŒ‡å—</a></h3><p>ä»‹ç»ä½ å¯èƒ½åœ¨Githubä¸Šé‡åˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œä»å¦‚ä½•èµ·ä¸€ä¸ªå¥½åå­—åˆ°å¦‚ä½•æ¨å¹¿é¡¹ç›®ï¼ŒGitHubç”¨æˆ·åˆ†æï¼Œæ¯ä¸€ä¸ªç¯èŠ‚éƒ½éå¸¸è¯¦ç»†ã€‚æ— è®ºä½ å¤„äºç¼–ç¨‹çš„å“ªä¸ªé˜¶æ®µï¼Œæˆ‘è®¤ä¸ºä½ éƒ½èƒ½ä»è¿™ä»½æŒ‡å—ä¸­è·å–åˆ°çµæ„Ÿå’Œå¸®åŠ©ã€‚</p>\n<h3 id=\"README\"><a href=\"#README\" class=\"headerlink\" title=\"README\"></a><a href=\"https://github.com/guodongxiaren/README\">README</a></h3><p>è¯¥æ–‡ä»¶ç”¨æ¥æµ‹è¯•å’Œå±•ç¤ºä¹¦å†™READMEçš„å„ç§markdownè¯­æ³•ã€‚GitHubçš„markdownè¯­æ³•åœ¨æ ‡å‡†çš„markdownè¯­æ³•åŸºç¡€ä¸Šåšäº†æ‰©å……ï¼Œç§°ä¹‹ä¸ºGitHub Flavored Markdownã€‚ç®€ç§°GFMï¼ŒGFMåœ¨GitHubä¸Šæœ‰å¹¿æ³›åº”ç”¨ï¼Œé™¤äº†READMEæ–‡ä»¶å¤–ï¼Œissueså’Œwikiå‡æ”¯æŒmarkdownè¯­æ³•ã€‚</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"iOSå¼€å‘æœˆæŠ¥#6|201812","url":"http://zhangferry.github.io/2019/01/02/monthly_6/","content":"<h2 id=\"å¤§äº‹ä»¶\"><a href=\"#å¤§äº‹ä»¶\" class=\"headerlink\" title=\"å¤§äº‹ä»¶\"></a>å¤§äº‹ä»¶</h2><p>è¿™ä¸ªæœˆçš„å¤§äº‹ä»¶æ˜¯é«˜é€šä¸è‹¹æœä¹‹é—´çš„ä¸“åˆ©å¤§æˆ˜ã€‚é«˜é€šåˆ†åˆ«åœ¨ä¸­å›½å’Œå¾·å›½å¯¹è‹¹æœå…¬å¸æèµ·ä¸“åˆ©è¯‰è®¼ï¼Œç»“æœå‡èƒœã€‚è‹¹æœå°†åœ¨ä¸­å›½ç¦å”®iPhoneXåŠä¹‹å‰çš„æœºå‹ã€‚åœ¨å¾·å›½åˆ™æ˜¯å…¨é¢ç¦å”®ã€‚</p>\n<a id=\"more\"></a>\n<p>åŠ ä¸Šæ–°å“æ‰‹æœºçš„åˆ›æ–°åŠ›åº¦ä¸å¤Ÿï¼Œå¯¼è‡´è‹¹æœè‚¡ç¥¨æŒç»­èµ°ä½ï¼Œå››ä¸ªæœˆå‰ï¼Œè‹¹æœè¿˜æ˜¯é¦–ä¸ªçªç ´ä¸‡äº¿ç¾å…ƒå¸‚å€¼çš„ä¸Šå¸‚å…¬å¸ï¼Œåˆ°ç°åœ¨è‚¡ä»·å·²ç»ä¸‹è·Œäº† 36%ï¼Œå¸‚å€¼åªæœ‰ 7160 äº¿ç¾å…ƒï¼Œå‡ ä¸ªæœˆå†…å¸‚å€¼æŸå¤±æ¥è¿‘ 3000 äº¿ç¾å…ƒã€‚<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-4e4811eeba166496.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"news.png\"></p>\n<!--more-->\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"æ›´æ¢å¯åŠ¨å›¾ä¸ç”Ÿæ•ˆ\"><a href=\"#æ›´æ¢å¯åŠ¨å›¾ä¸ç”Ÿæ•ˆ\" class=\"headerlink\" title=\"æ›´æ¢å¯åŠ¨å›¾ä¸ç”Ÿæ•ˆ\"></a>æ›´æ¢å¯åŠ¨å›¾ä¸ç”Ÿæ•ˆ</h3><p><strong>ç°è±¡</strong>ï¼šæ›´æ¢å¯åŠ¨å›¾ï¼Œä¸ç”Ÿæ•ˆï¼Œå³ä½¿åˆ é™¤æ—§å›¾ï¼Œè¿è¡Œç¨‹åºå¯åŠ¨å›¾ä»ç„¶æ˜¯ä¹‹å‰çš„ç‰ˆæœ¬ã€‚<br>å°è¯•äº†åˆ é™¤appé‡è£…ï¼Œcleanã€é‡å¯Xcodeï¼Œåˆ é™¤DriverDataï¼Œè¿˜è¯•è¿‡æŒªå›¾ç‰‡ä½ç½®ï¼Œæ”¹åå­—ï¼Œå‡æ— æ•ˆã€‚æœ€åå°è¯•äº†é‡å¯æ‰‹æœº-&gt;å†å®‰è£…æ‰æ­£å¸¸ã€‚</p>\n<p><strong>é—®é¢˜åˆ†æ</strong>ï¼šè¿™ä¸ªæ˜¯ç³»ç»Ÿé—®é¢˜ï¼Œä¸ºäº†åŠ å¿«ç¨‹åºå¯åŠ¨çš„é€Ÿåº¦ç³»ç»Ÿä¼šæŠŠå¯åŠ¨å›¾åšä¸ªç¼“å­˜ï¼Œä¹‹åæ¯æ¬¡å¯åŠ¨æ˜¯åŠ è½½ç¼“å­˜å¯åŠ¨å›¾ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°ä¿®æ”¹ä¸ç”Ÿæ•ˆé—®é¢˜ã€‚ä½†æˆ‘ä»¬ä¹Ÿå¹¶ä¸çŸ¥é“ç³»ç»Ÿä¼šä»€ä¹ˆæ—¶å€™æ›´æ–°å¯åŠ¨å›¾ï¼Œè¿™ä¸ªå°±æœ‰ç‚¹å°´å°¬ğŸ˜“<br>stackoverflowä¸Šæœ‰å…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®ºï¼š<br><a href=\"https://stackoverflow.com/questions/33002829/ios-keeping-old-launch-screen-and-app-icon-after-update\">iOS Keeping old launch screen and app icon after update</a></p>\n<p>æœ‰äººè¯´è¿™ä¸ªä¸å½±å“çº¿ä¸Šç‰ˆæœ¬ï¼Œä»ä¸Šçº¿ä¹‹åçš„æµ‹è¯•æ¥çœ‹ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·æ²¡æœ‰å—åˆ°å½±å“ï¼Œä½†è¿˜æ˜¯å‡ºç°äº†éƒ¨åˆ†æ‰‹æœºå‡çº§å´æœªæ›´æ¢å¯åŠ¨å›¾çš„é—®é¢˜ã€‚<br>å› ä¸ºæ˜¯ç³»ç»Ÿå±‚é¢æ§åˆ¶ï¼Œæ²¡æœ‰å¤ªå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœæœ‰äººé‡åˆ°è¿™ä¸ªæƒ…å†µï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚</p>\n<h3 id=\"èµ‹å€¼æƒé™\"><a href=\"#èµ‹å€¼æƒé™\" class=\"headerlink\" title=\"èµ‹å€¼æƒé™\"></a>èµ‹å€¼æƒé™</h3><p>åœ¨Mac ç³»ç»Ÿçš„ç»ˆç«¯ä¸Šä¿®æ”¹æ–‡ä»¶æƒé™ä½¿ç”¨çš„æ˜¯ Linux ä¸­çš„ chmod å‘½ä»¤ï¼š<br>rï¼šå¯è¯»ï¼Œè¡¨ç¤ºå¯ä»¥è¯»å–å†…å®¹<br>w:å¯å†™ï¼Œè¡¨ç¤ºå¯ä»¥ç¼–è¾‘å†…å®¹ï¼Œä½†æ˜¯ä¸å¯ä»¥åˆ é™¤æ–‡ä»¶<br>x: å¯æ‰§è¡Œï¼Œè¡¨ç¤ºå¯ä»¥æ‰§è¡Œæ–‡ä»¶ã€‚</p>\n<p>r:4<br>w:2<br>x:1<br>rwx=4+2+1=7</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-078779097f1aa66f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"rwx.png\"></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> chmod 777 file</span></span><br></pre></td></tr></table></figure>\n<p>è¿™è¡Œå‘½ä»¤çš„æ„æ€å°±æ˜¯ï¼šæ–‡ä»¶æ‰€æœ‰è€…æƒé™æ˜¯7ï¼ŒåŒç”¨æˆ·ç»„çš„æƒé™æ˜¯7ï¼Œå…¶ä»–éæœ¬åœ°ç”¨æˆ·ç»„çš„æƒé™æ˜¯7ã€‚åŒç†å¯ä»¥å‡ºç°è¿™æ ·çš„å‘½ä»¤ chmod740.barshrc</p>\n<p>å†è®²ä¸¤ä¸ªï¼š<br>chmod u=rwx, go=rx .barshrc è¿™ä¸ªå‘½ä»¤ä¸­uè¡¨ç¤ºæ‹¥æœ‰è€…ï¼Œgè¡¨ç¤ºgroupä¸­çš„ç”¨æˆ·ï¼Œoè¡¨ç¤ºothersï¼Œå’Œä¸Šé¢çš„æƒ³å¯¹åº”ã€‚æ³¨æ„go=rxï¼Œè¿™é‡Œgoæ˜¯æ‹¼æ¥èµ·æ¥çš„ï¼Œè¡¨ç¤ºgå’Œoçš„ç”¨æˆ·æœ‰è¯»å’Œæ‰§è¡Œçš„æƒé™ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> chmod a+w .barshrc</span></span><br></pre></td></tr></table></figure>\n<p>è¡¨ç¤ºæ‰€æœ‰çš„ç”¨æˆ·ï¼ˆaè¡¨ç¤ºallï¼‰å¢åŠ å†™çš„æƒé™ã€‚</p>\n<h3 id=\"Appå›¾ç‰‡ç˜¦èº«\"><a href=\"#Appå›¾ç‰‡ç˜¦èº«\" class=\"headerlink\" title=\"Appå›¾ç‰‡ç˜¦èº«\"></a>Appå›¾ç‰‡ç˜¦èº«</h3><p>éšç€é¡¹ç›®ç‰ˆæœ¬çš„ä¸æ–­è¿­ä»£ï¼Œä¼šå¾ˆå®¹æ˜“ç§¯ç´¯è¶Šæ¥è¶Šå¤šçš„å›¾ç‰‡ï¼Œå¯¹è¿™äº›å›¾ç‰‡æˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸»è¦æ–¹é¢å¯ä»¥ä¼˜åŒ–ï¼š</p>\n<h4 id=\"1ã€åˆ é™¤ä¸ç”¨çš„å›¾ç‰‡\"><a href=\"#1ã€åˆ é™¤ä¸ç”¨çš„å›¾ç‰‡\" class=\"headerlink\" title=\"1ã€åˆ é™¤ä¸ç”¨çš„å›¾ç‰‡\"></a>1ã€åˆ é™¤ä¸ç”¨çš„å›¾ç‰‡</h4><p>æˆ‘ä»¬éœ€è¦å€ŸåŠ©ä¸€ä¸ªå·¥å…·<a href=\"https://github.com/tinymind/LSUnusedResources\">LSUnusedResources</a><br>å®ƒå¯ä»¥æ£€ç´¢é¡¹ç›®ä¸­æœªä½¿ç”¨çš„å›¾ç‰‡èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ£€ç´¢å›¾ç‰‡çš„è·¯å¾„ï¼Œåç¼€è¿›è¡Œè¿‡æ»¤ã€‚<br><strong>æ³¨æ„</strong>ï¼šæ— æ³•åŒºåˆ†pngåºåˆ—çš„å¼•ç”¨ã€‚æœ€å¥½æ‰‹åŠ¨åˆ é™¤</p>\n<h4 id=\"2ã€å›¾ç‰‡å‹ç¼©\"><a href=\"#2ã€å›¾ç‰‡å‹ç¼©\" class=\"headerlink\" title=\"2ã€å›¾ç‰‡å‹ç¼©\"></a>2ã€å›¾ç‰‡å‹ç¼©</h4><p>å¯ä»¥é€šè¿‡<a href=\"https://imageoptim.com/mac\">ImageOptim</a>ï¼Œå¯¹å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©ã€‚ä½¿ç”¨æ—¶åªéœ€å°†è¦å‹ç¼©çš„æ–‡ä»¶æ‹–åˆ°ç¨‹åºä¸­å³å¯ã€‚<br>å¦‚æœå›¾ç‰‡è¾ƒå¤šæ—¶ï¼Œå¯ä»¥å€ŸåŠ©å…¶å‘½ä»¤è¡Œå·¥å…·ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;Applications&#x2F;ImageOptim.app&#x2F;Contents&#x2F;MacOS&#x2F;ImageOptim $file_name</span><br></pre></td></tr></table></figure>\n<p>å¯¹åº”çš„shellè„šæœ¬:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># å¤„ç†æ–‡ä»¶åå‡ºç°ç©ºæ ¼é—®é¢˜</span><br><span class=\"line\">MY_IFS&#x3D;$IFS</span><br><span class=\"line\">IFS&#x3D;$&#39;\\n&#39;</span><br><span class=\"line\">for file_name in $(find &quot;$1&quot; -name &quot;*.png&quot; -type f); do</span><br><span class=\"line\">echo $file_name</span><br><span class=\"line\">&#x2F;Applications&#x2F;ImageOptim.app&#x2F;Contents&#x2F;MacOS&#x2F;ImageOptim $file_name</span><br><span class=\"line\">done</span><br><span class=\"line\">IFS&#x3D;$MY_IFS</span><br></pre></td></tr></table></figure>\n<p>è¯¥å·¥å…·è¿˜æœ‰ä¸€ä¸ªSketchæ’ä»¶ï¼š<a href=\"https://imageoptim.com/sketch\">Plugin for Sketch\n</a>ï¼Œå¯ä»¥åœ¨è¾“å‡ºiconçš„æ—¶å€™ç›´æ¥è¿›è¡Œå‹ç¼©ä¼˜åŒ–ã€‚</p>\n<h3 id=\"åå°éŸ³é¢‘è€—ç”µé—®é¢˜\"><a href=\"#åå°éŸ³é¢‘è€—ç”µé—®é¢˜\" class=\"headerlink\" title=\"åå°éŸ³é¢‘è€—ç”µé—®é¢˜\"></a>åå°éŸ³é¢‘è€—ç”µé—®é¢˜</h3><p><strong>åŠŸèƒ½ï¼š</strong>ä¸€æ®µåŠ©çœ éŸ³é¢‘å¯ä»¥åå°æ’­æ”¾ï¼Œæ’­æ”¾å®Œæˆåå¦‚æœè¿”å›appï¼Œä¼šè·³åˆ°å¯¹åº”çš„å®Œæˆç•Œé¢ã€‚<br><strong>é—®é¢˜ï¼š</strong>æœ‰ç”¨æˆ·åé¦ˆï¼Œå¬éŸ³é¢‘ç¡ç€äº†ï¼Œæ—©ä¸Šé†’æ¥ï¼Œç”µé‡æ‰äº†å¾ˆå¤šï¼ˆ40%ï¼‰ã€‚<br><strong>è°ƒç ”ï¼š</strong><br>ä½¿ç”¨Xcodeä¸­ <code>Debug Navigator</code>æ çš„<code>Energy Debug Gauge</code>ï¼ˆéœ€çœŸæœºï¼‰æµ‹è¯•ã€‚æ’­æ”¾å®Œæˆ4åˆ†é’Ÿå·¦å³çš„åå°è€—ç”µçŠ¶æ€å¦‚ä¸‹ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-4dc9ec91be8167f5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Energy Debug Gauge.png\"><br>åˆ†æå¯çŸ¥è™½ç„¶æ­¤æ—¶appåœæ­¢äº†æ‰€æœ‰è¡Œä¸ºï¼Œä½†æ˜¯ç”Ÿå‘½å‘¨æœŸä»å¤„äº<code>Background</code>çŠ¶æ€ï¼Œè€—ç”µé‡ä¹Ÿè¿˜æ˜¯å­˜åœ¨çš„ã€‚æš‚æ—¶è®¤ä¸ºé—®é¢˜æ˜¯å®¢æˆ·ç«¯ä¸€ç›´å¤„äº<code>Background</code>æ¨¡å¼ï¼Œå¹¶æœªè¢«<code>Suspend</code>ï¼Œå¯¼è‡´ä¸€ç›´è¢«ç³»ç»Ÿç»´æŠ¤ç€ï¼Œæ‰€ä»¥ä¸€ç›´æœ‰è€—ç”µæƒ…å†µã€‚</p>\n<p>å†ä¸€æ¬¡æŸ¥çœ‹è‹¹æœå…³äºåå°æ¨¡å¼çš„æ–‡æ¡£ï¼š</p>\n<blockquote>\n<p>When the UIBackgroundModes key contains the audio value, the systemâ€™s media frameworks automatically prevent the corresponding app from being suspended when it moves to the background. As long as it is playing audio or video content or recording audio content, the app continues to run in the background. However, if recording or playback stops, the system suspends the app.</p>\n</blockquote>\n<p>å¯çŸ¥ï¼Œåªè¦æ’­æ”¾å™¨æœªè¢«é”€æ¯ï¼Œå°±ä¼šä¸€ç›´å ç”¨åå°æ¨¡å¼ï¼<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>åœ¨æ’­æ”¾å®Œæˆæ—¶é”€æ¯æ’­æ”¾å™¨ã€‚</p>\n<p><strong>æ£€éªŒï¼š</strong><br>å†æ¬¡è§‚å¯Ÿæ’­æ”¾éŸ³é¢‘å®Œæˆä¸€æ®µæ—¶é—´ä¹‹åçš„åå°è€—ç”µæƒ…å†µï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-941fcf791ca2dc28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>æ­¤æ—¶appè¢«æŒ‚èµ·ï¼Œè€—ç”µé‡åŸºæœ¬ä¸º0ï¼Œå”¤é†’appï¼Œä»èƒ½æ­£å¸¸å·¥ä½œã€‚é—®é¢˜è§£å†³ã€‚</p>\n<h2 id=\"æ¨èé˜…è¯»\"><a href=\"#æ¨èé˜…è¯»\" class=\"headerlink\" title=\"æ¨èé˜…è¯»\"></a>æ¨èé˜…è¯»</h2><p>å°è¯•åˆ†æ¨¡å—æ•´ç†æ¨èé˜…è¯»çš„å†…å®¹</p>\n<h3 id=\"iOSå¼€å‘è¿‡ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼\"><a href=\"#iOSå¼€å‘è¿‡ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"iOSå¼€å‘è¿‡ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼\"></a>iOSå¼€å‘è¿‡ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼</h3><p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-e0dc16cd94be1833.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"design pattern.jpeg\"></p>\n<blockquote>\n<p>è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚ æ¯«æ— ç–‘é—®ï¼Œè®¾è®¡æ¨¡å¼äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œè®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼èƒ½è¢«å¹¿æ³›åº”ç”¨çš„åŸå› ã€‚</p>\n</blockquote>\n<p>ä»¥ä¸Šæ‘˜è‡ª<a href=\"http://www.runoob.com/design-pattern/design-pattern-intro.html\">èœé¸Ÿæ•™ç¨‹</a></p>\n<p><a href=\"https://medium.com/flawless-app-stories/strategy-pattern-in-swift-1462dbddd9fe\">Swiftä¸­çš„ç­–ç•¥æ¨¡å¼</a><br>ä»ä¸€ä¸ªå°ä¾‹å­å…¥æ‰‹ï¼Œè®²è§£ç­–ç•¥æ¨¡å¼åœ¨swiftä¸­çš„ä½¿ç”¨ã€‚</p>\n<p><a href=\"https://swift.gg/2018/09/10/design-pattern-creational/\">Swift ä¸­çš„è®¾è®¡æ¨¡å¼ #1 å·¥å‚æ–¹æ³•ä¸å•ä¾‹æ–¹æ³•</a><br><a href=\"https://swift.gg/2018/11/26/design-pattern-behavorial/\">Swift ä¸­çš„è®¾è®¡æ¨¡å¼ #2 è§‚å¯Ÿè€…æ¨¡å¼ä¸å¤‡å¿˜å½•æ¨¡å¼</a><br><a href=\"https://swift.gg/2018/11/29/design-pattern-structural/\">Swift ä¸­çš„è®¾è®¡æ¨¡å¼ #3 å¤–è§‚æ¨¡å¼ä¸é€‚é…å™¨æ¨¡å¼</a><br>SwiftGGç¿»è¯‘ç»„ç¿»è¯‘çš„è®¾è®¡æ¨¡å¼ç³»åˆ—æ–‡ç« ã€‚</p>\n<p><a href=\"https://github.com/skyming/Trip-to-iOS-Design-Patterns\">è®¾è®¡æ¨¡å¼èµ„æ–™æ•´ç†</a><br>åº”è¯¥æ˜¯ç›®å‰æ€»ç»“æœ€å…¨çš„é€‚åˆiOSå¼€å‘çš„è®¾è®¡æ¨¡å¼èµ„æ–™æ±‡æ€»ã€‚</p>\n<h3 id=\"iOSé€†å‘\"><a href=\"#iOSé€†å‘\" class=\"headerlink\" title=\"iOSé€†å‘\"></a>iOSé€†å‘</h3><p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-f0ddd03518d37a5d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"apple-hook.png\"></p>\n<blockquote>\n<p>iOSåº”ç”¨é€†å‘å·¥ç¨‹ï¼Œæ˜¯æŒ‡ä»ç›®æ ‡åº”ç”¨çš„ç•Œé¢åŠåŠŸèƒ½è¡¨ç°å…¥æ‰‹ï¼Œä½¿ç”¨ä¸åŒçš„å·¥å…·å’Œç†è®ºçŸ¥è¯†å»åˆ†æå…¶å®ç°åŸç†ï¼Œå¾—å‡ºåº”ç”¨çš„ä»£ç ç»“æ„ã€æ•´ä½“è®¾è®¡ã€åŠŸèƒ½å®ç°ã€æ‰§è¡Œæµç¨‹ç­‰ï¼Œç„¶ååˆ©ç”¨iOSçš„ç³»ç»ŸçŸ¥è¯†å’Œè¯­è¨€ç‰¹æ€§ï¼Œå€Ÿé‰´æˆ–ä¿®æ”¹åŸæœ‰å®ç°æµç¨‹çš„æŠ€æœ¯ã€‚</p>\n</blockquote>\n<p>æ¨èä¸¤ç¯‡æ˜é‡‘ä¸Šå…³äºiOSé€†å‘çš„æ–‡ç« ï¼š<br><a href=\"https://juejin.im/post/5c19a38ae51d453e0a209256\">TikTok(æŠ–éŸ³å›½é™…ç‰ˆ)é€†å‘ï¼Œå…¨çƒçš„å°å§å§ä»¬ï¼Œæˆ‘æ¥å•¦ï¼</a><br><a href=\"https://juejin.im/post/5bc425495188255c9d564044\">é€†å‘ Mac åº”ç”¨ Bartender</a><br>è¿™ä¸¤ç¯‡éƒ½æ˜¯é€šè¿‡å…·ä½“å®ä¾‹å…¥æ‰‹ï¼Œè®²è§£é€†å‘å¸¸ç”¨çš„å·¥å…·å’Œä¸€äº›é€†å‘çš„æ€è·¯ï¼Œéå¸¸é€‚åˆæ–°æ‰‹ã€‚æœ€å¥½è·Ÿç€ä»‹ç»å®é™…æ“ä½œä¸€ç•ªï¼Œç¬¬ä¸€æ¬¡æˆåŠŸé€†å‘ä¸€ä¸ªé¡¹ç›®ä¹‹åï¼Œé‚£ç§çˆ½æ­ªæ­ªçš„æ„Ÿè§‰ï¼Œä½ æ‡‚çš„ï¼</p>\n<p>å¦å¤–æ¨èä¸€ä½é€†å‘é¢†åŸŸçš„ç‰›äººåˆ˜åŸ¹åº†ï¼ˆ<a href=\"https://www.alonemonkey.com/\">åšå®¢</a>ï¼Œ<a href=\"https://github.com/AloneMonkey\">github</a>ï¼‰ï¼Œäº†è§£é€†å‘çš„åŒå­¦å¤§å¤šåº”è¯¥éƒ½ä¸é™Œç”Ÿï¼ŒiOSæ–¹é¢çš„é€†å‘ä¼˜å…ˆå‚ç…§ <strong><a href=\"https://github.com/AloneMonkey/MonkeyDev\">MonkeyDev</a></strong>ã€‚<br>åˆ˜æ€»ä»Šå¹´å‡ºäº†æ–°ä¹¦ã€ŠiOSåº”ç”¨é€†å‘ä¸å®‰å…¨ã€‹ï¼Œéå¸¸é€‚åˆå¯¹é€†å‘æœ‰å…´è¶£çš„åŒå­¦ã€‚</p>\n<h3 id=\"åˆ©ç”¨è„šæœ¬æé«˜å·¥ä½œæ•ˆç‡\"><a href=\"#åˆ©ç”¨è„šæœ¬æé«˜å·¥ä½œæ•ˆç‡\" class=\"headerlink\" title=\"åˆ©ç”¨è„šæœ¬æé«˜å·¥ä½œæ•ˆç‡\"></a>åˆ©ç”¨è„šæœ¬æé«˜å·¥ä½œæ•ˆç‡</h3><blockquote>\n<p>è„šæœ¬è¯­è¨€ï¼ˆè‹±è¯­ï¼šScripting languageï¼‰æ˜¯ä¸ºäº†ç¼©çŸ­ä¼ ç»Ÿçš„â€œç¼–å†™ã€ç¼–è¯‘ã€é“¾æ¥ã€è¿è¡Œâ€ï¼ˆedit-compile-link-runï¼‰è¿‡ç¨‹è€Œåˆ›å»ºçš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ã€‚æ—©æœŸçš„è„šæœ¬è¯­è¨€ç»å¸¸è¢«ç§°ä¸ºæ‰¹å¤„ç†è¯­è¨€æˆ–å·¥ä½œæ§åˆ¶è¯­è¨€ã€‚ä¸€ä¸ªè„šæœ¬é€šå¸¸æ˜¯è§£é‡Šè¿è¡Œè€Œéç¼–è¯‘ã€‚è„šæœ¬è¯­è¨€é€šå¸¸éƒ½æœ‰ç®€å•ã€æ˜“å­¦ã€æ˜“ç”¨çš„ç‰¹æ€§ï¼Œç›®çš„å°±æ˜¯å¸Œæœ›èƒ½è®©ç¨‹åºå‘˜å¿«é€Ÿå®Œæˆç¨‹åºçš„ç¼–å†™å·¥ä½œ</p>\n</blockquote>\n<p><a href=\"https://sspai.com/post/46912\">AppleScriptå…¥é—¨ï¼šæ¢ç´¢macOSè‡ªåŠ¨åŒ–</a></p>\n<p>æ–‡ç« é€‰è‡ªå°‘æ•°æ´¾ï¼Œè®²è¿°äº†ï¼š</p>\n<ul>\n<li>ä»€ä¹ˆæ˜¯ AppleScriptï¼Ÿ</li>\n<li>æˆ‘ä½¿ç”¨ AppleScript çš„æƒ…å¢ƒ</li>\n<li>AppleScript åŸºç¡€è¯­æ³•</li>\n<li>AppleScript suite ä¹‹å¤–çš„è§£æ³•ï¼šæ¨¡æ‹Ÿé”®é¼ </li>\n</ul>\n<p>éå¸¸æ¸…æ™°è¯¦ç»†çš„AppleScriptå…¥é—¨æ–‡ç« ã€‚<br><a href=\"https://juejin.im/post/5bfac61ee51d454af013a900\">å¦‚ä½•æé«˜å·¥ä½œæ•ˆç‡ - è‡ªåŠ¨åŒ–ç¯‡</a><br>æ–‡ç« é€‰è‡ªæ˜é‡‘ï¼Œä¸²è”Shell Script, Apple Script, Automator, Alfred &amp; WorkFlowsï¼Œå‘Šè¯‰ä½ å¦‚æœçµæ´»åº”ç”¨ï¼Œè¾¾åˆ°åˆ©ç”¨è„šæœ¬æé«˜å·¥ä½œæ•ˆç‡çš„ç›®çš„ã€‚</p>\n<p>æˆ‘å†™äº†ä¸€ä¸ªåˆ©ç”¨AppleScriptå’ŒAlfredçš„WorkFlowsåœ¨å‘½ä»¤è¡Œæ‰“å¼€æŒ‡å®šè·¯å¾„çš„å·¥å…·ã€‚</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-4ada69de8b235846.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"workflow.png\"></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">on</span> <span class=\"built_in\">run</span> argv</span><br><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"Finder\"</span></span><br><span class=\"line\"><span class=\"comment\">-- get selection path</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> selection <span class=\"keyword\">as</span> <span class=\"built_in\">text</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">get</span> <span class=\"keyword\">POSIX path</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\"><span class=\"comment\">-- fix space problem in the directory</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> pathFile <span class=\"keyword\">to</span> <span class=\"keyword\">quoted form</span> <span class=\"keyword\">of</span> pathFile</span><br><span class=\"line\"><span class=\"keyword\">tell</span> <span class=\"built_in\">application</span> <span class=\"string\">\"Terminal\"</span></span><br><span class=\"line\"><span class=\"built_in\">activate</span></span><br><span class=\"line\"><span class=\"keyword\">tell</span> window <span class=\"number\">1</span></span><br><span class=\"line\">do <span class=\"keyword\">script</span> <span class=\"string\">\"cd \"</span> &amp; pathFile</span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"keyword\">tell</span></span><br><span class=\"line\"><span class=\"keyword\">end</span> <span class=\"built_in\">run</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨æ–¹æ³•æ˜¯ï¼šç‚¹å‡»é€‰ä¸­æ–‡ä»¶å¤¹ï¼ŒæŒ‰ä¸‹çƒ­é”®<code>CMD + T</code>ã€‚</p>\n<h2 id=\"éŸ³è§†é¢‘\"><a href=\"#éŸ³è§†é¢‘\" class=\"headerlink\" title=\"éŸ³è§†é¢‘\"></a>éŸ³è§†é¢‘</h2><p><strong><a href=\"https://talk.swift.gg/9\">åˆ›ä¸šé‚£ç‚¹äº‹ï¼šå¬è²å”å’Œç¾Šå”å›å¿†å³¥åµ˜å²æœˆ</a></strong><br>è²å”å’Œç¾Šå”æ˜¯ SwiftGG ç¿»è¯‘ç»„çš„çœŸÂ·å¤§ä½¬ã€‚æˆç»©å¥½ï¼Œå­¦å†é«˜ï¼Œæ€ç»´ç¼œå¯†ï¼Œèƒ½åŠ›å¾ˆå¼ºã€‚å¬è¿‡ã€Šå‡èŒåŠ è–ªã€‹é‚£æœŸèŠ‚ç›®çš„æœ‹å‹åº”è¯¥éƒ½æœ‰å°è±¡ã€‚ä½œä¸ºæ ‡å‡†çš„æŠ€æœ¯äººæ‰ï¼Œåœ¨åˆ›ä¸šå¤§æ½®ä¸­è‡ªç„¶ä¹Ÿæƒ³è¯•è¯•èº«æ‰‹ï¼Œæ‰“æ‹¼ä¸€ç•ªã€‚</p>\n<p><strong><a href=\"https://talk.swift.gg/8\">å’Œ Cee èŠèŠå¦‚ä½•æ‹¿ Google Offer</a></strong><br>ç¿»è¯‘ç»„é‡ŒçœŸæ˜¯äººæ‰è¾ˆå‡ºå•Šï¼Œå‰å‡ å¤© Cee åœ¨ç¾¤é‡Œè¯´äº†ä¸ªå¥½æ¶ˆæ¯ï¼Œä»–æ‹¿åˆ°äº†ç¾å›½ Google çš„ Offerã€‚ç¾¤å‹ä»¬çº·çº·è¡¨ç¤ºç¥è´ºå¹¶è¿›è¡Œäº†éš†é‡çš„è®¤å“¥ä»ªå¼ï¼Œå°† SwiftGG è¯ç”Ÿä»¥æ¥ç¬¬ä¸€ä¸ª GGï¼ˆå“¥å“¥ï¼‰ ç§°å·é¢å‘ç»™æˆ‘ä»¬å…¬è®¤çš„å¤§å“¥ Ceeã€‚</p>\n<p>ä»¥ä¸Šä¸¤ä¸ªéŸ³é¢‘æ¥è‡ªäº(ggtalk)[<a href=\"https://talk.swift.gg/]ï¼Œä¹Ÿæ˜¯æˆ‘æœ€è¿‘ä¸Šä¸‹ç­è·¯ä¸Šç”¨æ¥æ¶ˆé£çš„éŸ³é¢‘èŠ‚ç›®ï¼Œå¢™è£‚æ¨èï¼\">https://talk.swift.gg/]ï¼Œä¹Ÿæ˜¯æˆ‘æœ€è¿‘ä¸Šä¸‹ç­è·¯ä¸Šç”¨æ¥æ¶ˆé£çš„éŸ³é¢‘èŠ‚ç›®ï¼Œå¢™è£‚æ¨èï¼</a></p>\n<p><strong><a href=\"https://www.bilibili.com/video/av21376839\">è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾</a></strong><br>ç”±<a href=\"https://twitter.com/missphilbin\">Carrie Anne Philbin</a>ä¸»è®²ï¼ŒCarrie Anne Philbinæ˜¯ä¸€åè®¡ç®—æœºç§‘å­¦æ•™å¸ˆå’Œä½œå®¶ã€‚å¥¹æ˜¯æ ‘è“æ´¾åŸºé‡‘ä¼šçš„æ•™è‚²ä¸»ç®¡ï¼Œä¹Ÿæ˜¯å­¦æ ¡(CAS)å¤šæ ·æ€§å’ŒåŒ…å®¹ç»„çš„ä¸»å¸­ã€‚å¥¹ä¸ºé’å°‘å¹´å†™äº†ç”µè„‘ä¹¦ã€Šæ ‘è“æ´¾å†é™©è®°ã€‹ã€‚ç‰¹æ„ä»‹ç»æ˜¯å› ä¸ºæˆ‘æ„Ÿè§‰è¿™ä¸ªè¯¾ç¨‹å› ä¸ºè¿™ä¸ªä¸»è®²äººçš„ä¸ªäººé­…åŠ›è€Œè¶£å‘³åè¶³ğŸ˜„ã€‚ä¸ç®¡ä½ æ˜¯ä¸æ˜¯è®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿï¼Œçœ‹è¿‡ä¹‹ååº”è¯¥éƒ½èƒ½æœ‰æ‰€æ”¶è·ã€‚</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"12306ForMac\"><a href=\"#12306ForMac\" class=\"headerlink\" title=\"12306ForMac\"></a><a href=\"https://github.com/fancymax/12306ForMac\">12306ForMac</a></h3><p>ä»¥å‰è¦ä¹ˆå¼€Windowsè™šæ‹Ÿæœºï¼Œè¦ä¹ˆä½¿ç”¨å®˜æ–¹Webï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨12306ForMacè®¢ç¥¨åŠ©æ‰‹å•¦ã€‚å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼</p>\n<h3 id=\"LongestCocoa\"><a href=\"#LongestCocoa\" class=\"headerlink\" title=\"LongestCocoa\"></a><a href=\"https://github.com/Quotation/LongestCocoa\">LongestCocoa</a></h3><p>SoWhatIsTheLongestMethodOrConstantNamesInCocoaFramework? ï¼ˆé‚£ä¹ˆï¼ŒCocoaæ¡†æ¶ä¸­æœ€é•¿çš„æ–¹æ³•åæˆ–å¸¸é‡åæ˜¯ä»€ä¹ˆï¼Ÿï¼‰ç­”æ¡ˆæ˜¯ï¼š</p>\n<ul>\n<li><p>outputImageProviderFromBufferWithPixelFormat:pixelsWide:pixelsHigh:baseAddress:bytesPerRow:releaseCallback:releaseContext:colorSpace:shouldColorMatch:</p>\n</li>\n<li><p>kCMSampleBufferConduitNotificationParameter_UpcomingOutputPTSRangeMayOverlapQueuedOutputPTSRange</p>\n</li>\n</ul>\n<p>è¿™ä¸ªé¡¹ç›®æœ‰ä¸€å®šçš„è°ƒä¾ƒæ„å‘³ï¼Œso what? æˆ‘é€‰æ‹©swiftğŸ¤£</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"2018å¹´æ€»ç»“","url":"http://zhangferry.github.io/2019/01/01/2018-year-summary/","content":"<blockquote>\n<p>å†™çš„æœ‰ç‚¹æ™šäº†ï¼Œå› ä¸ºä¸€äº›äº‹æƒ…è€½æï¼Œæœ¬æ¥æƒ³å¹²è„†ä¸å†™äº†ã€‚ä½†æœ‰è‚¡åŠ›é‡ä¸æ–­å‚¬ä¿ƒç€è‡ªå·±è¦å†™ä¸‹æ¥ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ä»Šå¹´å¯¹æˆ‘æ˜¯æ„ä¹‰é‡å¤§çš„ä¸€å¹´ï¼Œä»å‡ ä¸ªæ–¹é¢è¯´å§ï¼Œå·¥ä½œï¼Œç”Ÿæ´»å’Œ2019å¹´çš„ç›®æ ‡ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"å·¥ä½œ\"><a href=\"#å·¥ä½œ\" class=\"headerlink\" title=\"å·¥ä½œ\"></a>å·¥ä½œ</h2><p><img src=\"https://user-gold-cdn.xitu.io/2019/1/6/16823bc1cd33e59c?w=1240&h=827&f=jpeg&s=59357\" alt=\"work.jpg\"></p>\n<p>3æœˆåº•è¿›äº†æ–°å…¬å¸ï¼Œæ¢å·¥ä½œä¸»è¦åŸå› æ˜¯åœ¨ä¹‹å‰çš„å…¬å¸é‡åˆ°äº†ä¸Šå‡ç“¶é¢ˆï¼Œå¯¹å½“æ—¶çš„æˆ‘æ¥è¯´ä¸€ç›´å¾…ä¸‹å»ä¹Ÿæ— æ³•çœ‹åˆ°æ¸…æ™°çš„æœªæ¥ã€‚ä»æ–°å…¬å¸å¼€å§‹ï¼Œä»Šå¹´å˜åŒ–äº†å¾ˆå¤šï¼Œä¹Ÿæˆé•¿äº†ä¸å°‘ã€‚</p>\n<!--more-->\n<h3 id=\"å¼€å‘è¯­è¨€\"><a href=\"#å¼€å‘è¯­è¨€\" class=\"headerlink\" title=\"å¼€å‘è¯­è¨€\"></a>å¼€å‘è¯­è¨€</h3><p>é¦–å…ˆæŠ€æœ¯è¯­è¨€ä»OCè½¬åˆ°äº†Swiftï¼Œä¹Ÿæ˜¯é¦–æ¬¡ç”¨Swiftè¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§éšœç¢ã€‚å› ä¸ºæ˜¯ç»æ‰‹æ–°é¡¹ç›®ï¼Œæ‰€æœ‰ä¹Ÿæ²¡æœ‰å¤ªå¤šå†å²åŒ…è¢±ï¼ˆå…¼å®¹OCï¼‰ï¼Œä½¿ç”¨Swift+RxSwift+<a href=\"https://github.com/sergdort/CleanArchitectureRxSwift\">Clean architecture</a>çš„è¿›è¡Œå¼€å‘ã€‚æˆ‘å¯¹Swiftçš„æ„Ÿè§‰è¿˜æ˜¯å¾ˆå¥½çš„ï¼Œå€¼å¾—å¤§å®¶èŠ±æ—¶é—´å»å­¦å»é€‚åº”ï¼Œæ¯•ç«ŸSwfitä»£è¡¨ç€æœªæ¥ï¼Œæ˜¯è‹¹æœæ¨èè¯­è¨€ã€‚<br>éƒ½9102å¹´äº†ï¼ŒABIç¨³å®šç‰ˆSwift5.0é©¬ä¸Šå°±è¦æ¥äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆç†ç”±ä¸ä½¿ç”¨å®ƒäº†ï¼Œä¸æ˜¯å—ã€‚</p>\n<h3 id=\"å¼€å‘å·¥å…·\"><a href=\"#å¼€å‘å·¥å…·\" class=\"headerlink\" title=\"å¼€å‘å·¥å…·\"></a>å¼€å‘å·¥å…·</h3><p>ä¸€ç›´éƒ½æ˜¯ä½¿ç”¨MacBook Pro+Xcodeçš„ç¯å¢ƒè¿›è¡Œå¼€å‘ï¼Œä¹‹åä½¿ç”¨fastlaneè¿›è¡Œæ‰“åŒ…ï¼Œæ¯æ¬¡ç¼–è¯‘æ‰“åŒ…éƒ½å°†è¿‘40åˆ†é’Ÿã€‚ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå¼€å§‹è€ƒè™‘é»‘è‹¹æœæ–¹æ¡ˆã€‚é…ç½®ä¸€å°i7å¤„ç†å™¨+16Gå†…å­˜çš„å°å¼æœºï¼Œ4000å·¦å³ï¼Œå¼€å§‹æé»‘è‹¹æœã€‚</p>\n<p>é™„é€ä¸€ä¸ªæ•™ç¨‹<a href=\"https://www.tonymacx86.com/threads/unibeast-install-macos-sierra-on-any-supported-intel-based-pc.200564/\"><strong>ä¼ é€é—¨</strong></a>ï¼Œä»¥ä¸‹æ˜¯é»‘è‹¹æœé…ç½®ï¼š<br><img src=\"https://user-gold-cdn.xitu.io/2019/1/6/16823bc1cd42588f?w=586&h=335&f=png&s=88723\" alt=\"hackintosh.png\"></p>\n<p>æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š<br>1ã€æ˜¾å¡æ— æ³•é©±åŠ¨ã€‚<br>ä½¿ç”¨å…é©±æ˜¾å¡ã€‚<br>å½“æ—¶è£…çš„æ—¶å€™Mojaveç‰ˆæœ¬è¿˜æ²¡æœ‰æ­£å¼ç‰ˆï¼Œæƒ³å‡çº§æ—¶æ‰å‘ç°macOS10.14åŠä¹‹åçš„ç‰ˆæœ¬å°†ä¸å†è¯†åˆ«NVIDIAçš„æ˜¾å¡ï¼Œé™¤éæ¢æˆAMDæ˜¾å¡ï¼Œé‚æ”¾å¼ƒå‡çº§ã€‚<br>2ã€ç½‘å¡é—®é¢˜<br>å¯ä»¥åœ¨å¤©çŒ«è´­ä¹°ä¸€ä¸ªæ”¯æŒé»‘è‹¹æœçš„ç½‘å¡ï¼Œæ”¶åˆ°è´§ä¹‹åå‘åº—ä¸»è¦ä¸ªç½‘å¡é©±åŠ¨ï¼Œä¹‹åå°±èƒ½æ­£å¸¸wifiä¸Šç½‘å•¦ã€‚<br><img src=\"https://user-gold-cdn.xitu.io/2019/1/6/16823bc1cd56e94c?w=1240&h=791&f=png&s=372767\" alt=\"network card\"></p>\n<p>å…¶ä»–å¦‚è“ç‰™é—®é¢˜å› ä¸ºåŸºæœ¬ä¸ç”¨ï¼Œæ²¡æœ‰æï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»‘è‹¹æœä¸“ç”¨å¤–è®¾è§£å†³ã€‚</p>\n<h3 id=\"åšå®¢\"><a href=\"#åšå®¢\" class=\"headerlink\" title=\"åšå®¢\"></a><a href=\"https://zhangferry.github.io/\">åšå®¢</a></h3><p>2018å¹´å…±å†™äº†12ç¯‡æ’­æ”¾ï¼Œçœ‹äº†ä¸‹æ—¥æœŸï¼Œç¬¬ä¸€ç¯‡æ˜¯ä»7æœˆä»½å¼€å§‹å†™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™12ç¯‡éƒ½æ˜¯ååŠå¹´å†™å‡ºæ¥çš„ã€‚</p>\n<p>å…³äºå†™åšå®¢è¿™ä»¶äº‹ï¼Œä¹‹å‰æ˜¯ä¸€ç›´æœ‰ç§è¿·èŒ«çš„çŠ¶æ€ï¼Œä¸€æŸ¥å°±æ‡‚çš„ä¸æƒ³å†™ï¼Œå¤ªå¤æ‚çš„åˆä¸æ„¿èŠ±æ—¶é—´æ•´ç†ã€‚åæ¥æ…¢æ…¢ä¸çŸ¥æ€ä¹ˆåœ°å°±åˆæ‰¾åˆ°äº†ç‚¹æ„Ÿè§‰ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆè§„å¾‹ï¼Œåªæ˜¯å†™çš„æ—¶å€™ä¸é‚£ä¹ˆè¢«åŠ¨äº†ã€‚<br>ä¹‹å‰åšå®¢éƒ½æ˜¯å‘çš„<a href=\"https://www.jianshu.com/u/5a644cf7cd17\">ç®€ä¹¦</a>ï¼Œåæ¥è§‰å¾—ç®€ä¹¦ç¯å¢ƒä¸å¤ªå¥½äº†ï¼Œä¸å…‰æ˜¯å¯¹ç¨‹åºå‘˜ä¸å‹å¥½äº†ï¼Œç®€ä¹¦æ•´ä½“ä¹Ÿè„±ç¦»äº†é‚£ç§å°æ¸…æ–°çš„æ„Ÿè§‰ï¼Œä¸çŸ¥é“ä»é‚£ä¸ªç‰ˆæœ¬å¼€å§‹ç®€ä¹¦å®¢æˆ·ç«¯UIçªå˜ï¼Œæ•´ä¸ªå¤´æ¡é£ï¼Œå°±ä¸çˆ±äº†ã€‚è½¬åˆ°äº†<a href=\"https://juejin.im/user/5b0b99e8518825157b615922\">æ˜é‡‘</a>ï¼Œä¸è¿‡ä¹‹å‰çš„æ–‡ç« å¹¶æ²¡æœ‰æ¬è¿è¿‡æ¥ã€‚</p>\n<p>å¦‚æœæœ‰ç•™æ„æˆ‘æœ€è¿‘åšå®¢çš„è¯ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘æ­£åœ¨å¼„ä¸€ä¸ªiOSæœˆæŠ¥çš„ä¸œè¥¿ã€‚è¿™ä¸ªæƒ³æ³•çš„äº§ç”Ÿæ˜¯å› ä¸ºï¼Œæ¯éš”ä¸€æ®µæ—¶é—´éƒ½ä¼šç§¯æ”’ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¸€äº›å­¦ä¹ æ„Ÿæ‚Ÿï¼Œå› ä¸ºæ˜¯é›¶ç¢çš„ä¸œè¥¿ï¼Œåˆä¸ä¾¿äºæ•´åˆæˆä¸€ç¯‡åšå®¢ã€‚åæ¥å…³æ³¨åˆ°<a href=\"https://juejin.im/user/5a52075e6fb9a01c9d31b107\">è€å¸æœºå‘¨æŠ¥</a>ã€<a href=\"https://juejin.im/user/5a9a7c4ef265da239d48c115\">çŸ¥è¯†å°é›†</a>ã€<a href=\"http://url.cn/5evuc7e\">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a>è¿™å‡ ä¸ªæ ç›®ï¼Œæ”¶åˆ°å¯å‘ï¼Œäºæ˜¯æ•´åˆå‡ºiOSå¼€å‘æœˆæŠ¥è¿™ç§å½¢å¼ã€‚æ¯•ç«Ÿä¸€ä¸ªæœˆæ•´ç†ä¸€æ¬¡å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä»¶å¯ä»¥åšåˆ°çš„äº‹ã€‚å› ä¸ºæ˜¯ä¸€ä¸ªäººåœ¨åšï¼Œæ¯ä¸ªæœˆæ¥è§¦çš„ä¸œè¥¿ä¹Ÿéƒ½ä¼šä¸ä¸€æ ·ï¼Œå¯èƒ½å½¢å¼ä¼šæœ‰å¤§å¤§å°å°çš„å·®åˆ«ã€‚é…å›¾ä¸å¥½ï¼Œè¯­è¨€ä¸é€šé¡ºä¹Ÿè¯·å¤§å®¶å¤šåŒ…æ¶µï¼Œå¦‚æœæœ‰ä»€ä¹ˆæ„è§æˆ–è€…å¥½çš„å†…å®¹å¯ä»¥ç»™æˆ‘æ¨èã€‚æˆ‘ä¼šæŒç»­åŠªåŠ›çš„ï¼Œäº‰å–åšå¥½è¿™ä¸ªæ ç›®ï¼Œç»™å¤§å®¶å¸¦æ¥æ›´å¤šæœ‰è´¨é‡çš„ä¸œè¥¿ã€‚</p>\n<h2 id=\"ç”Ÿæ´»\"><a href=\"#ç”Ÿæ´»\" class=\"headerlink\" title=\"ç”Ÿæ´»\"></a>ç”Ÿæ´»</h2><p><img src=\"https://user-gold-cdn.xitu.io/2019/1/6/16823bc1cd2fb1e9?w=1240&h=827&f=jpeg&s=123211\" alt=\"life style.jpg\"></p>\n<h3 id=\"é‚£äº›ç»å†\"><a href=\"#é‚£äº›ç»å†\" class=\"headerlink\" title=\"é‚£äº›ç»å†\"></a>é‚£äº›ç»å†</h3><p>ç¿»äº†ä¸‹ç›¸å†Œæ¥ç»™è¿‡å»çš„ä¸€å¹´åšä¸‹æ±‡æ€»ï¼š</p>\n<p>åœ¨17å¹´çš„æœ€åä¸€å¤©è·Ÿä¸€ä¸ªå›¢ä½“ï¼Œå‚åŠ è·¨å¹´å¤œè¡Œæ´»åŠ¨ï¼Œä»å¥¥æ—åŒ¹å…‹å…¬å›­èµ°åˆ°å¤©å®‰é—¨å¹¿åœºï¼Œçœ‹1æœˆ1å·çš„å‡æ——ä»ªå¼ã€‚</p>\n<p>1æœˆä»½åœ¨ä¸­å…³æ‘åˆ›ä¸šå¤§è¡—è·Ÿä¸€ä¸ªé«˜ä¸­æ—¶çš„æœ‹å‹ä¸€èµ·å»å¬äº†å“ˆé»˜çš„å¦‚ä½•æˆä¸ºæ–œæ†é’å¹´çš„è®²åº§ã€‚</p>\n<p>åŒæ ·æ˜¯ä¸€æœˆå¼€å§‹è¿½ã€Šæµ·è´¼ã€‹ï¼Œä»ç¬¬ä¸€è¯å¼€å§‹ï¼Œä¸€ç›´éƒ½æ˜¯çœ‹çš„æ¼«ç”»ï¼Œåˆ°é¡¶ä¸Šæˆ˜äº‰çŸ¥é“è¿™å°†æ˜¯åœºç²¾å½©çš„å¯¹å†³ï¼Œè½¬ä¸ºåŠ¨æ¼«ï¼Œä¹‹åå°±ä¸€ç›´æ˜¯åŠ¨æ¼«äº†ï¼Œç›®å‰çœ‹åˆ°å¤§å¦ˆç¯‡æ‰“å¡äºŒã€‚</p>\n<p>ä¸€æœˆä»½è¿˜å‚åŠ äº†æå®¢å…¬å›­åˆ›æ–°å¤§ä¼šï¼Œè§åˆ°äº†å‚…ç››ã€ç‹å°å·ã€é»ä¸‡å¼ºã€æå½¦å®ã€ç½—æŒ¯å®‡ç­‰ä¸€ä¼—å¤§ä½¬æœ¬äººã€‚</p>\n<p>3æœˆä»½è£¸è¾ï¼Œåœ¨å®¶é—²ç½®äº†åŠä¸ªæœˆã€‚<br>è·Ÿå¥³æœ‹å‹ä»è‹¹æœå›­å¼€å§‹éª‘è¡Œï¼Œå»äº†ä½äºé—¨å¤´æ²Ÿçš„äº¬è¥¿å¤é“ã€‚åˆ°äº†åœ°æ–¹ï¼Œè§†é‡æ‰€è§æ¸¸å®¢ä¸è¶³åäººï¼Œäººå®¶éƒ½å¿«ä¸‹ç­äº†ï¼Œè¯´è¦å…³é—¨ä¸æ¨èæˆ‘ä»¬è¿›å»ï¼Œäºæ˜¯æ­‡äº†ä¼šå°±åŸè·¯è¿”å›äº†ã€‚</p>\n<p>4æœˆä»½è¿›äº†æ–°å…¬å¸ã€‚<br>ç¬¬äºŒæ¬¡å‚åŠ åŒ—äº¬å›½é™…åŠç¨‹é©¬æ‹‰æ¾ï¼Œæå‰ä¸€ä¸ªæœˆå¼€å§‹å‡†å¤‡ï¼ŒæœŸé—´æ¯å¤©æ—©ä¸Šä¸¤å…¬é‡Œï¼Œå‘¨æœ«äº”å…¬é‡Œã€‚æˆç»©æ˜¯2å°æ—¶20åˆ†é’Ÿã€‚</p>\n<p>5æœˆä»½è·Ÿå¥³æœ‹å‹å»äº†é’å²›ï¼Œå½“æ—¶å¤©æ°”è¿˜æ¯”è¾ƒå†·ï¼Œåªè®°å¾—åƒäº†ä¸¤æ¬¡ä¹é¾™é¤å…çš„é¥­ï¼ŒçœŸé¦™ã€‚</p>\n<p>7æœˆä»½è·Ÿå¥³æœ‹å‹å»äº†ç§¦çš‡å²›çš„å­¤ç‹¬å›¾ä¹¦é¦†ï¼Œå¥¹é¢„çº¦äº†ä¸€ä¸ªæœˆæ‰é¢„çº¦ä¸Šã€‚åˆ°äº†ä¹‹åæ„Ÿè§‰ä¸€èˆ¬ï¼Œå›¾ä¹¦é¦†å¾ˆå°ï¼Œä¹¦ä¹Ÿä¸å¤šï¼Œä¸è®©æ‹ç…§ã€‚å›¾ä¹¦é¦†æ—è¾¹æ˜¯é˜¿é‚£äºšæ•™å ‚ï¼Œä¹Ÿæ„Ÿè§‰ä¸€èˆ¬å§ï¼Œä¸æ¨èå»ã€‚<br>è¿˜å»äº†åæ¸¡ï¼Œç©äº†ç»ç’ƒæ ˆé“å’Œæ¼‚æµã€‚è¿™ä¸ªéå¸¸æ¨èã€‚</p>\n<p>8æœˆä»½å¯¹æˆ‘æ¥è¯´æ˜¯ç¾éš¾æ€§çš„ï¼Œæ¯äº²è¢«ä¸€åœºçªå¦‚å…¶æ¥çš„ç–¾ç—…å¤ºå»äº†å¹´è½»çš„ç”Ÿå‘½ã€‚æˆ‘æ— åŠ©ç»æœ›è¿‡ï¼Œä¸€è¹¶ä¸æŒ¯è¿‡ï¼Œä¹Ÿæ‚²è§‚åŒä¸–è¿‡ï¼Œå¥½åœ¨å¥³æœ‹å‹é™ªåœ¨èº«è¾¹ï¼Œç»™äº†æˆ‘è¶³å¤Ÿçš„é™ªä¼´ä¸å®‰æ…°ï¼Œæ‰è®©æˆ‘é‡æ–°æŒ¯ä½œèµ·æ¥ï¼ŒçœŸçš„éå¸¸æ„Ÿè°¢å¥¹ã€‚åæ¥æˆ‘ä¸æ–­çš„å›å¿†ä¸åæ‚”ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰åšæŒæ¯å¹´å¯¹çˆ¶æ¯åšä¸€ä¸ªä½“æ£€ï¼Œæˆ‘æ˜æ˜æ˜¯çŸ¥é“çš„ã€‚<br>æ‰€ä»¥æˆ‘ä¹Ÿå†æ¬¡éƒ‘é‡å»ºè®®å¤§å®¶ï¼Œæ¯å¹´å¸¦çˆ¶æ¯è‡³å°‘ä½“æ£€ä¸€æ¬¡ï¼Œå¤šé™ªé™ªä»–ä»¬ï¼ŒçœŸçš„è¿™æ²¡é‚£ä¹ˆéš¾ã€‚</p>\n<p>ä¹‹åçš„ä¸‹åŠå¹´é™¤äº†è·Ÿæˆ‘çˆ¸ï¼Œæˆ‘å¥³æœ‹å‹åˆ†åˆ«çˆ¬äº†ä¸¤æ¬¡é¦™å±±ï¼ŒåŸºæœ¬å°±æ²¡ä»€ä¹ˆæ´»åŠ¨äº†ã€‚</p>\n<h3 id=\"å…³äºç†è´¢\"><a href=\"#å…³äºç†è´¢\" class=\"headerlink\" title=\"å…³äºç†è´¢\"></a>å…³äºç†è´¢</h3><p>16å¹´æ¥è§¦åŸºé‡‘ï¼Œ17å¹´å¼€å§‹å®šæŠ•ï¼Œä¸€å¼€å§‹å¯¹å®šæŠ•çš„ç†è§£å°±æ˜¯åˆ†æ‘Šé£é™©ï¼Œæ¯”è‚¡ç¥¨ç¨³å®šï¼Œå¤§æ¦‚ç‡ä¼šç›ˆåˆ©ã€‚18å¹´å¹´åˆæ”¶ç›Šç‡è¾¾åˆ°15%æ—¶ï¼Œå½“æ—¶å®šæŠ•å·²ç»è¾¾åˆ°æˆ‘çš„è®¾å®šé¢„æœŸã€‚ä½†æˆ‘å´ä»åšå®šçš„ç›¸ä¿¡ï¼Œç»§ç»­æŒæœ‰ä¼šè·å¾—æ›´å¤§æ”¶ç›Šã€‚ä¹‹åç»å†ä¸­ç¾è´¸æ˜“æˆ˜ï¼Œè‚¡å¸‚é‡æŒ«ï¼Œä¹‹åæŒç»­çš„ç»æµä½è¿·ï¼Œæˆ‘éƒ½ç›¸ä¿¡ä¼šæ¶¨å›æ¥ï¼Œç›´åˆ°å¹´æœ«åŸºé‡‘äºæŸè¾¾30%ã€‚æˆ‘æ‰æ„è¯†åˆ°ï¼Œå½“åˆè‡ªå·±é‚£ç›²ç›®çš„ä¹è§‚æ˜¯å¤šä¹ˆä¸æ­£ç¡®ã€‚</p>\n<p>åæ¥å¬äº†ä¸€äº›å¤§ä½¬å¯¹19å¹´ç»æµå½¢åŠ¿çš„é¢„æµ‹ï¼Œå¤§æ¦‚ç‡ç»æµä¸ä¼šè½¬å¥½ã€‚æ‰€ä»¥åŸºé‡‘å®šæŠ•è¿™ä¸ªäº‹ä¹Ÿä¼šåœæ­¢ä¸‹æ¥ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªæ•™è®­ï¼Œä»¥åå¯¹ç†è´¢ä¼šæ›´åŠ è°¨æ…ã€‚</p>\n<h3 id=\"å…³äºé˜…è¯»\"><a href=\"#å…³äºé˜…è¯»\" class=\"headerlink\" title=\"å…³äºé˜…è¯»\"></a>å…³äºé˜…è¯»</h3><p>ä»Šå¹´é˜…è¯»é‡æ¯”è¾ƒå°ï¼Œå°±è¿™å‡ æœ¬ï¼š<br>ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ã€‹<br>ã€ŠSwifté¢å‘åè®®ç¼–ç¨‹ã€‹<br>ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹<br>ã€Šäººç±»ç¾¤æ˜Ÿé—ªè€€æ—¶ã€‹<br>ã€Šå·¨äººçš„é™¨è½ã€‹<br>ã€Šç²¾è¿›ã€‹<br>ã€Šé’æ„ŸåŠ›ã€‹<br>ã€ŠæŠŠç”Ÿå‘½æµªè´¹åœ¨ç¾å¥½çš„äº‹ç‰©ä¸Šã€‹<br>ã€Šä½ ä¸€å®šçˆ±çš„æ¬§æ´²æç®€å²ã€‹</p>\n<p>æ­£åœ¨çœ‹çš„æœ‰ï¼š<br>ã€Šé‡æ„ã€‹<br>ã€Šæœªæ¥ç®€å²ã€‹<br>ã€ŠiOSé€†å‘ä¸å®‰å…¨ã€‹<br>è®¡åˆ’è¦çœ‹çš„æ˜¯ï¼š<br>ã€Šä»£ç çš„æœªæ¥ã€‹<br>ã€Šå­¦ä¹ ä¹‹é“ã€‹<br>ã€Šè€äººä¸æµ·ã€‹<br>ã€Šå¤©æ‰åœ¨å·¦ç–¯å­åœ¨å³ã€‹<br>ã€Šè§£å¿§æ‚è´§é“ºã€‹<br>ã€Šæ€ªè¯è¡Œä¸ºå­¦ã€‹<br>ã€Šç™¾å¹´å­¤ç‹¬ã€‹<br>ã€ŠèŠä¸åˆ€ã€‹</p>\n<h2 id=\"2019å¹´OKR\"><a href=\"#2019å¹´OKR\" class=\"headerlink\" title=\"2019å¹´OKR\"></a>2019å¹´OKR</h2><p><img src=\"https://user-gold-cdn.xitu.io/2019/1/6/16823bc1cd5274cc?w=1240&h=827&f=jpeg&s=111890\" alt=\"tomorrow.jpg\"></p>\n<p>O1:ç²¾è¿›æŠ€æœ¯æ ˆ<br>KR1:åˆ·50é“LeetCodeé¢˜ï¼Œå†™5ç¯‡å·¦å³åšå®¢æ€»ç»“è§£é¢˜æ€è·¯ã€‚<br>KR2:åš3ä¸ªiOSã€macå®¢æˆ·ç«¯çš„é€†å‘ã€‚<br>KR3:ç¿»è¯‘5ç¯‡Swiftç›¸å…³æŠ€æœ¯æ–‡ç« ã€‚<br>KR4:å­¦ä¹ å‰ç«¯çŸ¥è¯†ï¼Œç»™åšå®¢æ¢ä¸ªé¢è²Œã€‚<br>KR5:å¼€å‘ä¸€æ¬¾å¾®ä¹ æƒ¯çš„APP<br>KR6:åšå®¢è¾“å‡º24ç¯‡</p>\n<p>O2:æ”’æ›´å¤šçš„é’±<br>KR1:å·¥èµ„å¤–æ”¶å…¥è¾¾åˆ°1000<br>KR2:æ€»æ”¶å…¥è¾¾åˆ°ä¹°æˆ¿éœ€è¦çš„é¦–ä»˜ä¸€åŠ</p>\n<p>O3:è¿åŠ¨å¥èº«<br>KR1:åŠç¨‹é©¬æ‹‰æ¾è·‘åˆ°2å°æ—¶ä»¥å†…<br>KR2:å’•å’šç´¯ç§¯é‡Œç¨‹è¾¾åˆ°500å…¬é‡Œ</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"iOSå¼€å‘æœˆæŠ¥#5|201811","url":"http://zhangferry.github.io/2018/12/01/monthly_5/","content":"<h2 id=\"å¤§äº‹ä»¶\"><a href=\"#å¤§äº‹ä»¶\" class=\"headerlink\" title=\"å¤§äº‹ä»¶\"></a>å¤§äº‹ä»¶</h2><p>11æœˆ27å·ï¼Œè‹¹æœAppStoreä¸‹æ¶åŒ…æ‹¬æ‹¼å¤šå¤šã€æœç‹—åœ°å›¾ã€è®¯é£é˜…è¯»å’Œæ‚¦è·‘åœˆåœ¨å†…çš„å…±718ä¸ªAppã€‚æ®ç§°ä¸‹æ¶åŸå› æ˜¯è§¦å‘äº†AppStroeå®¡æ ¸æŒ‡å—çš„2.5.2æ¡ä¾‹ï¼Œå³ä½¿ç”¨äº†çƒ­æ›´æ–°æŠ€æœ¯ã€‚å»å¹´6æœˆä»½ï¼Œè‹¹æœå±‚å› çƒ­æ›´æ–°ä¸‹æ¶æ•°ä¸‡æ¬¾Appã€‚<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-14aacc2395523d81.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"C6D6A56886BF8346FA56A046C2BEE023.jpg\"></p>\n<a id=\"more\"></a>\n\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"å›¾ç‰‡æ¸²æŸ“å¼€é”€\"><a href=\"#å›¾ç‰‡æ¸²æŸ“å¼€é”€\" class=\"headerlink\" title=\"å›¾ç‰‡æ¸²æŸ“å¼€é”€\"></a>å›¾ç‰‡æ¸²æŸ“å¼€é”€</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œè§£å‹åçš„å›¾ç‰‡æ˜¯ç”±æ— æ•°åƒç´ æ•°æ®ç»„æˆã€‚æ¯ä¸ªåƒç´ ç‚¹é€šå¸¸åŒ…æ‹¬çº¢ã€ç»¿ã€è“å’Œ alpha æ•°æ®ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯ 8 ä½ï¼ˆ0â€“255ï¼‰ï¼Œå› æ­¤ä¸€ä¸ªåƒç´ é€šå¸¸ä¼šå ç”¨ 4 ä¸ªå­—èŠ‚ï¼ˆ32 bit per pixelã€‚å°‘æ•°ä¸“ä¸šçš„ app å¯èƒ½ä¼šç”¨æ›´å¤§çš„ç©ºé—´æ¥è¡¨ç¤ºè‰²æ·±ï¼Œæ¶ˆè€—çš„å†…å­˜ä¼šç›¸åº”çº¿æ€§å¢åŠ ï¼‰ã€‚</p>\n<p>ä¸‹é¢æˆ‘ä»¬æ¥è®¡ç®—ä¸€äº›é€šå¸¸çš„å›¾ç‰‡å¼€é”€ï¼š</p>\n<p>æ™®é€šå›¾ç‰‡å¤§å°ï¼Œå¦‚ 500 * 600 * 32bpp = 1MB<br>è·Ÿ iPhone X å±å¹•ä¸€æ ·å¤§çš„ï¼š1125 * 2436 * 32bpp = 10MB<br>å³åˆ»ä¸­å…è®¸æœ€å¤§çš„å›¾ç‰‡ï¼Œæ€»åƒç´ ä¸è¶…è¿‡1500wï¼š15000000 * 32bpp = 57MB<br>æœ‰äº†å¤§è‡´çš„æ¦‚å¿µï¼Œä»¥åçœ‹åˆ°ä¸€å¼ å›¾èƒ½ç®€å•é¢„ä¼°ï¼Œå¤§æ¦‚ä¼šåƒæ‰å¤šå°‘å†…å­˜ã€‚</p>\n<h3 id=\"å…³äºiOSå¼€å‘è¯ä¹¦åœ¨é’¥åŒ™ä¸²æ²¡æœ‰ç§˜é’¥çš„é—®é¢˜\"><a href=\"#å…³äºiOSå¼€å‘è¯ä¹¦åœ¨é’¥åŒ™ä¸²æ²¡æœ‰ç§˜é’¥çš„é—®é¢˜\" class=\"headerlink\" title=\"å…³äºiOSå¼€å‘è¯ä¹¦åœ¨é’¥åŒ™ä¸²æ²¡æœ‰ç§˜é’¥çš„é—®é¢˜\"></a>å…³äºiOSå¼€å‘è¯ä¹¦åœ¨é’¥åŒ™ä¸²æ²¡æœ‰ç§˜é’¥çš„é—®é¢˜</h3><p>å½“å‰ç°è±¡<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-20f6c5844ca97977.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"D9E4F2DFEAAA7AB5D4CEC1A380A8221E.jpg\"></p>\n<p>åªéœ€è¦å°†è¯ä¹¦æ‹–åˆ°ç™»å½•ï¼Œå³å¯ç”Ÿæˆç§˜é’¥<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-a0cd997865427e88.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"B91143F5C7B2BEA07FAF8849766D163E.jpg\"></p>\n<h3 id=\"APPå†…åˆ‡æ¢è¯­è¨€\"><a href=\"#APPå†…åˆ‡æ¢è¯­è¨€\" class=\"headerlink\" title=\"APPå†…åˆ‡æ¢è¯­è¨€\"></a>APPå†…åˆ‡æ¢è¯­è¨€</h3><p>APPå†…åˆ‡æ¢è¯­è¨€æœ‰ä¸€ç§æ¯”è¾ƒç®€å•çš„å®ç°æ–¹å¼ï¼Œå®ç°æ­¥éª¤æ˜¯ï¼š<br>1ã€å­˜å‚¨è¯­è¨€çŠ¶æ€<br>2ã€åˆ·æ–°<code>KeyWindow.rootViewController</code><br>3ã€åˆ·æ–°<code>Bundle</code><br>4ã€åˆ‡æ¢è¯­è¨€å¯¹åº”çš„æ›´æ–°æ“ä½œ<br>å®ç°è¿‡ç¨‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1ã€åˆ‡æ¢è¯­è¨€ï¼ŒAppleLanguageså¯¹åº”å†…å®¹æ˜¯æ•°ç»„ï¼Œè¯­è¨€ç¬¦åˆå¯ä»¥é€šè¿‡Bundle.main.localizationsæŸ¥çœ‹</span></span><br><span class=\"line\"><span class=\"comment\">//åˆ‡æ¢è‡³ç¹ä½“ä¸­æ–‡ï¼Œå­˜å‚¨çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">UserDefaults</span>.standard.<span class=\"keyword\">set</span>([<span class=\"string\">\"zh-Hant\"</span>], forKey: <span class=\"string\">\"AppleLanguages\"</span>)</span><br><span class=\"line\"><span class=\"comment\">//2ã€åˆ·æ–°keyWindowï¼ŒcreateRootViewControllerä¸ºåˆ›å»ºrootViewControllerçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"type\">UIApplication</span>.shared.keyWindow?.rootViewController = <span class=\"type\">Application</span>.shared.createRootViewController()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//3ã€æ›´æ¢bundle</span></span><br><span class=\"line\"><span class=\"comment\">//åœ¨åˆ‡æ¢è¯­è¨€çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä¸€ä¸‹ï¼ŒBundleçš„exchangeBundleæ–¹æ³•</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">Bundle</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getLocalizedBundle</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Bundle</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">let</span> languages = <span class=\"type\">UserDefaults</span>.standard.object(forKey: <span class=\"string\">\"AppleLanguages\"</span>) <span class=\"keyword\">as</span>? [<span class=\"type\">String</span>],</span><br><span class=\"line\">                <span class=\"keyword\">let</span> lan = languages.first,</span><br><span class=\"line\">                <span class=\"keyword\">let</span> path = <span class=\"type\">Bundle</span>.main.path(forResource: lan, ofType: <span class=\"string\">\"lproj\"</span>),</span><br><span class=\"line\">                <span class=\"keyword\">let</span> bundle = <span class=\"type\">Bundle</span>.<span class=\"keyword\">init</span>(path: path)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> bundle</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"type\">Bundle</span>.main</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">exchangeBundle</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//æ›¿æ¢Bundle.mainä¸ºè‡ªå®šä¹‰çš„BundleLocal</span></span><br><span class=\"line\">        object_setClass(<span class=\"type\">Bundle</span>.main, <span class=\"type\">BundleLocal</span>.<span class=\"keyword\">self</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BundleLocal</span>: <span class=\"title\">Bundle</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">localizedString</span><span class=\"params\">(forKey key: String, value: String?, table tableName: String?)</span></span> -&gt; <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Bundle</span>.getLocalizedBundle().localizedString(forKey: key, value: value, table: tableName)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//4ã€å…¶ä»–æ›´æ–°æ“ä½œï¼Œå¦‚æ¥å£ï¼ŒUIç•Œé¢</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æµ‹è¯•å†…è´­æ—¶é•¿\"><a href=\"#æµ‹è¯•å†…è´­æ—¶é•¿\" class=\"headerlink\" title=\"æµ‹è¯•å†…è´­æ—¶é•¿\"></a>æµ‹è¯•å†…è´­æ—¶é•¿</h3><p>å½“æˆ‘ä»¬æµ‹è¯•å†…è´­æ—¶ï¼Œéœ€è¦è€ƒè™‘å†…è´­åˆ°æœŸçš„æƒ…å†µã€‚æ¯”å¦‚æˆ‘æµ‹è¯•è´­ä¹°äº†ä¸€ä¸ªæœˆçš„æœåŠ¡ï¼Œé‚£ä¹ˆè´­ä¹°åˆ°æœŸçš„æƒ…å†µå‘¢ï¼Œä¸èƒ½å‚»å‚»åœ°ç­‰ä¸€ä¸ªæœˆæ—¶é—´å§ï¼Ÿ<br>å…¶å®è‹¹æœç»™å‡ºäº†ä¸åŒå†…è´­æ—¶é•¿åœ¨Debugæƒ…å†µä¸‹å¯¹åº”çš„æµ‹è¯•æ—¶é—´ã€‚<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-259f75d94a813ac2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"04DF44800E5F07286951E4BE11342A89.jpg\"></p>\n<h3 id=\"AVPlayerè¿›å…¥å‰å°è‡ªåŠ¨æ’­æ”¾\"><a href=\"#AVPlayerè¿›å…¥å‰å°è‡ªåŠ¨æ’­æ”¾\" class=\"headerlink\" title=\"AVPlayerè¿›å…¥å‰å°è‡ªåŠ¨æ’­æ”¾\"></a>AVPlayerè¿›å…¥å‰å°è‡ªåŠ¨æ’­æ”¾</h3><p>åœ¨æˆ‘ä»¬ä¸è¿›è¡Œä»»ä½•å‰åå°è®¾ç½®çš„æƒ…å†µä¸‹ï¼ŒAVPlayerè¿›å…¥åå°ï¼Œä¼šè‡ªåŠ¨æš‚åœæ’­æ”¾ã€‚å†æ¬¡å›åˆ°å‰å°æ—¶ï¼Œæ’­æ”¾å™¨ä¼šæœ‰ä¸€å®šæ¦‚ç‡è‡ªåŠ¨æ¢å¤æ’­æ”¾ï¼ˆå¤šå¤§æ¦‚ç‡æœªçŸ¥ï¼Œæµ‹è¯•å¾—å‡ºçš„ç»“è®ºï¼‰ã€‚</p>\n<p>å¦‚æœè¿™ä¸ªæ¢å¤æ’­æ”¾ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦é¿å…è¿™ç§ä¸ç¡®å®šçš„æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç®¡ç†è¿™ä¸ªè¿‡ç¨‹ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.addObserver(forName: <span class=\"type\">UIApplication</span>.didEnterBackgroundNotification, object: <span class=\"keyword\">self</span>, queue: <span class=\"literal\">nil</span>) &#123; (notification) <span class=\"keyword\">in</span></span><br><span class=\"line\">      <span class=\"keyword\">self</span>.player.pause()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"type\">NotificationCenter</span>.<span class=\"keyword\">default</span>.addObserver(forName: <span class=\"type\">UIApplication</span>.didEnterBackgroundNotification, object: <span class=\"keyword\">self</span>, queue: <span class=\"literal\">nil</span>) &#123; (notification) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"comment\">//æ ¹æ®éœ€è¦æ˜¯å¦éœ€è¦æ¢å¤æ’­æ”¾</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> shouleRecoverPlayer &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.player.play()</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.player.pause()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"iOS12-1å…³äºtabbarçš„ä¸€ä¸ªbug\"><a href=\"#iOS12-1å…³äºtabbarçš„ä¸€ä¸ªbug\" class=\"headerlink\" title=\"iOS12.1å…³äºtabbarçš„ä¸€ä¸ªbug\"></a>iOS12.1å…³äºtabbarçš„ä¸€ä¸ªbug</h3><p><strong>è§¦å‘æ¡ä»¶ï¼š</strong></p>\n<ul>\n<li>ä½¿ç”¨ <code>UITabBarController</code> + <code>UINavigationController</code> ç»„åˆ</li>\n<li><code>UITabBar</code>å¸¦åŠé€æ˜æ•ˆæœï¼Œ<code>isTranslucent</code> å±æ€§ä¸º true</li>\n<li><code>UIViewController</code>çš„ <code>hidesBottomBarWhenPushed</code> å±æ€§ä¸º true</li>\n<li>é€šè¿‡å¯¼èˆªæ è¿”å›ä¸Šä¸€é¡µæ—¶(å¯¼èˆªæ è¿”å›æŒ‰é’® or å±å¹•å·¦ä¾§çš„æ»‘åŠ¨è¿”å›æ‰‹åŠ¿)</li>\n</ul>\n<p><strong>é—®é¢˜ç°è±¡ï¼š</strong><br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-01da29cdb1811251.gif?imageMogr2/auto-orient/strip\" alt=\"20181112163203240.gif\"></p>\n<p>ç»ç¡®è®¤æ˜¯iOS12.1ä¸Šçš„ä¸€ä¸ªbugã€‚<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK: - fix ios12.1 tabbar bug</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> tabbar = <span class=\"type\">UITabBar</span>.appearance()</span><br><span class=\"line\">tabbar.isTranslucent = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<p>è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒï¼š<br><a href=\"https://blog.csdn.net/ZHFDBK/article/details/83994088\">ä¿®å¤ iOS12.1 UITabBar å¸ƒå±€ä½ç§»bug - ZHFDBKçš„åšå®¢ - CSDNåšå®¢</a><br><a href=\"https://stackoverflow.com/questions/53084806/uitabbar-items-jumping-on-back-navigation-on-ios-12-1\">swift - UITabBar items jumping on back navigation on iOS 12.1 - Stack Overflow</a></p>\n<h2 id=\"æ¨èå†…å®¹\"><a href=\"#æ¨èå†…å®¹\" class=\"headerlink\" title=\"æ¨èå†…å®¹\"></a>æ¨èå†…å®¹</h2><h3 id=\"é‡æ„Swiftä¸­çš„Identifiers\"><a href=\"#é‡æ„Swiftä¸­çš„Identifiers\" class=\"headerlink\" title=\"é‡æ„Swiftä¸­çš„Identifiers\"></a><a href=\"https://medium.com/@vatsalrustagi/ios-refactoring-in-swift-identifiers-b14d9fff20c3\">é‡æ„Swiftä¸­çš„Identifiers</a></h3><p>é¢å¯¹è¶Šæ¥è¶Šå¤šçš„identifierï¼Œæ”¹å¦‚ä½•ä¼˜é›…åœ°å¤„ç†ï¼Ÿ<br>æ–‡ä¸­è®²äº†ä¸€äº›<code>UITableViewCell</code>ã€<code>UICollectionViewCell</code>ã€<code>segues</code>ã€<code>UIStoryboards</code>ã€<code>UIViewController</code>ä¸­å…³äºidentifiersçš„é‡æ„æ–¹æ³•ã€‚</p>\n<h3 id=\"The-End-Is-Near-for-Mobile-Apps\"><a href=\"#The-End-Is-Near-for-Mobile-Apps\" class=\"headerlink\" title=\"The End Is Near for Mobile Apps\"></a><a href=\"https://medium.com/s/story/mobile-apps-will-disappear-soon-4b4e54f46eb8\">The End Is Near for Mobile Apps</a></h3><p>ç§»åŠ¨åº”ç”¨çš„æœ«æ—¥å°†è¦æ¥ä¸´ï¼Ÿ<br>Mediumç§‘æŠ€æ¿å—æœ€è¿‘æ¯”è¾ƒç«çš„ä¸€ç¯‡æ–‡ç« ï¼Œåˆ†ä¸Šä¸‹ä¸¤ç¯‡ï¼Œè®²è¿°ç§»åŠ¨åº”ç”¨çš„å‰æ™¯å’Œè¶‹åŠ¿ã€‚</p>\n<h3 id=\"Realmå­¦é™¢\"><a href=\"#Realmå­¦é™¢\" class=\"headerlink\" title=\"Realmå­¦é™¢\"></a><a href=\"https://academy.realm.io/cn/\">Realmå­¦é™¢</a></h3><p>è¿™æ˜¯Realmå»ºç«‹çš„ä¸€ä¸ªç”¨äºå­¦ä¹ ç¼–ç¨‹æŠ€æœ¯çš„ç½‘ç«™ï¼Œä¸»è¦æ–¹å¼æ˜¯è§†é¢‘ï¼Œå†…å®¹é…æœ‰å­—å¹•ï¼Œå¹¶ä¸”éƒ½å…¨éƒ¨æ•´ç†æˆæ–‡ç« ã€‚æ¶µç›–èŒƒå›´æœ‰<code>Realm</code>, <code>Android</code>, <code>iOS</code>, <code>JavaScript</code>, <code>Architecture</code>ç­‰ã€‚</p>\n<p>æ–‡ç« è´¨é‡éå¸¸é«˜ï¼</p>\n<h2 id=\"å¼€å‘åˆ©å™¨\"><a href=\"#å¼€å‘åˆ©å™¨\" class=\"headerlink\" title=\"å¼€å‘åˆ©å™¨\"></a>å¼€å‘åˆ©å™¨</h2><h3 id=\"KTVHTTPCache\"><a href=\"#KTVHTTPCache\" class=\"headerlink\" title=\"KTVHTTPCache\"></a><a href=\"https://github.com/ChangbaDevs/KTVHTTPCache\">KTVHTTPCache</a></h3><p>åº”è¯¥æ˜¯iOSç«¯ç›®å‰æœ€å¥½çš„æµåª’ä½“ç¼“å­˜æ¡†æ¶äº†ã€‚</p>\n<h3 id=\"Realm\"><a href=\"#Realm\" class=\"headerlink\" title=\"Realm\"></a><a href=\"https://realm.io/\">Realm</a></h3><p>Realmæ˜¯ä¸€ä¸ªå¼€æºçš„å¯¹è±¡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæœ€åˆç”¨äºç§»åŠ¨(Android/iOS)ï¼Œä¹Ÿå¯ç”¨äº<code>Xamarin</code>æˆ–<code>React Native</code>ç­‰å¹³å°ï¼Œç­‰å¹³å°ï¼ŒåŒ…æ‹¬æ¡Œé¢åº”ç”¨(Windows)ï¼Œå¹¶è·å¾—<code>Apache</code>è®¸å¯ã€‚</p>\n<p>å¯¹æ¯”FMDBï¼Œä»–çš„ä½¿ç”¨æˆæœ¬ï¼Œç»´æŠ¤æˆæœ¬éƒ½æ›´ä½ã€‚</p>\n<h3 id=\"uTools\"><a href=\"#uTools\" class=\"headerlink\" title=\"uTools\"></a><a href=\"https://u.tools/\">uTools</a></h3><p>uToolsæ˜¯ä¸€ä¸ªæç®€ã€æ’ä»¶åŒ–ã€è·¨å¹³å°çš„ç°ä»£åŒ–æ¡Œé¢è½¯ä»¶ã€‚é€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ ä½ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚<br>é€šè¿‡å¿«æ·é”®ï¼ˆé»˜è®¤alt+spaceï¼‰å°±å¯ä»¥å¿«é€Ÿå‘¼å‡ºè¿™ä¸ªæœç´¢æ¡†ã€‚å®ƒç›¸å½“èªæ˜ï¼Œå¯ä»¥æ”¯æŒè¾“å…¥ã€æ‹–æ‹½ã€è‡ªåŠ¨ç²˜è´´ç­‰ä½œä¸ºè¾“å…¥æºï¼Œç›¸åº”çš„æ’ä»¶ä¹Ÿæ—©å·²å‡†å¤‡å°±ç»ªï¼Œç»Ÿä¸€çš„è®¾è®¡é£æ ¼å’Œæ“ä½œæ–¹å¼ï¼ŒåŠ©ä½ é«˜æ•ˆçš„å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚<br>å½“ä½ ç†Ÿæ‚‰å®ƒåï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨çš„æ”¹å˜ä¸–ç•Œã€‚</p>\n<p>å¯¹æ¯”Alfredï¼Œä»–çš„ä¸åŒå°±åœ¨äºå…è´¹ï¼Œä½¿ç”¨ç®€å•ï¼Œæ›´ç¬¦åˆå›½äººçš„ä¹ æƒ¯ã€‚</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"AVPlayeræ”¯æŒçš„è§†é¢‘æ ¼å¼","url":"http://zhangferry.github.io/2018/11/26/avplayer-supported-format/","content":"<p>å‘ç°å¾ˆå¤šäººå¯¹è§†é¢‘æ ¼å¼å­˜åœ¨ä¸€äº›è¯¯è§£ï¼Œä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« è®²AVPlayerçš„æ”¯æŒæ ¼å¼ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œå•ç‹¬å‡ºä¸€ç¯‡æ–‡ç« è®²ä¸€ä¸‹ï¼Œå¸Œæœ›å¤§å®¶èƒ½æ˜ç™½ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"åŸºæœ¬æ¦‚å¿µ\"><a href=\"#åŸºæœ¬æ¦‚å¿µ\" class=\"headerlink\" title=\"åŸºæœ¬æ¦‚å¿µ\"></a>åŸºæœ¬æ¦‚å¿µ</h2><p>ä¸€ä¸ªåœ¨çº¿è§†é¢‘èƒ½å¤Ÿæ’­æ”¾ï¼Œå¤§è‡´æ˜¯ç»è¿‡äº†å¦‚ä¸‹æ­¥éª¤ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-d573ac8a2e21fb3b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"video_play_progress.png\"></p>\n<p>å¯ä»¥æ€»ç»“ä¸ºï¼šæ‹‰æ•°æ®-&gt;è§£åè®®-&gt;è§£å°è£…-&gt;éŸ³è§†é¢‘è§£ç -&gt;éŸ³è§†é¢‘åŒæ­¥-&gt;æ’­æ”¾ã€‚<br>ä¸‹é¢å°±é’ˆå¯¹è¿™å‡ ä¸ªæ¦‚å¿µä¸€ä¸€åšä¸‹è§£é‡Šï¼š</p>\n<h3 id=\"æ’­æ”¾åè®®\"><a href=\"#æ’­æ”¾åè®®\" class=\"headerlink\" title=\"æ’­æ”¾åè®®\"></a>æ’­æ”¾åè®®</h3><p>ä¸€èˆ¬ç‚¹æ’­é‡‡ç”¨HTTPï¼Œè€Œç›´æ’­çš„è¯ï¼Œå¤§éƒ¨åˆ†è¿˜æ˜¯é‡‡ç”¨RTMPæˆ–è€…ç§æœ‰åè®®ï¼ŒåŸå› æ˜¯å»¶æ—¶ä¼šæ¯”è¾ƒå°ï¼ŒRTMPæœ¬èº«ä¹Ÿæ˜¯ä¸ºäº†ç›´æ’­è®¾è®¡çš„ã€‚å¸¸è§çš„æµåª’ä½“åè®®ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ç®€å†™</th>\n<th align=\"center\">å…¨ç§°</th>\n<th align=\"center\">æ¨å‡ºæœºæ„</th>\n<th>ç›®å‰ä½¿ç”¨é¢†åŸŸ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>HLS</td>\n<td align=\"center\">HTTP Live Streaming</td>\n<td align=\"center\">è‹¹æœ</td>\n<td>å¤šåº”ç”¨äºè‹¹æœ</td>\n</tr>\n<tr>\n<td>RTP</td>\n<td align=\"center\">å®æ—¶ä¼ è¾“åè®®</td>\n<td align=\"center\">IETF</td>\n<td>èŒƒå›´è¾ƒå¹¿</td>\n</tr>\n<tr>\n<td>RTCP</td>\n<td align=\"center\">å®æ—¶ä¼ è¾“æ§åˆ¶åè®®</td>\n<td align=\"center\">IETF</td>\n<td>èŒƒå›´è¾ƒå¹¿</td>\n</tr>\n<tr>\n<td>RTSP</td>\n<td align=\"center\">å®æ—¶ä¸²æµåè®®</td>\n<td align=\"center\">RealNetworksç­‰</td>\n<td>èŒƒå›´è¾ƒå¹¿</td>\n</tr>\n<tr>\n<td>RTMP</td>\n<td align=\"center\">å®æ—¶æ¶ˆæ¯åè®®</td>\n<td align=\"center\">Adobe</td>\n<td>è¾ƒæµè¡Œ</td>\n</tr>\n<tr>\n<td>MMS</td>\n<td align=\"center\">ä¸²æµåª’ä½“åè®®</td>\n<td align=\"center\">Microsoft</td>\n<td>èŒƒå›´è¾ƒå¹¿</td>\n</tr>\n</tbody></table>\n<p><strong>RTP/RTSP/RTCPçš„åŒºåˆ«</strong></p>\n<blockquote>\n<p>RTSPå‘èµ·/ç»ˆç»“æµåª’ä½“ã€RTPä¼ è¾“æµåª’ä½“æ•°æ® ã€RTCPå¯¹RTPè¿›è¡Œæ§åˆ¶ï¼ŒåŒæ­¥ã€‚</p>\n</blockquote>\n<p><strong>HLS(Http Live Streaming)</strong><br>HLSæ˜¯è‹¹æœæ¨å‡ºï¼Œå®ç°çš„åŸºäºHTTPçš„æµåª’ä½“ä¼ è¾“åè®®:<br>ä¼˜ç‚¹ï¼š<br>1ã€é€šè¿‡m3u8ç´¢å¼•æ–‡ä»¶å¯å®ç°é’ˆå¯¹å½“å‰æµè§ˆè®¾å¤‡çš„æ™ºèƒ½é€‰æ‹©æ’­æ”¾æºï¼Œ<br>2ã€é€šè¿‡m3u8ç´¢å¼•æ–‡ä»¶å¯å®ç°æ·»åŠ å¤‡ä»½ç´¢å¼•æ–‡ä»¶ï¼Œé˜²æ­¢æœåŠ¡å™¨å´©æºƒè§†é¢‘æ’­æ”¾å¤±è´¥<br>3ã€å’Œhttpè§†é¢‘ä¸€æ · ä¸éœ€è¦å¤ªå¤šæœåŠ¡å™¨é¢å¤–é…ç½®<br>ç¼ºç‚¹ï¼š<br>1ã€å¹¶éçœŸæ­£å®æ—¶è§†é¢‘ï¼Œ30så·¦å³æ—¶é—´å·®<br>2ã€éœ€è¦è§†é¢‘å¤„ç†<br>3ã€å› ä¸ºéœ€è¦è¯·æ±‚ç´¢å¼•æ–‡ä»¶ï¼ˆtsè§†é¢‘æ–‡ä»¶ï¼‰è¯·æ±‚æ¬¡æ•°ç›¸å¯¹è¾ƒå¤šï¼Œå¯¹æœåŠ¡å™¨è´Ÿè½½è¾ƒå¤§</p>\n<h3 id=\"è§†é¢‘ç¼–ç \"><a href=\"#è§†é¢‘ç¼–ç \" class=\"headerlink\" title=\"è§†é¢‘ç¼–ç \"></a>è§†é¢‘ç¼–ç </h3><p>æ‰€è°“è§†é¢‘ç¼–ç æ–¹å¼å°±æ˜¯æŒ‡é€šè¿‡ç‰¹å®šçš„å‹ç¼©æŠ€æœ¯ï¼Œå°†æŸä¸ªè§†é¢‘æ ¼å¼çš„æ–‡ä»¶è½¬æ¢æˆå¦ä¸€ç§è§†é¢‘æ ¼å¼æ–‡ä»¶çš„æ–¹å¼ã€‚å®ƒæ˜¯ä¸€ç§ä¸ºäº†å‡å°‘è§†é¢‘ä½“ç§¯ï¼ŒåŒæ—¶ä¿è¯ç”»é¢è´¨é‡çš„å‹ç¼©æŠ€æœ¯ï¼Œå¸¸è§çš„è§†é¢‘ç¼–ç æœ‰ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>æ¨å‡ºæœºæ„</th>\n<th>æ¨å‡ºæ—¶é—´</th>\n<th>ç›®å‰ä½¿ç”¨é¢†åŸŸ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>HEVC(H.265)</td>\n<td>MPEG/ITU-T</td>\n<td>2013</td>\n<td>ç ”å‘ä¸­</td>\n</tr>\n<tr>\n<td>H.264</td>\n<td>MPEG/ITU-T</td>\n<td>2003</td>\n<td>å„ä¸ªé¢†åŸŸ</td>\n</tr>\n<tr>\n<td>MPEG4</td>\n<td>MPEG</td>\n<td>2001</td>\n<td>ä¸æ¸©ä¸ç«</td>\n</tr>\n<tr>\n<td>MPEG2</td>\n<td>MPEG</td>\n<td>1994</td>\n<td>æ•°å­—ç”µè§†</td>\n</tr>\n<tr>\n<td>XviD</td>\n<td>OpenDivX</td>\n<td>2002</td>\n<td>æµè¡Œ</td>\n</tr>\n<tr>\n<td>VP9</td>\n<td>Google</td>\n<td>2013</td>\n<td>ç ”å‘ä¸­</td>\n</tr>\n<tr>\n<td>VP8</td>\n<td>Google</td>\n<td>2008</td>\n<td>ä¸æ™®åŠ</td>\n</tr>\n<tr>\n<td>VC-1</td>\n<td>Microsoft Inc.</td>\n<td>2006</td>\n<td>å¾®è½¯</td>\n</tr>\n<tr>\n<td><strong>H.264</strong></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>H.264åˆå«AVCï¼Œæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰å’Œå›½é™…ç”µä¿¡è”ç›Ÿï¼ˆITUï¼‰å…±åŒæå‡ºçš„ç»§MPEG4ä¹‹åçš„æ–°ä¸€ä»£æ•°å­—è§†é¢‘å‹ç¼©æ ¼å¼ï¼Œå®ƒé›†åˆäº†H.263å’ŒMPEG4çš„ä¼˜ç‚¹ï¼Œæ‹¥æœ‰æ›´é«˜çš„æ•°æ®å‹ç¼©æ¯”ã€‚åœ¨åŒç­‰çš„å›¾åƒè´¨é‡æ¡ä»¶ä¸‹ï¼ŒH.264çš„æ•°æ®å‹ç¼©æ¯”èƒ½æ¯”H.263é«˜2å€ï¼Œæ¯”MPEG-4é«˜1.5å€ã€‚<br>ä¹Ÿæ˜¯ç›®å‰è‹¹æœæ”¯æŒæœ€å¥½çš„ç¼–ç æ ¼å¼ã€‚</p>\n<h3 id=\"éŸ³é¢‘ç¼–ç \"><a href=\"#éŸ³é¢‘ç¼–ç \" class=\"headerlink\" title=\"éŸ³é¢‘ç¼–ç \"></a>éŸ³é¢‘ç¼–ç </h3><p>å’Œè§†é¢‘ç¼–ç ç±»ä¼¼ï¼ŒéŸ³é¢‘ç¼–ç çš„ä½œç”¨æ˜¯å‡å°‘éŸ³é¢‘ä¸­çš„å†—ä½™ï¼ŒåŒæ—¶åœ¨ä¿è¯ä¸€å®šéŸ³é¢‘è´¨é‡çš„æ¡ä»¶ä¸‹ä½œçš„å‹ç¼©å¤„ç†ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>æ¨å‡ºæœºæ„</th>\n<th align=\"center\">æ¨å‡ºæ—¶é—´</th>\n<th align=\"center\">ç›®å‰ä½¿ç”¨é¢†åŸŸ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>AAC</td>\n<td>MPEG</td>\n<td align=\"center\">1997</td>\n<td align=\"center\">æµåª’ä½“</td>\n</tr>\n<tr>\n<td>AC-3</td>\n<td>Dolby Inc.</td>\n<td align=\"center\">1992</td>\n<td align=\"center\">DVD, æ•°å­—ç”µè§†</td>\n</tr>\n<tr>\n<td>MP3</td>\n<td>MPEG</td>\n<td align=\"center\">1993</td>\n<td align=\"center\">å„ä¸ªé¢†åŸŸï¼ˆæ—§ï¼‰</td>\n</tr>\n<tr>\n<td>WMA</td>\n<td>Microsoft Inc.</td>\n<td align=\"center\">1999</td>\n<td align=\"center\">Windows</td>\n</tr>\n<tr>\n<td><strong>AAC</strong></td>\n<td></td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>AACï¼ˆé«˜çº§éŸ³é¢‘ç¼–ç æŠ€æœ¯ Advanced Audio Coding)ï¼Œå‡ºç°äº1997å¹´ï¼Œæ˜¯åŸºäºMPEG-2çš„éŸ³é¢‘ç¼–ç æŠ€æœ¯ã€‚ç”±Fraunhofer IISã€æœæ¯”ã€è‹¹æœã€AT&amp;Tã€ç´¢å°¼ç­‰å…¬å¸å…±åŒå¼€å‘ï¼Œä»¥å–ä»£mp3æ ¼å¼ã€‚2000å¹´ï¼ŒMPEG-4æ ‡å‡†å‡ºå°ï¼ŒAACä»æ–°æ•´åˆäº†å…¶ç‰¹æ€§ï¼Œæ•…ç°åˆç§°MPEG-4 AACï¼Œå³m4aã€‚</td>\n<td></td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>è‹¹æœçš„CoreAudioå¯¹AACæœ‰è¾ƒå¥½çš„æ”¯æŒã€‚</td>\n<td></td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<h3 id=\"å°è£…æ ¼å¼\"><a href=\"#å°è£…æ ¼å¼\" class=\"headerlink\" title=\"å°è£…æ ¼å¼\"></a>å°è£…æ ¼å¼</h3><p>æˆ‘ä»¬å¸¸è§çš„è§†é¢‘æ ¼å¼MP4, AVI, RMVB, 3GP, MKVéƒ½æ˜¯æŒ‡è§†é¢‘çš„å°è£…æ ¼å¼,å¤§éƒ¨åˆ†æƒ…å†µå°±æ˜¯è§†é¢‘æ–‡ä»¶çš„åç¼€ã€‚å¸¸è§çš„ç»„åˆæ–¹å¼æœ‰ï¼š</p>\n<style>\ntable th:nth-of-type(2) {\n    width: 60%;\n}\n</style>\n\n<table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th align=\"left\">ç®€ä»‹</th>\n<th>å¸¸ç”¨ç¼–ç æ ¼å¼</th>\n<th>æ‰©å±•å</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Flash Video</td>\n<td align=\"left\">ç”±Adobe Flashå»¶ä¼¸å‡ºæ¥çš„çš„ä¸€ç§æµè¡Œç½‘ç»œè§†é¢‘å°è£…æ ¼å¼ã€‚éšç€è§†é¢‘ç½‘ç«™çš„ä¸°å¯Œï¼Œè¿™ä¸ªæ ¼å¼å·²ç»éå¸¸æ™®åŠã€‚</td>\n<td>H.264+MP3</td>\n<td>flv</td>\n</tr>\n<tr>\n<td>AVIï¼ˆAudio Video Interleaveï¼‰</td>\n<td align=\"left\">æ¯”è¾ƒæ—©çš„AVIæ˜¯å¾®è½¯å¼€å‘çš„ã€‚å…¶å«ä¹‰æ˜¯Audio Video Interactiveï¼Œå°±æ˜¯æŠŠè§†é¢‘å’ŒéŸ³é¢‘ç¼–ç æ··åˆåœ¨ä¸€èµ·å­˜å‚¨ã€‚AVIä¹Ÿæ˜¯æœ€é•¿å¯¿çš„æ ¼å¼ï¼Œå·²ç»å­˜åœ¨10ä½™å¹´äº†ï¼Œè™½ç„¶å‘å¸ƒè¿‡æ”¹ç‰ˆï¼ˆV2.0äº1996å¹´å‘å¸ƒï¼‰ï¼Œä½†å·²æ˜¾è€æ€ã€‚AVIæ ¼å¼ä¸Šé™åˆ¶æ¯”è¾ƒå¤šï¼Œåªèƒ½æœ‰ä¸€ä¸ªè§†é¢‘è½¨é“å’Œä¸€ä¸ªéŸ³é¢‘è½¨é“ï¼ˆç°åœ¨æœ‰éæ ‡å‡†æ’ä»¶å¯åŠ å…¥æœ€å¤šä¸¤ä¸ªéŸ³é¢‘è½¨é“ï¼‰ï¼Œè¿˜å¯ä»¥æœ‰ä¸€äº›é™„åŠ è½¨é“ï¼Œå¦‚æ–‡å­—ç­‰ã€‚AVIæ ¼å¼ä¸æä¾›ä»»ä½•æ§åˆ¶åŠŸèƒ½ã€‚</td>\n<td>Xvid+MP3</td>\n<td>avi</td>\n</tr>\n<tr>\n<td>WMVï¼ˆWindows Media Videoï¼‰</td>\n<td align=\"left\">åŒæ ·æ˜¯å¾®è½¯å¼€å‘çš„ä¸€ç»„æ•°å­—è§†é¢‘ç¼–è§£ç æ ¼å¼çš„é€šç§°ï¼ŒASFï¼ˆAdvanced Systems Formatï¼‰æ˜¯å…¶å°è£…æ ¼å¼ã€‚ASFå°è£…çš„WMVæ¡£å…·æœ‰â€œæ•°å­—ç‰ˆæƒä¿æŠ¤â€åŠŸèƒ½ã€‚</td>\n<td>VC-1+WMA</td>\n<td>wmv/asf</td>\n</tr>\n<tr>\n<td>MPEGï¼ˆMoving Picture Experts Groupï¼‰</td>\n<td align=\"left\">æ˜¯ä¸€ä¸ªå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰è®¤å¯çš„åª’ä½“å°è£…å½¢å¼ï¼Œå—åˆ°å¤§éƒ¨åˆ†æœºå™¨çš„æ”¯æŒã€‚å…¶å­˜å‚¨æ–¹å¼å¤šæ ·ï¼Œå¯ä»¥é€‚åº”ä¸åŒçš„åº”ç”¨ç¯å¢ƒã€‚MPEG-4æ¡£çš„æ¡£å®¹å™¨æ ¼å¼åœ¨Part 1ï¼ˆmuxï¼‰ã€14ï¼ˆaspï¼‰ã€15ï¼ˆavcï¼‰ç­‰ä¸­è§„å®šã€‚MPEGçš„æ§åˆ¶åŠŸèƒ½ä¸°å¯Œï¼Œå¯ä»¥æœ‰å¤šä¸ªè§†é¢‘ï¼ˆå³è§’åº¦ï¼‰ã€éŸ³è½¨ã€å­—å¹•ï¼ˆä½å›¾å­—å¹•ï¼‰ç­‰ç­‰ã€‚MPEGçš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬3GPè¿˜å¹¿æ³›çš„ç”¨äºå‡†3Gæ‰‹æœºä¸Šã€‚</td>\n<td>H.264+AAC,H263+AAC</td>\n<td>dat(VCD),vob(DVD), mp4, 3gp</td>\n</tr>\n<tr>\n<td>Matroska</td>\n<td align=\"left\">æ˜¯ä¸€ç§æ–°çš„å¤šåª’ä½“å°è£…æ ¼å¼ï¼Œè¿™ä¸ªå°è£…æ ¼å¼å¯æŠŠå¤šç§ä¸åŒç¼–ç çš„è§†é¢‘åŠ16æ¡æˆ–ä»¥ä¸Šä¸åŒæ ¼å¼çš„éŸ³é¢‘å’Œè¯­è¨€ä¸åŒçš„å­—å¹•å°è£…åˆ°ä¸€ä¸ªMatroska Mediaæ¡£å†…ã€‚å®ƒä¹Ÿæ˜¯å…¶ä¸­ä¸€ç§å¼€æ”¾æºä»£ç çš„å¤šåª’ä½“å°è£…æ ¼å¼ã€‚MatroskaåŒæ—¶è¿˜å¯ä»¥æä¾›éå¸¸å¥½çš„äº¤äº’åŠŸèƒ½ï¼Œè€Œä¸”æ¯”MPEGæ›´æ–¹ä¾¿ã€å¼ºå¤§ã€‚</td>\n<td>å„ç§ç¼–ç æ ¼å¼çš„ç»„åˆ</td>\n<td>mkv</td>\n</tr>\n<tr>\n<td>Real Video Real Mediaï¼ˆRMï¼‰</td>\n<td align=\"left\">æ˜¯ç”±RealNetworkså¼€å‘çš„ä¸€ç§æ¡£å®¹å™¨ã€‚å®ƒé€šå¸¸åªèƒ½å®¹çº³Real Videoå’ŒReal Audioç¼–ç çš„åª’ä½“ã€‚è¯¥æ¡£å¸¦æœ‰ä¸€å®šçš„äº¤äº’åŠŸèƒ½ï¼Œå…è®¸ç¼–å†™è„šæœ¬ä»¥æ§åˆ¶æ’­æ”¾ã€‚RMï¼Œå°¤å…¶æ˜¯å¯å˜æ¯”ç‰¹ç‡çš„RMVBæ ¼å¼ï¼Œæ²¡æœ‰å¤æ‚çš„Profile/Levelï¼Œåˆ¶ä½œèµ·æ¥è¾ƒH.264è§†é¢‘æ ¼å¼ç®€å•ï¼Œéå¸¸å—åˆ°ç½‘ç»œä¸Šä¼ è€…çš„æ¬¢è¿ã€‚æ­¤å¤–å¾ˆå¤šäººä»æœ‰RMVBä½“ç§¯å°é«˜è´¨é‡çš„é”™è¯¯è®¤çŸ¥ï¼Œè¿™ä¸ªä¸å¤ªæ­£ç¡®çš„è§‚å¿µä¹Ÿå¯¼è‡´å¾ˆå¤šäººå€¾å‘ä½¿ç”¨rmvbï¼Œäº‹å®ä¸Šåœ¨ç›¸åŒç ç‡ä¸‹ï¼Œrmvbç¼–ç å’ŒH.264è¿™ä¸ªé«˜åº¦å‹ç¼©çš„è§†é¢‘ç¼–ç ç›¸æ¯”ï¼Œä½“ç§¯ä¼šè¾ƒå¤§ã€‚</td>\n<td>RealVideo+RealAudio</td>\n<td>rm/rmvb</td>\n</tr>\n<tr>\n<td>QuickTime File Format</td>\n<td align=\"left\">æ˜¯ç”±è‹¹æœå…¬å¸å¼€å‘çš„å®¹å™¨ã€‚1998å¹´2æœˆ11æ—¥ï¼Œå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰è®¤å¯QuickTimeæ–‡ä»¶æ ¼å¼ä½œä¸ºMPEG-4æ ‡å‡†çš„åŸºç¡€ã€‚QuickTimeå¯å­˜å‚¨çš„å†…å®¹ç›¸å½“ä¸°å¯Œï¼Œé™¤äº†è§†é¢‘ã€éŸ³é¢‘ä»¥å¤–è¿˜å¯æ”¯æŒå›¾ç‰‡ã€æ–‡å­—ï¼ˆæ–‡æœ¬å­—å¹•ï¼‰ç­‰ã€‚</td>\n<td>H.264+AAC</td>\n<td>mov, qt</td>\n</tr>\n</tbody></table>\n<p><strong>MP4</strong><br>mp4æ ¼å¼æ˜¯H.264ç¼–ç æŒ‡å®šä½¿ç”¨çš„æ ‡å‡†å°è£…æ ¼å¼ï¼Œ3GPæ˜¯MP4æ ¼å¼çš„ä¸€ç§ç®€åŒ–ç‰ˆæœ¬ï¼Œå‡å°‘äº†å‚¨å­˜ç©ºé—´å’Œè¾ƒä½çš„é¢‘å®½éœ€æ±‚ï¼Œè®©æ‰‹æœºä¸Šæœ‰é™çš„å‚¨å­˜ç©ºé—´å¯ä»¥ä½¿ç”¨ã€‚</p>\n<p>å®é™…ä¸Šè¿™äº›å°è£…æ ¼å¼å¯¹åº”çš„éŸ³é¢‘è§†é¢‘ç¼–ç æ ¼å¼ä¹Ÿä¸æ˜¯å›ºå®šçš„ï¼Œå°±æ‹¿MP4æ¥è¯´ï¼Œå¸¸è§çš„MP4æ˜¯ç”±H.264+AACå°è£…ï¼Œä½†æ˜¯ä¹Ÿç”±Xvid+AACç¼–ç çš„å¯èƒ½ã€‚å¦‚æœè§£ç å™¨ä¸æ”¯æŒXvidï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°æ— æ³•æ’­æ”¾ï¼Œæˆ–è€…æ’­æ”¾æ’­æ”¾è¿‡ç¨‹æœ‰å£°éŸ³æ— ç”»é¢çš„æƒ…å†µã€‚</p>\n<h2 id=\"è‹¹æœæ”¯æŒå“ªäº›éŸ³è§†é¢‘ç¼–ç æ ¼å¼\"><a href=\"#è‹¹æœæ”¯æŒå“ªäº›éŸ³è§†é¢‘ç¼–ç æ ¼å¼\" class=\"headerlink\" title=\"è‹¹æœæ”¯æŒå“ªäº›éŸ³è§†é¢‘ç¼–ç æ ¼å¼\"></a>è‹¹æœæ”¯æŒå“ªäº›éŸ³è§†é¢‘ç¼–ç æ ¼å¼</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨æ‰‹æœºä»‹ç»ç•Œé¢ï¼Œæ‰¾åˆ°æ‰‹æœºæ”¯æŒçš„è§†é¢‘æ ¼å¼<a href=\"https://www.apple.com/iphone/compare/\">iPhone - Compare Models - Apple</a></p>\n<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¯¹åº”iPhone7æ”¯æŒçš„è§†é¢‘ç¼–ç æ ¼å¼ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-fa95df4f7ab02bf9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<blockquote>\n<p>Video formats supported: HEVC, H.264, MPEG-4 Part 2, and Motion JPEG</p>\n</blockquote>\n<p><strong>HEVC</strong><br>åˆå«H.265ï¼ŒiOS11+A9èŠ¯ç‰‡æ‰å¼€å§‹å¯¹HEVCçš„æ”¯æŒï¼ŒiPhone6såŠä»¥å‰çš„è®¾å¤‡ä¸æ”¯æŒHEVCè§£ç ã€‚<br>éŸ³é¢‘æ ¼å¼ç”¨çº¢æ¡†æ ‡å‡ºæ¥äº†ï¼Œå†…å®¹è¾ƒå¤šï¼Œå¯è‡ªè¡Œå¯¹æ¯”ã€‚</p>\n<h2 id=\"AVPlayeræ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼\"><a href=\"#AVPlayeræ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼\" class=\"headerlink\" title=\"AVPlayeræ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼\"></a>AVPlayeræ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼</h2><p>è‹¹æœè®¾å¤‡æ”¯æŒéŸ³è§†é¢‘æ ¼å¼å¹¶ä¸æ˜¯å°±ä»£è¡¨<code>AVPlayer</code>ä¹Ÿæ”¯æŒé‚£ä¹ˆå¤šæ ¼å¼ï¼Œç¡®å®š<code>AVPlayer</code>çš„æ”¯æŒæ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹<code>AVKit</code>ä¸­çš„ä¸€ä¸ªAPI:</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å±•ç¤ºå½“å‰æ”¯æŒçš„éŸ³è§†é¢‘æ ¼å¼</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> asset = <span class=\"type\">AVURLAsset</span>.audiovisualTypes()</span><br><span class=\"line\"><span class=\"comment\">//æ‰“å°assetå¯ä»¥å¾—åˆ°ï¼ˆå·²ç»è½¬è¿‡å±•ç¤ºæ ¼å¼ï¼‰</span></span><br><span class=\"line\">asset type (</span><br><span class=\"line\">    <span class=\"string\">\"audio/aacp\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/3gpp2\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mpeg3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mp3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-caf\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mpeg\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/quicktime\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-mpeg3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/mp4\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/wav\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/avi\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/scpls\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mp4\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-mpg\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/x-m4v\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-wav\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-aiff\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"application/vnd.apple.mpegurl\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"video/3gpp\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"text/vtt\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-mpeg\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/wave\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-m4r\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-mp3\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/AMR\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/aiff\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/3gpp2\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/aac\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mpg\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/mpegurl\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-m4b\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"application/mp4\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-m4p\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-scpls\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-mpegurl\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-aac\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/3gpp\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/basic\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"audio/x-m4a\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"application/x-mpegurl\"</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>è¿˜æœ‰ä¸€ä¸ªæ–¹å¼ç”¨æ¥åˆ¤æ–­å½“å‰æ ¼å¼æ˜¯å¦å¯æ’­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//An extended MIME type string such as video/3gpp2; codecs=\"mp4v.20.9, mp4a.E1\" or audio/aac; codecs=\"mp4a.E1\".</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> playable: <span class=\"type\">Bool</span> = <span class=\"type\">AVURLAsset</span>.isPlayableExtendedMIMEType(<span class=\"string\">\"video/3gpp2; codecs=\\\"mp4v.20.9, mp4a.E1\\\"\"</span>)</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œçš„MIMETypeå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<br><a href=\"https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/UTIRef/Articles/System-DeclaredUniformTypeIdentifiers.html\">System-Declared Uniform Type Identifiers</a></p>\n<p><strong>æ€»ç»“</strong><br>ç”±æ­¤æˆ‘ä»¬å¯ä»¥ä¸‹ä¸€ä¸ªæ€»ç»“ï¼ŒAVPlayeræ”¯æŒçš„ï¼š<br>è§†é¢‘ç¼–ç æ ¼å¼ï¼š<code>H.264</code>ã€<code>HEVC</code>(iPhone7åŠä»¥åè®¾å¤‡)ã€<code>MPEG-4</code>ã€‚<br>è§†é¢‘æ ¼å¼ï¼ˆå°è£…æ ¼å¼ï¼‰ï¼š.mp4ã€.movã€.m4vã€.3gpã€.aviç­‰ã€‚<br>å¦‚æœæƒ³æ”¯æŒæ›´å¤šçš„è§†é¢‘æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ¡†æ¶ï¼Œå¸¸ç”¨çš„è§†é¢‘ç¼–ç å’Œè§£ç æ¡†æ¶æœ‰<a href=\"https://www.videolan.org/vlc/\">VLC</a>å’Œ<a href=\"https://github.com/FFmpeg/FFmpeg\">ffmpeg</a>ã€‚</p>\n<h2 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href=\"https://zh.wikipedia.org/wiki/%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F\">è§†é¢‘æ–‡ä»¶æ ¼å¼ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a><br><a href=\"https://zh.wikipedia.org/wiki/%E9%9F%B3%E9%A2%91%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%AF%94%E8%BE%83\">éŸ³é¢‘ç¼–ç æ ¼å¼çš„æ¯”è¾ƒ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p>\n","categories":[],"tags":["iOS","AVPlayer"]},{"title":"iOSå¼€å‘æœˆæŠ¥#4|201810","url":"http://zhangferry.github.io/2018/10/31/monthly_4/","content":"<p>è®°å½•æœ¬æœˆå¼€å‘é‡åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œå°tipsï¼Œå’Œbugæ€»ç»“ã€‚</p>\n<h2 id=\"å¤§äº‹ä»¶\"><a href=\"#å¤§äº‹ä»¶\" class=\"headerlink\" title=\"å¤§äº‹ä»¶\"></a>å¤§äº‹ä»¶</h2><p>æ–°ç‰ˆiPad Proã€MacBook Airã€Mac miniå‘å¸ƒï¼Œå…¨çº¿æ¶¨ä»·ï¼Œä½†æ˜¯çœŸé¦™ã€‚ã€‚ã€‚<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-d64ed4ef11a3ee86.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><h3 id=\"é€‚é…swift4-2\"><a href=\"#é€‚é…swift4-2\" class=\"headerlink\" title=\"é€‚é…swift4.2\"></a>é€‚é…swift4.2</h3><p>1ã€åˆ©ç”¨xcodeå¿«é€Ÿè¿ç§»<br>å‡çº§åˆ°Xcode10ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€é¡¹ç›®ä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼Œ<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-ac05882ccd098391.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>ç‚¹å‡»ä¼šæœ‰ä¸€ä¸ªç‰ˆæœ¬å‡çº§çª—å£ï¼Œå¦‚æœä½ çš„çš„é¡¹ç›®åŒ…å«ä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„è¯ï¼Œç¬¬ä¸‰æ–¹åº“çš„é€‰å‹ä¹Ÿä¼šå‡ºç°åœ¨ä¸Šé¢ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-8041b545d62a3095.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>é»˜è®¤å‹¾é€‰ç¬¬ä¸‰æ–¹åº“ï¼Œä½†æ˜¯æˆ‘ä»¬é€‚é…çš„æ—¶å€™ä¸åº”è¯¥è®©Xcodeå»è‡ªåŠ¨æ£€ç´¢ç¬¬ä¸‰æ–¹åº“ä»£ç ã€‚åªå¯¹æˆ‘ä»¬çš„appè¿›è¡Œä»£ç è¿ç§»å°±å¤Ÿäº†ã€‚<br>é€‚é…å®Œåå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æˆ‘ä»¬å½“å‰çš„swiftç‰ˆæœ¬ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-6e113852a3fb4b35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>å¯¹äºç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚æœéƒ½é€‚é…äº†swift4.2ï¼Œé‚£ä¹ˆæ›´æ–°åˆ°å¯¹åº”ç‰ˆæœ¬å°±è¡Œäº†ã€‚å¦‚æœæœ‰æ²¡é€‚é…çš„ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šç‰ˆæœ¬çš„æ–¹å¼è§£å†³å†²çªï¼Œåœ¨Podfileæ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">post_install <span class=\"keyword\">do</span> <span class=\"params\">|installer|</span></span><br><span class=\"line\">installer.pods_project.targets.each <span class=\"keyword\">do</span> <span class=\"params\">|target|</span></span><br><span class=\"line\">target.build_configurations.each <span class=\"keyword\">do</span> <span class=\"params\">|config|</span></span><br><span class=\"line\">config.build_settings[<span class=\"string\">'SWIFT_VERSION'</span>] = <span class=\"string\">'4.0'</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å±æ€§è®¿é—®æƒé™\"><a href=\"#å±æ€§è®¿é—®æƒé™\" class=\"headerlink\" title=\"å±æ€§è®¿é—®æƒé™\"></a>å±æ€§è®¿é—®æƒé™</h3><p>swiftä¸­æä¾›çš„è®¿é—®æƒé™å…³é”®è¯ç”±ä½åˆ°é«˜æœ‰ä»¥ä¸‹äº”ç§ï¼š<br>private &lt; fileprivate &lt; internal &lt; public &lt; open<br>å…¶ä¸­internalæ˜¯Swiftä¸­çš„é»˜è®¤æ§åˆ¶çº§ï¼Œä¸€ä¸‹ä»‹ç»äº†è¿™å‡ ç§å…³é”®å­—çš„åŒºåˆ«ï¼š</p>\n<ul>\n<li>privateï¼šå½“å‰ä½œç”¨åŸŸæˆ–è€…å½“å‰ç±»ä¸­è®¿é—®ã€‚</li>\n<li>fileprivateï¼šè¡¨ç¤ºä»£ç å¯ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­è®¿é—®ã€‚</li>\n<li>internalï¼šåœ¨å½“å‰targetä¸­è®¿é—®</li>\n<li>publicï¼šå¯è·¨targetä½¿ç”¨ï¼Œä½†ä¸èƒ½è¢«é›†æˆæˆ–è€…é‡å†™ã€‚</li>\n<li>openï¼šå¯è·¨targetä½¿ç”¨ï¼Œå…è®¸è¢«é›†æˆæˆ–è€…é‡å†™ã€‚</li>\n</ul>\n<p>å¯¹äºä¸€ä¸ªä¸¥æ ¼çš„é¡¹ç›®æ¥è¯´ï¼Œç²¾ç¡®çš„æœ€å°åŒ–è®¿é—®æ§åˆ¶çº§åˆ«å¯¹äºä»£ç çš„ç»´æŠ¤æ¥è¯´æ˜¯å¾ˆé‡è¦çš„ã€‚èƒ½ç”¨publicçš„å°±åˆ«ç”¨openã€‚</p>\n<h3 id=\"ä¿®æ”¹æ–‡ä»¶æƒé™\"><a href=\"#ä¿®æ”¹æ–‡ä»¶æƒé™\" class=\"headerlink\" title=\"ä¿®æ”¹æ–‡ä»¶æƒé™\"></a>ä¿®æ”¹æ–‡ä»¶æƒé™</h3><p>å½“æˆ‘ä»¬æ‰§è¡ŒæŸäº›å‘½ä»¤è¡Œæ“ä½œï¼Œæ”¶åˆ°å¦‚ä¸‹æç¤ºæ—¶ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Linking &#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;the_silver_searcher&#x2F;2.1.0... </span><br><span class=\"line\">Error: Could not symlink etc&#x2F;bash_completion.d&#x2F;ag.bashcomp.sh</span><br><span class=\"line\">&#x2F;usr&#x2F;local&#x2F;etc&#x2F;bash_completion.d is not writable.</span><br></pre></td></tr></table></figure>\n<p>å°±è¡¨æ˜æˆ‘ä»¬å¯¹éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶æƒé™ä¸å¤Ÿï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ–‡ä»¶åŠ ä¸Šä¿®æ”¹çš„æƒé™ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chown -R $(whoami) &#x2F;usr&#x2F;local&#x2F;etc&#x2F;bash_completion.d</span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­<code>-R</code>è¡¨ç¤ºå¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æ‹¥æœ‰è€…å˜æ›´(å³ä»¥é€’å›çš„æ–¹å¼é€ä¸ªå˜æ›´)</p>\n<h3 id=\"é»˜è®¤å…³é”®å­—\"><a href=\"#é»˜è®¤å…³é”®å­—\" class=\"headerlink\" title=\"é»˜è®¤å…³é”®å­—\"></a>é»˜è®¤å…³é”®å­—</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static let &#96;default&#96; &#x3D; ImageCache(name: &quot;default&quot;)</span><br></pre></td></tr></table></figure>\n<p>defaultæ˜¯é»˜è®¤å…³é”®å­—ï¼Œå¦‚æœä½¿ç”¨è¦åŠ å•æ–œå·ã€‚</p>\n<h3 id=\"tabbaræ‰‹åŠ¨è·³è½¬\"><a href=\"#tabbaræ‰‹åŠ¨è·³è½¬\" class=\"headerlink\" title=\"tabbaræ‰‹åŠ¨è·³è½¬\"></a>tabbaræ‰‹åŠ¨è·³è½¬</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func tabBarController(UITabBarController, didSelect: UIViewController)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>In iOS v3.0 and later, the tab bar controller calls this method regardless of whether the selected view controller changed. In addition, it is called only in response to user taps in the tab bar and is not called when your code changes the tab bar contents programmatically.<br>In versions of iOS prior to version 3.0, this method is called only when the selected view controller actually changes. In other words, it is not called when the same view controller is selected. In addition, the method was called for both programmatic and user-initiated changes to the selected view controller.</p>\n</blockquote>\n<p>tabbarçš„didSelectä»£ç†æ–¹æ³•ï¼Œåªæœ‰åœ¨æ‰‹åŠ¨ç‚¹å‡»çš„æ—¶å€™æ‰ä¼šè§¦å‘ã€‚é€šè¿‡ä»£ç è·³è½¬æ˜¯ä¸ä¼šè§¦å‘çš„ã€‚</p>\n<h3 id=\"è‡ªå®šä¹‰tabbaråŠ¨ç”»\"><a href=\"#è‡ªå®šä¹‰tabbaråŠ¨ç”»\" class=\"headerlink\" title=\"è‡ªå®šä¹‰tabbaråŠ¨ç”»\"></a>è‡ªå®šä¹‰tabbaråŠ¨ç”»</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å½“ç‚¹å‡»tabBarçš„æ—¶å€™,è‡ªåŠ¨æ‰§è¡Œè¯¥ä»£ç†æ–¹æ³•(ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®ä»£ç†)  </span></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tabBar</span><span class=\"params\">(<span class=\"number\">_</span> tabBar: UITabBar, didSelect item: UITabBarItem)</span></span> &#123;  </span><br><span class=\"line\"><span class=\"keyword\">for</span> view <span class=\"keyword\">in</span> tabBar.subviews &#123;</span><br><span class=\"line\"><span class=\"comment\">//æ§åˆ¶viewå®ç°å„ç§åŠ¨ç”»æ•ˆæœ</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"NS-ASSUME-NONNULL-BEGIN-å’Œ-NS-ASSUME-NONNULL-END\"><a href=\"#NS-ASSUME-NONNULL-BEGIN-å’Œ-NS-ASSUME-NONNULL-END\" class=\"headerlink\" title=\"NS_ASSUME_NONNULL_BEGIN å’Œ NS_ASSUME_NONNULL_END\"></a>NS_ASSUME_NONNULL_BEGIN å’Œ NS_ASSUME_NONNULL_END</h3><p>ä»xcode6.3å¼€å§‹ï¼Œä¸ºäº†èƒ½è®©OCä¹Ÿèƒ½è¡¨ç¤ºswiftçš„?(optional)å’Œ!åŠŸèƒ½ï¼Œå¢åŠ äº†å¯¹å¯¹è±¡çš„å¯é€‰æŒ‡å®šã€‚æŒ‡å®šå±æ€§æ˜¯å¦å¯é€‰ï¼Œå¯ä»¥ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@property (nonatomic, copy, nonnull) NSString * tickets;</span><br><span class=\"line\">&#x2F;&#x2F;æˆ–è€…</span><br><span class=\"line\">@property (nonatomic, copy) NSString * __nonnull tickets;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœå±æ€§å¤šäº†ï¼Œæ¯ä¸€ä¸ªéƒ½è¿™ä¹ˆå†™ä¼šå¾ˆéº»çƒ¦ï¼Œè‹¹æœå¢åŠ äº†ä¸€å¯¹æ–°çš„å®å‘½ä»¤ï¼Œå°±æ˜¯<code>NS_ASSUME_NONNULL_BEGIN</code>å’Œ<code>NS_ASSUME_NONNULL_END</code>ã€‚æ”¾åœ¨é‡Œé¢çš„å¯¹è±¡å°±ç›¸å½“äºéƒ½å¢åŠ äº†<code>nonnull</code>å‘½ä»¤ï¼Œ<code>nonull</code>ä¸ºé»˜è®¤å€¼ã€‚</p>\n<h3 id=\"ä¸€ä¸ªè‡ªå®šä¹‰collectionViewå¸ƒå±€çš„bug\"><a href=\"#ä¸€ä¸ªè‡ªå®šä¹‰collectionViewå¸ƒå±€çš„bug\" class=\"headerlink\" title=\"ä¸€ä¸ªè‡ªå®šä¹‰collectionViewå¸ƒå±€çš„bug\"></a>ä¸€ä¸ªè‡ªå®šä¹‰collectionViewå¸ƒå±€çš„bug</h3><p><strong>bugæè¿°ï¼š</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NSInternalInconsistencyException</span><br><span class=\"line\"></span><br><span class=\"line\">UICollectionView received layout attributes for a cell with an index path that does not exist: &lt;NSIndexPath: 0x280d2b200&gt; &#123;length &#x3D; 2, path &#x3D; 1 - 5&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åŸå› ï¼š</strong><br><code>layoutAttributesForElementsInRect</code>è¿”å›çš„<code>UICollectionViewLayoutAttributes</code>æ•°ç»„æœ‰<code>indexPath</code>æ²¡æœ‰è¢« <code>[NSIndexPath indexPathForRow:numberOfSection]</code>è¦†ç›–ã€‚<br>å½“æ•°æ®é‡å¢åŠ æ—¶ä¸ä¼šå‡ºé—®é¢˜ï¼Œå½“æ•°é‡å‡å°‘æ—¶å‡ºç°ã€‚æœ‰äººåæ˜ è¿™æ˜¯iOS10çš„bugï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘æ‹¿iOS10æ¨¡æ‹Ÿå™¨è·‘å¹¶æ²¡æœ‰é—®é¢˜ï¼Œåè€Œæ˜¯åœ¨å´©æºƒåå°çœ‹åˆ°æ˜¯iOS12çš„ç”¨æˆ·ä¸ŠæŠ¥çš„ã€‚é‚£ç©¶ç«Ÿä»€ä¹ˆåŸå› ä¸è¯¦ï¼Œé™„stackoverflow(<a href=\"https://stackoverflow.com/questions/39867325/ios-10-bug-uicollectionview-received-layout-attributes-for-a-cell-with-an-index\">iOS 10 bug: UICollectionView received layout attributes for a cell with an index path that does not exist - Stack Overflow</a>]åœ°å€ã€‚<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>å½“æˆ‘ä»¬è‡ªå®šä¹‰layoutæ—¶ï¼Œéœ€è¦æ¸…é™¤UICollectionViewLayoutAttributesçš„ç¼“å­˜</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ–¹æ¡ˆä¸€ï¼š åœ¨è‡ªå®šä¹‰layoutçš„ç±»é‡Œ</span></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">prepare</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">super</span>.prepare()</span><br><span class=\"line\">attributesArr.removeAll()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æ–¹æ¡ˆäºŒï¼šåœ¨collectionviewåˆ·æ–°å‡º</span></span><br><span class=\"line\">collectionView.reloaData()</span><br><span class=\"line\">collectionView.collectionViewLayout.invalidateLayout()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é…ç½®git-SSH\"><a href=\"#é…ç½®git-SSH\" class=\"headerlink\" title=\"é…ç½®git SSH\"></a>é…ç½®git SSH</h3><p>1ã€è®¾ç½®gitçš„user nameå’Œemail</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git config --global user.name &quot;username&quot;</span><br><span class=\"line\">$ git config --global user.email &quot;username@gmail.com&quot;</span><br></pre></td></tr></table></figure>\n<p>2ã€ç”Ÿæˆç§˜é’¥</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ssh-keygen -t rsa -C &quot;username@gmail.com&quot;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœä¸éœ€è¦è®¾ç½®å¯†ç ï¼Œè¿æŒ‰ä¸‰ä¸ªå›è½¦ã€‚æœ€åå¾—åˆ°äº†ä¸¤ä¸ªæ–‡ä»¶ï¼š<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ã€‚<br>3ã€æ·»åŠ ç§˜é’¥åˆ°ssh-agentä¸­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ssh-add ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>\n<p>4ã€å¤åˆ¶å…¬é’¥å†…å®¹åˆ°å‰ªè´´æ¿</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pbcopy &lt; ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>\n<p>5ã€ç™»å½•gitä»“åº“ï¼ˆGithubæˆ–è€…Bitbucketï¼‰å°†å…¬é’¥å†…å®¹ç²˜è´´åˆ°æŒ‡å®šé…ç½®ä½ç½®ã€‚<br>Githubåœ°å€ä¸ºï¼š<a href=\"https://github.com/settings/keys\">https://github.com/settings/keys</a></p>\n<h3 id=\"Apple-Watchå¼€å‘æ³¨æ„äº‹é¡¹\"><a href=\"#Apple-Watchå¼€å‘æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"Apple Watchå¼€å‘æ³¨æ„äº‹é¡¹\"></a>Apple Watchå¼€å‘æ³¨æ„äº‹é¡¹</h3><p>1ã€watchæ²¡æœ‰UIKitï¼Œå¯¹äºUIçš„æ“ä½œåªèƒ½é€šè¿‡<code>storyboard</code>è¿›è¡Œ<br>2ã€watchåªæ”¯æŒå¸§åŠ¨ç”»ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡pngåºåˆ—æ¥å®ç°åŠ¨ç”»æ•ˆæœã€‚<code>WKInterfaceGroup</code> å’Œ <code>WKInterfaceImage</code>å‡å¯ä»¥å®ç°å¸§åŠ¨ç”»ã€‚<br>3ã€å¼€å‘çš„watchåº”ç”¨å†…å­˜è¢«é™å®šä¸º80Mï¼Œå¤ªå¤šå¸§çš„åŠ¨ç”»ä¼šä¸æ”¯æŒ<br>4ã€æäº¤åº”ç”¨watchä¹Ÿéœ€è¦é…ç½®å¸‚åœºæˆªå›¾ã€‚<br>5ã€watchåˆ†ä¸ºä¸¤ä¸ªtargetã€‚å½“æ–°å»ºä¸€ä¸ªTargetä¸ºWatchDemoï¼Œxcodeä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªWatchDemo Extensionã€‚å‰è€…è´Ÿè´£UIï¼Œåè€…è´Ÿè´£é€»è¾‘ã€‚å¼•ç”¨cocoapodså¯ä»¥è¿™ä¹ˆå†™ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">target &#39;WatchDemo Extension&#39; do</span><br><span class=\"line\">platform :watchos, &#39;3.0&#39;</span><br><span class=\"line\">use_frameworks!</span><br><span class=\"line\">pod &#39;Alamofire&#39;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<p>6ã€Always Embed Swift Standard Libraries<br>åœ¨Build Settingsé‡Œé¢ï¼Œè¿™ä¸¤ä¸ªtargetï¼Œéœ€è¦å°†WatchDemo Extensionä¸­è®¾ç½®ä¸ºYesï¼Œå¦ä¸€ä¸ªè®¾ç½®ä¸ºNo</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><p><a href=\"https://github.com/marcosgriselli/Sizes\">Sizes</a><br>å¯ä»¥åœ¨ä¸€ä¸ªç•Œé¢ï¼Œæ˜¾ç¤ºå„ä¸ªå±å¹•å°ºå¯¸ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨æ¯ä¸ªæ¨¡æ‹Ÿå™¨è·‘ä¸€éçœ‹æ•ˆæœäº†ã€‚æ–¹ä¾¿è°ƒè¯•ã€‚</p>\n<p><a href=\"https://github.com/iGhibli/iOS-DeviceSupport\">iOS-DeviceSupport</a><br>å½“æ‰‹æœºå‡çº§ï¼Œè€Œxcodeæœªå‡çº§æ—¶ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°Device Supportçš„å¼¹æ¡†ï¼Œæ­¤æ—¶è¦ä¹ˆå‡çº§xcodeï¼Œè¦ä¹ˆéœ€è¦å¯¼å…¥å¯¹åº”çš„Device Supportæ–‡ä»¶ã€‚è¿™ä¸ªåº“å°±æ˜¯æä¾›è¿™ç§æ–‡ä»¶çš„ã€‚</p>\n<p><a href=\"https://github.com/johnno1962/InjectionIII\">InjectionIII</a><br>ç”¨äºè§£å†³çƒ¦äººçš„UIè°ƒè¯•é—®é¢˜ã€‚å½“ä¿®æ”¹äº†ä¸€äº›UIå±æ€§ä¹‹åï¼Œåœ¨xcodeä¸­æˆ‘ä»¬åªèƒ½è¿è¡Œç¨‹åºæ‰èƒ½çœ‹åˆ°æ•ˆæœï¼Œå¦‚æœæ˜¯å¤„ç†å¤§é‡çš„UIé—®é¢˜ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆçƒ¦äººçš„ã€‚å¥½åœ¨InjectionIIIå¸®æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä¸€èµ·äº†è§£ä¸€ä¸‹å§ï¼</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"iOSå¼€å‘æœˆæŠ¥#3|201809","url":"http://zhangferry.github.io/2018/09/30/monthly_3/","content":"<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-2711b521a2b371fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"iPhoneX R\"><br>æ–°æœºå‘å¸ƒï¼Œä½ ä¸­æ„XS Maxè¿˜æ˜¯XRï¼Ÿ</p>\n<a id=\"more\"></a>\n<h2 id=\"iOS-Tips\"><a href=\"#iOS-Tips\" class=\"headerlink\" title=\"iOS Tips\"></a>iOS Tips</h2><h3 id=\"åœ¨labelä¸­æ’å…¥å›¾ç‰‡\"><a href=\"#åœ¨labelä¸­æ’å…¥å›¾ç‰‡\" class=\"headerlink\" title=\"åœ¨labelä¸­æ’å…¥å›¾ç‰‡\"></a>åœ¨labelä¸­æ’å…¥å›¾ç‰‡</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> label = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\"><span class=\"keyword\">let</span> attribute = <span class=\"type\">NSMutableAttributedString</span>(string: <span class=\"string\">\"Title\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> imgAttch = <span class=\"type\">NSTextAttachment</span>()</span><br><span class=\"line\">imgAttch.image = image</span><br><span class=\"line\"><span class=\"comment\">//è®¾ç½®å›¾ç‰‡å¤§å°</span></span><br><span class=\"line\">imgAttch.bounds = <span class=\"type\">CGRect</span>.<span class=\"keyword\">init</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>, width: <span class=\"number\">18</span>, height: <span class=\"number\">15</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> imageAttribute = <span class=\"type\">NSAttributedString</span>(attachment: imgAttch)</span><br><span class=\"line\"><span class=\"comment\">//å›¾ç‰‡æ’å…¥ä½ç½®</span></span><br><span class=\"line\">attribute.insert(imageAttribute, at: <span class=\"number\">0</span>)</span><br><span class=\"line\">label.attributedText = attribute</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"CollectionCellé˜´å½±-åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼\"><a href=\"#CollectionCellé˜´å½±-åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼\" class=\"headerlink\" title=\"CollectionCellé˜´å½±+åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼\"></a>CollectionCellé˜´å½±+åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼</h3><p>åªé’ˆå¯¹ç±»ä¼¼App Storeçš„æ•´ä½“åœ†è§’é˜´å½±çš„æ•ˆæœã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è®¾ç½®çˆ¶è§†å›¾é˜´å½±æ•ˆæœ</span></span><br><span class=\"line\"><span class=\"comment\">//CollectionView.swift</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.layer.shadowOffset = offset</span><br><span class=\"line\"><span class=\"keyword\">self</span>.layer.shadowColor = color.cgColor</span><br><span class=\"line\"><span class=\"keyword\">self</span>.layer.shadowRadius = radius</span><br><span class=\"line\"><span class=\"keyword\">self</span>.layer.shadowOpacity = opacity</span><br><span class=\"line\">contentView.layer.cornerRadius = radius</span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœåˆ‡å‰²åœ†è§’å¸¦imageViewæ‰éœ€è¦æ·»åŠ ä¸‹é¢</span></span><br><span class=\"line\">contentView.layer.masksToBounds = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜\"><a href=\"#å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜\" class=\"headerlink\" title=\"å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜\"></a>å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç¬¬ä¸€ç§æ–¹å¼ï¼ŒUITableViewCell.swift</span></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setHighlighted</span><span class=\"params\">(<span class=\"number\">_</span> highlighted: Bool, animated: Bool)</span></span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">let</span> color = <span class=\"keyword\">self</span>.indexLabel.backgroundColor</span><br><span class=\"line\"><span class=\"keyword\">super</span>.setHighlighted(highlighted, animated: animated)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.indexLabel.backgroundColor = color</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ç¬¬äºŒç§æ–¹å¼</span></span><br><span class=\"line\">cell.textLabel.backgroundColor = <span class=\"type\">UIColor</span>.clear</span><br><span class=\"line\">cell.textLabel.layer.backgroundColor = <span class=\"type\">UIColor</span>.red</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·\"><a href=\"#è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·\" class=\"headerlink\" title=\"è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·\"></a>è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·</h3><p>è‡ªå®šä¹‰<code>UILabel</code>ï¼Œç„¶åé‡å†™<code>drawText:</code>æ–¹æ³•</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">drawText</span><span class=\"params\">(<span class=\"keyword\">in</span> rect: CGRect)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> insets = <span class=\"type\">UIEdgeInsets</span>.<span class=\"keyword\">init</span>(top: <span class=\"number\">20</span>, <span class=\"keyword\">left</span>: <span class=\"number\">20</span>, bottom: <span class=\"number\">20</span>, <span class=\"keyword\">right</span>: <span class=\"number\">20</span>)</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.drawText(<span class=\"keyword\">in</span>: <span class=\"type\">UIEdgeInsetsInsetRect</span>(rect, insets))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"swift-æµ®ç‚¹æ•°å–æ•´\"><a href=\"#swift-æµ®ç‚¹æ•°å–æ•´\" class=\"headerlink\" title=\"swift æµ®ç‚¹æ•°å–æ•´\"></a>swift æµ®ç‚¹æ•°å–æ•´</h3><p>ceil(x)è¿”å›ä¸å°äºxçš„æœ€å°æ•´æ•°å€¼ã€‚<br>floor(x)è¿”å›ä¸å¤§äºxçš„æœ€å¤§æ•´æ•°å€¼ã€‚<br>round(x)è¿”å›xçš„å››èˆäº”å…¥æ•´æ•°å€¼ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> number1 = <span class=\"number\">12.456</span></span><br><span class=\"line\"><span class=\"comment\">// ceil(number1) = 13.0, floor(number1) = 12.0, round(number1) = 12.0</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> number2 = <span class=\"number\">12.756</span></span><br><span class=\"line\"><span class=\"comment\">// ceil(number2) = 13.0, floor(number2) = 12.0, round(number2) = 13.0</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥\"><a href=\"#è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥\" class=\"headerlink\" title=\"è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥\"></a>è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥</h3><p>xattr -d com.apple.quarantine appæ‰€åœ¨è·¯å¾„</p>\n<h3 id=\"åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨\"><a href=\"#åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨\" class=\"headerlink\" title=\"åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨\"></a>åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨</h3><p><code>large_leaves_70mp.jpg</code>å›¾ç‰‡æ˜¯7033x10110(å ç”¨ç£ç›˜å¤§å°8.3MB)ï¼Œåˆ†è¾¨ç‡ = 7033 x 10110 x 4ï¼ˆARGBï¼‰,å¯¹åº”ä½å›¾å ç”¨å¤§å° = åˆ†è¾¨ç‡ x 1024 x 1024 ( = 271MB)ï¼Œè§£å‹ä¼šæŠŠå›¾ç‰‡è½¬æˆä½å›¾ï¼Œä¹Ÿå°±æ„å‘³ç€ä¼šå ç”¨271MBå†…å­˜ï¼Œæ‰€ä»¥è§£å‹è¿‡ç¨‹å†…å­˜ä¼šç¬é—´æ¶ˆè€—å¾ˆå¤§,ç­‰è½¬æˆNSDataåä½å›¾çš„å†…å­˜å°±ä¼šè¢«å›æ”¶æ‰ï¼Œå†…å­˜å°±é™ä¸‹æ¥ï¼Œè¿™æ—¶å€™NSDataå ç”¨çš„å¤§å°å³æ˜¯å›¾ç‰‡çš„å®é™…å¤§å°ï¼Œè¯¥è¿‡ç¨‹ä¸­ç”±äºä¼šè½¬æˆä½å›¾ï¼Œè€Œä½å›¾çš„å¤§å°æ˜¯æ¯”å›¾ç‰‡çš„å®é™…çš„å¤§å°å¤§å¾ˆå¤šçš„ï¼Œå†…å­˜æš´å¢çš„ç‚¹å°±åœ¨ä½å›¾ã€‚ä½å›¾çš„å†…å­˜å¤§å°è®¡ç®—æ˜¯æ ¹æ®å›¾ç‰‡çš„åˆ†è¾¨ç‡è€Œæ¥ï¼ˆåˆ†è¾¨ç‡(width x heigth) x 1024 x 1024  x 4 (ARGB)ï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´å›¾ç‰‡åˆ†è¾¨ç‡è¶Šé«˜è½¬æˆçš„ä½å›¾å ç”¨çš„å†…å­˜ç©ºé—´è¶Šå¤§ã€‚</p>\n<h3 id=\"æ–°ç‰ˆiphoneå°ºå¯¸\"><a href=\"#æ–°ç‰ˆiphoneå°ºå¯¸\" class=\"headerlink\" title=\"æ–°ç‰ˆiphoneå°ºå¯¸\"></a>æ–°ç‰ˆiphoneå°ºå¯¸</h3><table>\n<thead>\n<tr>\n<th>è®¾å¤‡</th>\n<th>é€»è¾‘åˆ†è¾¨ç‡</th>\n<th align=\"center\">æ¯”ä¾‹å› å­</th>\n<th>å¯¹è§’çº¿</th>\n<th align=\"center\">åˆ†è¾¨ç‡</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>iPhone XS Max</td>\n<td>414Ã—896</td>\n<td align=\"center\">@3x</td>\n<td>6.5inch</td>\n<td align=\"center\">1242px Ã— 2688px</td>\n</tr>\n<tr>\n<td>iPhone XS</td>\n<td>375Ã—812</td>\n<td align=\"center\">@3x</td>\n<td>5.8inch</td>\n<td align=\"center\">1125px Ã— 2436px</td>\n</tr>\n<tr>\n<td>iPhone XR</td>\n<td>414Ã—896</td>\n<td align=\"center\">@2x</td>\n<td>6.1inch</td>\n<td align=\"center\">828px Ã— 1792px</td>\n</tr>\n<tr>\n<td>iPhone X</td>\n<td>375Ã—812</td>\n<td align=\"center\">@3x</td>\n<td>5.8inch</td>\n<td align=\"center\">1125px Ã— 2436px</td>\n</tr>\n<tr>\n<td>iPhone 8 Plus</td>\n<td>414Ã—736</td>\n<td align=\"center\">@3x</td>\n<td>5.5inch</td>\n<td align=\"center\">1242px Ã— 2208px</td>\n</tr>\n<tr>\n<td>iPhone 8</td>\n<td>375Ã—667</td>\n<td align=\"center\">@3x</td>\n<td>4.7inch</td>\n<td align=\"center\">750px Ã— 1334px</td>\n</tr>\n<tr>\n<td>iPhone SE</td>\n<td>320Ã—568</td>\n<td align=\"center\">@2x</td>\n<td>4inch</td>\n<td align=\"center\">640px Ã— 1136px</td>\n</tr>\n<tr>\n<td>iPhone 4</td>\n<td>320Ã—480</td>\n<td align=\"center\">@2x</td>\n<td>3.5inch</td>\n<td align=\"center\">640px Ã— 960px</td>\n</tr>\n</tbody></table>\n<h3 id=\"å¸¦é€æ˜åº¦çš„æ¸å˜\"><a href=\"#å¸¦é€æ˜åº¦çš„æ¸å˜\" class=\"headerlink\" title=\"å¸¦é€æ˜åº¦çš„æ¸å˜\"></a>å¸¦é€æ˜åº¦çš„æ¸å˜</h3><p>ä½¿ç”¨CAGradientLayerè¿›è¡Œæ¸å˜çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”±ä¸€ä¸ªé¢œè‰²æ¸å˜è‡³é€æ˜ï¼Œå½“æˆ‘ä»¬å°†é€æ˜è‰²å†™æˆ<code>UIColor.clear</code>æˆ–è€…å…¶ä»–é€šè¿‡<code>RGBA</code>è®¾ç½®çš„é¢œè‰²ï¼Œæ”¹å˜é€æ˜åº¦ä¸º0æ—¶ï¼Œä¼šå‘ç°å®é™…æ•ˆæœè·Ÿé¢„æœŸæœ‰å‡ºå…¥ï¼Œä¼šå¸¦ç‚¹é»‘è‰²ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-5bf477719013367f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Transparent gradient.png\"></p>\n<p>è¿™æ˜¯å› ä¸ºclearColorä¼šæœ‰ä¸€ä¸ªé€æ˜åº¦ä¸º0çš„é»‘è‰²é€šé“ã€‚æ‰€ä»¥åº”è¯¥è¿™æ ·è®¾ç½®é€æ˜è‰²ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UIColor(white: 1, alpha: 0).cgColor</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0\"><a href=\"#æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0\" class=\"headerlink\" title=\"æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0\"></a>æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0</h3><p>å¦‚æœæˆ‘ä»¬æƒ³éšè—<code>headerView</code>å¯èƒ½ä¼šç›´æ¥åœ¨å…¶é«˜åº¦çš„ä»£ç†æ–¹æ³•ï¼Œåšå¦‚ä¸‹è®¾ç½®ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123;</span><br><span class=\"line\">return 0</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å½“å®é™…ä¸Šè¿™å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œä¼šè¿”å›ä¸€ä¸ªé»˜è®¤é«˜åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé«˜åº¦åªæœ‰è®¾ç½®æˆä¸€ä¸ªé0çš„æ­£æ•°æ‰æ˜¯æœ‰æ•ˆçš„ã€‚<br>æœ‰äº›äººä¼šå†™æˆ0.01ï¼Œè¡¨é¢ä¸Šçœ‹æ˜¯è§£å†³é—®é¢˜äº†ï¼Œä½†0.01çš„åç§»ä¼šé€ æˆåƒç´ ä¸å¯¹é½ï¼ˆColor Misaligned Imagesï¼‰ï¼ŒåŠ é‡CPUè®¡ç®—è´Ÿè·ã€‚å®Œç¾çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123;</span><br><span class=\"line\">return CGFloat.leastNonzeroMagnitude</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>CGFloat.leastNonzeroMagnitude</code>è¡¨ç¤ºCGFloatæ”¯æŒçš„æœ€å°æ­£æ•°å€¼ï¼Œä¸ä¼šå¼•èµ·åƒç´ åç§»ã€‚</p>\n<h3 id=\"ä¿æŒå±å¹•å¸¸äº®\"><a href=\"#ä¿æŒå±å¹•å¸¸äº®\" class=\"headerlink\" title=\"ä¿æŒå±å¹•å¸¸äº®\"></a>ä¿æŒå±å¹•å¸¸äº®</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¿æŒå±å¹•å¸¸äº®</span></span><br><span class=\"line\"><span class=\"type\">UIApplication</span>.shared.isIdleTimerDisabled = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\">//å…³é—­å±å¹•å¸¸äº®</span></span><br><span class=\"line\"><span class=\"type\">UIApplication</span>.shared.isIdleTimerDisabled = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„ï¼šä¸è¦æ»¥ç”¨å±å¹•å¸¸äº®å±æ€§ï¼ˆè‹¹æœä¼šå› ä¸ºè¿™æ‰“å›ä½ çš„appï¼‰ï¼Œå¦‚æœåªåœ¨æŸäº›ç‰¹æ®Šåœºåˆéœ€è¦å±å¹•å¸¸äº®ï¼Œåº”è¯¥åœ¨ä¹‹åå°†è¯¥å€¼æ¢å¤æˆé»˜è®¤å€¼<code>false</code>ã€‚</p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><h3 id=\"MMKV\"><a href=\"#MMKV\" class=\"headerlink\" title=\"MMKV\"></a><a href=\"https://github.com/Tencent/MMKV\">MMKV</a></h3><p>MMKV æ˜¯åŸºäº mmap å†…å­˜æ˜ å°„çš„ key-value ç»„ä»¶ï¼Œåº•å±‚åºåˆ—åŒ–/ååºåˆ—åŒ–ä½¿ç”¨ protobuf å®ç°ï¼Œæ€§èƒ½é«˜ï¼Œç¨³å®šæ€§å¼ºã€‚ä» 2015 å¹´ä¸­è‡³ä»Šï¼Œåœ¨ iOS å¾®ä¿¡ä¸Šä½¿ç”¨å·²æœ‰è¿‘ 3 å¹´ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§ç»è¿‡äº†æ—¶é—´çš„éªŒè¯ã€‚è¿‘æœŸä¹Ÿå·²ç§»æ¤åˆ° Android å¹³å°ï¼Œä¸€å¹¶å¼€æºã€‚<br>æ›¿ä»£<code>UserDefaults</code>çš„ç»ä½³æ–¹æ¡ˆã€‚</p>\n<h3 id=\"Lottie\"><a href=\"#Lottie\" class=\"headerlink\" title=\"Lottie\"></a><a href=\"https://github.com/airbnb/lottie-ios\">Lottie</a></h3><p>Lottieæ˜¯ä¸€ä¸ªé¢å‘Androidå’ŒiOSçš„ç§»åŠ¨åº“ï¼Œå®ƒèƒ½å¤Ÿè§£æç”±AEåœ¨bodymovinå¯¼å‡ºä¸ºjsonçš„æ•ˆæœåŠ¨ç”»ï¼Œå¹¶åœ¨ç§»åŠ¨ç«¯æ¸²æŸ“çŸ¢é‡åŠ¨ç”»!<br>ä¸€äº›å¤æ‚çš„UIå¯ä»¥å®Œå…¨äº¤ç»™è®¾è®¡å¸ˆäº†ï¼Œå“ˆå“ˆå“ˆã€‚</p>\n<h3 id=\"RSSHud\"><a href=\"#RSSHud\" class=\"headerlink\" title=\"RSSHud\"></a><a href=\"https://github.com/DIYgod/RSSHub\">RSSHud</a></h3><p>RSSHub æ˜¯ä¸€ä¸ªè½»é‡ã€æ˜“äºæ‰©å±•çš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚<br>ç»“åˆ<a href=\"https://itunes.apple.com/us/app/reeder-3/id697846300?mt=8\">Reeder</a>ä¸è¦å¤ªçˆ½å“¦ã€‚ğŸ˜†</p>\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"GitåŸºæœ¬æ“ä½œå›é¡¾","url":"http://zhangferry.github.io/2018/09/19/git_command/","content":"<p>ä½œä¸ºgitæœ€å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤<code>git status</code>ã€<code>git add</code>ã€<code>git commit</code>ï¼Œæˆ‘ä»¬æ¯å¤©å¯èƒ½éƒ½ä¼šå†™ä¸ªæ•°åéã€‚ä½†æ˜¯è¶Šæ˜¯è¿™ç§æˆ‘ä»¬ç†Ÿæ‚‰çš„æ“ä½œï¼Œè¶Šå®¹æ˜“å­˜åœ¨ä¸€äº›æˆ‘ä»¬å¿½ç•¥çš„ç»†èŠ‚ã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯ç”¨æ¥è®°å½•ä¸‹è¿™äº›ç»†èŠ‚ï¼Œè®°å½•æˆ‘ä»¬å¸¸ç”¨å‘½ä»¤ä¸­ä¸å¸¸ç”¨çš„æ“ä½œã€‚</p>\n<p>åœ¨gitä¸­ç¼–è¾‘è¿‡æŸäº›æ–‡ä»¶ä¹‹åï¼Œç”±äºè‡ªä¸Šæ¬¡æäº¤åä½ å¯¹å®ƒä»¬åšäº†ä¿®æ”¹ï¼Œgit å°†å®ƒä»¬æ ‡è®°ä¸ºå·²ä¿®æ”¹æ–‡ä»¶ã€‚ æˆ‘ä»¬é€æ­¥å°†è¿™äº›ä¿®æ”¹è¿‡çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºï¼Œç„¶åæäº¤æ‰€æœ‰æš‚å­˜äº†çš„ä¿®æ”¹ï¼Œå¦‚æ­¤åå¤ã€‚æ‰€ä»¥ä½¿ç”¨ git æ—¶æ–‡ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-6aee09f81493701f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"lifecycle.png\"></p>\n<p>å›é¡¾å®Œå°±è¿›å…¥æ­£é¢˜</p>\n<a id=\"more\"></a>\n<h2 id=\"git-status\"><a href=\"#git-status\" class=\"headerlink\" title=\"git status\"></a>git status</h2><p>git statusä¼šæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ Changes to be committed:</span><br><span class=\"line\">$ (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br></pre></td></tr></table></figure>\n<p>è¡¨ç¤ºå·²ç»åœ¨æš‚å­˜åŒºï¼Œç­‰å¾…æ·»åŠ åˆ°å·¥ä½œåŒºã€‚ä½¿ç”¨<code>git reset</code>å‘½ä»¤å¯ä»¥å°†æš‚å­˜åŒºçš„å†…å®¹ç§»é™¤ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ Changes not staged for commit: </span><br><span class=\"line\">$ (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class=\"line\">$ (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br></pre></td></tr></table></figure>\n<p>æœ‰ä¿®æ”¹, ä½†æ˜¯æ²¡æœ‰è¢«æ·»åŠ åˆ°æš‚å­˜åŒºã€‚ä½¿ç”¨<code>git add</code>å‘½ä»¤å¯ä»¥å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œä½¿ç”¨<code>git checkout</code>å‘½ä»¤å¯ä»¥æ’¤é”€æ–‡ä»¶ä¿®æ”¹ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ Untracked files:</span><br><span class=\"line\">$ (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br></pre></td></tr></table></figure>\n<p>å«æœ‰æœªè·Ÿè¸ªæ–‡ä»¶, å³æœªçº³å…¥ç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶ã€‚ä½¿ç”¨<code>git add</code>å¯ä»¥å°†æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºã€‚</p>\n<hr>\n<h2 id=\"git-add\"><a href=\"#git-add\" class=\"headerlink\" title=\"git add\"></a>git add</h2><p>æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add file</span><br></pre></td></tr></table></figure>\n<p>æ·»åŠ å¤šä¸ªæ–‡ä»¶åˆ°æš‚å­˜åŒºï¼Œç©ºæ ¼éš”å¼€</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add file1 file2</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨é€šé…ç¬¦æ‰¹é‡æ·»åŠ documentationç›®å½•ä¸‹çš„æ‰€æœ‰txtåç¼€æ–‡ä»¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add documentation&#x2F;*.txt</span><br></pre></td></tr></table></figure>\n<p>æ·»åŠ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰git-å¼€å¤´çš„shellæ–‡ä»¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add git-*.sh</span><br></pre></td></tr></table></figure>\n<p>å°†ä¿®æ”¹å’Œä»¥åˆ é™¤çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œä¸åŒ…æ‹¬æœªè¢«è·Ÿè¸ªæ–‡ä»¶ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add -u file</span><br></pre></td></tr></table></figure>\n<h3 id=\"git-add-å’Œgit-add-A-å³git-add-â€“all-åŒºåˆ«\"><a href=\"#git-add-å’Œgit-add-A-å³git-add-â€“all-åŒºåˆ«\" class=\"headerlink\" title=\"git add .å’Œgit add -A(å³git add â€“all)åŒºåˆ«\"></a>git add .å’Œgit add -A(å³git add â€“all)åŒºåˆ«</h3><p>ä¸€.ç‰ˆæœ¬å¯¼è‡´çš„å·®åˆ«ï¼š<br>1.xç‰ˆæœ¬ï¼š<br>ï¼ˆ1ï¼‰.git add -Aå¯ä»¥æäº¤æœªè·Ÿè¸ªã€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶ã€‚<br>ï¼ˆ2ï¼‰.git add .å¯ä»¥æäº¤æœªè·Ÿè¸ªå’Œä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯ä¸å¤„ç†åˆ é™¤æ–‡ä»¶ã€‚<br>2.xç‰ˆæœ¬ï¼š<br>ä¸¤è€…åŠŸèƒ½åœ¨æäº¤ç±»å‹æ–¹é¢æ˜¯ç›¸åŒçš„ã€‚</p>\n<p>äºŒ.æ‰€åœ¨ç›®å½•ä¸åŒå¯¼è‡´çš„å·®å¼‚ï¼š<br>ï¼ˆ1ï¼‰.git add -Aæ— è®ºåœ¨å“ªä¸ªç›®å½•æ‰§è¡Œéƒ½ä¼šæäº¤ç›¸åº”æ–‡ä»¶ã€‚<br>ï¼ˆ2ï¼‰.git add .åªèƒ½å¤Ÿæäº¤å½“å‰ç›®å½•æˆ–è€…å®ƒåä»£ç›®å½•ä¸‹ç›¸åº”æ–‡ä»¶ã€‚</p>\n<hr>\n<h2 id=\"git-commit\"><a href=\"#git-commit\" class=\"headerlink\" title=\"git commit\"></a>git commit</h2><p>å½“æˆ‘ä»¬æ‰§è¡Œ<code>git add</code>å‘½ä»¤å°†æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒºä¹‹åï¼Œè¿˜éœ€è¦æäº¤è¿™äº›æš‚å­˜åˆ°å·¥ä½œåŒºï¼ˆä»“åº“åŒºï¼‰ï¼Œä»æš‚å­˜åŒº-&gt;å·¥ä½œåŒºï¼Œçš„å·¥ä½œå°±æ˜¯<code>git commmit</code>æ¥åšçš„ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒºï¼Œmessageä¸ºæäº¤ä¿¡æ¯</span></span><br><span class=\"line\">git commit -m [message]</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> æäº¤å¯ä»¥æŒ‡å®šæ–‡ä»¶</span></span><br><span class=\"line\">git commit [file1] [file2] ... -m [message]</span><br></pre></td></tr></table></figure>\n<p>å¸¸ç”¨çš„commitæ‰©å±•å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span></span><br><span class=\"line\">git commit -v</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤ï¼Œå¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span></span><br><span class=\"line\">git commit --amend</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span></span><br><span class=\"line\">git commit --amend [file1] [file2]</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸Šä¸‰æ¡å¦‚æœä¸å¸¦-m [message]å°†ä¼šåœ¨vimçš„ç¼–è¾‘å™¨ä¸­æ·»åŠ æäº¤ä¿¡æ¯ã€‚</p>\n<p>å¦‚æœä½ æ„Ÿè§‰æ²¡æœ‰<code>git add</code>,<code>git commit</code>æœ‰ç‚¹éº»çƒ¦ï¼Œæƒ³ç›´æ¥å°†ä¿®æ”¹åˆ°å·¥ä½œåŒºï¼Œå¯ä»¥ç”¨å¦å¤–ä¸€ä¸ªå‘½ä»¤ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> ä¼šå°†ä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥æ·»åŠ åˆ°å·¥ä½œåŒº</span></span><br><span class=\"line\">git commit -a -m [message]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"git-rm\"><a href=\"#git-rm\" class=\"headerlink\" title=\"git rm\"></a>git rm</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm file</span><br></pre></td></tr></table></figure>\n<p><strong>åˆ é™¤ä½ç½®</strong>ï¼šç›¸å½“äºæ‰‹åŠ¨å³å‡»ç‚¹åˆ é™¤ï¼Œåªåˆ é™¤äº†å·¥ä½œåŒºçš„æ–‡ä»¶ã€‚<br><strong>git status</strong>ï¼š<code>Changes not staged for commit:</code><br><strong>æ¢å¤</strong>ï¼šç›´æ¥ç”¨git checkout â€“ fileå°±å¯ä»¥ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rm file</span><br></pre></td></tr></table></figure>\n<p>å®ƒç­‰ä»·äº<code>rm file + git add file</code><br><strong>åˆ é™¤ä½ç½®</strong>ï¼šç›¸å½“äºä¸ä»…åˆ é™¤äº†æ–‡ä»¶ï¼Œè€Œä¸”è¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºã€‚<br><strong>git status</strong>ï¼š<code>Changes to be committed:</code>ã€‚<br><strong>æ¢å¤</strong>ï¼šå…ˆgit resetï¼Œå»æ‰æš‚å­˜åŒºä¿®æ”¹ï¼Œç„¶åå†git checkout â€“ fileï¼Œæ¢å¤æ–‡ä»¶ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rm --cached file</span><br></pre></td></tr></table></figure>\n<p><strong>åˆ é™¤ä½ç½®</strong>ï¼šä»æš‚å­˜åŒºç§»é™¤ï¼Œä¸åˆ é™¤æ–‡ä»¶ã€‚<br><strong>git status</strong>ï¼š<code>Changes to be committed:</code>ï¼Œ<code>Untracked files:</code><br><strong>æ¢å¤</strong>ï¼šgit add file</p>\n","categories":[],"tags":["git"]},{"title":"ä½¿ç”¨git stashå‚¨å­˜å’Œæ¢å¤è¿›åº¦","url":"http://zhangferry.github.io/2018/09/04/git_stash/","content":"<p>å½“æˆ‘ä»¬æ­£åœ¨å½“å‰é¡¹ç›®å¤„ç†ä¸€äº›äº‹æƒ…æ—¶ï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ’è¿›æ¥ï¼Œä½¿å¾—æˆ‘ä»¬è¦åœ¨åˆ«çš„åˆ†æ”¯åšä¸€äº›å·¥ä½œã€‚åˆ‡æ¢åˆ†æ”¯ä¹‹å‰å½“å‰ä»»åŠ¡æ˜¯éœ€è¦ä¿å­˜çš„ï¼Œä½†æˆ‘ä»¬å¹¶æ²¡æœ‰å®Œæˆä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡ï¼Œç›´æ¥<code>commit</code>æ˜¾å¾—ä¸åˆé€‚ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨<code>git stash</code>å‘½ä»¤ã€‚stashæ˜¯å‚¨è—çš„æ„æ€ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨ä¹Ÿå¯ä»¥ç†è§£ä¸ºå…ˆå°†å½“å‰çš„ä¿®æ”¹å‚¨è—èµ·æ¥ï¼Œç­‰æˆ‘ä»¬åœ¨å…¶ä»–åˆ†æ”¯åšå®Œå¿…è¦å·¥ä½œä¹‹åå¯ä»¥å†å›åˆ°å‚¨è—æ—¶çš„çŠ¶æ€ã€‚</p>\n<p><code>git stash</code>å¤§è‡´å¯ä»¥åˆ†ä¸ºå‚¨å­˜å’Œæ¢å¤è¿™ä¸¤æ­¥ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"å‚¨å­˜\"><a href=\"#å‚¨å­˜\" class=\"headerlink\" title=\"å‚¨å­˜\"></a>å‚¨å­˜</h2><p>å‚¨è—å½“å‰è¿›åº¦æœ‰ä¸¤æ¡å‘½ä»¤ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash</span><br></pre></td></tr></table></figure>\n<p>ä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨éƒ½ä¿å­˜èµ·æ¥ï¼Œå†æ¬¡è¿è¡Œ<code>git status</code>ä¼šå‘ç°å½“å‰å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash save &quot;commit message&quot;</span><br></pre></td></tr></table></figure>\n<p>æ˜¯<code>git stash</code>çš„å®Œæ•´æè¿°ï¼Œå¯ä»¥ä¸ºæœ¬æ¬¡ä¿å­˜æ·»åŠ è¯´æ˜ã€‚</p>\n<h2 id=\"æ¢å¤\"><a href=\"#æ¢å¤\" class=\"headerlink\" title=\"æ¢å¤\"></a>æ¢å¤</h2><figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash list</span><br></pre></td></tr></table></figure>\n<p>æŸ¥çœ‹å½“å‰ä¿å­˜è¿›åº¦ï¼Œè¿›åº¦ä¿å­˜å¯ä»¥æœ‰å¤šä¸ªã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash apply</span><br></pre></td></tr></table></figure>\n<p>æ¢å¤æœ€è¿‘ä¿å­˜çš„è¿›åº¦ï¼Œä¸ä¼šåˆ é™¤stashå†…å®¹</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæœ‰å¤šä¸ªstashï¼Œæ¢å¤æŸä¸€ä¸ªï¼ŒæŒ‰æ—¶é—´å€’å™æ’åˆ—</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash pop</span><br></pre></td></tr></table></figure>\n<p>ä¼šæ¢å¤æœ€æ–°ä¿å­˜çš„å·¥ä½œè¿›åº¦ï¼Œå¹¶å°†æ¢å¤çš„å·¥ä½œè¿›åº¦ä»å­˜å‚¨çš„å·¥ä½œè¿›åº¦åˆ—è¡¨ä¸­æ¸…é™¤ã€‚</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash drop [stash_id]</span><br></pre></td></tr></table></figure>\n<p>åˆ é™¤æŸä¸€ä¸ªå­˜å‚¨çš„è¿›åº¦</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash clear <span class=\"comment\">#åˆ é™¤æ‰€æœ‰å‚¨å­˜è¿›åº¦</span></span><br></pre></td></tr></table></figure>\n<p>åˆ é™¤æ‰€æœ‰å­˜å‚¨è¿›åº¦</p>\n","categories":[],"tags":["git"]},{"title":"iOSå¼€å‘æœˆæŠ¥#2|201808","url":"http://zhangferry.github.io/2018/09/03/monthly_2/","content":"<h2 id=\"æ•°æ®åº“ç”¨å®Œè¦close\"><a href=\"#æ•°æ®åº“ç”¨å®Œè¦close\" class=\"headerlink\" title=\"æ•°æ®åº“ç”¨å®Œè¦close\"></a>æ•°æ®åº“ç”¨å®Œè¦close</h2><p>å½“æˆ‘ä»¬å‘ä¸‹é¢è¿™æ ·æ‰§è¡Œå®Œä¸€æ¬¡æ•°æ®å¯æŸ¥è¯¢æ—¶ï¼Œè¦è®°å¾—å°†æ•°æ®åº“å…³é—­ï¼Œå¦åˆ™ï¼Œå¦‚æœæ­¤æ—¶æƒ³å¾€åŒä¸€æ•°æ®åº“å†™ä¸œè¥¿çš„è¯ä¼šå› ä¸ºæ•°æ®æ­£åœ¨é”å®šæ”¶åˆ°è¿™æ ·çš„æç¤º<code>database is locked</code>ã€‚</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è·å–ä¸‹è½½å®Œæˆçš„æ–‡ä»¶ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">isExistdWith</span><span class=\"params\">(<span class=\"number\">_</span> id: String)</span></span> -&gt; <span class=\"type\">Bool</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">guard</span> db.<span class=\"keyword\">open</span>() <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">let</span> resultSet = <span class=\"keyword\">try</span> db.executeQuery(<span class=\"string\">\"select * from tableName where id = ?\"</span>, values: [id])</span><br><span class=\"line\"><span class=\"keyword\">if</span> resultSet.next() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> isCompleted = resultSet.bool(forColumn: <span class=\"keyword\">self</span>.isCompleted)</span><br><span class=\"line\">db.close()<span class=\"comment\">//returnä¹‹å‰è¦closeæ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> isCompleted</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.close()<span class=\"comment\">//returnä¹‹å‰è¦closeæ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"UIDatePickerçš„æ—¶é—´æ ¼å¼\"><a href=\"#UIDatePickerçš„æ—¶é—´æ ¼å¼\" class=\"headerlink\" title=\"UIDatePickerçš„æ—¶é—´æ ¼å¼\"></a>UIDatePickerçš„æ—¶é—´æ ¼å¼</h2><p>å½“æˆ‘ä»¬ç”¨UIDatePickeråšé€‰æ‹©æ—¶é—´çš„æ§ä»¶æ—¶ï¼ŒDatePickerä¼šæ ¹æ®æ‰‹æœºæ—¶é—´çš„è®¾ç½®è‡ªåŠ¨é€‰æ‹©æ˜¯12å°æ—¶åˆ¶è¿˜æ˜¯24å°æ—¶åˆ¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¼ºåˆ¶æ§åˆ¶DatePickeræ˜¯æ˜¾ç¤º12å°æ—¶åˆ¶è¿˜æ˜¯24å°æ—¶åˆ¶å¯ä»¥è¿™ä¹ˆåšï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">datePicker.datePickerMode = .time</span><br><span class=\"line\">datePicker.locale = <span class=\"type\">Locale</span>.<span class=\"keyword\">init</span>(identifier: <span class=\"string\">\"en_GB\"</span>)<span class=\"comment\">//for 24 Hrs</span></span><br><span class=\"line\">datePicker.locale = <span class=\"type\">Locale</span>.<span class=\"keyword\">init</span>(identifier: <span class=\"string\">\"en_US\"</span>)<span class=\"comment\">//for 12 Hrs</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"iOS-skill-map\"><a href=\"#iOS-skill-map\" class=\"headerlink\" title=\"iOS skill map\"></a>iOS skill map</h2><p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-3576096c29667cf8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"iOSæŠ€èƒ½å›¾è°±\"></p>\n<h2 id=\"å˜é‡å¯¹å¤–åªè¯»ï¼Œå¯¹å†…å¯è¯»å†™\"><a href=\"#å˜é‡å¯¹å¤–åªè¯»ï¼Œå¯¹å†…å¯è¯»å†™\" class=\"headerlink\" title=\"å˜é‡å¯¹å¤–åªè¯»ï¼Œå¯¹å†…å¯è¯»å†™\"></a>å˜é‡å¯¹å¤–åªè¯»ï¼Œå¯¹å†…å¯è¯»å†™</h2><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>(<span class=\"keyword\">set</span>) <span class=\"keyword\">var</span> name : <span class=\"type\">String</span>!</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"è®¾ç½®UITableViewCellåˆ†å‰²çº¿å¯¹é½\"><a href=\"#è®¾ç½®UITableViewCellåˆ†å‰²çº¿å¯¹é½\" class=\"headerlink\" title=\"è®¾ç½®UITableViewCellåˆ†å‰²çº¿å¯¹é½\"></a>è®¾ç½®UITableViewCellåˆ†å‰²çº¿å¯¹é½</h2><p>é»˜è®¤çš„cellåˆ†å‰²çº¿éƒ½æ˜¯åå‘å³è¾¹å¤šä¸€äº›çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©åˆ†å‰²çº¿å¯¹é½çš„è¯ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tableView.separatorInset = <span class=\"type\">UIEdgeInsets</span>.<span class=\"keyword\">init</span>(top: <span class=\"number\">0</span>, <span class=\"keyword\">left</span>: <span class=\"number\">40</span>, bottom: <span class=\"number\">0</span>, <span class=\"keyword\">right</span>: <span class=\"number\">40</span>)</span><br></pre></td></tr></table></figure>\n<p>è®¾ç½®å·¦å³è¾¹è·éƒ½æ˜¯40<br>ä½†æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜å°±æ˜¯é»˜è®¤çš„textLabelä¼šè·Ÿç€å³ç§»ã€‚ä¸ºäº†ä¿æŒlabelçš„å±…ä¸­æˆ‘ä»¬å¯ä»¥å†åŠ ä¸€å¥ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tableView.separatorInset = <span class=\"type\">UIEdgeInsets</span>.<span class=\"keyword\">init</span>(top: <span class=\"number\">0</span>, <span class=\"keyword\">left</span>: <span class=\"number\">40</span>, bottom: <span class=\"number\">0</span>, <span class=\"keyword\">right</span>: <span class=\"number\">40</span>)</span><br><span class=\"line\">tableView.layoutMargins = <span class=\"type\">UIEdgeInsets</span>.<span class=\"keyword\">init</span>(top: <span class=\"number\">0</span>, <span class=\"keyword\">left</span>: <span class=\"number\">40</span>, bottom: <span class=\"number\">0</span>, <span class=\"keyword\">right</span>: <span class=\"number\">40</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¯Œæ–‡æœ¬æ˜¾ç¤ºå›¾ç‰‡å…ƒç´ \"><a href=\"#å¯Œæ–‡æœ¬æ˜¾ç¤ºå›¾ç‰‡å…ƒç´ \" class=\"headerlink\" title=\"å¯Œæ–‡æœ¬æ˜¾ç¤ºå›¾ç‰‡å…ƒç´ \"></a>å¯Œæ–‡æœ¬æ˜¾ç¤ºå›¾ç‰‡å…ƒç´ </h2><p>å¦‚æœæˆ‘ä»¬éœ€è¦æ–‡å­—ä¸­æ’å…¥å›¾ç‰‡å…ƒç´ æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¯Œæ–‡æœ¬å¤„ç†ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> attch = <span class=\"type\">NSTextAttachment</span>()</span><br><span class=\"line\">attch.image = <span class=\"type\">UIImage</span>.(named:<span class=\"string\">\"logo\"</span>)</span><br><span class=\"line\">attch.bounds = <span class=\"type\">CGRect</span>.<span class=\"keyword\">init</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>, width: <span class=\"number\">18</span>, height: <span class=\"number\">18</span>)</span><br><span class=\"line\"><span class=\"keyword\">let</span> imageAttribute = <span class=\"type\">NSAttributedString</span>(attachment: attch)</span><br><span class=\"line\">titleLabel.attributedText = attributed</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ·»åŠ spotlightæœç´¢ç´¢å¼•\"><a href=\"#æ·»åŠ spotlightæœç´¢ç´¢å¼•\" class=\"headerlink\" title=\"æ·»åŠ spotlightæœç´¢ç´¢å¼•\"></a>æ·»åŠ spotlightæœç´¢ç´¢å¼•</h2><p>é¦–å…ˆå¯¼å…¥<code>CoreSpotlight</code>å’Œ<code>MobileCoreServices</code>æ¡†æ¶ï¼Œç„¶ååŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> searchableItems = [<span class=\"type\">CSSearchableItem</span>]()</span><br><span class=\"line\"><span class=\"comment\">//ç´¢å¼•é¡¹</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> attributeSet = <span class=\"type\">CSSearchableItemAttributeSet</span>(itemContentType: kUTTypeData <span class=\"keyword\">as</span> <span class=\"type\">String</span>)</span><br><span class=\"line\"><span class=\"comment\">//title</span></span><br><span class=\"line\">attributeSet.title = <span class=\"string\">\"Item Title\"</span></span><br><span class=\"line\"><span class=\"comment\">//desription</span></span><br><span class=\"line\">attributeSet.contentDescription = <span class=\"string\">\"match.description\"</span></span><br><span class=\"line\"><span class=\"comment\">//thumb</span></span><br><span class=\"line\">attributeSet.thumbnailData = <span class=\"keyword\">try</span>? <span class=\"type\">Data</span>.<span class=\"keyword\">init</span>(contentsOf: <span class=\"type\">URL</span>(string: url)!)</span><br><span class=\"line\"><span class=\"comment\">//keywords</span></span><br><span class=\"line\">attributeSet.keywords = [<span class=\"string\">\"Love\"</span>, <span class=\"string\">\"Peace\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> searchableItem = <span class=\"type\">CSSearchableItem</span>(uniqueIdentifier: <span class=\"string\">\"app_keywords\"</span>, domainIdentifier: <span class=\"string\">\"com.company.app\"</span>, attributeSet: attributeSet)</span><br><span class=\"line\">searchableItems.append(searchableItem)</span><br><span class=\"line\"><span class=\"comment\">//å»ºç«‹ç´¢å¼•            </span></span><br><span class=\"line\"><span class=\"type\">CSSearchableIndex</span>.<span class=\"keyword\">default</span>().indexSearchableItems(searchableItems) &#123; (error) -&gt; <span class=\"type\">Void</span> <span class=\"keyword\">in</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> error != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\"><span class=\"built_in\">print</span>(error?.localizedDescription ?? <span class=\"string\">\"Error\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Hexoç¼–è¯‘é—®é¢˜\"><a href=\"#Hexoç¼–è¯‘é—®é¢˜\" class=\"headerlink\" title=\"Hexoç¼–è¯‘é—®é¢˜\"></a>Hexoç¼–è¯‘é—®é¢˜</h2><p>åœ¨æ‰§è¡Œ<code>hexo g</code>ç¼–è¯‘markdownæ–‡ä»¶æ—¶è«åæŠ¥é”™ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TypeError: Cannot set property &#39;lastIndex&#39; of undefined</span><br></pre></td></tr></table></figure>\n<p>è§£å†³æ–¹æ¡ˆæ˜¯åœ¨_config.ymlä¸­å°†<code>auto_detect</code>è®¾ä¸º<code>false</code></p>\n<h2 id=\"Podfileç”¨æ³•\"><a href=\"#Podfileç”¨æ³•\" class=\"headerlink\" title=\"Podfileç”¨æ³•\"></a>Podfileç”¨æ³•</h2><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¸‹é¢ä¸¤è¡Œæ˜¯æŒ‡æ˜ä¾èµ–åº“çš„æ¥æºåœ°å€</span></span><br><span class=\"line\">source <span class=\"string\">'https://github.com/CocoaPods/Specs.git'</span></span><br><span class=\"line\">source <span class=\"string\">'https://github.com/Artsy/Specs.git'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># è¯´æ˜å¹³å°æ˜¯iosï¼Œç‰ˆæœ¬æ˜¯8.0</span></span><br><span class=\"line\">platform <span class=\"symbol\">:ios</span>, <span class=\"string\">'8.0'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å¿½ç•¥å¼•å…¥åº“çš„æ‰€æœ‰è­¦å‘Šï¼ˆå¼ºè¿«ç—‡è€…çš„ç¦éŸ³å•Šï¼‰</span></span><br><span class=\"line\">inhibit_all_warnings!</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ç”Ÿæˆçš„æ˜¯frameworkè€Œä¸æ˜¯é™æ€åº“</span></span><br><span class=\"line\">use_frameworks!</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># é’ˆå¯¹MyApp targetå¼•å…¥AFNetworking</span></span><br><span class=\"line\"><span class=\"comment\"># é’ˆå¯¹MyAppTests targetå¼•å…¥OCMockï¼Œ</span></span><br><span class=\"line\">target <span class=\"string\">'MyApp'</span> <span class=\"keyword\">do</span> </span><br><span class=\"line\">pod <span class=\"string\">'AFNetworking'</span>, <span class=\"string\">'~&gt; 3.0'</span> </span><br><span class=\"line\">target <span class=\"string\">'MyAppTests'</span> <span class=\"keyword\">do</span></span><br><span class=\"line\">inherit! <span class=\"symbol\">:search_paths</span> </span><br><span class=\"line\">pod <span class=\"string\">'OCMock'</span>, <span class=\"string\">'~&gt; 2.0.1'</span> </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">pod <span class=\"string\">'JSONKit'</span>, <span class=\"symbol\">:podspec</span> =&gt; <span class=\"string\">'https://example.com/JSONKit.podspec'</span></span><br><span class=\"line\"><span class=\"comment\"># å¼•å…¥å†…éƒ¨åº“</span></span><br><span class=\"line\">pod <span class=\"string\">'ABTest'</span>, <span class=\"symbol\">:git</span> =&gt; <span class=\"string\">'https://bitbucket.org/sealcn/remoteabtest.git'</span></span><br><span class=\"line\">pod <span class=\"string\">'ABTest'</span>, <span class=\"symbol\">:git</span> =&gt; <span class=\"string\">'https://bitbucket.org/sealcn/remoteabtest.git'</span>, <span class=\"symbol\">:tag=&gt;</span> <span class=\"string\">'0.0.6'</span></span><br><span class=\"line\">pod <span class=\"string\">'ABTest'</span>, <span class=\"symbol\">:git</span> =&gt; <span class=\"string\">'https://bitbucket.org/sealcn/remoteabtest.git'</span>, <span class=\"symbol\">:commit=&gt;</span> <span class=\"string\">'082f8319af'</span></span><br><span class=\"line\"><span class=\"comment\"># ç¼–è¯‘é…ç½®ï¼ŒæŒ‡å®šä»…åœ¨Debugæ¨¡å¼ä¸‹å¯ç”¨</span></span><br><span class=\"line\">pod <span class=\"string\">'Reveal-SDK'</span>, <span class=\"symbol\">:configurations</span> =&gt; [<span class=\"string\">'Debug'</span>]</span><br><span class=\"line\"><span class=\"comment\"># ä½¿ç”¨æœ¬åœ°æ–‡ä»¶</span></span><br><span class=\"line\">pod <span class=\"string\">'AFNetworking'</span>, <span class=\"symbol\">:path</span> =&gt; <span class=\"string\">'~/Documents/AFNetworking'</span></span><br><span class=\"line\"><span class=\"comment\"># æŒ‡å®šç‰ˆæœ¬å·0.1.3åˆ°0.2ï¼Œä¸åŒ…æ‹¬0.2</span></span><br><span class=\"line\">pod <span class=\"string\">'CHIPageControl'</span>, <span class=\"string\">'~&gt; 0.1.3'</span></span><br><span class=\"line\"><span class=\"comment\"># ä»…å®‰è£…QueryKitä¸‹çš„Attributeå’ŒQuerySetæ¨¡å—</span></span><br><span class=\"line\">pod <span class=\"string\">'QueryKit'</span>, <span class=\"symbol\">:subspecs</span> =&gt; [<span class=\"string\">'Attribute'</span>, <span class=\"string\">'QuerySet'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"comment\"># è¿™ä¸ªæ˜¯cocoapodsçš„ä¸€äº›é…ç½®,å®˜ç½‘å¹¶æ²¡æœ‰å¤ªè¯¦ç»†çš„è¯´æ˜,ä¸€èˆ¬é‡‡å–é»˜è®¤å°±å¥½äº†,ä¹Ÿå°±æ˜¯ä¸å†™.</span></span><br><span class=\"line\">post_install <span class=\"keyword\">do</span> <span class=\"params\">|installer|</span>       </span><br><span class=\"line\">installer.pods_project.targets.each <span class=\"keyword\">do</span> <span class=\"params\">|target|</span> </span><br><span class=\"line\">puts target.name </span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>\n\n\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"ã€Šç²¾è¿›ã€‹é˜…åæ€»ç»“","url":"http://zhangferry.github.io/2018/09/02/jingjin-read-summary/","content":"<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-6b6566e95596f8a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ç²¾è¿›.png\"></p>\n<p>æœ€è¿‘åˆšçœ‹å®Œé‡‡é“œçš„è¿™æœ¬ã€Šç²¾è¿›-å¦‚ä½•æˆä¸ºä¸€ä¸ªå¾ˆå‰å®³çš„äººã€‹ï¼Œä¸€æœ¬å¾ˆå€¼å¾—æ¨èçš„ä¹¦ã€‚è¿™ç§è®²è¿°å¦‚ä½•å­¦ä¹ ï¼Œå¦‚ä½•è‡ªæˆ‘æå‡çš„ä¹¦å¾ˆå®¹æ˜“ä¸€ä¸å°å¿ƒå†™æˆç©ºæ´çš„å¿ƒçµé¸¡æ±¤ã€‚ç„¶è€Œæˆ‘åœ¨å®é™…é˜…è¯»ä¸­æ ¹æœ¬æ²¡æœ‰è¿™ç§æƒ³æ³•ï¼Œå› ä¸ºå®ƒä¸“ä¸šæ€§å¾ˆå¼ºï¼Œæˆ‘æ„Ÿå—åˆ°çš„æ˜¯ä½œè€…çš„åšå­¦å’Œè¯šæ„ï¼Œè¿˜æœ‰ç»å¸¸æ€§çš„å¥½åƒè¢«ç‚¹æ‹¨äº†ä¸€ä¸‹çš„æƒŠå–œã€‚æ²¡æœ‰æ·±å…¥çš„æ€è€ƒå’Œæ·±åšçš„å­¦æœ¯åŠŸåº•æ˜¯å†™ä¸å‡ºè¿™ç§ä¹¦ï¼Œæ¨èå¤§å®¶æœ‰æœºä¼šä¹Ÿä»”ç»†åœ°è¯»ä¸€è¯»ã€‚<br>é˜…è¯»è¿‡ç¨‹ä¸­ç”»äº†å¾ˆå¤šè‡ªå·±å—å¯å‘çš„è§‚ç‚¹ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯æˆ‘è¯»åˆ°çš„è¿™æœ¬ä¹¦ä¸­çš„ç²¾åéƒ¨åˆ†ï¼Œæ‘˜å½•äº†ä¸‹æ¥ã€‚å…¨ä¹¦åˆ†ä¸ƒä¸ªç« èŠ‚ï¼Œé€ä¸€è®²è¿°å¦‚ä½•æˆä¸ºä¸€ä¸ªå¾ˆå‰å®³çš„äººï¼š</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-53a1ff8e7834d421.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<a id=\"more\"></a>\n\n<h2 id=\"æ—¶é—´ä¹‹å°º\"><a href=\"#æ—¶é—´ä¹‹å°º\" class=\"headerlink\" title=\"æ—¶é—´ä¹‹å°º\"></a>æ—¶é—´ä¹‹å°º</h2><ul>\n<li>æ—å¾·æ²ƒæå‡ºçš„æ›´å¥½åœ°å¯¹å¾…æ—¶é—´çš„åæ¡å»ºè®®ï¼š<br>1ã€æ´»åœ¨å½“ä¸‹<br>2ã€ä¸¥è‚ƒåœ°å¯¹å¾…æ—¶é—´<br>3ã€ç•™æ„è‡ªå·±æ‹¥æœ‰çš„ç©ºé—´å¹¶äº«å—å®ƒ<br>4ã€åæ€è‡ªå·±å’Œå…¶ä»–äººçš„æ—¶é—´è§†è§’<br>5ã€ä»ç°åœ¨å‡ºå‘è”ç»“è¿‡å»<br>6ã€å¹¶ä¸å®Œå…¨æ²‰æµ¸äºè¿‡å»<br>7ã€æŒ‡å®šå®ç°ç›®æ ‡çš„è®¡åˆ’<br>8ã€å¹³è¡¡è®¡åˆ’å’Œéè®¡åˆ’æ—¶é—´<br>9ã€è§†æœªæ¥å­˜åœ¨ä¸å½“ä¸‹<br>10ã€å¯¹æœªæ¥ä¿æŒç§¯æçš„æ€åº¦</li>\n<li>éœ€è¦å¥½å¥½æ€è€ƒä¸€ä¸‹ï¼Œå¦‚ä½•é€šè¿‡ä¸€ç‚¹ä¸€æ»´çš„äººç”Ÿå¢é‡ï¼Œå®Œæˆä¸ªäººæ ¸å¿ƒç«äº‰åŠ›çš„é”»é€ ã€‚</li>\n<li>è®©â€œè¿œæœŸæœªæ¥â€æ›´åŠ å…·ä½“ï¼Œä¸ºâ€œè¿‘æœŸæœªæ¥â€å¢åŠ æŒ‘æˆ˜ã€‚</li>\n<li>æŠŠæ—¶é—´èŠ±åœ¨å€¼å¾—åšçš„äº‹æƒ…ä¸Šã€‚æ”¶ç›ŠæŒ‡+æ”¶ç›ŠåŠè¡°æœŸã€‚</li>\n<li>ä½¿ç”¨æ—¶é—´ä¹‹å°ºï¼Œå®¡è§†äº‹ä»¶çš„é•¿æœŸä»·å€¼ï¼Œå°½å¯èƒ½åˆ å‡æ‰éå¿…è¦äº‹ä»¶ã€‚</li>\n<li>ä¾¯ä¸–è¾¾å®šå¾‹ï¼šå®é™…åšäº‹èŠ±è´¹çš„æ—¶é—´æ€»æ¯”é¢„æœŸè¦é•¿ï¼Œå³ä½¿é¢„æœŸä¸­è€ƒè™‘äº†ä¾¯ä¸–è¾¾å®šå¾‹ã€‚</li>\n<li>æå‡æ—¶é—´ä½¿ç”¨çš„â€œæ·±åº¦â€ï¼Œå‡å°‘è¢«åŠ¨å¼ä¼‘é—²çš„æ¯”ä¾‹ï¼Œä¿æŒè‡³å°‘ä¸€é¡¹é•¿æœŸçš„ä¸šä½™çˆ±å¥½ã€‚<h2 id=\"å¯»æ‰¾å¿ƒä¸­çš„â€œå·´æ‹¿é©¬â€\"><a href=\"#å¯»æ‰¾å¿ƒä¸­çš„â€œå·´æ‹¿é©¬â€\" class=\"headerlink\" title=\"å¯»æ‰¾å¿ƒä¸­çš„â€œå·´æ‹¿é©¬â€\"></a>å¯»æ‰¾å¿ƒä¸­çš„â€œå·´æ‹¿é©¬â€</h2></li>\n<li>ä»…ä»…æ˜¯å¥½çš„é€‰æ‹©æ˜¯ä¸å¤Ÿçš„æˆ‘ä»¬éœ€è¦çš„äº‹æœ€å¥½çš„é€‰æ‹©ã€‚</li>\n<li>ä¸€ä¸ªæˆç†Ÿçš„äººï¼Œä»–çš„æ ‡å‡†æ¥è‡ªä»–çš„å†…å¿ƒã€‚</li>\n<li>äººä¸èƒ½åªä¸ºä»–è‡ªå·±è€Œæ´»ã€‚æˆ‘ä»¬å¿…é¡»è®¤çŸ¥æ‰€æœ‰çš„ç”Ÿå‘½éƒ½æ˜¯çè´µçš„ï¼Œè€Œæˆ‘ä»¬å’Œæ‰€æœ‰çš„ç”Ÿå‘½æ˜¯ç»“åˆåœ¨ä¸€èµ·çš„ã€‚è¿™ç§è®¤çŸ¥æŒ‡å¼•äº†æˆ‘ä»¬å¿ƒçµå’Œå®‡å®™çš„å…³ç³»ã€‚</li>\n<li>æœ€è¿‘ä¸€å‘¨ï¼Œæˆ‘æ‰€åšè¿‡çš„æœ€æœ‰æ„ä¹‰çš„ä¸€ä»¶äº‹ï¼š<strong>____</strong></li>\n<li>æ°¸è¿œä¸è¦æ”¾å¼ƒå¯»æ‰¾â€œç¬¬ä¸‰é€‰æ‹©â€ï¼Œå› ä¸ºæœ€å¥½çš„é€‰æ‹©ï¼Œå¾€å¾€æ¥è‡ªåœ¨æ›´é«˜ç›®æ ‡æŒ‡å¼•ä¸‹çš„æˆ‘ä»¬çš„åˆ›é€ ã€‚</li>\n<li>å©šæ‹æ‹‡æŒ‡æ³•åˆ™ï¼šç”Ÿç†ä¸Šæœ‰å†²åŠ¨ï¼Œç²¾ç¥ä¸Šå—é¼“èˆï¼Œæ²Ÿé€šä¸Šå¾ˆæµç•…ã€‚</li>\n<li>äººç”Ÿæ˜¯æŒç»­è€Œåå¤çš„æ„é€ ï¼Œæ ¡æ­£é€‰æ‹©ï¼Œåšå‡ºå»ºè®¾æ€§çš„æ”¹å˜ã€‚</li>\n<li>ä¸ç®¡ä½ åšäº†å“ªä¸ªé€‰æ‹©ï¼Œä½ çš„æŸäº›ä¸œè¥¿æ°¸è¿œä¸ä¼šæ”¹å˜ï¼Œæœ€ç»ˆå¸¦ç€ä½ èµ°å‘ç›®çš„åœ°çš„ï¼Œå¯èƒ½å¹¶ä¸æ˜¯æŸä¸€ä¸ªé€‰æ‹©ï¼Œè€Œæ˜¯é‚£äº›ä½ ä¸ä¼šæ”¹å˜çš„ä¸œè¥¿ã€‚<h2 id=\"å³åˆ»è¡ŒåŠ¨\"><a href=\"#å³åˆ»è¡ŒåŠ¨\" class=\"headerlink\" title=\"å³åˆ»è¡ŒåŠ¨\"></a>å³åˆ»è¡ŒåŠ¨</h2></li>\n<li>å¼€å§‹å¹¶å®Œæˆä¸€ä»¶äº‹æƒ…ï¼Œæ¯”åšå¥½å®ƒæ›´é‡è¦ã€‚å› ä¸ºåªè¦å¼€å§‹äº†ï¼Œä½ å°±æœ‰æœºä¼šæŠŠå®ƒåšå¾—æ›´å¥½ã€‚</li>\n<li>å…ˆæŠŠå¿…é¡»è¦åšçš„å°æ—¶å¤„ç†æ‰ï¼Œä½¿æˆ‘ä»¬ä¿æŒç§¯æå’Œä»å®¹å¿ƒæ€çš„ä¸€å‰‚è‰¯æ–¹ã€‚</li>\n<li>â€œç²¾ç›Šåˆ›ä¸šâ€æœ‰ä¸ªå…³é”®æ¦‚å¿µå«â€œæœ€å°åŒ–å¯è¡Œäº§å“â€ï¼Œå®ƒæŒ‡çš„æ˜¯å¯ä»¥ä½¿ç”¨æœ€å°‘çš„èµ„æºã€è¢«æœ€å¿«åˆ¶ä½œå‡ºæ¥çš„ã€å¯æ‰§è¡ŒåŸºæœ¬åŠŸèƒ½çš„ã€èƒ½è¢«ç”¨æˆ·ä½¿ç”¨çš„å®éªŒæ€§äº§å“ã€‚åˆ›ä¸šè€…åº”è¯¥å°½å¿«æŠŠæœ€å°åŒ–å¯è¡Œäº§å“å‘å¸ƒå‡ºå»ï¼Œç„¶åæ ¹æ®ç”¨æˆ·ä½¿ç”¨å®ƒçš„åé¦ˆæ¥è¿›è¡Œä¼˜åŒ–ï¼Œè¿™ä¸€è¿‡ç¨‹ç§°ä¸ºâ€œæ„å»º-æµ‹é‡-å­¦ä¹ â€çš„å¾ªç¯ã€‚</li>\n<li>æˆç†Ÿå¿ƒæ™ºçš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå®ƒèƒ½ä¸åä¸å€šåœ°ã€å…¬æ­£åœ°å¯¹å¾…è‡ªå·±å’Œå…¶ä»–äººçš„æ„è§ï¼Œæ—¢ä¸å›ºæ­¥è‡ªå°ä¹Ÿä¸é™„å’Œç›²ä»ã€‚</li>\n<li>å¤šçº¿ç¨‹å·¥ä½œï¼Œé¦–å…ˆéœ€è¦ä¸€æ®µä¸“æ³¨ä¸å—å¹²æ‰°çš„æ—¶é—´ï¼Œå®Œæˆå·¥ä½œä¸­æœ€æ ¸å¿ƒéƒ¨åˆ†çš„æ€è€ƒã€‚</li>\n<li>è¡ŒåŠ¨åè¦åŠæ—¶åæ€ï¼Œå¹¶æ¢³ç†è¿™ä»¶äº‹æƒ…çš„â€œååº”è¿â€ï¼Œç‰¹åˆ«å…³æ³¨å…¶ä¸­å‘ç”Ÿçš„æ„å¤–ç°è±¡ã€‚<h2 id=\"æ€æ ·çš„å­¦ä¹ ï¼Œæ‰èƒ½å¤Ÿç›´é¢ç°å®\"><a href=\"#æ€æ ·çš„å­¦ä¹ ï¼Œæ‰èƒ½å¤Ÿç›´é¢ç°å®\" class=\"headerlink\" title=\"æ€æ ·çš„å­¦ä¹ ï¼Œæ‰èƒ½å¤Ÿç›´é¢ç°å®\"></a>æ€æ ·çš„å­¦ä¹ ï¼Œæ‰èƒ½å¤Ÿç›´é¢ç°å®</h2></li>\n<li>å­¦ä¹ ï¼Œåº”è¯¥ä»¥å­¦ä¹ è€…å¿ƒä¸­çš„é—®é¢˜æœªä¸­å¿ƒï¼Œè®©é—®é¢˜å¼•å¯¼ç€æˆ‘ä»¬å»æ¢æ±‚ç­”æ¡ˆã€‚</li>\n<li>ä¸è¦åªåšä¿¡æ¯çš„æ¬è¿å·¥ï¼Œé€šè¿‡è§£ç ï¼Œæ·±å…¥äº‹ç‰©çš„æ·±å±‚ã€‚</li>\n<li>ä¼Ÿå¤§çš„è‰ºæœ¯ä½œå“ï¼Œå¸¸å¸¸æœ‰å¾ˆæ·±åšçš„å†…æ¶µå’Œå¾ˆç²¾å·§ç»†å¾®çš„æŠ€æ³•ï¼Œä¸è®ºä½ åœ¨å“ªä¸ªæˆ–æ·±æˆ–æµ…çš„å±‚æ¬¡ä¸Šè§£è¯»ä»–ï¼Œä»–éƒ½èƒ½å‘ˆç°å‡ºç¾å¦™çš„æ„å‘³ï¼Œä½†å¦‚æœä½ ä¸åšä¸€ç•ªç»†å¿ƒçš„åŠªåŠ›å’ŒæŒ–æ˜ï¼Œå°±åªèƒ½å°åˆ°æœ€è¡¨å±‚çš„é‚£ä¸€å°éƒ¨åˆ†å‘³é“ã€‚</li>\n<li>æ•™è‚²å¿ƒç†å­¦å®¶æŠŠåœ¨æŸä¸€é¢†åŸŸæœ‰ä¸“é•¿çš„äººå£«ï¼Œåˆ†ä¸ºâ€œå¸¸è§„æ€§ä¸“é•¿â€å’Œâ€œé€‚åº”æ€§ä¸“é•¿â€ã€‚</li>\n<li>æ±‚èŒåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼šä¿¡æ¯ã€çŸ¥è¯†å’ŒæŠ€èƒ½ã€æŠ€èƒ½æ˜¯å­¦ä¹ çš„ç»ˆç‚¹ï¼Œä¿¡æ¯å’ŒçŸ¥è¯†æ˜¯è¿ˆå‘è¿™ä¸ªç»ˆç‚¹çš„è·¯æ²³æ¡¥ã€‚</li>\n<li>åˆ©ç”¨äº¤æ›¿è¿ç”¨æ„è¯†å’Œæ½œæ„è¯†è¿›è¡Œåˆ›é€ æ€§æ€è€ƒã€‚<h2 id=\"å‘æœªçŸ¥çš„æ— é™é€¼è¿‘\"><a href=\"#å‘æœªçŸ¥çš„æ— é™é€¼è¿‘\" class=\"headerlink\" title=\"å‘æœªçŸ¥çš„æ— é™é€¼è¿‘\"></a>å‘æœªçŸ¥çš„æ— é™é€¼è¿‘</h2></li>\n<li>ç®€åŒ–æ€ç»´æ„å‘³ç€æˆ‘ä»¬æ—¢è¦ç®€åŒ–å¤–ç•Œè¾“å…¥çš„ä¿¡æ¯ï¼Œä¹Ÿè¦ç®€åŒ–æˆ‘ä»¬è¡¨è¾¾å‡ºæ¥çš„ä¿¡æ¯ï¼Œæ›´è¦ç®€åŒ–æˆ‘ä»¬ä¸€ç›´æ€è€ƒç€çš„ä¿¡æ¯ã€‚</li>\n<li>å¦‚ä½•è¿‡æ»¤æ²¡æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼šç²¾é€‰å¯ä¿¡èµ–çš„ä¿¡æ¯æºã€ä¸è¿½é€å½“ä¸‹æµè¡Œæˆ–è¿‡çƒ­çš„ä¿¡æ¯ã€é‡äº‹å®ä¿¡æ¯ï¼Œè½»è§‚ç‚¹å’Œè¯„è®ºã€å®šæœŸé—­å…³ï¼Œå±è”½å¤–ç•Œçº·æ‰°ã€‚</li>\n<li>ç”¨è¶³å¤Ÿå¤šçš„èµ„æ–™â€œå–‚å…»â€æ½œæ„è¯†ã€‚</li>\n<li>æ¯”å¦‚æ•´ç†ä¹¦æŸœå¹¶æ›´æ¢ä¸€ç§æ–°çš„å›¾ä¹¦åˆ†ç±»æ–¹æ³•ï¼Œæˆ–è€…æ”¹å˜æ—¥å¸¸ä¸Šä¸‹ç­çš„è·¯çº¿å»æ¢ç´¢ä¸€æ¡ä»æœªèµ°è¿‡çš„è·¯çº¿ï¼Œä¹Ÿå¯ä»¥å°è¯•ä¸ä¸åŒçš„åŒå­¦æˆ–åŒäº‹å…±è¿›åˆé¤ç­‰ï¼Œè¿™äº›å°å˜åŒ–å¼•èµ·çš„æ‰°åŠ¨å¯èƒ½ä¼šåˆºæ¿€å‡ºæˆ‘ä»¬æ–°çš„æƒ³æ³•ã€‚</li>\n<li>æŠŠæ€ç»´è½¬åŒ–ä¸ºå¤–æ˜¾å›¾å½¢ï¼Œä¸ºæˆ‘ä»¬çš„æ€è€ƒæ‰©å±•å‡ºäº†ä¸€ä¸ªæ›´å¤§çš„ç©ºé—´ã€‚</li>\n<li>ç°å®ä¸­çš„é—®é¢˜ï¼Œæ€»æ˜¯ç‰µæ¶‰å¤ªå¤šçš„å› ç´ ï¼Œå€ŸåŠ©çŸ©é˜µã€æ¸…å•ç­‰å·¥å…·å¯ä»¥å®Œå–„æ€è€ƒçš„å‘¨å¯†ç¨‹åº¦ã€‚</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>æˆ‘çŸ¥é“</th>\n<th>æˆ‘ä¸çŸ¥é“</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>åˆ«äººçŸ¥é“</td>\n<td>å…¬å¼€åŒº</td>\n<td>ç›²åŒº</td>\n</tr>\n<tr>\n<td>åˆ«äººä¸çŸ¥é“</td>\n<td>éšç§˜åŒº</td>\n<td>æœªçŸ¥åŒº</td>\n</tr>\n<tr>\n<td>* ä¸ºäº†è®©æ€ç»´æ›´å¥½çš„å‘æ•£ï¼Œè·å¾—æ›´å¤šçš„çµæ„Ÿï¼Œä¸€æ˜¯è¦å…³æ‰å¤§è„‘é‡Œè¯„è®ºçš„ç©ºé—´ï¼Œè€Œæ˜¯è¦é€‚å½“çš„å¼•å…¥æ··ä¹±ä¸éšæœºã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* ä¸€ä¸ªå…·æœ‰é«˜åº¦å¯å¡‘æ€§çš„å¤§è„‘åœ¨è‰¯å¥½æ€ç»´å·¥å…·çš„è¾…åŠ©ä¸‹ï¼Œåœ¨æŒç»­ä¸æ–­çš„è¡ŒåŠ¨çš„æ‰“ç£¨ä¸­ï¼Œä¼šå¼ºå¤§çš„è¶…å‡ºä½ çš„æƒ³è±¡ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>## åŠªåŠ›ï¼Œæ˜¯ä¸€ç§æœ€éœ€è¦å­¦ä¹ çš„æ‰èƒ½</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* åŠªåŠ›ä¸æ˜¯ä¸€åœºæ„å¿—åŠ›çš„è¾ƒé‡ï¼Œè€Œæ˜¯ä¸€ç§éœ€è¦å­¦ä¹ çš„ç­–ç•¥ï¼Œå¯ä»¥ä¸æ–­å­¦ä¹ å’Œä¼˜åŒ–ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* åœ¨å¿ƒç†å­¦å®¶çœ¼ä¸­ï¼Œâ€œæ‰èƒ½â€è¢«å®šä¹‰ä¸ºâ€œè‡ªå‘åœ°é‡å¤å‡ºç°ä¸”å¯æ‚²é«˜æ•ˆåˆ©ç”¨çš„æ€ç»´ã€æƒ…æ„Ÿæˆ–è¡Œä¸ºæ¨¡å¼ã€‚â€</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* ä»¥å¤§å¤šæ•°äººçš„åŠªåŠ›ç¨‹åº¦ä¹‹ä½ï¼Œæ ¹æœ¬è½®ä¸åˆ°æ‹¼å¤©èµ‹ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* æŒ‘æˆ˜æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œä¸æ–­ä¸ºè‡ªå·±è®¾è®¡â€œå¿…è¦çš„éš¾åº¦â€æŒ‘æˆ˜ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* ä¸ç—›è‹¦åœ°åšæŒåˆ°åº•ï¼Œåªæœ‰æ·±å…¥ä¸‹å»ï¼Œæ‰èƒ½åŸ¹å…»å‡ºçœŸæ­£çš„å…´è¶£ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* å› åŠªåŠ›è€Œçƒ­çˆ±ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* æŠŠæ—¶é—´æŠ•æ”¾åœ¨ä¸€ä¸ªé¢†åŸŸï¼Œä»¥å°½é‡é«˜çš„æ ‡å‡†è¦æ±‚è‡ªå·±ï¼ŒåŸ¹å…»å‡ºéå¸¸é«˜çš„æ‰èƒ½ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>## æ¯ä¸€ä¸ªæˆåŠŸè€…ï¼Œéƒ½æ˜¯å”¯ä¸€çš„</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* åˆ›é€ æˆåŠŸï¼Œè€Œä¸æ˜¯å¤åˆ¶æˆåŠŸã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* åšä¸€ä¸ªç§¯æçš„é¢„è®¾åˆ¤æ–­è¦ä¼˜äºæ¶ˆæçš„é¢„è®¾åˆ¤æ–­ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* å°è¯•å¯èƒ½ä¼šçŠ¯é”™ï¼Œå¯èƒ½ä¼šé­é‡å¤±è´¥ï¼Œä½†å¤±è´¥æ˜¯åŒ…å«ä¿¡æ¯çš„ï¼Œç”šè‡³æ¯”æˆåŠŸåŒ…å«çš„ä¿¡æ¯é‡æ›´å¤§ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* ä¸€ä¸ªè‡ªæˆ‘æ•™è‚²è€…åº”è¯¥å­¦ä¼šå®šæœŸå®¡è§†è‡ªå·±çš„æ‰€çŸ¥å’ŒæœªçŸ¥ï¼Œèƒ½è¯„ä¼°è‡ªå·±æ‰€å­¦çŸ¥è¯†çš„ä»·å€¼ï¼Œç‰¹åˆ«æ˜¯åœ¨å®è·µé¢†åŸŸä¸­çš„ä»·å€¼ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* åœ¨ç°å®ä¸–ç•Œä¸­æ€è€ƒç†è®ºé—®é¢˜ï¼Œåœ¨ç†è®ºä¸–ç•Œä¸­æ€è€ƒç°å®é—®é¢˜ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* ä¸ºå¤§ä¼—å¸¦æ¥æ–°é²œçš„è§è§£å’Œå¯å‘ï¼Œå½¢æˆå¯¹å…¬ä¼—çš„å½±å“åŠ›ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* æŠ—æ‹’è‡ªå·±çš„æ¬²æœ›ï¼Œæˆ–è€…å»¶è¿Ÿæ»¡è¶³æ¬²æœ›ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* æ ¹æ®è‡ªå·±çš„å†…å¿ƒéœ€æ±‚ï¼Œè€Œä¸æ˜¯å¤–ç•Œçš„è®¤åŒï¼Œä½œå‡ºç‹¬ç«‹çš„é€‰æ‹©ï¼Œç”šè‡³å»åšä¸€äº›é…·çš„äº‹æƒ…ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>* å¦‚æœä½ æ‰¾åˆ°äº†ä¸€æ¡åˆ«äººéƒ½è¿˜æ²¡èµ°è¿‡çš„è·¯ï¼Œåªè¦æŠŠè¿™æ¡è·¯èµ°å®Œï¼Œä½ å°±èµ¢äº†ã€‚</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n","categories":[],"tags":["é˜…è¯»"]},{"title":"ä½¿ç”¨Cocoapodsç®¡ç†ç§æœ‰åº“ç»„ä»¶","url":"http://zhangferry.github.io/2018/08/30/private-Cocoapods/","content":"<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-ab8debcc283dcc57.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"cocoapods.png\"></p>\n<p>CocoaPodsæ˜¯OS Xå’ŒiOSä¸‹çš„ä¸€ä¸ªç¬¬ä¸‰æ–¹å¼€æºç±»åº“ç®¡ç†å·¥å…·ï¼Œé€šè¿‡CocoaPodså·¥å…·æˆ‘ä»¬å¯ä»¥ä¸ºé¡¹ç›®æ·»åŠ ä¾èµ–åº“ï¼ˆè¿™äº›ç±»åº“å¿…é¡»æ˜¯CocoaPodsæœ¬èº«æ‰€æ”¯æŒçš„ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾ç®¡ç†å…¶ç‰ˆæœ¬ã€‚å®ƒæ˜¯ç›®å‰iOSå¼€å‘ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„å¼€æºåº“ç®¡ç†å·¥å…·ï¼Œå¦‚æœæˆ‘ä»¬å†…éƒ¨åä½œçš„ç»„ä»¶åŒ–èƒ½å¤Ÿä½¿ç”¨è¿™ç§æ–¹å¼ç®¡ç†çš„è¯ï¼Œé‚£å°†æ˜¯å¾ˆä¾¿åˆ©çš„ã€‚<br>åœ¨é€šè¿‡Cocoapodså»ºç«‹å†…éƒ¨ç§æœ‰åº“ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†ç†Ÿæ‚‰ä¸‹Cocoapodsçš„å·¥ä½œæµç¨‹ï¼Œæˆ‘ä»¬åˆ›å»ºå†…éƒ¨ç§æœ‰åº“æ—¶ä¹Ÿä¼šä¾ç…§è¿™ä¸ªæµç¨‹æ¥ã€‚</p>\n<a id=\"more\"></a>\n<blockquote>\n<p>æœ¬æ–‡ç›®å½•<br>ä¸€ã€Cocoapodsçš„å·¥ä½œæµç¨‹<br>äºŒã€å»ºç«‹Cocoapodsç§æœ‰åº“<br>ä¸‰ã€ä½¿ç”¨ç§æœ‰åº“<br>å››ã€é—®é¢˜æ€»ç»“</p>\n</blockquote>\n<h2 id=\"Cocoapodså·¥ä½œæµç¨‹\"><a href=\"#Cocoapodså·¥ä½œæµç¨‹\" class=\"headerlink\" title=\"Cocoapodså·¥ä½œæµç¨‹\"></a>Cocoapodså·¥ä½œæµç¨‹</h2><p>å·¥ä½œæµç¨‹å¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-4799e6f105e76e18.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"cocoapods_work_flows\"></p>\n<h3 id=\"è¿œç¨‹ç´¢å¼•åº“ï¼š\"><a href=\"#è¿œç¨‹ç´¢å¼•åº“ï¼š\" class=\"headerlink\" title=\"è¿œç¨‹ç´¢å¼•åº“ï¼š\"></a>è¿œç¨‹ç´¢å¼•åº“ï¼š</h3><p>è¿™é‡Œå­˜æ”¾äº†å„ä¸ªæ¡†æ¶çš„æè¿°æ–‡ä»¶ï¼Œæ‰˜ç®¡åœ¨githubä¸Šï¼š<br><a href=\"https://github.com/CocoaPods/Specs\">CocoaPods/Specs</a></p>\n<h3 id=\"æœ¬åœ°ç´¢å¼•åº“ï¼š\"><a href=\"#æœ¬åœ°ç´¢å¼•åº“ï¼š\" class=\"headerlink\" title=\"æœ¬åœ°ç´¢å¼•åº“ï¼š\"></a>æœ¬åœ°ç´¢å¼•åº“ï¼š</h3><p>åœ¨å®‰è£…cocoapodsæ—¶ï¼Œæ‰§è¡Œçš„<code>pod setup</code>å°±æ˜¯è®²è¿œç¨‹ç´¢å¼•å…‹éš†åˆ°æœ¬åœ°ï¼Œæœ¬åœ°ç´¢å¼•çš„ç›®å½•ä¸ºï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~&#x2F;.cocoapods&#x2F;repos&#x2F;master</span><br></pre></td></tr></table></figure>\n<p>æœ¬åœ°ç´¢å¼•å’Œè¿œç¨‹ç´¢å¼•çš„ç›®å½•ä¸€è‡´ï¼Œç»“æ„å¦‚ä¸‹ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-de2a30d6996c2107.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"localRepo.png\"></p>\n<p>æ¯ä¸ªåº“çš„æ¯ä¸ªç‰ˆæœ¬éƒ½å¯¹åº”ä¸€ä¸ªjsonæ ¼å¼çš„æè¿°æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;name&quot;: &quot;YYImage&quot;,</span><br><span class=\"line\">&quot;summary&quot;: &quot;Image framework for iOS to display&#x2F;encode&#x2F;decode animated WebP, APNG, GIF, and more.&quot;,</span><br><span class=\"line\">&quot;version&quot;: &quot;1.0&quot;,</span><br><span class=\"line\">&quot;license&quot;: &#123;</span><br><span class=\"line\">&quot;type&quot;: &quot;MIT&quot;,</span><br><span class=\"line\">&quot;file&quot;: &quot;LICENSE&quot;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;authors&quot;: &#123;</span><br><span class=\"line\">&quot;ibireme&quot;: &quot;ibireme@gmail.com&quot;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;social_media_url&quot;: &quot;http:&#x2F;&#x2F;blog.ibireme.com&quot;,</span><br><span class=\"line\">&quot;homepage&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;ibireme&#x2F;YYImage&quot;,</span><br><span class=\"line\">&quot;platforms&quot;: &#123;</span><br><span class=\"line\">&quot;ios&quot;: &quot;6.0&quot;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;source&quot;: &#123;</span><br><span class=\"line\">&quot;git&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;ibireme&#x2F;YYImage.git&quot;,</span><br><span class=\"line\">&quot;tag&quot;: &quot;1.0&quot;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;requires_arc&quot;: true,</span><br><span class=\"line\">&quot;default_subspecs&quot;: &quot;Core&quot;,</span><br><span class=\"line\">&quot;subspecs&quot;: [</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;name&quot;: &quot;Core&quot;,</span><br><span class=\"line\">&quot;source_files&quot;: &quot;YYImage&#x2F;*.&#123;h,m&#125;&quot;,</span><br><span class=\"line\">&quot;public_header_files&quot;: &quot;YYImage&#x2F;*.&#123;h&#125;&quot;,</span><br><span class=\"line\">&quot;libraries&quot;: &quot;z&quot;,</span><br><span class=\"line\">&quot;frameworks&quot;: [</span><br><span class=\"line\">&quot;UIKit&quot;,</span><br><span class=\"line\">&quot;CoreFoundation&quot;,</span><br><span class=\"line\">&quot;QuartzCore&quot;,</span><br><span class=\"line\">&quot;AssetsLibrary&quot;,</span><br><span class=\"line\">&quot;ImageIO&quot;,</span><br><span class=\"line\">&quot;Accelerate&quot;,</span><br><span class=\"line\">&quot;MobileCoreServices&quot;</span><br><span class=\"line\">]</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;name&quot;: &quot;WebP&quot;,</span><br><span class=\"line\">&quot;dependencies&quot;: &#123;</span><br><span class=\"line\">&quot;YYImage&#x2F;Core&quot;: [</span><br><span class=\"line\"></span><br><span class=\"line\">]</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;ios&quot;: &#123;</span><br><span class=\"line\">&quot;vendored_frameworks&quot;: &quot;Vendor&#x2F;WebP.framework&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æœ¬åœ°ç´¢å¼•æ–‡ä»¶\"><a href=\"#æœ¬åœ°ç´¢å¼•æ–‡ä»¶\" class=\"headerlink\" title=\"æœ¬åœ°ç´¢å¼•æ–‡ä»¶\"></a>æœ¬åœ°ç´¢å¼•æ–‡ä»¶</h3><p>å½“æ‰§è¡Œpod searchå‘½ä»¤æ—¶ï¼Œå¦‚æœæœ¬åœ°ç´¢å¼•ä¸å­˜åœ¨ï¼Œå°±ä¼šåˆ›å»ºå‡ºæ¥ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pod search afn</span><br><span class=\"line\">Creating search index for spec repo &#39;master&#39;..</span><br></pre></td></tr></table></figure>\n<p>æœ¬åœ°ç´¢å¼•æ–‡ä»¶è·¯å¾„ä¸ºï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~&#x2F;Library&#x2F;Cache&#x2F;Cocoapods&#x2F;Pods</span><br></pre></td></tr></table></figure>\n<h3 id=\"è¿œç¨‹æ¡†æ¶åº“\"><a href=\"#è¿œç¨‹æ¡†æ¶åº“\" class=\"headerlink\" title=\"è¿œç¨‹æ¡†æ¶åº“\"></a>è¿œç¨‹æ¡†æ¶åº“</h3><p>ä»¥YYImageä¸ºä¾‹ï¼Œå®ƒçš„è¿œç¨‹æ¡†æ¶åº“å°±æ˜¯jsonæ–‡ä»¶ä¸­çš„sourceï¼š<br><a href=\"https://github.com/ibireme/YYImage.git\">https://github.com/ibireme/YYImage.git</a></p>\n<p>æ‰€ä»¥å†ç”¨æ–‡å­—æ€»ç»“ä¸‹Cocoapodså·¥ä½œæµç¨‹å¤§æ¦‚å°±æ˜¯<br>1ã€æœ¬åœ°å®‰è£…cocoapodsï¼Œå»ºç«‹æœ¬åœ°ç´¢å¼•åº“å’Œè¿œç¨‹ç´¢å¼•åº“çš„æ˜ å°„<br>2ã€æœ¬åœ°é¡¹ç›®pod install<br>3ã€æŸ¥æ‰¾æœ¬åœ°ç´¢å¼•æ–‡ä»¶ï¼Œç„¶åæ‰¾åˆ°å„ä¸ªåº“å¯¹åº”ç‰ˆæœ¬çš„jsonæ–‡ä»¶<br>4ã€é€šè¿‡jsonæ–‡ä»¶sourceå­—æ®µæ‰¾åˆ°å¼•ç”¨åº“çš„gitåœ°å€<br>5ã€æŠŠåº“æ–‡ä»¶æ‹‰åˆ°æœ¬åœ°é¡¹ç›®</p>\n<h2 id=\"å»ºç«‹Cocoapodsç§æœ‰åº“ï¼ˆframeworkï¼‰\"><a href=\"#å»ºç«‹Cocoapodsç§æœ‰åº“ï¼ˆframeworkï¼‰\" class=\"headerlink\" title=\"å»ºç«‹Cocoapodsç§æœ‰åº“ï¼ˆframeworkï¼‰\"></a>å»ºç«‹Cocoapodsç§æœ‰åº“ï¼ˆframeworkï¼‰</h2><p>å»ºè®®é‡‡ç”¨frameworkçš„å½¢å¼åˆ›å»ºç§æœ‰åº“ï¼Œè¿™å¯ä»¥å¾ˆå¥½çš„åœ¨å¼€å‘é˜¶æ®µæ£€æŸ¥å‡ºåº“çš„ä¸å…¼å®¹æˆ–è€…æ–‡ä»¶æƒé™å‡ºç°çš„é—®é¢˜ï¼ŒSwiftç¼–å†™çš„ä»£ç é€šè¿‡Cocoapodsç”Ÿæˆçš„éƒ½æ˜¯frameworkã€‚</p>\n<h3 id=\"0ã€å‡†å¤‡å·¥ä½œï¼š\"><a href=\"#0ã€å‡†å¤‡å·¥ä½œï¼š\" class=\"headerlink\" title=\"0ã€å‡†å¤‡å·¥ä½œï¼š\"></a>0ã€å‡†å¤‡å·¥ä½œï¼š</h3><p><strong>å¦‚ä½•å»ºç«‹è¿œç¨‹ç´¢å¼•åº“</strong><br>é¦–å…ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªå†…éƒ¨çš„è¿œç¨‹ç´¢å¼•åº“ï¼Œç±»ä¼¼<code>Cocoapods/Spec</code>çš„åŠŸèƒ½ï¼Œä¹‹åæ·»åŠ çš„åº“æ–‡ä»¶ç´¢å¼•æ–‡ä»¶éƒ½ä¼šå­˜æ”¾åˆ°è¿™é‡Œï¼š<a href=\"https://zhangferry@bitbucket.org/sealcn/sealrepo.git\">https://zhangferry@bitbucket.org/sealcn/sealrepo.git</a><br>å»ºç«‹æœ¬åœ°å’Œè¿œç¨‹ç´¢å¼•ä»“åº“çš„å…³è”ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod repo add SealRepo https:&#x2F;&#x2F;zhangferry@bitbucket.org&#x2F;sealcn&#x2F;sealrepo.git</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œ<code>pod repo</code><br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-bc4880496ed40db6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"91bd1bf2.png\"></p>\n<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æœ‰äº†ä¸¤ä¸ªç´¢å¼•ä»“åº“ï¼Œå¯ä»¥å»åœ¨è¿™ä¸ªç›®å½•<code>~/.cocoapods/repos</code>çœ‹åˆ°æˆ‘ä»¬åˆšå»ºç«‹çš„SealRepoã€‚</p>\n<p><strong>å¦‚ä½•ç»„ç»‡æ–‡ä»¶ç»“æ„</strong><br>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹<a href=\"https://github.com/Alamofire/Alamofire\">Alamofire</a>çš„æ–‡ä»¶ç»„ç»‡ç»“æ„ï¼š</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-a2e182ab582670fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>æˆ‘ä»¬çœ‹åˆ°è¿™å‡ ä¸ªæ–‡ä»¶ï¼š</p>\n<ul>\n<li><code>Source</code>ç”¨äºå­˜æ”¾Frameworkæºæ–‡ä»¶ï¼Œ</li>\n<li><code>Example</code>ç”¨äºæ”¾Demoé¡¹ç›®</li>\n<li><code>docs</code>å’Œ<code>Documentation</code>æ”¾è¯´æ˜æ–‡æ¡£ï¼Œè¿™ä¸ªæ˜¯å¯é€‰çš„ï¼Œ</li>\n<li><code>Tests</code>æµ‹è¯•æ–‡ä»¶ä¹Ÿæ˜¯å¯é€‰ã€‚<br>æˆ‘ä»¬åˆ¶ä½œç§æœ‰åº“æ—¶ä¼šä»¿ç…§è¿™ä¸ªæ ¼å¼ã€‚<h3 id=\"ä¸€ã€åˆ¶ä½œframework\"><a href=\"#ä¸€ã€åˆ¶ä½œframework\" class=\"headerlink\" title=\"ä¸€ã€åˆ¶ä½œframework\"></a>ä¸€ã€åˆ¶ä½œframework</h3><img src=\"https://upload-images.jianshu.io/upload_images/1059465-273e8e64bfbb617d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"3f2a44c9.png\"></li>\n</ul>\n<p>å› ä¸ºæ˜¯Swiftçš„å·¥ç¨‹ï¼Œæ¥å£çš„å¼€æ”¾ç›´æ¥é€šè¿‡openã€publicç­‰å…³é”®å­—æŒ‡å®šï¼Œæ‰€ä»¥å·¥ç¨‹ä¸­çš„ABTest.hå¤´æ–‡ä»¶å¯ä»¥åˆ é™¤ï¼ŒåŠ å…¥æˆ‘ä»¬è‡ªå·±çš„åº“æ–‡ä»¶ã€‚<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-312ee35e4b2f5ab9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"5f8d2d4d.png\"><br>æ³¨æ„ï¼šåœ¨å†™å…¬æœ‰åº“æ–‡ä»¶æ—¶ï¼Œå¯¹å¤–ç•Œå¼€æ”¾çš„å±æ€§ï¼Œæ–¹æ³•éœ€è¦å¸¦ä¸Š<code>public</code>æˆ–è€…<code>open</code>å…³é”®å­—ã€‚</p>\n<h3 id=\"äºŒã€æ·»åŠ Exampleå·¥ç¨‹\"><a href=\"#äºŒã€æ·»åŠ Exampleå·¥ç¨‹\" class=\"headerlink\" title=\"äºŒã€æ·»åŠ Exampleå·¥ç¨‹\"></a>äºŒã€æ·»åŠ Exampleå·¥ç¨‹</h3><p>é€šè¿‡Xcodeèœå•æ <code>File-&gt;New-&gt;Target...</code>æ·»åŠ ä¸€ä¸ªExampleå·¥ç¨‹ã€‚<br><strong>å¼•å…¥ç¬¬ä¸‰æ–¹åº“</strong><br>å¦‚æœæ— ç¬¬ä¸‰åº“å¼•ç”¨å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚<br>æ³¨æ„ï¼šå¼•å…¥Podfileæ–‡ä»¶ï¼Œéœ€è¦frameworkå’ŒExampleä¸¤ä¸ªtargetéƒ½æ·»åŠ ä¸Šã€‚<br><strong>æµ‹è¯•é¡¹ç›®</strong><br>éœ€è¦å…ˆç¼–è¯‘frameworkï¼Œæ²¡æœ‰é—®é¢˜ä¹‹åï¼Œå¯¼å…¥åˆ°Demoé¡¹ç›®é‡Œ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import ABTest</span><br></pre></td></tr></table></figure>\n<p>è¿è¡ŒDomeï¼Œæµ‹è¯•å¼€å‘åŠŸèƒ½æœ‰æ²¡æœ‰é—®é¢˜ã€‚</p>\n<p><strong>pushé¡¹ç›®åˆ°è¿œç¨‹åº“</strong><br>å¦‚æœå·²ç»å…³è”è¿‡è¿œç¨‹ç§æœ‰ä»“åº“ï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ã€‚<br>åœ¨è¿œç¨‹é…ç½®ä¸€ä¸ªgitåœ°å€ï¼Œç„¶åå°†æœ¬åœ°é¡¹ç›®å…³è”åˆ°è¿œç¨‹ç§æœ‰ä»“åº“ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote add origin ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure>\n<p>å¦‚è¿‡æ˜¯é¦–æ¬¡å…³è”è¿œç¨‹ä»“åº“ï¼Œåœ¨pushä¹‹å‰æˆ‘ä»¬ä¸€èˆ¬éœ€è¦å…ˆæ‹‰å»è¿œç¨‹åˆ†æ”¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæç¤ºï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">There is no tracking information for the current branch.</span><br></pre></td></tr></table></figure>\n<p>é‚£æ˜¯å› ä¸ºæœ¬åœ°åº“å’Œè¿œç¨‹åº“æ²¡æœ‰å»ºç«‹è”ç³»ï¼Œgitè®¤ä¸ºè¿™ä¸¤ä¸ªä»“åº“å¯èƒ½ä¸æ˜¯åŒä¸€ä¸ªï¼Œå¦‚æœæˆ‘ä»¬ç¡®è®¤å¯¹åº”åº“æ²¡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git pull origin master --allow-unrelated-histories</span><br></pre></td></tr></table></figure>\n<p>å°†è¿œç¨‹åº“æ–‡ä»¶å¼ºåˆ¶æ‹‰åˆ°æœ¬åœ°ä»“åº“ã€‚<br>ä¹‹åå†æ‰§è¡Œpushå‘½ä»¤å°†é¡¹ç›®æ¨åˆ°è¿œç¨‹ä»“åº“ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push -u origin master</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¸‰ã€Cocoapodsé…ç½®æ–‡ä»¶\"><a href=\"#ä¸‰ã€Cocoapodsé…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"ä¸‰ã€Cocoapodsé…ç½®æ–‡ä»¶\"></a>ä¸‰ã€Cocoapodsé…ç½®æ–‡ä»¶</h3><p><strong>1ã€æ·»åŠ .swift-version</strong><br>.swift-versionæ–‡ä»¶ç”¨æ¥å‘Šè¯‰cocoapodså½“å‰æ–‡ä»¶swiftçš„ç‰ˆæœ¬ï¼Œç”¨å‘½ä»¤è¡Œå»ºç«‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ echo &quot;3.0&quot; &gt; .swift-version</span><br></pre></td></tr></table></figure>\n<p><strong>2ã€æ·»åŠ LICENSE</strong><br>æ¯ä¸ªä½¿ç”¨cocoapodsæ·»åŠ çš„åº“éƒ½éœ€è¦å‡†å®ˆå¼€æºåè®®ï¼Œä¸€èˆ¬æ˜¯<code>MIT</code>åè®®ï¼Œå› ä¸ºbitbucketæ²¡æ³•è‡ªåŠ¨ç”Ÿæˆï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç”Ÿæˆè¿™ä¸ªåŒåæ–‡ä»¶ï¼Œç„¶åæŠŠåè®®å†…å®¹å¤åˆ¶è¿›å»ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MIT License</span><br><span class=\"line\"></span><br><span class=\"line\">Copyright (c) [year] [fullname]</span><br><span class=\"line\"></span><br><span class=\"line\">Permission is hereby granted, free of charge, to any person obtaining a copy</span><br><span class=\"line\">of this software and associated documentation files (the &quot;Software&quot;), to deal</span><br><span class=\"line\">in the Software without restriction, including without limitation the rights</span><br><span class=\"line\">to use, copy, modify, merge, publish, distribute, sublicense, and&#x2F;or sell</span><br><span class=\"line\">copies of the Software, and to permit persons to whom the Software is</span><br><span class=\"line\">furnished to do so, subject to the following conditions:</span><br><span class=\"line\"></span><br><span class=\"line\">The above copyright notice and this permission notice shall be included in all</span><br><span class=\"line\">copies or substantial portions of the Software.</span><br><span class=\"line\"></span><br><span class=\"line\">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span><br><span class=\"line\">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span><br><span class=\"line\">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span><br><span class=\"line\">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span><br><span class=\"line\">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span><br><span class=\"line\">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span><br><span class=\"line\">SOFTWARE.</span><br></pre></td></tr></table></figure>\n<p><strong>3ã€åˆ›å»ºåº“æè¿°æ–‡ä»¶</strong><br>å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç”Ÿæˆæè¿°æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pod spec create ABTest</span><br></pre></td></tr></table></figure>\n<p>ç„¶åæˆ‘ä»¬ç¼–è¾‘ABTest.podspecæ–‡ä»¶ï¼Œå¯ä»¥ä»¿ç…§ä¸‹é¢çš„å†™æ³•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Pod::Spec.new do |s|</span><br><span class=\"line\"></span><br><span class=\"line\">s.name         &#x3D; &quot;ABTest&quot;</span><br><span class=\"line\">s.version      &#x3D; &quot;0.0.1&quot;</span><br><span class=\"line\">s.summary      &#x3D; &quot;ABTest with Firebase&quot;</span><br><span class=\"line\">s.description  &#x3D; &quot;This is a ABTest Framworks on swift&quot;</span><br><span class=\"line\">s.homepage     &#x3D; &quot;https:&#x2F;&#x2F;bitbucket.org&#x2F;sealcn&#x2F;remoteabtest&#x2F;src&#x2F;master&#x2F;&quot;</span><br><span class=\"line\">s.license      &#x3D; &#123; :type &#x3D;&gt; &quot;MIT&quot;, :file &#x3D;&gt; &quot;LICENSE&quot; &#125;</span><br><span class=\"line\">s.author             &#x3D; &#123; &quot;zhangferry&quot; &#x3D;&gt; &quot;zhangfei@dailyinnovation.biz&quot; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># â€•â€•â€• Platform Specifics â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€• #</span><br><span class=\"line\">s.platform     &#x3D; :ios, &quot;8.0&quot;</span><br><span class=\"line\"># â€•â€•â€• Source Location â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€• #</span><br><span class=\"line\">s.source       &#x3D; &#123; :git &#x3D;&gt; &quot;https:&#x2F;&#x2F;zhangferry@bitbucket.org&#x2F;sealcn&#x2F;remoteabtest.git&quot;, :tag &#x3D;&gt; s.version &#125;</span><br><span class=\"line\">s.source_files  &#x3D; &quot;Source&quot;, &quot;Source&#x2F;*.swift&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># â€•â€•â€• Resources â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€• #</span><br><span class=\"line\"># s.resource  &#x3D; &quot;icon.png&quot;</span><br><span class=\"line\"># s.resources &#x3D; &quot;Resources&#x2F;*.png&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># â€•â€•â€• Project Settings â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€• #</span><br><span class=\"line\">s.requires_arc &#x3D; true</span><br><span class=\"line\">s.static_framework &#x3D; true</span><br><span class=\"line\">s.dependency &quot;Firebase&#x2F;Core&quot;</span><br><span class=\"line\">s.dependency &quot;Firebase&#x2F;RemoteConfig&quot;</span><br><span class=\"line\">#s.ios.vendored_frameworks &#x3D; &quot;ABTest.framework&quot;</span><br><span class=\"line\">s.xcconfig &#x3D; &#123; &#39;SWIFT_INCLUDE_PATHS&#39; &#x3D;&gt; &#39;$(PODS_ROOT)&#x2F;Firebase&#x2F;CoreOnly&#x2F;Sources&#39; &#125;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<p>æ­¤æ—¶æˆ‘ä»¬çš„æ–‡ä»¶ç›®å½•çœ‹èµ·æ¥åº”è¯¥å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-22fe03c83eebed9d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"framework_catalog.png\"></p>\n<p><strong>4ã€éªŒè¯æœ¬åœ°<code>podspec</code>æ–‡ä»¶</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod lib lint</span><br></pre></td></tr></table></figure>\n<p>è¯¥å‘½ä»¤ç”¨äºæ£€æŸ¥podspecæ–‡ä»¶ä¹¦å†™æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæœ‰erroréœ€è¦è§£å†³ï¼Œwarningå¯ä»¥ä¸ç”¨ç®¡ï¼ˆå¯èƒ½ä¼šé‡åˆ°è¾ƒå¤šé—®é¢˜ï¼Œéœ€è€å¿ƒè§£å†³0ã€‚0ï¼‰ã€‚è§£å†³ä¹‹åå†æ¬¡è¿è¡Œæ£€æŸ¥å‘½ä»¤ï¼Œå½“å‘½ä»¤è¡Œæ˜¾ç¤ºï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-&gt; ABTest (0.0.1)</span><br><span class=\"line\">ABTest passed validation.</span><br></pre></td></tr></table></figure>\n<p>è¯´æ˜æˆ‘ä»¬æœ¬åœ°é…ç½®æˆåŠŸäº†ï¼Œåˆ°è¿™é‡Œæœ¬åœ°çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°±ç®—å®Œæˆäº†ï¼<br>ç„¶åæˆ‘ä»¬éœ€è¦å°†æœ¬æ¬¡ä¿®æ”¹æäº¤æ‰“ä¸Štagï¼Œæäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m &quot;build v0.0.1&quot;</span><br><span class=\"line\">git push origin master</span><br><span class=\"line\">git tag 0.0.1</span><br><span class=\"line\">git push --tags</span><br></pre></td></tr></table></figure>\n<p><strong>5ã€éªŒè¯è¿œç¨‹ç´¢å¼•æ–‡ä»¶</strong><br>ä¸Šä¼ ä»£ç æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡éªŒè¯å®ƒè·Ÿè¿œç¨‹ä»“åº“ï¼ˆABTestè¿œç¨‹åº“å’Œ.podspecï¼‰æ˜¯å¦åŒ¹é…æ­£ç¡®ï¼Œæ‰§è¡Œï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod spec lint</span><br></pre></td></tr></table></figure>\n<p>å½“å‡ºç°ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ABTest.podspec passed validation</span><br></pre></td></tr></table></figure>\n<p>æ—¶ï¼Œè¯´æ˜æˆ‘ä»¬è¿œç¨‹ä»“åº“åŒ¹é…æ­£ç¡®ã€‚</p>\n<p><strong>6ã€æäº¤podspecæ–‡ä»¶åˆ°SpecsRepo</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pod repo push SealRepo ABTest.podspec</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªå‘½ä»¤ä¼šåŒ…å«<code>pod spec lint</code>å‘½ä»¤ï¼ŒéªŒè¯é€šè¿‡ä¹‹åï¼Œä¼šæ·»åŠ .podspecæ–‡ä»¶åˆ°æœ¬åœ°ç´¢å¼•åº“ï¼š</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-8df2158ae8033cfa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"7dffd809.png\"></p>\n<p>å’Œè¿œç¨‹ç´¢å¼•åº“ï¼š<br><img src=\"https://upload-images.jianshu.io/upload_images/1059465-749a69f468b86656.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"7e052503.png\"></p>\n<h2 id=\"ä½¿ç”¨ç§æœ‰åº“\"><a href=\"#ä½¿ç”¨ç§æœ‰åº“\" class=\"headerlink\" title=\"ä½¿ç”¨ç§æœ‰åº“\"></a>ä½¿ç”¨ç§æœ‰åº“</h2><h3 id=\"å¼•ç”¨ç§æœ‰åº“\"><a href=\"#å¼•ç”¨ç§æœ‰åº“\" class=\"headerlink\" title=\"å¼•ç”¨ç§æœ‰åº“\"></a>å¼•ç”¨ç§æœ‰åº“</h3><p>æˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨å…¶ä»–åº“æ–‡ä»¶ä¸€æ ·åœ¨Podfileæ–‡ä»¶ä¸­æ·»åŠ ä½¿ç”¨ç§æœ‰åº“äº†ï¼Œå¼•å…¥æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>\n<p><strong>1ã€å…¨å±€æ·»åŠ </strong><br>åœ¨Podfileæ–‡ä»¶æœ€ä¸Šé¢æ·»åŠ ä¸€è¡Œï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source &#39;https:&#x2F;&#x2F;zhangferry@bitbucket.org&#x2F;sealcn&#x2F;sealrepo.git&#39;</span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„ï¼šå¦‚æœç§æœ‰ä»“åº“å’Œcocoapodsä»“åº“å‡ºç°åŒååº“ï¼Œä¼šå‡ºç°ä¸å¯é¢„æœŸçš„æƒ…å†µï¼ˆéšæœºæ‹‰ä¸‹æ¥å…¬æœ‰åº“æˆ–è€…ç§æœ‰åº“æ–‡ä»¶ï¼‰ã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨å•ç‹¬æ·»åŠ çš„æ–¹å¼ã€‚</p>\n<p><strong>2ã€å•ç‹¬æ·»åŠ </strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod &#39;ABTest&#39;, :git &#x3D;&gt; &#39;https:&#x2F;&#x2F;zhangferry@bitbucket.org&#x2F;sealcn&#x2F;remoteabtest.git&#39;</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨æ—¶é€šè¿‡importæ–¹æ³•å¯¼å…¥åº“å°±å¯ä»¥äº†ã€‚</p>\n<h3 id=\"æ›´æ–°ç§æœ‰åº“\"><a href=\"#æ›´æ–°ç§æœ‰åº“\" class=\"headerlink\" title=\"æ›´æ–°ç§æœ‰åº“\"></a>æ›´æ–°ç§æœ‰åº“</h3><p>å½“æˆ‘ä»¬éœ€è¦å‡çº§ç§æœ‰åº“ï¼Œæ·»åŠ æˆ–è€…ä¿®æ”¹æ–¹æ³•æ—¶ï¼Œåªéœ€è¦ï¼š</p>\n<p>1ã€ä¿®æ”¹<code>.podspec</code>æ–‡ä»¶ä¸­<code>s.version</code>çš„ç‰ˆæœ¬å·</p>\n<p>2ã€æäº¤æœ¬åœ°ä¿®æ”¹è‡³è¿œç¨‹ï¼Œæ‰“ä¸Šå¯¹åº”tag</p>\n<p>3ã€ä½¿ç”¨é¡¹ç›®çš„å·¥ç¨‹æ‰§è¡Œ<code>pod update</code></p>\n<h2 id=\"å¯èƒ½é‡åˆ°çš„é—®é¢˜\"><a href=\"#å¯èƒ½é‡åˆ°çš„é—®é¢˜\" class=\"headerlink\" title=\"å¯èƒ½é‡åˆ°çš„é—®é¢˜\"></a>å¯èƒ½é‡åˆ°çš„é—®é¢˜</h2><p>1ã€pod search æŸ¥ä¸åˆ°æœ¬åœ°åº“<br>è¿™ä¸ªå¯èƒ½æ˜¯cocoadpodsæœ¬èº«é—®é¢˜ï¼Œpod installå®‰è£…æ²¡æœ‰é—®é¢˜</p>\n<p>2ã€æ›´æ–°äº†ç‰ˆæœ¬ï¼Œä½†æ˜¯pod updateæ²¡æœ‰æ‰¾åˆ°<br>æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å½¢å¼ï¼Œæ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬å·ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod &#39;ABTest&#39;, :git &#x3D;&gt; &#39;https:&#x2F;&#x2F;zhangferry@bitbucket.org&#x2F;sealcn&#x2F;remoteabtest.git&#39;, :tag &#x3D;&gt; &#39;0.0.4&#39;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€æç¤º<code>The &#39;Pods-App&#39; target has transitive dependencies that include static binaries</code><br>è¿™æ˜¯å› ä¸ºå¼•å…¥çš„åº“è¢«ç¼–è¯‘æˆäº†é™æ€åº“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>.podspec</code>æ–‡ä»¶ä¸­åŠ å…¥ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s.static_framework &#x3D; true</span><br></pre></td></tr></table></figure>\n\n<p>4ã€å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨<code>pod lint</code>æ—¶æç¤ºæ‰¾ä¸åˆ°<br>å¯ä»¥æ‰‹åŠ¨æŒ‡å®špodç›®å½•ï¼Œå°†firsebaseæ›¿æ¢æˆä½ çš„åº“æ–‡ä»¶è·¯å¾„:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s.xcconfig &#x3D; &#123; &#39;SWIFT_INCLUDE_PATHS&#39; &#x3D;&gt; &#39;$(PODS_ROOT)&#x2F;Firebase&#x2F;CoreOnly&#x2F;Sources&#39; &#125;</span><br></pre></td></tr></table></figure>\n\n<p>5ã€æç¤ºsource_fileså¯¹åº”æ–‡ä»¶ä¸ºç©º<br>æ¯æ¬¡<code>pod lint</code>æ—¶éƒ½æ˜¯æ ¹æ®ç‰ˆæœ¬å·è¿›è¡ŒæŸ¥æ‰¾çš„ï¼Œå¯ä»¥æ£€æŸ¥ä¸‹å½“å‰ä¿®æ”¹è·Ÿç‰ˆæœ¬å·æ˜¯å¦å¯¹åº”ã€‚</p>\n","categories":[],"tags":["iOS","Cocoapods"]},{"title":"iOSæŠ€èƒ½å›¾è°±","url":"http://zhangferry.github.io/2018/08/09/skill-map/","content":"<p>ç»“åˆç›®å‰é‡åˆ°è¿‡çš„ä¸€äº›æŠ€æœ¯ç‚¹å’Œå”å·§çš„<a href=\"https://gist.github.com/tangqiaoboy/5fadd9ba398277680b87\">iOSæŠ€èƒ½å›¾è°±</a>äº§å‡ºçš„è¿™ä¸ªç»¼åˆç‰ˆçš„iOSæŠ€èƒ½å›¾è°±ï¼Œä¾›å¤§å®¶å‚è€ƒäº¤æµï¼š<br><img src=\"https://ws1.sinaimg.cn/large/0069RVTdgy1fu22z7y8dzj31kw29le2m.jpg\" alt=\"iOSæŠ€èƒ½å›¾è°±\"></p>\n","categories":[],"tags":["iOS"]},{"title":"2018å¹´ä¸ƒæœˆ","url":"http://zhangferry.github.io/2018/08/06/201807-summary/","content":"<p><img src=\"https://upload-images.jianshu.io/upload_images/1059465-64df1811bbc768eb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"åæ¸¡\"></p>\n<p>è™½ç„¶ä¸€ç›´éƒ½æœ‰æƒ³è¦ä¿æŒå†™æ—¥è®°çš„ä¹ æƒ¯ï¼Œä½†æ˜¯å¯¹äºæˆ‘è¿™ç§ä¸Šç­æ—¶é—´ä¸ç¨³å®šåˆ‡åæ™šï¼Œç»å¸¸11ç‚¹12ç‚¹æ‰èƒ½ç¦»å¼€å…¬å¸çš„äººï¼Œå°±æ›´éš¾äº†ã€‚ä½†å¦‚æœä¸å†™ç‚¹ä»€ä¹ˆï¼Œæ€»æ„Ÿè§‰è¿™æ®µæ—¶é—´å°±ä¸¢å¤±äº†ï¼Œå¾€ä¼šçœ‹çš„æ—¶å€™ä¼šäº§ç”Ÿä¸€ç§å¤±è½æ„Ÿã€‚äºæ˜¯æ‰¾åˆ°ä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œç´¢æ€§æŠŠæ—¶é—´è·¨åº¦æ‹‰å¤§ä¸€ç‚¹ï¼Œä¸€ä¸ªæœˆå†™ä¸€ç¯‡æ€»ç»“ã€‚ä¸œè¥¿å°±æ”¾åœ¨ç®€ä¹¦ä¸Šï¼Œä¼šå’Œåšå®¢åŒæ­¥ã€‚ä¸ç®¡äº§å‡ºçš„ä¸œè¥¿å¤šå°‘ï¼Œå¸Œæœ›è¿™ä¸ªä¹ æƒ¯èƒ½å°½å¯èƒ½é•¿çš„ä¿æŒä¸‹å»ã€‚</p>\n<a id=\"more\"></a>\n<h3 id=\"å…³äºå·¥ä½œ\"><a href=\"#å…³äºå·¥ä½œ\" class=\"headerlink\" title=\"å…³äºå·¥ä½œ\"></a>å…³äºå·¥ä½œ</h3><p>ä¸ƒæœˆä»½ä¸€ç›´åœ¨ç»´æŠ¤å†¥æƒ³ç±»çš„æ–°äº§å“Peaceï¼Œä¸ƒæœˆä»½ä¸Šçš„çº¿ï¼Œä¸€å‘¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œç›®å‰æ˜¯1.3äº†ã€‚ä»æœ€å¼€å§‹çš„æ•°æ®ä¸ç†æƒ³ï¼Œåˆ°åˆ†ææŠ•æ”¾æ•°æ®ï¼Œå¼€ä¼šè®¨è®ºæ‰¾é—®é¢˜ï¼Œå¯¹æ¯”ç«å“ï¼Œæ‰¾åˆ°é—®é¢˜ï¼ŒæŒ‡å®šè§£å†³æ–¹æ¡ˆï¼Œå¿«é€Ÿè¿­ä»£ï¼Œäº§å“åœ¨è¶Šæ¥è¶Šå¥½ï¼Œæ•°æ®ä¹Ÿåœ¨è¶Šæ¥è¶Šå¥½ã€‚æˆ‘ä¹Ÿåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å…¨ç¨‹ç›®ç¹äº†ä¸€ä¸ªæ–°äº§å“çš„å‘å±•å†ç¨‹ï¼Œè¿™ç§ä½“éªŒå¯ä»¥è¯´æ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹äº†ã€‚<br>ä½†æ˜¯è¿™æ®µæ—¶é—´ä¹Ÿæ˜¯æœ€å¿™çš„ä¸€æ®µæ—¶æœŸï¼Œä¸€å‘¨ä¸€ç‰ˆä¸€ç‚¹ä¹Ÿä¸è½»æ¾ã€‚æ’æœŸæ’åˆ°å‘¨äº”ï¼Œå°±ä¸ç®¡å¤šæ™šå‘¨äº”é‚£å¤©ï¼ˆç”šè‡³æ˜¯å·²ç»å‘¨å…­ï¼‰éƒ½è¦å‘ç‰ˆçš„ï¼Œæœ€æ™šçš„ä¸€æ¬¡æ˜¯æˆ˜æ–—åˆ°å¤œé‡Œä¸€ç‚¹ã€‚éšåè€å¤§ä¹Ÿè°ƒæ•´äº†ç­–ç•¥ï¼Œå¤šç•™å‡ºä¸€å¤©æ—¶é—´ï¼Œè¿›è¡Œcodereviewï¼Œæ’æœŸä¸å†é‚£ä¹ˆæ»¡ï¼Œä½†æ˜¯å¿«é€Ÿè¿­ä»£çš„èŠ‚å¥è¿˜æ˜¯è¦ä¸€ç›´ä¿æŒçš„ã€‚<br>è¯´ä¸‹æœ€è¿‘çš„èƒ½åŠ›é—®é¢˜ï¼Œé¡¹ç›®ä¸­ç£¨ç»ƒäº†å¾ˆå¤šï¼Œè¸©äº†å¾ˆå¤šå‘ï¼Œä¹Ÿæ€»ç»“æŒæ¡äº†ä¸€äº›ç»éªŒï¼Œä½†å¹¶ä¸èƒ½æ„Ÿè§‰åˆ°è‡ªå·±å·²ç»è¾¾åˆ°äº†ä½•ç§åœ°æ­¥ã€‚éƒ½æ˜¯ç¢ç‰‡åŒ–çš„çŸ¥è¯†ç‚¹ï¼ŒçŸ¥è¯†é¢ä¸ç³»ç»Ÿï¼Œä¹Ÿæ²¡æ³•æ‰¾åˆ°ä¸€ä¸ªç³»ç»Ÿçš„ä¸œè¥¿å»å‚è€ƒï¼Œè¯´è‡ªå·±æŒæ¡äº†é‚£äº›è¿˜å·®é‚£äº›ã€‚ç›´åˆ°é‡åˆ°äº†æŠ€èƒ½å›¾è°±è¿™ä¸ªä¸œè¥¿ï¼Œä»£è¡¨ä¸ªäººèƒ½åŠ›çš„æŠ€èƒ½æ ‘ã€‚äºæ˜¯å‚è€ƒç½‘ä¸Šçš„iOSæŠ€èƒ½å›¾è°±ï¼Œè‡ªå·±åšäº†ä¸€ä¸ªå›¾è°±ã€‚ç¬é—´æ€è·¯ä¹Ÿæ¸…æ™°äº†ï¼Œä»¥åçš„åšå®¢å†…å®¹ï¼Œå­¦ä¹ å†…å®¹å°±å¯ä»¥æ ¹æ®è¿™ä¸ªä¸œè¥¿æ¥äº†ã€‚</p>\n<h3 id=\"å…³äºç”Ÿæ´»\"><a href=\"#å…³äºç”Ÿæ´»\" class=\"headerlink\" title=\"å…³äºç”Ÿæ´»\"></a>å…³äºç”Ÿæ´»</h3><p>ç”Ÿæ´»æ–¹é¢ï¼Œå›­åŒºæ­£åœ¨ç»„ç»‡ç¯®çƒèµ›ï¼Œæˆ‘ä½œä¸ºç¯®çƒé˜Ÿçš„ä¸€å‘˜åœ¨æ¯”èµ›çš„ä¸€ä¸ªæœˆä¹‹å‰ï¼Œå°±å·²ç»å¼€å§‹è®­ç»ƒäº†ï¼Œä¸€å‘¨ä¸€æ¬¡ä¸¤å°æ—¶çš„è®­ç»ƒã€‚ä½“è‚²è¿™ä¸ªä¸œè¥¿ä¸€ç›´ä»¥æ¥ä¹Ÿæ˜¯æˆ‘å¿ƒå¿ƒå¿µçš„å°æ¢¦æƒ³ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œè™½ç„¶ä¸æ˜¯è¿åŠ¨å‘˜ï¼Œä½†è¿åŠ¨æœ¬èº«æ€»èƒ½ç»™æˆ‘å¸¦æ¥ä¸ä¸€æ ·çš„ï¼Œè¶…å‡ºæˆ‘è‡ªèº«é™åˆ¶çš„ä½“éªŒã€‚æˆ‘ä»¥å‰æ€»å¹»æƒ³å¯èƒ½è¿™å°±æ˜¯å…´è¶£å§ï¼Œæˆ‘å–œæ¬¢è¿™ä¸ªï¼Œä½†æˆç†Ÿä¹‹åï¼Œæƒ³æ³•å°±å˜æˆäº†ï¼Œä½“è‚²æ²¡é‚£ä¹ˆç®€å•ï¼Œä½œä¸ºä¸€ä¸ªçˆ±å¥½å°±å¤Ÿäº†ã€‚<br>å½“è¿åŠ¨å‘˜çš„æ¢¦æƒ³æ¸è¡Œæ¸è¿œæ—¶ï¼Œå»å¹´å’Œä»Šå¹´çš„ä¸¤åœºåŠç¨‹é©¬æ‹‰æ¾ï¼ŒåˆæŠŠè¿™ä¸ªå¿ƒç»“ç»™å‹¾äº†å‡ºæ¥ï¼Œä¸¤åœºæ¯”èµ›éƒ½å®Œèµ›æ—¶ï¼Œé‚£ç§å·¨å¤§çš„æ»¡è¶³æ„Ÿï¼Œåªæœ‰ä¸¤ä¸ªå­—å¯ä»¥å½¢å®¹ï¼Œè´¼èˆ’æœï¼<br>è¯é¢˜æ‹‰å›æ¥ï¼Œæ¸æ¸çš„ä¹Ÿè¿æ¥äº†ç¯®çƒè”èµ›çš„æ­£å¼æ¯”èµ›ï¼Œå°ç»„èµ›6è¿›2ï¼Œæˆ‘ä»¬æ‰“äº†ä¸¤åœºï¼Œä¸€èƒœä¸€è´Ÿã€‚æˆ‘å½“äº†ä¸€åœºä¸»åŠ›ï¼Œè™½ç„¶è¡¨ç°ä¸€èˆ¬ï¼Œåªä¸ºçƒé˜Ÿè´¡çŒ®äº†6åˆ†ï¼Œä½†ä¹Ÿç®—æ˜¯æˆ˜æ–—åˆ°æœ€åä¸€åˆ»ã€‚å¾ˆè£å¹¸å•¦ï¼Œé‚£ç§å¥”è·‘å¦‚é£çš„æ„Ÿè§‰ï¼Œè§‚ä¼—ä¸ºè‡ªå·±åŠ æ²¹å–å½©çš„æ„Ÿè§‰ï¼Œä¸ç®¡ç»“æœæ€æ ·ï¼Œæˆ‘éƒ½äº«å—åˆ°äº†æ¯”èµ›äº†ã€‚</p>\n<h3 id=\"å…³äºè‡ªå·±\"><a href=\"#å…³äºè‡ªå·±\" class=\"headerlink\" title=\"å…³äºè‡ªå·±\"></a>å…³äºè‡ªå·±</h3><p>å»äº†è¶Ÿå¤©æ´¥ï¼Œè§è‡ªå·±é«˜ä¸­æ—¶çš„æ­»å…šï¼Œå¤§å®¶ï¼Œä¸€èµ·åƒé¥­å–é…’ï¼Œè°ˆè®ºå·¥ä½œï¼Œç»“å©šï¼Œæˆ¿ä»·ã€‚æƒ³èµ·é«˜ä¸­æ—¶ï¼Œæˆ‘ä»¬å‡ ä¸ªå› ä¸ºé£Ÿå ‚æ²¡æœ‰åº§ä½è¹²åœ¨ä¸€èµ·åƒé¥­åœºæ™¯ï¼Œæè‹¥éš”æ—¥å•Šã€‚<br>å’Œå¥³æœ‹å‹å»äº†è¶Ÿåæ¸¡ï¼Œç©äº†æ ‡å¿—æ€§çš„ç»ç’ƒæ ˆé“ï¼Œé«˜å±±æ¼‚æµï¼ŒæŠ—æ—¥è‹±é›„çºªå¿µé¦†ï¼Œåæ¸¡é£æ™¯ä¹Ÿå¾ˆç¾ã€‚å…¶ä¸­é«˜å±±æ¼‚æµä¸€è·¯å†²ä¸‹æ¥ï¼Œèº«ä¸Šæ¹¿äº†ä¸€å¤§åŠï¼Œé‡åˆ°ä¸€ä¸ªå°æœ‹å‹ï¼Œè¯´â€œä½ ä»¬æ€•æ°´å—ï¼Ÿâ€æˆ‘è¿˜æ²¡å¼„æ˜ç™½æ€ä¹ˆå›äº‹å°±è¯´äº†å¥â€œä¸æ€•å•Šâ€ï¼Œä»–å°±è·Ÿå¦ˆå¦ˆä¸€èµ·å¼€å§‹å‘æˆ‘ä¿©æ³¼æ°´äº†ã€‚è¿™ç†Šå­©å­ï¼Œè·Ÿæˆ‘åˆšï¼å½“è‡ªå·±æ”¾ä¸‹é¡¾å¿Œï¼Œè‚†æ— å¿Œæƒ®åœ°ç–¯ç©æ—¶ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„å¿«ä¹å§ã€‚<br>å…³äºè‡ªèº«çš„æˆé•¿ï¼Œæ„Ÿè§‰è‡ªå·±è‡ªå¾‹æ€§è¿˜æ˜¯å·®ä¸€äº›ï¼Œåä¹ æƒ¯å¤šä¸€äº›ï¼Œæˆ‘èƒ½æ„Ÿè§‰åˆ°åä¹ æƒ¯å¯¹æˆ‘å½¢æˆçš„é˜»åŠ›ï¼Œä½†æ˜¯è¦å®Œå…¨å…‹æœæˆ–è€…å®Œå…¨æŠ¹æ‰è¿˜æ˜¯éœ€è¦ç›¸å½“ä¸€æ®µæ—¶é—´åŠªåŠ›çš„ã€‚<br>æˆ‘ä¹Ÿåœ¨æ’é™¤ä¸€äº›å¯¹è‡ªå·±äº§ç”Ÿå¹²æ‰°çš„å¤–ç•Œå› ç´ ï¼Œå¸è½½äº†æ‰‹æœºé‡Œè®©æˆ‘è€—è´¹æ—¶é—´çš„ç‹è€…è£è€€ï¼Œåˆºæ¿€æˆ˜åœºï¼Œå¤´æ¡ç³»äº§å“ã€‚å½“æ‹¿èµ·æ‰‹æœºå‘ç°æ²¡ä»€ä¹ˆå¯ç©æ—¶ï¼Œæˆ‘èƒ½æ„Ÿå—åˆ°è‡ªå·±æ—¶é—´æ˜¯å¯Œä½™çš„ã€‚<br>å°±è¿™äº›å§ï¼Œå¸Œæœ›è‡ªå·±èƒ½ä¸€ç›´éµä»å†…å¿ƒï¼Œæˆä¸ºé‚£ä¸ªè®©è‡ªå·±æ»¡æ„çš„äººã€‚</p>\n","categories":[],"tags":["ç”Ÿæ´»"]},{"title":"iOSå¼€å‘æœˆæŠ¥#1|201807","url":"http://zhangferry.github.io/2018/08/02/monthly_1/","content":"<h2 id=\"å…³é—­éšå¼åŠ¨ç”»\"><a href=\"#å…³é—­éšå¼åŠ¨ç”»\" class=\"headerlink\" title=\"å…³é—­éšå¼åŠ¨ç”»\"></a>å…³é—­éšå¼åŠ¨ç”»</h2><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">CATransaction</span>.begin()</span><br><span class=\"line\"><span class=\"type\">CATransaction</span>.setDisableActions(<span class=\"literal\">true</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.layer.frame = <span class=\"keyword\">self</span>.bounds</span><br><span class=\"line\"><span class=\"type\">CATransaction</span>.commit()</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"AVPlayerå‡ºç°ä¸€ç›´ç¼“å­˜ï¼Œç¼“å­˜ä¸€æ®µæ—¶é—´ä¹‹åæ‰å¼€å§‹æ’­æ”¾çš„é—®é¢˜\"><a href=\"#AVPlayerå‡ºç°ä¸€ç›´ç¼“å­˜ï¼Œç¼“å­˜ä¸€æ®µæ—¶é—´ä¹‹åæ‰å¼€å§‹æ’­æ”¾çš„é—®é¢˜\" class=\"headerlink\" title=\"AVPlayerå‡ºç°ä¸€ç›´ç¼“å­˜ï¼Œç¼“å­˜ä¸€æ®µæ—¶é—´ä¹‹åæ‰å¼€å§‹æ’­æ”¾çš„é—®é¢˜\"></a>AVPlayerå‡ºç°ä¸€ç›´ç¼“å­˜ï¼Œç¼“å­˜ä¸€æ®µæ—¶é—´ä¹‹åæ‰å¼€å§‹æ’­æ”¾çš„é—®é¢˜</h2><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">player.automaticallyWaitsToMinimizeStalling = <span class=\"literal\">false</span><span class=\"comment\">//å»¶è¿Ÿæ’­æ”¾ï¼Œé»˜è®¤å¼€</span></span><br></pre></td></tr></table></figure>\n<p>å…³äºè¿™ä¸ªå±æ€§çš„ä¸€äº›è¯´æ˜ï¼š</p>\n<blockquote>\n<p>In versions of iOS prior to iOS 10.0 and versions of OS X prior to 10.12, this property is unavailable, and the behavior of the AVPlayer corresponds to the type of content being played. For streaming content, including HTTP Live Streaming, the AVPlayer acts as if automaticallyWaitsToMinimizeStalling is YES. For file-based content, including file-based content accessed via progressive http download, the AVPlayer acts as if automaticallyWaitsToMinimizeStalling is NO.</p>\n</blockquote>\n<p>å¤§è‡´æ˜¯è¯´åœ¨iOS10ä¹‹å‰çš„å®¢æˆ·ç«¯ï¼Œè™½ç„¶è¿™ä¸ªå‚æ•°ä¸å¯ç”¨ï¼Œä½†æ˜¯éæµåª’ä½“ç±»å‹çš„æ’­æ”¾è¿™ä¸ªé…ç½®é»˜è®¤ä¸ºfalseï¼Œæ‰€ä»¥åœ¨iOS10ä¸‹å»ºè®®è¿™ä¸ªå±æ€§å€¼ä¸ºfalseã€‚</p>\n<h2 id=\"AVPlayeræ˜¯å¦æ­£åœ¨æ’­æ”¾çš„åˆ¤æ–­\"><a href=\"#AVPlayeræ˜¯å¦æ­£åœ¨æ’­æ”¾çš„åˆ¤æ–­\" class=\"headerlink\" title=\"AVPlayeræ˜¯å¦æ­£åœ¨æ’­æ”¾çš„åˆ¤æ–­\"></a>AVPlayeræ˜¯å¦æ­£åœ¨æ’­æ”¾çš„åˆ¤æ–­</h2><p>å½“æˆ‘ä»¬ä½¿ç”¨KVOç›‘å¬player.rateæ¥åˆ¤æ–­playerçš„æ˜¯å¦æ­£åœ¨æ’­æ”¾æ—¶ï¼Œä¼šå‘ç°è¿™ä¸ªå€¼æ˜¯ä¸å‡†çš„ã€‚å…¶å®å‡†ç¡®çš„è¯´æ˜¯<code>player.rate=1</code>ä¸ä»£è¡¨æ­£åœ¨æ’­æ”¾ï¼Œ<code>player.rate=0</code>æ˜¯å¯ä»¥ä»£è¡¨æ­£åœ¨æš‚åœçš„ã€‚æ‰€ä»¥<code>player.rate=0</code>ä»£è¡¨æš‚åœï¼Œæ­£åœ¨æ’­æ”¾çš„çŠ¶æ€å¯ä»¥è¿™æ ·åˆ¤æ–­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">self</span>.timeObserve = <span class=\"keyword\">self</span>.player.addPeriodicTimeObserver(forInterval: <span class=\"type\">CMTimeMake</span>(<span class=\"number\">1</span>, <span class=\"number\">1</span>),</span><br><span class=\"line\">queue: <span class=\"type\">DispatchQueue</span>.main,</span><br><span class=\"line\">using: &#123;(time) <span class=\"keyword\">in</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"keyword\">self</span>.player.timeControlStatus == <span class=\"type\">AVPlayerTimeControlStatus</span>.playing &#123;</span><br><span class=\"line\"><span class=\"comment\">//AVPlayerTimeControlStatusä¸ºiOSä¹‹åçš„API</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.state = .playing</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‹è½½æ—¶URLSessionConfigurationçš„é…ç½®\"><a href=\"#ä¸‹è½½æ—¶URLSessionConfigurationçš„é…ç½®\" class=\"headerlink\" title=\"ä¸‹è½½æ—¶URLSessionConfigurationçš„é…ç½®\"></a>ä¸‹è½½æ—¶URLSessionConfigurationçš„é…ç½®</h2><p>ä½¿ç”¨Alamofireä¸‹è½½æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä¸€ä¸ª<code>SessionManager</code>é…ç½®ä¸‹è½½å‚æ•°ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> configuration = <span class=\"type\">URLSessionConfiguration</span>.<span class=\"keyword\">default</span></span><br><span class=\"line\">configuration.timeoutIntervalForRequest = <span class=\"number\">50</span><span class=\"comment\">//50sè¶…æ—¶</span></span><br><span class=\"line\"><span class=\"comment\">/** æœ€å¤§åŒæ—¶ä¸‹è½½æ•° ---- iOSå¯¹äºåŒä¸€ä¸ªIPæœåŠ¡å™¨çš„å¹¶å‘æœ€å¤§é»˜è®¤ä¸º4ï¼ŒOS Xä¸º6 */</span></span><br><span class=\"line\">configuration.httpMaximumConnectionsPerHost = <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"comment\">/** A Boolean value that indicates whether TCP connections should be kept open when the app moves to the background. */</span></span><br><span class=\"line\">configuration.shouldUseExtendedBackgroundIdleMode = <span class=\"literal\">true</span><span class=\"comment\">//ä¸ºtrueæ”¯æŒåå°ä¸‹è½½</span></span><br><span class=\"line\">manager = <span class=\"type\">Alamofire</span>.<span class=\"type\">SessionManager</span>(configuration: configuration)</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸è¦å­˜å‚¨æ²™ç›’ç»å¯¹åœ°å€\"><a href=\"#ä¸è¦å­˜å‚¨æ²™ç›’ç»å¯¹åœ°å€\" class=\"headerlink\" title=\"ä¸è¦å­˜å‚¨æ²™ç›’ç»å¯¹åœ°å€\"></a>ä¸è¦å­˜å‚¨æ²™ç›’ç»å¯¹åœ°å€</h2><p>å½“æˆ‘ä»¬å‘æ²™ç›’å†™å…¥æ•°æ®æ—¶ï¼Œå°†è¯¥ç»å¯¹è·¯å¾„ä¿å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å†æ‰“å¼€è¯¥åœ°å€å¹¶ä¸ä¼šè·å–åˆ°æˆ‘ä»¬å­˜å…¥çš„æ•°æ®ã€‚åŸå› å¦‚ä¸‹ï¼š</p>\n<p>iOS8ä¹‹åï¼Œè‹¹æœæ·»åŠ çš„æ–°ç‰¹æ€§ï¼Œå°†æ¯æ¬¡æ‰“å¼€appå†…çš„æ²™ç›’ï¼»å”¯ä¸€ç¼–ç è·¯å¾„ï¼½ï¼ˆçº¢æ¡†éƒ¨åˆ†ï¼‰é‡æ–°ç”Ÿæˆï¼Œå¹¶ä¿æŒä¸Šä¸€æ¬¡çš„æ²™ç›’æ–‡ä»¶ï¼ˆDocumentsã€Libraryã€tmpï¼‰ç§»åˆ°æ–°ç”Ÿæˆçš„æ–‡ä»¶å†…ï¼Œæ—§æ–‡ä»¶åˆ é™¤ï¼Œå°±æ˜¯è¯´ï¼Œä½ ä¿å­˜çš„æ–‡ä»¶éƒ½åœ¨ï¼Œåªä¸è¿‡æ¯æ¬¡æ‰“å¼€åï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ–°çš„ç»å¯¹è·¯å¾„ã€‚<br><img src=\"https://ws2.sinaimg.cn/large/006tKfTcgy1ftvc9rh18lj30gu080wk9.jpg\" alt=\"localPath.png\"><br>æ‰€ä»¥å­˜å‚¨è·¯å¾„åº”è¯¥å­˜ç›¸å¯¹è·¯å¾„ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿™ä¸¤ä¸ªéƒ½ä»£è¡¨documentçš„ç›¸å¯¹è·¯å¾„</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> rootPath = <span class=\"type\">NSHomeDirectory</span>() + <span class=\"string\">\"/Documents/\"</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> rootPath = <span class=\"type\">NSSearchPathForDirectoriesInDomains</span>(.documentDirectory, .userDomainMask, <span class=\"literal\">true</span>).first</span><br></pre></td></tr></table></figure>\n<h2 id=\"childViewControllerçš„viewDidAppearæ–¹æ³•è°ƒç”¨\"><a href=\"#childViewControllerçš„viewDidAppearæ–¹æ³•è°ƒç”¨\" class=\"headerlink\" title=\"childViewControllerçš„viewDidAppearæ–¹æ³•è°ƒç”¨\"></a>childViewControllerçš„viewDidAppearæ–¹æ³•è°ƒç”¨</h2><p>å¦‚æœä¸€ä¸ªViewControllerä¸­åµŒå¥—äº†å¤šä¸ªchildViewControllerã€‚å½“å®¿ä¸»VCï¼ˆæˆ‘ä»¬æš‚ä¸”è¿™ä¹ˆç§°å‘¼å®ƒï¼‰è°ƒç”¨viewDidAppearç­‰æ–¹æ³•æ—¶ï¼Œå…¶ä¸­çš„childViewControlleréƒ½ä¼šé»˜è®¤è°ƒç”¨å¯¹åº”æ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³childViewControllerè°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥é‡å†™è¯¥VCçš„å±æ€§ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"keyword\">var</span> shouldAutomaticallyForwardAppearanceMethods: <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å›¾ç‰‡åˆ‡æ¢æ¸å…¥æ¸å‡ºçš„æ–¹æ³•\"><a href=\"#å›¾ç‰‡åˆ‡æ¢æ¸å…¥æ¸å‡ºçš„æ–¹æ³•\" class=\"headerlink\" title=\"å›¾ç‰‡åˆ‡æ¢æ¸å…¥æ¸å‡ºçš„æ–¹æ³•\"></a>å›¾ç‰‡åˆ‡æ¢æ¸å…¥æ¸å‡ºçš„æ–¹æ³•</h2><p>é€šè¿‡<code>UIImageView</code>å±•ç¤ºå›¾ç‰‡å’Œ<code>layer.contents</code>å±•ç¤ºå›¾ç‰‡éƒ½å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let transition = <span class=\"built_in\">CATransition</span>()</span><br><span class=\"line\">transition.duration = <span class=\"number\">0.5</span></span><br><span class=\"line\">transition.type = kCATransitionFade</span><br><span class=\"line\"><span class=\"keyword\">self</span>.view.layer.add(transition, forKey: <span class=\"string\">\"layer.contents\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.view.layer.contents = image.cgImage<span class=\"comment\">//é€‚ç”¨äºimageView</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"cellç§»å‡ºè§†å›¾ï¼Œç§»å…¥è§†å›¾çš„æ–¹æ³•\"><a href=\"#cellç§»å‡ºè§†å›¾ï¼Œç§»å…¥è§†å›¾çš„æ–¹æ³•\" class=\"headerlink\" title=\"cellç§»å‡ºè§†å›¾ï¼Œç§»å…¥è§†å›¾çš„æ–¹æ³•\"></a>cellç§»å‡ºè§†å›¾ï¼Œç§»å…¥è§†å›¾çš„æ–¹æ³•</h2><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//TableViewCell</span></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">prepareForReuse</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">super</span>.prepareForReuse()<span class=\"comment\">//ä½¿ç”¨é‡ç”¨æ± çš„cell,æ˜¾ç¤ºè¿‡çš„cellç§»è‡³å¯è§†èŒƒå›´</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//TableView</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, didEndDisplaying cell: UITableViewCell, forRowAt indexPath: IndexPath)</span></span> &#123;</span><br><span class=\"line\"><span class=\"comment\">//cellç§»å‡ºè§†å›¾æ—¶è°ƒç”¨</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"tableview-collectionViewæ•°æ®reloadä¹‹åçš„æ“ä½œ\"><a href=\"#tableview-collectionViewæ•°æ®reloadä¹‹åçš„æ“ä½œ\" class=\"headerlink\" title=\"tableview,collectionViewæ•°æ®reloadä¹‹åçš„æ“ä½œ\"></a>tableview,collectionViewæ•°æ®reloadä¹‹åçš„æ“ä½œ</h2><p>æˆ‘ä»¬å¦‚æœè¦æƒ³å®ç°åœ¨reloadä¹‹åå¼¹å‡ºalertViewï¼Œæˆ–è€…æ»šåŠ¨åˆ°ç‰¹å®šä¸€è¡Œï¼Œå¯èƒ½ä¼šç›´æ¥å†™ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tableView.reloadData()</span><br><span class=\"line\">tableView.scrollToRow(at: indexPath, at: .middle, animated: <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<p>çœ‹ä¼¼æ²¡é—®é¢˜ï¼Œä½†æ˜¯æ»šåŠ¨æ²¡èµ·ä½œç”¨ï¼Œå› ä¸ºreloadDataæ˜¯ç«‹å³è¿”å›çš„ï¼Œä¸ä¼šç­‰tableviewåˆ·æ–°å®Œæˆã€‚<br>è§£å†³åŠæ³•å°±æ˜¯éœ€è¦ç­‰reloadå®Œæˆä¹‹åå†åšæˆ‘ä»¬éœ€è¦çš„æ“ä½œï¼Œreloadæ˜¯å¦å®Œæˆæœ‰å‡ ç§æ–¹å¼ç›‘å¬ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//collectionView</span></span><br><span class=\"line\">collectionView.performBatchUpdates(<span class=\"literal\">nil</span>) &#123; (finished) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"comment\">//reloadå®Œæˆ</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//tableViewæ–¹æ³•åªæœ‰iOS11å¯ç”¨</span></span><br><span class=\"line\">tableView.performBatchUpdates(<span class=\"literal\">nil</span>) &#123; (finished) <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"comment\">//reloadå®Œæˆ</span></span><br><span class=\"line\">&#125;<span class=\"comment\">//æ›¿ä»£func beginUpdates()ï¼Œfunc endUpdates()</span></span><br><span class=\"line\"><span class=\"comment\">//tableViewç­‰reloadå®Œæˆè¿˜å¯ä»¥ä½¿ç”¨</span></span><br><span class=\"line\">tableView.reloadData()</span><br><span class=\"line\"><span class=\"type\">DispatchQueue</span>.main.async &#123;</span><br><span class=\"line\">    <span class=\"comment\">//reloadå®Œæˆ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n","categories":[],"tags":["æœˆæŠ¥"]},{"title":"å¯èƒ½è¢«å¿½ç•¥çš„UIButtonç»†èŠ‚","url":"http://zhangferry.github.io/2018/07/17/UIButton-detail/","content":"<h2 id=\"å…³äºSystem-Button\"><a href=\"#å…³äºSystem-Button\" class=\"headerlink\" title=\"å…³äºSystem Button\"></a>å…³äºSystem Button</h2><hr>\n<p>çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.setTitle(<span class=\"string\">\"Title\"</span>, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.setImage(<span class=\"type\">UIImage</span>(named: <span class=\"string\">\"icon\"</span>), <span class=\"keyword\">for</span>: .normal)</span><br></pre></td></tr></table></figure>\n\n<p>buttonTypeåˆ†åˆ«è®¾ç½®ä¸ºsystemå’Œcustomï¼Œä»…åšå¦‚ä¸Šè®¾ç½®ï¼Œæ˜¾ç¤ºæ•ˆæœå¯¹æ¯”ï¼ˆä¸Šé¢çš„customï¼Œä¸‹é¢çš„æ˜¯systemï¼‰</p>\n<div align=center>\n![button_normal](https://ws4.sinaimg.cn/large/006tKfTcgy1ftcrof65cij305x00xa9u.jpg)\n![button_system](https://ws1.sinaimg.cn/large/006tKfTcgy1ftcrokww28j305x010q2r.jpg)\n</div>\nsystem Buttonæ˜¾ç¤ºå‡ºè“è‰²å…¶å®æ˜¯tintColorçš„æ•ˆæœï¼Œå…³äºtintColorçš„è¯´æ³•æ˜¯ï¼š\n<a id=\"more\"></a>\nThis property has no default effect for buttons with type custom. For custom buttons, you must implement any behavior related to tintColor yourself.\n\n<p>åœ¨customç±»å‹çš„buttonä¸­è®¾ç½®tintColoræ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œéœ€è¦è‡ªå®šä¹‰æ ·å¼ã€‚åœ¨systemç±»å‹çš„buttoné‡Œæœ‰ä¸€ä¸ªé»˜è®¤è“è‰²çš„tintColorï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å®ƒä¸ºå…¶ä»–é¢œè‰²ï¼Œä¼šå¯¹imageå’ŒtitleåŒæ—¶ç”Ÿæ•ˆã€‚</p>\n<p>å¦å¤–å¯ä»¥å‘ç°imageä¸æ˜¯åŸå§‹å›¾ç‰‡ï¼Œè€Œæ˜¯è¢«å¡«å……ä¸ºtintColorçš„é¢œè‰²ã€‚è¿™æ˜¯å› ä¸ºsystemç±»å‹ä¸‹buttonçš„imageè¢«é»˜è®¤ä»¥<code>alwaysTemplate</code>ç±»å‹æ¸²æŸ“çš„ï¼Œå¦‚æœæƒ³è¦æ˜¾ç¤ºåŸå§‹å›¾ç‰‡å¯ä»¥åšå¦‚ä¸‹æ“ä½œï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"icon\"</span>)?.withRenderingMode(.alwaysOriginal)</span><br><span class=\"line\">button.setImage(image, <span class=\"keyword\">for</span>: .normal)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å…³äºè§¦æ‘¸åé¦ˆ\"><a href=\"#å…³äºè§¦æ‘¸åé¦ˆ\" class=\"headerlink\" title=\"å…³äºè§¦æ‘¸åé¦ˆ\"></a>å…³äºè§¦æ‘¸åé¦ˆ</h2><hr>\n<p>çœ‹ä¸€ä¸ªå¸¸è§çš„ä»£ç ï¼š</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> button = <span class=\"type\">UIButton</span>()<span class=\"comment\">//é»˜è®¤æ ·å¼custom</span></span><br><span class=\"line\">button.setTitle(<span class=\"string\">\"Title\"</span>, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.blue, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.backgroundColor = <span class=\"type\">UIColor</span>.red</span><br><span class=\"line\">view.addSubview(button)</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¸Šæ˜¯çš„buttonçš„å¸¸è§å†™æ³•ã€‚é—æ†¾çš„æ˜¯è¿™ç§å†™æ³•ï¼Œä¸ä¼šå¸¦è§¦æ‘¸åé¦ˆæ•ˆæœã€‚é‚£å¦‚æœæˆ‘ä»¬æƒ³åŠ è§¦æ‘¸åé¦ˆï¼Œéœ€è¦å¦‚ä½•å¤„ç†ï¼š</p>\n<h3 id=\"1ã€ä»…æ–‡å­—çš„è§¦æ‘¸åé¦ˆ\"><a href=\"#1ã€ä»…æ–‡å­—çš„è§¦æ‘¸åé¦ˆ\" class=\"headerlink\" title=\"1ã€ä»…æ–‡å­—çš„è§¦æ‘¸åé¦ˆ\"></a>1ã€ä»…æ–‡å­—çš„è§¦æ‘¸åé¦ˆ</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//system:</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> button = <span class=\"type\">UIButton</span>(type: .system)</span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.blue, <span class=\"keyword\">for</span>: .normal)<span class=\"comment\">//è‡ªåŠ¨æ·»åŠ åé¦ˆæ•ˆæœ</span></span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.green, <span class=\"keyword\">for</span>: .highlighted)<span class=\"comment\">//ä¼šå’Œç³»ç»Ÿæ•ˆæœå åŠ ï¼Œä¸å¯æ§ï¼Œä¸å»ºè®®å†™</span></span><br><span class=\"line\"><span class=\"comment\">//custom</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> button = <span class=\"type\">UIButton</span>(type: .custom)</span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.blue, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.green, <span class=\"keyword\">for</span>: .highlighted)<span class=\"comment\">//è‡ªå®šä¹‰åé¦ˆæ ·å¼</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2ã€å¸¦å›¾ç‰‡å’Œæ–‡å­—çš„è§¦æ‘¸åé¦ˆ\"><a href=\"#2ã€å¸¦å›¾ç‰‡å’Œæ–‡å­—çš„è§¦æ‘¸åé¦ˆ\" class=\"headerlink\" title=\"2ã€å¸¦å›¾ç‰‡å’Œæ–‡å­—çš„è§¦æ‘¸åé¦ˆ\"></a>2ã€å¸¦å›¾ç‰‡å’Œæ–‡å­—çš„è§¦æ‘¸åé¦ˆ</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.setTitle(<span class=\"string\">\"Title\"</span>, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.setImage(<span class=\"type\">UIImage</span>(named: <span class=\"string\">\"icon\"</span>), <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\"><span class=\"comment\">//system:ä¼šåŒæ—¶å¯¹å›¾ç‰‡æ–‡å­—æ·»åŠ åé¦ˆæ•ˆæœ</span></span><br><span class=\"line\"><span class=\"comment\">//custom:é»˜è®¤ä»…å¯¹å›¾ç‰‡æœ‰è§¦æ‘¸åé¦ˆ</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3ã€å¸¦èƒŒæ™¯å›¾çš„æŒ‰é’®\"><a href=\"#3ã€å¸¦èƒŒæ™¯å›¾çš„æŒ‰é’®\" class=\"headerlink\" title=\"3ã€å¸¦èƒŒæ™¯å›¾çš„æŒ‰é’®\"></a>3ã€å¸¦èƒŒæ™¯å›¾çš„æŒ‰é’®</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.setBackgroundImage(<span class=\"type\">UIImage</span>(named: <span class=\"string\">\"background\"</span>), <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\"><span class=\"comment\">//systemæ˜¯æŒ‰é’®æ•´ä½“åé¦ˆ</span></span><br><span class=\"line\"><span class=\"comment\">//customæ˜¯ä»…èƒŒæ™¯å›¾ç‰‡åé¦ˆï¼Œtitleï¼Œimageæ— åé¦ˆ</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4ã€å…³é—­è§¦æ‘¸åé¦ˆ\"><a href=\"#4ã€å…³é—­è§¦æ‘¸åé¦ˆ\" class=\"headerlink\" title=\"4ã€å…³é—­è§¦æ‘¸åé¦ˆ\"></a>4ã€å…³é—­è§¦æ‘¸åé¦ˆ</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.isUserInteractionEnabled = <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"comment\">//customeï¼Œsystemå‡ä¼šå…³é—­è§¦æ‘¸åé¦ˆ</span></span><br><span class=\"line\">button.adjustsImageWhenHighlighted = <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"comment\">//custom:ä¼šå…³é—­imageï¼ŒbackgroundImageçš„åé¦ˆ</span></span><br><span class=\"line\"><span class=\"comment\">//system:æ­¤è®¾ç½®æ— æ•ˆ</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5ã€showsTouchWhenHighlighted\"><a href=\"#5ã€showsTouchWhenHighlighted\" class=\"headerlink\" title=\"5ã€showsTouchWhenHighlighted\"></a>5ã€showsTouchWhenHighlighted</h3><p>è¿™ä¸ªå±æ€§æ˜¯ç³»ç»Ÿæä¾›çš„ä¸€ç§highlightedæ ·å¼ï¼Œç‚¹å‡»æ—¶æŒ‰é’®é«˜äº®ã€‚ä½†æ˜¯æ•ˆæœç¡®å®æœ‰ç‚¹ä¸‘ä¸‘çš„ï¼ŒåŸºæœ¬ä¸ç”¨è¿™ç§æ•ˆæœ</p>\n<h2 id=\"å…¶ä»–ç‰¹æ€§\"><a href=\"#å…¶ä»–ç‰¹æ€§\" class=\"headerlink\" title=\"å…¶ä»–ç‰¹æ€§\"></a>å…¶ä»–ç‰¹æ€§</h2><h3 id=\"å…¨å±€ä¿®æ”¹UIButtonçš„æ ·å¼å¯ä»¥ï¼š\"><a href=\"#å…¨å±€ä¿®æ”¹UIButtonçš„æ ·å¼å¯ä»¥ï¼š\" class=\"headerlink\" title=\"å…¨å±€ä¿®æ”¹UIButtonçš„æ ·å¼å¯ä»¥ï¼š\"></a>å…¨å±€ä¿®æ”¹UIButtonçš„æ ·å¼å¯ä»¥ï¼š</h3><figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> gobalBtn = <span class=\"type\">UIButton</span>.appearance()<span class=\"comment\">//æ‰€æœ‰ç»§æ‰¿UIViewçš„ç±»éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•</span></span><br><span class=\"line\">gobalBtn.setTitle(<span class=\"string\">\"Good\"</span>, <span class=\"keyword\">for</span>: .normal)<span class=\"comment\">//ä¼šå°†æ‰€æœ‰buttonçš„titleæ”¹ä¸ºGood</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"setAttributedTitleæ–¹æ³•\"><a href=\"#setAttributedTitleæ–¹æ³•\" class=\"headerlink\" title=\"setAttributedTitleæ–¹æ³•\"></a>setAttributedTitleæ–¹æ³•</h3><p>è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†buttonçš„titleä»¥å¯Œæ–‡æœ¬çš„å½¢å¼è¿›è¡Œè®¾ç½®ï¼Œæ”¯æŒå¯¹ä¸åŒstateçš„è®¾ç½®ã€‚éœ€è¦æ³¨æ„å®ƒå’ŒsetTitleçš„ä¼˜å…ˆçº§</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç”¨attributedæ–¹å¼è®¾ç½®buttonçš„titleå’ŒtitleColor</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> string = <span class=\"string\">\"Title\"</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> attributed = <span class=\"type\">NSMutableAttributedString</span>(string: string)</span><br><span class=\"line\"><span class=\"keyword\">let</span> range = <span class=\"type\">NSMakeRange</span>(<span class=\"number\">0</span>, string.<span class=\"built_in\">count</span>)</span><br><span class=\"line\">attributed.addAttributes([<span class=\"type\">NSAttributedStringKey</span>.foregroundColor : <span class=\"type\">UIColor</span>.green], range: range)</span><br><span class=\"line\">button.setAttributedTitle(attributed, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\"><span class=\"comment\">//æ­¤æ—¶ç”¨setTitleé‡æ–°è®¾ç½®titleæ ·å¼ï¼Œä¸ä¼šç”Ÿæ•ˆï¼Œattributedä¼˜å…ˆçº§å¤§äºç›´æ¥è®¾ç½®</span></span><br><span class=\"line\">button.setTitle(<span class=\"string\">\"Next Button\"</span>, <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">button.setTitleColor(<span class=\"type\">UIColor</span>.blue, <span class=\"keyword\">for</span>: .normal)</span><br></pre></td></tr></table></figure>\n\n","categories":[],"tags":["iOS","UI"]},{"title":"AVPlayerè¯¦è§£ç³»åˆ—ï¼ˆä¸€ï¼‰å‚æ•°è®¾ç½®","url":"http://zhangferry.github.io/2017/08/25/avplayer-detail-1/","content":"<blockquote>\n<p>æœ€è¿‘å·¥ä½œå†…å®¹åŸºæœ¬éƒ½æ˜¯å›´ç»•è§†é¢‘æ’­æ”¾å±•å¼€çš„ï¼Œä»AVPlayeråˆ°IJKPlayerï¼ŒæœŸé—´é‡åˆ°æŒºå¤šé—®é¢˜ï¼Œè¶Ÿäº†å¾ˆå¤šbugï¼Œä¹Ÿæ€»ç»“äº†ä¸€äº›å¿ƒå¾—ã€‚å¯¹AVPlayeräº†è§£çš„æ›´å¤šä¸€äº›ï¼Œå› ä¸ºæ¶‰åŠç‚¹æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ‰“ç®—åšä¸€ä¸ªç³»åˆ—è¯¦å°½çš„å†™ä¸€ä¸‹è¿™éƒ¨åˆ†å†…å®¹ã€‚å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæœ‰é—®é¢˜çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"æ€ç»´å¯¼å›¾\"><a href=\"#æ€ç»´å¯¼å›¾\" class=\"headerlink\" title=\"æ€ç»´å¯¼å›¾\"></a>æ€ç»´å¯¼å›¾</h2><p>å…ˆæ¥ä¸€å¼ æ€ç»´å¯¼å›¾ï¼Œä½œä¸ºè¿™ç¯‡æ–‡ç« çš„ç›®å½•ç´¢å¼•ï¼š<br><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a294cc5420bd29?w=951&h=435&f=png&s=53547\" alt=\"AVPlayer.png\"></p>\n<h2 id=\"ä¸ºä»€ä¹ˆä½¿ç”¨AVPlayerï¼š\"><a href=\"#ä¸ºä»€ä¹ˆä½¿ç”¨AVPlayerï¼š\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆä½¿ç”¨AVPlayerï¼š\"></a>ä¸ºä»€ä¹ˆä½¿ç”¨AVPlayerï¼š</h2><p>é¦–å…ˆåœ¨iOSå¹³å°ä½¿ç”¨æ’­æ”¾è§†é¢‘ï¼Œå¯ç”¨çš„é€‰é¡¹ä¸€èˆ¬æœ‰è¿™å››ä¸ªï¼Œä»–ä»¬å„è‡ªçš„ä½œç”¨å’ŒåŠŸèƒ½å¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ä½¿ç”¨ç¯å¢ƒ</th>\n<th>ä¼˜ç‚¹</th>\n<th>ç¼ºç‚¹</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>MPMoviePlayerController</td>\n<td>MediaPlayer</td>\n<td>ç®€å•æ˜“ç”¨</td>\n<td>ä¸å¯å®šåˆ¶</td>\n</tr>\n<tr>\n<td>AVPlayerViewController</td>\n<td>AVKit</td>\n<td>ç®€å•æ˜“ç”¨</td>\n<td>ä¸å¯å®šåˆ¶</td>\n</tr>\n<tr>\n<td>AVPlayer</td>\n<td>AVFoundation</td>\n<td>å¯å®šåˆ¶åº¦é«˜ï¼ŒåŠŸèƒ½å¼ºå¤§</td>\n<td>ä¸æ”¯æŒæµåª’ä½“</td>\n</tr>\n<tr>\n<td>IJKPlayer</td>\n<td>IJKMediaFramework</td>\n<td>å®šåˆ¶åº¦é«˜ï¼Œæ”¯æŒæµåª’ä½“æ’­æ”¾</td>\n<td>ä½¿ç”¨ç¨å¤æ‚</td>\n</tr>\n</tbody></table>\n<p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæˆ‘ä»¬ä¸åšç›´æ’­åŠŸèƒ½<a href=\"https://developer.apple.com/documentation/avfoundation/avplayer\">AVPlayer</a>å°±æ˜¯ä¸€ä¸ªæœ€ä¼˜çš„é€‰æ‹©ã€‚</p>\n<p>å¦å¤–AVPlayeræ˜¯ä¸€ä¸ªå¯ä»¥æ’­æ”¾ä»»ä½•æ ¼å¼çš„å…¨åŠŸèƒ½å½±éŸ³æ’­æ”¾å™¨<br><del>æ”¯æŒè§†é¢‘æ ¼å¼ï¼š WMVï¼ŒAVIï¼ŒMKVï¼ŒRMVBï¼ŒRMï¼ŒXVIDï¼ŒMP4ï¼Œ3GPï¼ŒMPGç­‰ã€‚</del><br><del>æ”¯æŒéŸ³é¢‘æ ¼å¼ï¼šMP3ï¼ŒWMAï¼ŒRMï¼ŒACCï¼ŒOGGï¼ŒAPEï¼ŒFLACï¼ŒFLVç­‰ã€‚</del><br>æ”¯æŒè§†é¢‘æ ¼å¼ï¼š MP4ï¼ŒMOVï¼ŒM4Vï¼Œ3GPï¼ŒAVIç­‰ã€‚<br>æ”¯æŒéŸ³é¢‘æ ¼å¼ï¼šMP3ï¼ŒAACï¼ŒWAVï¼ŒAMRï¼ŒM4Aç­‰ã€‚<br>è¯¦è§<a href=\"https://www.jianshu.com/p/7373f07f1cbf\">AVPlayeræ”¯æŒçš„è§†é¢‘æ ¼å¼</a><br>##å¦‚ä½•ä½¿ç”¨<br>AVPlayerå­˜åœ¨äºAVFoundationæ¡†æ¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æ—¶éœ€è¦å¯¼å…¥ï¼š<br><code>#import &lt;AVFoundation/AVFoundation.h&gt;</code></p>\n<h3 id=\"å‡ ä¸ªæ’­æ”¾ç›¸å…³çš„å‚æ•°\"><a href=\"#å‡ ä¸ªæ’­æ”¾ç›¸å…³çš„å‚æ•°\" class=\"headerlink\" title=\"å‡ ä¸ªæ’­æ”¾ç›¸å…³çš„å‚æ•°\"></a>å‡ ä¸ªæ’­æ”¾ç›¸å…³çš„å‚æ•°</h3><p>åœ¨åˆ›å»ºä¸€ä¸ªæ’­æ”¾å™¨ä¹‹å‰æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€äº›æ’­æ”¾å™¨ç›¸å…³çš„ç±»</p>\n<ul>\n<li>AVPlayerï¼šæ§åˆ¶æ’­æ”¾å™¨çš„æ’­æ”¾ï¼Œæš‚åœï¼Œæ’­æ”¾é€Ÿåº¦</li>\n<li>AVURLAsset : AVAsset çš„ä¸€ä¸ªå­ç±»ï¼Œä½¿ç”¨ URL è¿›è¡Œå®ä¾‹åŒ–ï¼Œå®ä¾‹åŒ–å¯¹è±¡åŒ…æ¢ URL å¯¹åº”è§†é¢‘èµ„æºçš„æ‰€æœ‰ä¿¡æ¯ã€‚</li>\n<li>AVPlayerItemï¼šç®¡ç†èµ„æºå¯¹è±¡ï¼Œæä¾›æ’­æ”¾æ•°æ®æº</li>\n<li>AVPlayerLayerï¼šè´Ÿè´£æ˜¾ç¤ºè§†é¢‘ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ è¯¥ç±»ï¼Œåªæœ‰å£°éŸ³æ²¡æœ‰ç”»é¢</li>\n</ul>\n<p>æˆ‘ä»¬è¿™ç‰‡æ–‡ç« å°±å›´ç»•è¿™å‡ ä¸ªå‚æ•°å±•å¼€ï¼Œå…‰è¯´è¿™äº›ä½ å¯èƒ½è¿˜æœ‰ç‚¹ä¸æ˜ç™½ï¼Œé‚£æˆ‘ä»¬å°±å›´ç»•ä¸€ä¸ªæœ€ç®€å•çš„æ’­æ”¾å™¨åšèµ·ï¼Œä¸€ç‚¹ç‚¹æ‰©å±•åŠŸèƒ½ï¼Œåœ¨å…·ä½“è®²è§£è¿™å‡ ä¸ªå‚æ•°çš„ä½œç”¨ã€‚</p>\n<h3 id=\"æœ€ç®€å•çš„æ’­æ”¾å™¨\"><a href=\"#æœ€ç®€å•çš„æ’­æ”¾å™¨\" class=\"headerlink\" title=\"æœ€ç®€å•çš„æ’­æ”¾å™¨\"></a>æœ€ç®€å•çš„æ’­æ”¾å™¨</h3><p>æ ¹æ®ä¸Šé¢æè¿°ï¼Œæˆ‘ä»¬çŸ¥é“<code>AVPlayer</code>æ˜¯æ’­æ”¾çš„å¿…è¦æ¡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ„å»ºçš„æç®€æ’­æ”¾å™¨å°±æ˜¯ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSURL</span> *playUrl = [<span class=\"built_in\">NSURL</span> URLWithString:<span class=\"string\">@\"http://baobab.wdjcdn.com/14573563182394.mp4\"</span>];</span><br><span class=\"line\"><span class=\"keyword\">self</span>.player = [[<span class=\"built_in\">AVPlayer</span> alloc] initWithURL:playUrl];</span><br><span class=\"line\">[<span class=\"keyword\">self</span>.player play];</span><br></pre></td></tr></table></figure>\n<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œåªæœ‰ä¸‰è¡Œä»£ç ï¼<br>ä½†æ˜¯å®ƒå¤ªç®€å•äº†ï¼Œä»…å¯ä»¥å®ŒæˆéŸ³é¢‘çš„æ’­æ”¾ï¼Œè¿ç”»é¢éƒ½æ²¡æœ‰ã€‚å›çœ‹ä¸Šé¢æ’­æ”¾ç›¸å…³ç±»çš„ä»‹ç»ï¼Œæ˜¯å› ä¸ºç¼ºå°‘<code>AVPlayerLayer</code>ï¼›ä½œä¸ºä¸€ä¸ªæ’­æ”¾å™¨ï¼Œæˆ‘ä¸èƒ½åªæ’­æ”¾ä¸€æ¡è§†é¢‘å•Šï¼Œæˆ‘è¿˜æƒ³æ ¹æ®éœ€è¦åˆ‡æ¢è§†é¢‘ï¼Œé‚£æˆ‘ä»¬å°±å¾—æŠŠ<code>AVPlayerItem</code>ä¹ŸåŠ ä¸Šã€‚<br>åŠ ä¸Šè¿™ä¸¤ä¸ªå±æ€§ä¹‹åçš„æ’­æ”¾å™¨æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSURL</span> *playUrl = [<span class=\"built_in\">NSURL</span> URLWithString:<span class=\"string\">@\"http://baobab.wdjcdn.com/14573563182394.mp4\"</span>];</span><br><span class=\"line\"><span class=\"keyword\">self</span>.playerItem = [<span class=\"built_in\">AVPlayerItem</span> playerItemWithURL:playUrl];</span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœè¦åˆ‡æ¢è§†é¢‘éœ€è¦è°ƒAVPlayerçš„replaceCurrentItemWithPlayerItem:æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.player = [<span class=\"built_in\">AVPlayer</span> playerWithPlayerItem:_playerItem];</span><br><span class=\"line\"><span class=\"keyword\">self</span>.playerLayer = [<span class=\"built_in\">AVPlayerLayer</span> playerLayerWithPlayer:<span class=\"keyword\">self</span>.player];</span><br><span class=\"line\"><span class=\"keyword\">self</span>.playerLayer.frame = _videoView.bounds;</span><br><span class=\"line\"><span class=\"comment\">//æ”¾ç½®æ’­æ”¾å™¨çš„è§†å›¾</span></span><br><span class=\"line\">[<span class=\"keyword\">self</span>.videoView.layer addSublayer:<span class=\"keyword\">self</span>.playerLayer];</span><br><span class=\"line\">[_player play];</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨çš„æ’­æ”¾å™¨ç¨å¾®å®Œæ•´äº†ä¸€äº›ï¼Œæˆ‘ä»¬åœ¨è‡ªå·±åˆ›å»ºçš„å®¹å™¨é‡Œå¯ä»¥çœ‹åˆ°ç”»é¢äº†ï¼</p>\n<h2 id=\"æ›´å¤šåŠŸèƒ½\"><a href=\"#æ›´å¤šåŠŸèƒ½\" class=\"headerlink\" title=\"æ›´å¤šåŠŸèƒ½\"></a>æ›´å¤šåŠŸèƒ½</h2><p>ä½†æ˜¯å®ƒä½œä¸ºä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šä¸èƒ½è®©äººæ»¡æ„çš„åœ°æ–¹ã€‚ä¾‹å¦‚ï¼šæ²¡æœ‰æš‚åœã€å¿«è¿›å¿«é€€ã€å€é€Ÿæ’­æ”¾ç­‰ï¼Œå¦å¤–å¦‚æœé‡åˆ°urlé”™è¯¯æ˜¯ä¸æ˜¯è¿˜è¦æœ‰æ’­æ”¾å¤±è´¥çš„æç¤ºï¼Œè¿˜æœ‰æ’­æ”¾å®Œæˆçš„ç›¸å…³æç¤ºã€‚<br>ä¸ºå®Œæˆè¿™äº›ï¼Œæˆ‘ä»¬éœ€è¦å¯¹<code>AVPlayerItem</code>å’Œ<code>AVPlayerLayer</code>è¿›ä¸€æ­¥äº†è§£ä¸€ä¸‹ã€‚</p>\n<h3 id=\"ä¸€ã€AVPlayerçš„æ§åˆ¶\"><a href=\"#ä¸€ã€AVPlayerçš„æ§åˆ¶\" class=\"headerlink\" title=\"ä¸€ã€AVPlayerçš„æ§åˆ¶\"></a>ä¸€ã€AVPlayerçš„æ§åˆ¶</h3><p>å‰é¢è®²è¿‡è¯¥ç±»æ˜¯æ§åˆ¶è§†é¢‘æ’­æ”¾è¡Œä¸ºçš„ï¼Œä»–çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ã€‚<br>æ’­æ”¾è§†é¢‘ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.player play];</span><br></pre></td></tr></table></figure>\n<p>æš‚åœè§†é¢‘ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.player pause];</span><br></pre></td></tr></table></figure>\n<p>æ›´æ”¹é€Ÿåº¦ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">self</span>.player.rate = <span class=\"number\">1.5</span>;<span class=\"comment\">//æ³¨æ„æ›´æ”¹æ’­æ”¾é€Ÿåº¦è¦åœ¨è§†é¢‘å¼€å§‹æ’­æ”¾ä¹‹åæ‰ä¼šç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure>\n<p>è¿˜æœ‰ä¸€ä¸‹å…¶ä»–çš„æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒè½¬åˆ°ç³»ç»ŸAPIè¿›è¡ŒæŸ¥çœ‹</p>\n<h3 id=\"äºŒã€AVPlayerItemçš„æ§åˆ¶\"><a href=\"#äºŒã€AVPlayerItemçš„æ§åˆ¶\" class=\"headerlink\" title=\"äºŒã€AVPlayerItemçš„æ§åˆ¶\"></a>äºŒã€AVPlayerItemçš„æ§åˆ¶</h3><p>AVPlayerItemä½œä¸ºèµ„æºç®¡ç†å¯¹è±¡ï¼Œå®ƒæ§åˆ¶ç€è§†é¢‘ä»åˆ›å»ºåˆ°é”€æ¯çš„è¯¸å¤šçŠ¶æ€ã€‚</p>\n<h4 id=\"1ã€æ’­æ”¾çŠ¶æ€-status\"><a href=\"#1ã€æ’­æ”¾çŠ¶æ€-status\" class=\"headerlink\" title=\"1ã€æ’­æ”¾çŠ¶æ€ status\"></a>1ã€æ’­æ”¾çŠ¶æ€ status</h4><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">NS_ENUM</span>(<span class=\"built_in\">NSInteger</span>, <span class=\"built_in\">AVPlayerItemStatus</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">AVPlayerItemStatusUnknown</span>,<span class=\"comment\">//æœªçŸ¥</span></span><br><span class=\"line\">    <span class=\"built_in\">AVPlayerItemStatusReadyToPlay</span>,<span class=\"comment\">//å‡†å¤‡æ’­æ”¾</span></span><br><span class=\"line\">    <span class=\"built_in\">AVPlayerItemStatusFailed</span><span class=\"comment\">//æ’­æ”¾å¤±è´¥</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬ä½¿ç”¨KVOç›‘æµ‹playItem.statusï¼Œå¯ä»¥è·å–æ’­æ”¾çŠ¶æ€çš„å˜åŒ–</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.playerItem addObserver:<span class=\"keyword\">self</span> forKeyPath:<span class=\"string\">@\"status\"</span> options:<span class=\"built_in\">NSKeyValueObservingOptionNew</span> context:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">```   </span><br><span class=\"line\">åœ¨ç›‘å¬å›è°ƒä¸­ï¼š</span><br><span class=\"line\">```objectivec</span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)observeValueForKeyPath:(<span class=\"built_in\">NSString</span> *)keyPath ofObject:(<span class=\"keyword\">id</span>)object change:(<span class=\"built_in\">NSDictionary</span>&lt;<span class=\"built_in\">NSKeyValueChangeKey</span>,<span class=\"keyword\">id</span>&gt; *)change context:(<span class=\"keyword\">void</span> *)context&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> ([object isKindOfClass:[<span class=\"built_in\">AVPlayerItem</span> <span class=\"keyword\">class</span>]]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([keyPath isEqualToString:<span class=\"string\">@\"status\"</span>]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">switch</span> (_playerItem.status) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">case</span> <span class=\"built_in\">AVPlayerItemStatusReadyToPlay</span>:</span><br><span class=\"line\">                    <span class=\"comment\">//æ¨èå°†è§†é¢‘æ’­æ”¾æ”¾åœ¨è¿™é‡Œ</span></span><br><span class=\"line\">                    [<span class=\"keyword\">self</span> play];</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                <span class=\"keyword\">case</span> <span class=\"built_in\">AVPlayerItemStatusUnknown</span>:</span><br><span class=\"line\">                    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"AVPlayerItemStatusUnknown\"</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                <span class=\"keyword\">case</span> <span class=\"built_in\">AVPlayerItemStatusFailed</span>:</span><br><span class=\"line\">                    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"AVPlayerItemStatusFailed\"</span>)</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                <span class=\"keyword\">default</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è™½ç„¶è®¾ç½®å®Œæ’­æ”¾é…ç½®æˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨<code>[self.player play];</code>è¿›è¡Œæ’­æ”¾ï¼Œä½†æ˜¯æ›´ç¨³å¦¥çš„æ–¹æ³•æ˜¯åœ¨å›è°ƒæ”¶åˆ°<code>AVPlayerItemStatusReadyToPlay</code>æ—¶è¿›è¡Œæ’­æ”¾</p>\n<h4 id=\"2ã€è§†é¢‘çš„æ—¶é—´ä¿¡æ¯\"><a href=\"#2ã€è§†é¢‘çš„æ—¶é—´ä¿¡æ¯\" class=\"headerlink\" title=\"2ã€è§†é¢‘çš„æ—¶é—´ä¿¡æ¯\"></a>2ã€è§†é¢‘çš„æ—¶é—´ä¿¡æ¯</h4><p>åœ¨AVPlayerä¸­æ—¶é—´çš„è¡¨ç¤ºæœ‰ä¸€ä¸ªä¸“é—¨çš„ç»“æ„ä½“CMTime</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">typedef struct&#123;</span><br><span class=\"line\">    CMTimeValue    value;     &#x2F;&#x2F; å¸§æ•°</span><br><span class=\"line\">    CMTimeScale    timescale;  &#x2F;&#x2F; å¸§ç‡ï¼ˆå½±ç‰‡æ¯ç§’æœ‰å‡ å¸§ï¼‰</span><br><span class=\"line\">    CMTimeFlags    flags;        </span><br><span class=\"line\">    CMTimeEpoch    epoch;    </span><br><span class=\"line\">&#125; CMTime;</span><br></pre></td></tr></table></figure>\n<p>CMTimeæ˜¯ä»¥åˆ†æ•°çš„å½¢å¼è¡¨ç¤ºæ—¶é—´ï¼Œvalueè¡¨ç¤ºåˆ†å­ï¼Œtimescaleè¡¨ç¤ºåˆ†æ¯ï¼Œflagsæ˜¯ä½æ©ç ï¼Œè¡¨ç¤ºæ—¶é—´çš„æŒ‡å®šçŠ¶æ€ã€‚</p>\n<p>è·å–å½“å‰æ’­æ”¾æ—¶é—´ï¼Œå¯ä»¥ç”¨value/timescaleçš„æ–¹å¼ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">float</span> currentTime = <span class=\"keyword\">self</span>.playItem.currentTime.value/item.currentTime.timescale;</span><br></pre></td></tr></table></figure>\n<p>è¿˜æœ‰ä¸€ç§åˆ©ç”¨ç³»ç»Ÿæä¾›çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç”¨å®ƒè·å–è§†é¢‘æ€»æ—¶é—´ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">float</span> totalTime   = <span class=\"built_in\">CMTimeGetSeconds</span>(item.duration);</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ·»åŠ ä¸€ä¸ªè®¡æ—¶çš„æ ‡ç­¾ä¸æ–­æ›´æ–°å½“å‰çš„æ’­æ”¾è¿›åº¦ï¼Œæœ‰ä¸€ä¸ªç³»ç»Ÿçš„æ–¹æ³•ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">id</span>)addPeriodicTimeObserverForInterval:(<span class=\"built_in\">CMTime</span>)interval queue:(<span class=\"keyword\">nullable</span> <span class=\"built_in\">dispatch_queue_t</span>)queue usingBlock:(<span class=\"keyword\">void</span> (^)(<span class=\"built_in\">CMTime</span> time))block;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•åå¦‚å…¶æ„ï¼Œ â€œæ·»åŠ å‘¨æœŸæ—¶é—´è§‚å¯Ÿè€…â€ ï¼Œå‚æ•°1 interal ä¸º<code>CMTime</code> ç±»å‹çš„ï¼Œå‚æ•°2 queueä¸ºä¸²è¡Œé˜Ÿåˆ—ï¼Œå¦‚æœä¼ å…¥NULLå°±æ˜¯é»˜è®¤ä¸»çº¿ç¨‹ï¼Œå‚æ•°3 ä¸º<code>CMTime</code> çš„blockç±»å‹ã€‚<br>ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´åæ‰§è¡Œ blockã€‚<br>æ¯”å¦‚ï¼šæˆ‘ä»¬æŠŠintervalè®¾ç½®æˆ<code>CMTimeMake(1, 10)</code>ï¼Œåœ¨blocké‡Œé¢åˆ·æ–°labelï¼Œå°±æ˜¯ä¸€ç§’é’Ÿåˆ·æ–°10æ¬¡ã€‚</p>\n<p>æ­£å¸¸è§‚å¯Ÿæ’­æ”¾è¿›åº¦ä¸€ç§’é’Ÿä¸€æ¬¡å°±è¡Œäº†ï¼Œæ‰€ä»¥å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.player addPeriodicTimeObserverForInterval:<span class=\"built_in\">CMTimeMake</span>(<span class=\"number\">1</span>, <span class=\"number\">1</span>) queue:<span class=\"literal\">nil</span> usingBlock:^(<span class=\"built_in\">CMTime</span> time) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">AVPlayerItem</span> *item = WeakSelf.playerItem;</span><br><span class=\"line\">    <span class=\"built_in\">NSInteger</span> currentTime = item.currentTime.value/item.currentTime.timescale;</span><br><span class=\"line\">    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"å½“å‰æ’­æ”¾æ—¶é—´ï¼š%ld\"</span>,currentTime);</span><br><span class=\"line\">&#125;];</span><br></pre></td></tr></table></figure>\n<h4 id=\"3ã€loadedTimeRange-ç¼“å­˜æ—¶é—´\"><a href=\"#3ã€loadedTimeRange-ç¼“å­˜æ—¶é—´\" class=\"headerlink\" title=\"3ã€loadedTimeRange  ç¼“å­˜æ—¶é—´\"></a>3ã€loadedTimeRange  ç¼“å­˜æ—¶é—´</h4><p>è·å–è§†é¢‘çš„ç¼“å­˜æƒ…å†µæˆ‘ä»¬éœ€è¦ç›‘å¬playerItemçš„loadedTimeRangeså±æ€§</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.playerItem addObserver:<span class=\"keyword\">self</span> forKeyPath:<span class=\"string\">@\"loadedTimeRanges\"</span> options:<span class=\"built_in\">NSKeyValueObservingOptionNew</span> context:<span class=\"literal\">nil</span>];</span><br></pre></td></tr></table></figure>\n<p>åœ¨KVOçš„å›è°ƒé‡Œ:</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ([keyPath isEqualToString:<span class=\"string\">@\"loadedTimeRanges\"</span>])&#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSArray</span> *array = _playerItem.loadedTimeRanges;</span><br><span class=\"line\">    <span class=\"built_in\">CMTimeRange</span> timeRange = [array.firstObject <span class=\"built_in\">CMTimeRangeValue</span>];<span class=\"comment\">//æœ¬æ¬¡ç¼“å†²æ—¶é—´èŒƒå›´</span></span><br><span class=\"line\">    <span class=\"keyword\">float</span> startSeconds = <span class=\"built_in\">CMTimeGetSeconds</span>(timeRange.start);</span><br><span class=\"line\">    <span class=\"keyword\">float</span> durationSeconds = <span class=\"built_in\">CMTimeGetSeconds</span>(timeRange.duration); <span class=\"built_in\">NSTimeInterval</span> totalBuffer = startSeconds + durationSeconds;<span class=\"comment\">//ç¼“å†²æ€»é•¿åº¦</span></span><br><span class=\"line\">    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"å½“å‰ç¼“å†²æ—¶é—´ï¼š%f\"</span>,totalBuffer);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4ã€playbackBufferEmpty\"><a href=\"#4ã€playbackBufferEmpty\" class=\"headerlink\" title=\"4ã€playbackBufferEmpty\"></a>4ã€playbackBufferEmpty</h4><p>ç›‘å¬<code>playbackBufferEmpty</code>æˆ‘ä»¬å¯ä»¥è·å–å½“ç¼“å­˜ä¸å¤Ÿï¼Œè§†é¢‘åŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.playerItem addObserver:<span class=\"keyword\">self</span> forKeyPath:<span class=\"string\">@\"playbackBufferEmpty\"</span> options:<span class=\"built_in\">NSKeyValueObservingOptionNew</span> context:<span class=\"literal\">nil</span>];</span><br></pre></td></tr></table></figure>\n<p>åœ¨KVOå›è°ƒé‡Œï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ([keyPath isEqualToString:<span class=\"string\">@\"playbackBufferEmpty\"</span>]) &#123;</span><br><span class=\"line\">   <span class=\"comment\">//some code show loading   </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"5ã€playbackLikelyToKeepUp\"><a href=\"#5ã€playbackLikelyToKeepUp\" class=\"headerlink\" title=\"5ã€playbackLikelyToKeepUp\"></a>5ã€playbackLikelyToKeepUp</h4><p><code>playbackLikelyToKeepUp</code>å’Œ<code>playbackBufferEmpty</code>æ˜¯ä¸€å¯¹ï¼Œç”¨äºç›‘å¬ç¼“å­˜è¶³å¤Ÿæ’­æ”¾çš„çŠ¶æ€</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.playerItem addObserver:<span class=\"keyword\">self</span> forKeyPath:<span class=\"string\">@\"playbackLikelyToKeepUp\"</span> options:<span class=\"built_in\">NSKeyValueObservingOptionNew</span> context:<span class=\"literal\">nil</span>];</span><br><span class=\"line\"> <span class=\"comment\">/* ... */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>([keyPath isEqualToString:<span class=\"string\">@\"playbackLikelyToKeepUp\"</span>]) &#123;    </span><br><span class=\"line\">    <span class=\"comment\">//ç”±äº AVPlayer ç¼“å­˜ä¸è¶³å°±ä¼šè‡ªåŠ¨æš‚åœï¼Œæ‰€ä»¥ç¼“å­˜å……è¶³äº†éœ€è¦æ‰‹åŠ¨æ’­æ”¾ï¼Œæ‰èƒ½ç»§ç»­æ’­æ”¾  </span></span><br><span class=\"line\">    [_player play];      </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"AVURLAsset\"><a href=\"#AVURLAsset\" class=\"headerlink\" title=\"AVURLAsset\"></a>AVURLAsset</h3><p>æ’­æ”¾è§†é¢‘åªéœ€ä¸€ä¸ªurlå°±èƒ½è¿›è¡Œè¿™æ ·å¤ªä¸å®‰å…¨äº†ï¼Œåˆ«äººå¯ä»¥è½»æ˜“çš„æŠ“åŒ…ç›—é“¾ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸ºè§†é¢‘é“¾æ¥åšä¸€ä¸ªè¯·æ±‚å¤´çš„è®¤è¯ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥å€ŸåŠ©AVURLAssetå®Œæˆã€‚</p>\n<p><code>AVPlayerItem</code>é™¤äº†å¯ä»¥ç”¨URLåˆå§‹åŒ–ï¼Œè¿˜å¯ä»¥ç”¨<code>AVAsset</code>åˆå§‹åŒ–ï¼Œè€Œ<code>AVAsset</code>ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬çœ‹ä¸‹<code>AVURLAsset</code>çš„ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*!</span></span><br><span class=\"line\"><span class=\"comment\">@param\t\tURL</span></span><br><span class=\"line\"><span class=\"comment\">\tAn instance of NSURL that references a media resource.</span></span><br><span class=\"line\"><span class=\"comment\">@param\t\toptions</span></span><br><span class=\"line\"><span class=\"comment\">\tAn instance of NSDictionary that contains keys for specifying options for the initialization of the AVURLAsset. See AVURLAssetPreferPreciseDurationAndTimingKey and AVURLAssetReferenceRestrictionsKey above.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">+ (<span class=\"keyword\">instancetype</span>)URLAssetWithURL:(<span class=\"built_in\">NSURL</span> *)URL options:(<span class=\"keyword\">nullable</span> <span class=\"built_in\">NSDictionary</span>&lt;<span class=\"built_in\">NSString</span> *, <span class=\"keyword\">id</span>&gt; *)options;</span><br></pre></td></tr></table></figure>\n<p><code>AVURLAssetPreferPreciseDurationAndTimingKey.</code>è¿™ä¸ªkeyå¯¹åº”çš„valueæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼, ç”¨æ¥è¡¨æ˜èµ„æºæ˜¯å¦éœ€è¦ä¸ºæ—¶é•¿çš„ç²¾ç¡®å±•ç¤º,ä»¥åŠéšæœºæ—¶é—´å†…å®¹çš„è¯»å–è¿›è¡Œæå‰å‡†å¤‡ã€‚</p>\n<p>é™¤äº†è¿™ä¸ªè‹¹æœå®˜æ–¹ä»‹ç»çš„åŠŸèƒ½å¤–ï¼Œä»–è¿˜å¯ä»¥è®¾ç½®è¯·æ±‚å¤´ï¼Œè¿™ä¸ªç®—æ˜¯éšè—åŠŸèƒ½äº†ï¼Œå› ä¸ºè‹¹æœå¹¶æ²¡æœ‰æ˜è¯´è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘æ˜¯è´¹äº†å¾ˆå¤§åŠ²æ‰¾åˆ°çš„ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"built_in\">NSMutableDictionary</span> * headers = [<span class=\"built_in\">NSMutableDictionary</span> dictionary];</span><br><span class=\"line\">[headers setObject:<span class=\"string\">@\"yourHeader\"</span>forKey:<span class=\"string\">@\"User-Agent\"</span>];</span><br><span class=\"line\"><span class=\"keyword\">self</span>.urlAsset = [<span class=\"built_in\">AVURLAsset</span>   URLAssetWithURL:<span class=\"keyword\">self</span>.videoURL options:@&#123;<span class=\"string\">@\"AVURLAssetHTTPHeaderFieldsKey\"</span> : headers&#125;];</span><br><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ–playerItem</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.playerItem = [<span class=\"built_in\">AVPlayerItem</span> playerItemWithAsset:<span class=\"keyword\">self</span>.urlAsset];</span><br></pre></td></tr></table></figure>\n<p>è¡¥å……ï¼šåæ¥å¾—çŸ¥è¿™ä¸ªå‚æ•°æ˜¯éå…¬å¼€çš„APIï¼Œä½†æ˜¯ç»å¤šäººæµ‹è¯•é¡¹ç›®ä¸Šçº¿ä¸å—å½±å“ã€‚</p>\n<h3 id=\"æ’­æ”¾ç›¸å…³é€šçŸ¥\"><a href=\"#æ’­æ”¾ç›¸å…³é€šçŸ¥\" class=\"headerlink\" title=\"æ’­æ”¾ç›¸å…³é€šçŸ¥\"></a>æ’­æ”¾ç›¸å…³é€šçŸ¥</h3><h4 id=\"1ã€å£°éŸ³ç±»ï¼š\"><a href=\"#1ã€å£°éŸ³ç±»ï¼š\" class=\"headerlink\" title=\"1ã€å£°éŸ³ç±»ï¼š\"></a>1ã€å£°éŸ³ç±»ï¼š</h4><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å£°éŸ³è¢«æ‰“æ–­çš„é€šçŸ¥ï¼ˆç”µè¯æ‰“æ¥ï¼‰</span></span><br><span class=\"line\"><span class=\"built_in\">AVAudioSessionInterruptionNotification</span></span><br><span class=\"line\"><span class=\"comment\">//è€³æœºæ’å…¥å’Œæ‹”å‡ºçš„é€šçŸ¥</span></span><br><span class=\"line\"><span class=\"built_in\">AVAudioSessionRouteChangeNotification</span></span><br></pre></td></tr></table></figure>\n<p>æ ¹æ®userInfoåˆ¤æ–­å…·ä½“çŠ¶æ€</p>\n<h4 id=\"2ã€æ’­æ”¾ç±»\"><a href=\"#2ã€æ’­æ”¾ç±»\" class=\"headerlink\" title=\"2ã€æ’­æ”¾ç±»\"></a>2ã€æ’­æ”¾ç±»</h4><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ’­æ”¾å®Œæˆ</span></span><br><span class=\"line\"><span class=\"built_in\">AVPlayerItemDidPlayToEndTimeNotification</span></span><br><span class=\"line\"><span class=\"comment\">//æ’­æ”¾å¤±è´¥</span></span><br><span class=\"line\"><span class=\"built_in\">AVPlayerItemFailedToPlayToEndTimeNotification</span></span><br><span class=\"line\"><span class=\"comment\">//å¼‚å¸¸ä¸­æ–­</span></span><br><span class=\"line\"><span class=\"built_in\">AVPlayerItemPlaybackStalledNotification</span></span><br></pre></td></tr></table></figure>\n<p>å¯¹äºæ’­æ”¾å®Œæˆçš„é€šçŸ¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[[<span class=\"built_in\">NSNotificationCenter</span> defaultCenter] addObserver:<span class=\"keyword\">self</span> selector:<span class=\"keyword\">@selector</span>(playerMovieFinish:) name:<span class=\"built_in\">AVPlayerItemDidPlayToEndTimeNotification</span> object:[<span class=\"keyword\">self</span>.player currentItem]];</span><br></pre></td></tr></table></figure>\n<h4 id=\"3ã€ç³»ç»ŸçŠ¶æ€\"><a href=\"#3ã€ç³»ç»ŸçŠ¶æ€\" class=\"headerlink\" title=\"3ã€ç³»ç»ŸçŠ¶æ€\"></a>3ã€ç³»ç»ŸçŠ¶æ€</h4><figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿›å…¥åå°</span></span><br><span class=\"line\"><span class=\"built_in\">UIApplicationWillResignActiveNotification</span></span><br><span class=\"line\"><span class=\"comment\">//è¿”å›å‰å°</span></span><br><span class=\"line\"><span class=\"built_in\">UIApplicationDidBecomeActiveNotification</span></span><br></pre></td></tr></table></figure>\n<p><strong>æç¤ºï¼šæ‰€æœ‰é€šçŸ¥å’ŒKVOçš„ä½¿ç”¨æˆ‘ä»¬éƒ½è¦è®°å¾—åœ¨ä¸ç”¨æ—¶removeæ‰ã€‚</strong></p>\n<h2 id=\"å°ç»“\"><a href=\"#å°ç»“\" class=\"headerlink\" title=\"å°ç»“\"></a>å°ç»“</h2><p>è§†é¢‘æ’­æ”¾ç›¸å…³çš„çŸ¥è¯†æ¯”è¾ƒå¤šï¼Œç»†èŠ‚çš„æ–¹é¢éœ€è¦ä¸€ç‚¹ä¸€ç‚¹å»æ‰£ã€‚æš‚ä¸”å†™è¿™ä¹ˆå¤šå§ï¼Œä»¥åæœ‰éœ€è¦ä¼šåŠæ—¶è¡¥å……ã€‚<br><strong>å‚è€ƒï¼š</strong><br><a href=\"https://github.com/renzifeng/ZFPlayer\">ZFPlayer</a><br><a href=\"http://liunan.me/2017/01/30/avplayer\">AVPlayeré‚£äº›å‘</a><br>å¦‚æœè¿˜æœ‰ä»€ä¹ˆä¸ç†è§£çš„å¯ä»¥ç®€ä¹¦ç§ä¿¡é—®æˆ‘ï¼Œæˆ–è€…æŸ¥çœ‹æˆ‘å†™çš„<a href=\"https://github.com/zhangferry/FYPlayer\">Demo</a>ï¼Œæ¬¢è¿star- ( ã‚œ- ã‚œ)ã¤ãƒ­ä¹¾æ¯~</p>\n","categories":[],"tags":["iOS","AVPlayer"]},{"title":"é¢è¯•é¢˜æ€»ç»“ï¼ˆFrom J_Knightï¼‰","url":"http://zhangferry.github.io/2017/06/29/interview-question/","content":"<blockquote>\n<p>å‰ä¸€æ®µæ—¶é—´çœ‹äº†<a href=\"https://knightsj.github.io/\">J_Knight</a>çš„<a href=\"http://www.jianshu.com/p/56e40ea56813\">2017å¹´5æœˆiOSæ‰¾äººå¿ƒå¾—ï¼ˆé™„é¢è¯•é¢˜ï¼‰</a>ã€‚ä½œä¸ºä¸€ä¸ªåœ¨ç¼–ç¨‹å‰çº¿å¥‹æ–—äº†å°†è¿‘ä¸¤å¹´çš„iOSä»ä¸šäººå‘˜ï¼Œé¢å¯¹è¿™äº›é¢˜ç›®æ—¶ï¼Œæœ‰äº›ç«Ÿæ„Ÿè§‰ç”Ÿç–ï¼Œç”šè‡³ç­”ä¸ä¸Šæ¥ï¼Œå¾ˆæ˜¯æƒ­æ„§ã€‚ä¸ªäººæ„Ÿè§‰ï¼Œåƒruntimeã€çº¿ç¨‹ã€ä¿¡å·é‡ç›¸å…³çš„ååº•å±‚çŸ¥è¯†è™½ç„¶å¹³æ—¶åŸºæœ¬ç”¨ä¸åˆ°ã€‚ç‰¹åˆ«æ˜¯å¾ˆå¤šäººå¯èƒ½éƒ½æ²¡å‚ä¸è¿‡ç¨å¤æ‚é¡¹ç›®çš„å¼€å‘ï¼Œä¼˜åŒ–ï¼Œè¿™äº›å†…å®¹å¯¹äºå¾ˆå¤šæ–°æ‰‹iOSå¼€å‘æ¥è¯´åªå­˜åœ¨äºç†è®ºã€‚ä½†å¹¶ä¸æ˜¯è¯´è¿™äº›çŸ¥è¯†ä¸é‡è¦ï¼Œç›¸åï¼Œå®ƒæ˜¯æˆ‘ä»¬è¿›é˜¶çš„å¿…ç»ä¹‹è·¯ã€‚æ­¤ç¯‡æ–‡ç« çš„ç›®çš„ä¸€æ–¹é¢è‡ªå·±æ•´ç†ï¼Œä¸€æ–¹é¢å¸Œæœ›å’Œå¤§å®¶å…±åŒå­¦ä¹ è¿›æ­¥ã€‚ä»¥ä¸‹å†…å®¹å¤šæ•°ä¸ºæ•´ç†ï¼Œæ—¶é—´ä»“ä¿ƒå¯èƒ½æœ‰ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œå¦‚æœç¼ºæ¼ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚</p>\n</blockquote>\n<p>éƒ¨åˆ†ç­”æ¡ˆå‡ºå¤„ï¼š<a href=\"https://github.com/ChenYilong/iOSInterviewQuestions\">iOSInterviewQuestions</a></p>\n<a id=\"more\"></a>\n<h1 id=\"åŸºç¡€\"><a href=\"#åŸºç¡€\" class=\"headerlink\" title=\"åŸºç¡€\"></a>åŸºç¡€</h1><h2 id=\"ä¸ºä»€ä¹ˆè¯´Objective-Cæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆè¯´Objective-Cæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¯´Objective-Cæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Ÿ\"></a>ä¸ºä»€ä¹ˆè¯´Objective-Cæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Ÿ</h2><p>åŠ¨æ€è¯­è¨€ï¼Œæ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„ï¼šæ–°çš„å‡½æ•°å¯ä»¥è¢«å¼•è¿›ï¼Œå·²æœ‰çš„å‡½æ•°å¯ä»¥è¢«åˆ é™¤ç­‰åœ¨ç»“æ„ä¸Šçš„å˜åŒ–ã€‚æ¯”å¦‚Rubyã€Pythonç­‰å°±æ˜¯åŠ¨æ€è¯­è¨€ï¼Œè€ŒCã€C++ç­‰è¯­è¨€åˆ™ä¸å±äºåŠ¨æ€è¯­è¨€ã€‚<br>æ‰€è°“çš„åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæ„æ€å°±æ˜¯ç±»å‹çš„æ£€æŸ¥æ˜¯åœ¨è¿è¡Œæ—¶åšçš„ã€‚</p>\n<p>1ã€åŠ¨æ€ç±»å‹ã€‚ å¦‚idç±»å‹ã€‚å®é™…ä¸Šé™æ€ç±»å‹å› ä¸ºå…¶å›ºå®šæ€§å’Œå¯é¢„çŸ¥æ€§è€Œä½¿ç”¨å¾—æ›´åŠ å¹¿æ³›ã€‚é™æ€ç±»å‹æ˜¯å¼ºç±»å‹ï¼Œè€ŒåŠ¨æ€ç±»å‹å±äºå¼±ç±»å‹ã€‚è¿è¡Œæ—¶å†³å®šæ¥æ”¶è€…ã€‚</p>\n<p>2ã€åŠ¨æ€ç»‘å®šã€‚è®©ä»£ç åœ¨è¿è¡Œæ—¶åˆ¤æ–­éœ€è¦è°ƒç”¨ä»€ä¹ˆæ–¹æ³•ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ã€‚ä¸å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€ä¸€æ ·ï¼Œæ–¹æ³•è°ƒç”¨å’Œä»£ç å¹¶æ²¡æœ‰åœ¨ç¼–è¯‘æ—¶è¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯åœ¨æ¶ˆæ¯å‘é€æ—¶æ‰è¿›è¡Œè¿æ¥ã€‚è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚</p>\n<p>3ã€åŠ¨æ€è½½å…¥ã€‚è®©ç¨‹åºåœ¨è¿è¡Œæ—¶æ·»åŠ ä»£ç æ¨¡å—ä»¥åŠå…¶ä»–èµ„æºã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦åŠ è½½ä¸€äº›å¯æ‰§è¡Œä»£ç å’Œèµ„æºï¼Œè€Œä¸æ˜¯åœ¨å¯åŠ¨æ—¶å°±åŠ è½½æ‰€æœ‰ç»„ä»¶ã€‚å¯æ‰§è¡Œä»£ç ä¸­å¯ä»¥å«æœ‰å’Œç¨‹åºè¿è¡Œæ—¶æ•´åˆçš„æ–°ç±»ã€‚</p>\n<h2 id=\"è®²ä¸€ä¸‹MVCå’ŒMVVM-MVP\"><a href=\"#è®²ä¸€ä¸‹MVCå’ŒMVVM-MVP\" class=\"headerlink\" title=\"è®²ä¸€ä¸‹MVCå’ŒMVVM,MVP\"></a>è®²ä¸€ä¸‹MVCå’ŒMVVM,MVP</h2><p><a href=\"http://www.cocoachina.com/ios/20160108/14916.html\">iOS æ¶æ„æ¨¡å¼â€“è§£å¯† MVCï¼ŒMVPï¼ŒMVVMä»¥åŠVIPERæ¶æ„</a></p>\n<h2 id=\"ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«\"><a href=\"#ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«?\"></a>ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«?</h2><p>é˜²æ­¢å¾ªç¯å¼•ç”¨ã€‚</p>\n<p>å¦å¤–ï¼Œä¸å»ºè®®ä½¿ç”¨assign<br>weak å½“è®¡æ•°å™¨ä¸º0 æ—¶å¯¹è±¡è¢«é‡Šæ”¾ï¼Œåœ°å€æŒ‡é’ˆå°±ç½®ä¸ºäº†nil äº†ã€‚<br>assign å½“è®¡æ•°å™¨ä¸º0 æ—¶ å¯¹è±¡è¢«é‡Šæ”¾ï¼Œåœ°å€æŒ‡é’ˆè¿˜æ˜¯æŒ‡å‘é‚£ä¸ªåœ°å€ï¼Œå°±ä¼šäº§ç”Ÿé‡æŒ‡é’ˆ</p>\n<p>datasourceåè®®é‡Œé¢ä¸œè¥¿æ˜¯è·Ÿå†…å®¹æœ‰å…³çš„ï¼Œä¸»è¦æ˜¯cellçš„æ„é€ å‡½æ•°ï¼Œå„ç§å±æ€§<br>delegateåè®®é‡Œé¢çš„æ–¹æ³•ä¸»è¦æ˜¯æ“ä½œç›¸å…³çš„ï¼Œç§»åŠ¨ç¼–è¾‘ä¹‹ç±»çš„ï¼Œä½ éƒ½å†™ä¸Šè¦ç”¨ä»€ä¹ˆæ–¹æ³•è‡ªå·±å»ç¿»å°±æ˜¯äº†<br>delegateæ§åˆ¶çš„æ˜¯UIï¼Œæ˜¯ä¸Šå±‚çš„ä¸œè¥¿ï¼›è€Œdatasourceæ§åˆ¶çš„æ˜¯æ•°æ®ã€‚ä»–ä»¬æœ¬è´¨éƒ½æ˜¯å›è°ƒï¼Œåªæ˜¯å›è°ƒçš„å¯¹è±¡ä¸åŒã€‚</p>\n<p>block å’Œ delegate éƒ½å¯ä»¥é€šçŸ¥å¤–é¢ã€‚block æ›´è½»å‹ï¼Œä½¿ç”¨æ›´ç®€å•ï¼Œèƒ½å¤Ÿç›´æ¥è®¿é—®ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·ç±»ä¸­ä¸éœ€è¦å­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œä½¿ç”¨ block çš„ä»£ç é€šå¸¸ä¼šåœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œè¿™æ ·è¯»ä»£ç ä¹Ÿè¿è´¯ã€‚delegate æ›´é‡ä¸€äº›ï¼Œéœ€è¦å®ç°æ¥å£ï¼Œå®ƒçš„æ–¹æ³•åˆ†ç¦»å¼€æ¥ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦å­˜å‚¨ä¸€äº›ä¸´æ—¶æ•°æ®ï¼Œå¦å¤–ç›¸å…³çš„ä»£ç ä¼šè¢«åˆ†ç¦»åˆ°å„å¤„ï¼Œæ²¡æœ‰ block å¥½è¯»ã€‚</p>\n<p>å¤šä¸ªç›¸å…³æ–¹æ³•ï¼Œé¿å…å¾ªç¯å¼•ç”¨ï¼Œå»ºè®®ç”¨delegateã€‚<br>ä¸´æ—¶æ€§çš„ï¼Œåªåœ¨æ ˆä¸­ï¼Œéœ€è¦å­˜å‚¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ï¼Œä¸€ä¸ªå®Œæˆå‘¨æœŸç”¨block</p>\n<h2 id=\"å±æ€§çš„å®è´¨æ˜¯ä»€ä¹ˆï¼ŸåŒ…æ‹¬å“ªå‡ ä¸ªéƒ¨åˆ†ï¼Ÿå±æ€§é»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ-dynamicå…³é”®å­—å’Œ-synthesizeå…³é”®å­—æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ\"><a href=\"#å±æ€§çš„å®è´¨æ˜¯ä»€ä¹ˆï¼ŸåŒ…æ‹¬å“ªå‡ ä¸ªéƒ¨åˆ†ï¼Ÿå±æ€§é»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ-dynamicå…³é”®å­—å’Œ-synthesizeå…³é”®å­—æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ\" class=\"headerlink\" title=\"å±æ€§çš„å®è´¨æ˜¯ä»€ä¹ˆï¼ŸåŒ…æ‹¬å“ªå‡ ä¸ªéƒ¨åˆ†ï¼Ÿå±æ€§é»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ@dynamicå…³é”®å­—å’Œ@synthesizeå…³é”®å­—æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ\"></a>å±æ€§çš„å®è´¨æ˜¯ä»€ä¹ˆï¼ŸåŒ…æ‹¬å“ªå‡ ä¸ªéƒ¨åˆ†ï¼Ÿå±æ€§é»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ@dynamicå…³é”®å­—å’Œ@synthesizeå…³é”®å­—æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ</h2><p>å±æ€§çš„æœ¬è´¨å°±æ˜¯å®ç°å®ä¾‹å˜é‡å’Œå­˜å–æ–¹æ³•ã€‚<br>    @property = ivar + getter + setter;</p>\n<ol>\n<li>å¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹é»˜è®¤å…³é”®å­—æ˜¯<code>atomic,readwrite,assign</code></li>\n<li>å¯¹äºæ™®é€šçš„ Objective-C å¯¹è±¡<code>atomic,readwrite,strong</code></li>\n</ol>\n<p><code>@property</code>æœ‰ä¸¤ä¸ªå¯¹åº”çš„è¯ï¼Œä¸€ä¸ªæ˜¯ <code>@synthesize</code>ï¼Œä¸€ä¸ªæ˜¯ <code>@dynamic</code>ã€‚å¦‚æœ <code>@synthesize</code>å’Œ <code>@dynamic</code>éƒ½æ²¡å†™ï¼Œé‚£ä¹ˆé»˜è®¤çš„å°±æ˜¯<code>@syntheszie var = _var;</code><br><code>@synthesize</code> çš„è¯­ä¹‰æ˜¯å¦‚æœä½ æ²¡æœ‰æ‰‹åŠ¨å®ç° setter æ–¹æ³•å’Œ getter æ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ åŠ ä¸Šè¿™ä¸¤ä¸ªæ–¹æ³•ã€‚<br><code>@dynamic</code> å‘Šè¯‰ç¼–è¯‘å™¨ï¼šå±æ€§çš„ setter ä¸ getter æ–¹æ³•ç”±ç”¨æˆ·è‡ªå·±å®ç°ï¼Œä¸è‡ªåŠ¨ç”Ÿæˆã€‚ï¼ˆå½“ç„¶å¯¹äº readonly çš„å±æ€§åªéœ€æä¾› getter å³å¯ï¼‰ã€‚å‡å¦‚ä¸€ä¸ªå±æ€§è¢«å£°æ˜ä¸º <code>@dynamic var</code>ï¼Œç„¶åä½ æ²¡æœ‰æä¾› @setteræ–¹æ³•å’Œ @getter æ–¹æ³•ï¼Œç¼–è¯‘çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å½“ç¨‹åºè¿è¡Œåˆ° <code>instance.var = someVar</code>ï¼Œç”±äºç¼º setter æ–¹æ³•ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼›æˆ–è€…å½“è¿è¡Œåˆ° <code>someVar = var</code> æ—¶ï¼Œç”±äºç¼º getter æ–¹æ³•åŒæ ·ä¼šå¯¼è‡´å´©æºƒã€‚ç¼–è¯‘æ—¶æ²¡é—®é¢˜ï¼Œè¿è¡Œæ—¶æ‰æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„åŠ¨æ€ç»‘å®šã€‚</p>\n<h2 id=\"NSStringä¸ºä»€ä¹ˆè¦ç”¨copyå…³é”®å­—ï¼Œå¦‚æœç”¨strongä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\"><a href=\"#NSStringä¸ºä»€ä¹ˆè¦ç”¨copyå…³é”®å­—ï¼Œå¦‚æœç”¨strongä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"NSStringä¸ºä»€ä¹ˆè¦ç”¨copyå…³é”®å­—ï¼Œå¦‚æœç”¨strongä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\"></a>NSStringä¸ºä»€ä¹ˆè¦ç”¨copyå…³é”®å­—ï¼Œå¦‚æœç”¨strongä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2><p>å› ä¸ºçˆ¶ç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡,ä½¿ç”¨ copy çš„ç›®çš„æ˜¯ä¸ºäº†è®©æœ¬å¯¹è±¡çš„å±æ€§ä¸å—å¤–ç•Œå½±å“,ä½¿ç”¨ copy æ— è®ºç»™æˆ‘ä¼ å…¥æ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡è¿˜æ˜¯ä¸å¯å¯¹è±¡,æˆ‘æœ¬èº«æŒæœ‰çš„å°±æ˜¯ä¸€ä¸ªä¸å¯å˜çš„å‰¯æœ¬ã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ˜¯ strong ,é‚£ä¹ˆè¿™ä¸ªå±æ€§å°±æœ‰å¯èƒ½æŒ‡å‘ä¸€ä¸ªå¯å˜å¯¹è±¡,å¦‚æœè¿™ä¸ªå¯å˜å¯¹è±¡åœ¨å¤–éƒ¨è¢«ä¿®æ”¹äº†,é‚£ä¹ˆä¼šå½±å“è¯¥å±æ€§.</p>\n<h2 id=\"å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½\"><a href=\"#å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½\" class=\"headerlink\" title=\"å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½?\"></a>å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½?</h2><p>è‹¥æƒ³ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½ï¼Œåˆ™éœ€å®ç° <code>NSCopying</code> åè®®ã€‚å¦‚æœè‡ªå®šä¹‰çš„å¯¹è±¡åˆ†ä¸ºå¯å˜ç‰ˆæœ¬ä¸ä¸å¯å˜ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±è¦åŒæ—¶å®ç° <code>NSCopying</code> ä¸ <code>NSMutableCopying</code> åè®®ã€‚</p>\n<h2 id=\"å¯å˜é›†åˆç±»-å’Œ-ä¸å¯å˜é›†åˆç±»çš„-copy-å’Œ-mutablecopyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚æœæ˜¯é›†åˆæ˜¯å†…å®¹å¤åˆ¶çš„è¯ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ ä¹Ÿæ˜¯å†…å®¹å¤åˆ¶ä¹ˆï¼Ÿ\"><a href=\"#å¯å˜é›†åˆç±»-å’Œ-ä¸å¯å˜é›†åˆç±»çš„-copy-å’Œ-mutablecopyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚æœæ˜¯é›†åˆæ˜¯å†…å®¹å¤åˆ¶çš„è¯ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ ä¹Ÿæ˜¯å†…å®¹å¤åˆ¶ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"å¯å˜é›†åˆç±» å’Œ ä¸å¯å˜é›†åˆç±»çš„ copy å’Œ mutablecopyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚æœæ˜¯é›†åˆæ˜¯å†…å®¹å¤åˆ¶çš„è¯ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ ä¹Ÿæ˜¯å†…å®¹å¤åˆ¶ä¹ˆï¼Ÿ\"></a>å¯å˜é›†åˆç±» å’Œ ä¸å¯å˜é›†åˆç±»çš„ copy å’Œ mutablecopyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚æœæ˜¯é›†åˆæ˜¯å†…å®¹å¤åˆ¶çš„è¯ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ ä¹Ÿæ˜¯å†…å®¹å¤åˆ¶ä¹ˆï¼Ÿ</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[immutableObject copy] &#x2F;&#x2F; æµ…å¤åˆ¶</span><br><span class=\"line\">[immutableObject mutableCopy] &#x2F;&#x2F;æ·±å¤åˆ¶</span><br><span class=\"line\">[mutableObject copy] &#x2F;&#x2F;æ·±å¤åˆ¶</span><br><span class=\"line\">[mutableObject mutableCopy] &#x2F;&#x2F;æ·±å¤åˆ¶</span><br></pre></td></tr></table></figure>\n<p>ä½†æ˜¯ï¼šé›†åˆå¯¹è±¡çš„å†…å®¹å¤åˆ¶ä»…é™äºå¯¹è±¡æœ¬èº«ï¼Œå¯¹è±¡å…ƒç´ ä»ç„¶æ˜¯æŒ‡é’ˆå¤åˆ¶</p>\n<h2 id=\"ä¸ºä»€ä¹ˆIBOutletä¿®é¥°çš„UIViewä¹Ÿé€‚ç”¨weakå…³é”®å­—ï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆIBOutletä¿®é¥°çš„UIViewä¹Ÿé€‚ç”¨weakå…³é”®å­—ï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆIBOutletä¿®é¥°çš„UIViewä¹Ÿé€‚ç”¨weakå…³é”®å­—ï¼Ÿ\"></a>ä¸ºä»€ä¹ˆIBOutletä¿®é¥°çš„UIViewä¹Ÿé€‚ç”¨weakå…³é”®å­—ï¼Ÿ</h2><p>å› ä¸ºæ—¢ç„¶æœ‰å¤–é“¾é‚£ä¹ˆè§†å›¾åœ¨xibæˆ–è€…storyboardä¸­è‚¯å®šå­˜åœ¨ï¼Œè§†å›¾å·²ç»å¯¹å®ƒæœ‰ä¸€ä¸ªå¼ºå¼•ç”¨äº†ã€‚<br>ä¸è¿‡è¿™ä¸ªå›ç­”æ¼äº†ä¸ªé‡è¦çŸ¥è¯†ï¼Œä½¿ç”¨storyboardï¼ˆxibä¸è¡Œï¼‰åˆ›å»ºçš„vcï¼Œä¼šæœ‰ä¸€ä¸ªå«<code>_topLevelObjectsToKeepAliveFromStoryboard</code>çš„ç§æœ‰æ•°ç»„å¼ºå¼•ç”¨æ‰€æœ‰top levelçš„å¯¹è±¡ï¼Œæ‰€ä»¥è¿™æ—¶å³ä¾¿outletå£°æ˜æˆweakä¹Ÿæ²¡å…³ç³»</p>\n<h2 id=\"nonatomicå’Œatomicçš„åŒºåˆ«ï¼Ÿatomicæ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£åº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ\"><a href=\"#nonatomicå’Œatomicçš„åŒºåˆ«ï¼Ÿatomicæ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£åº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ\" class=\"headerlink\" title=\"nonatomicå’Œatomicçš„åŒºåˆ«ï¼Ÿatomicæ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£åº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ\"></a>nonatomicå’Œatomicçš„åŒºåˆ«ï¼Ÿatomicæ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£åº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ</h2><p><code>atomic</code>ä¼šåœ¨åˆ›å»ºæ—¶ç”Ÿæˆä¸€äº›é¢å¤–çš„ä»£ç ç”¨äºå¸®åŠ©ç¼–å†™å¤šçº¿ç¨‹ç¨‹åºï¼Œè¿™ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œé€šè¿‡å£°æ˜ <code>nonatomic</code> å¯ä»¥èŠ‚çœè¿™äº›è™½ç„¶å¾ˆå°ä½†æ˜¯ä¸å¿…è¦é¢å¤–å¼€é”€ã€‚</p>\n<p>ä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸è¦æ±‚å±æ€§å¿…é¡»æ˜¯â€œåŸå­çš„â€ï¼Œå› ä¸ºè¿™å¹¶ä¸èƒ½ä¿è¯â€œçº¿ç¨‹å®‰å…¨â€ ( thread safety)ï¼Œè‹¥è¦å®ç°â€œçº¿ç¨‹å®‰å…¨â€çš„æ“ä½œï¼Œè¿˜éœ€é‡‡ç”¨æ›´ä¸ºæ·±å±‚çš„é”å®šæœºåˆ¶æ‰è¡Œã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨è¿ç»­å¤šæ¬¡è¯»å–æŸå±æ€§å€¼çš„è¿‡ç¨‹ä¸­æœ‰åˆ«çš„çº¿ç¨‹åœ¨åŒæ—¶æ”¹å†™è¯¥å€¼ï¼Œé‚£ä¹ˆå³ä¾¿å°†å±æ€§å£°æ˜ä¸º <code>atomic</code>ï¼Œä¹Ÿè¿˜æ˜¯ä¼šè¯»åˆ°ä¸åŒçš„å±æ€§å€¼ã€‚</p>\n<h2 id=\"UICollectionViewè‡ªå®šä¹‰layoutå¦‚ä½•å®ç°ï¼Ÿ\"><a href=\"#UICollectionViewè‡ªå®šä¹‰layoutå¦‚ä½•å®ç°ï¼Ÿ\" class=\"headerlink\" title=\"UICollectionViewè‡ªå®šä¹‰layoutå¦‚ä½•å®ç°ï¼Ÿ\"></a>UICollectionViewè‡ªå®šä¹‰layoutå¦‚ä½•å®ç°ï¼Ÿ</h2><ul>\n<li>æ–°å»ºä¸€ä¸ªç±»ç»§æ‰¿<code>UICollectionViewFlowLayout</code>ï¼Œå®ç°<code>prepareLayout</code>æ–¹æ³•ã€‚</li>\n<li>æ–°å»º<code>UICollectionViewFlowLayout</code>ç±»ï¼Œè®¾ç½®å±æ€§ã€‚</li>\n<li>å®ç°<code>UICollectionViewDelegateFlowLayout</code>æ–¹æ³•ã€‚</li>\n</ul>\n<h2 id=\"ç”¨StoryBoardå¼€å‘ç•Œé¢æœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ\"><a href=\"#ç”¨StoryBoardå¼€å‘ç•Œé¢æœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ\" class=\"headerlink\" title=\"ç”¨StoryBoardå¼€å‘ç•Œé¢æœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ\"></a>ç”¨StoryBoardå¼€å‘ç•Œé¢æœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ</h2><ul>\n<li>éš¾ä»¥ç»´æŠ¤  </li>\n<li>æ€§èƒ½ç“¶é¢ˆ  </li>\n<li>é”™è¯¯å®šä½ä¸å‡†ç¡®</li>\n</ul>\n<p>è§£å†³å¤šStoryboardåä½œå¼Šç«¯ï¼Œå°±æ˜¯å°½é‡å°†é¡¹ç›®çš„ç•Œé¢åˆ†å‰²åœ¨å¤šä¸ªStoryboardæ–‡ä»¶ä¸­ã€‚ä¸€ä¸ªæœ€ä½³å®è·µæ˜¯ï¼ŒæŒ‰ç…§é¡¹ç›®åŠŸèƒ½æ¨¡å—æ¥åŒºåˆ†æ•…äº‹æ¿ï¼Œä¾‹å¦‚<code>Login.Storyboard,Chat.Storyboard,Person.Storyboard</code>ç­‰ã€‚å°½é‡æŠŠæ¯ä¸ª<code>Storyboard</code>çš„Sceneæ•°é‡æ§åˆ¶åœ¨20ä¸ªä»¥å†…</p>\n<h2 id=\"è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ\"><a href=\"#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ\"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ</h2><p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨æŸäº›å…±äº«å†…å­˜æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å®ƒç»“æŸï¼Œæ‰èƒ½ä½¿ç”¨è¿™ä¸€å—å†…å­˜ã€‚<br>ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹. çº¿ç¨‹åªèƒ½å½’å±äºä¸€ä¸ªè¿›ç¨‹å¹¶ä¸”å®ƒåªèƒ½è®¿é—®è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºã€‚</p>\n<p>åŒæ­¥ä¼šé€ æˆé˜»å¡ï¼Œå¼‚æ­¥éé˜»å¡ï¼Œç½‘ç»œè¯·æ±‚æ“ä½œã€‚</p>\n<p>ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­ï¼š<br>ä½ åƒé¥­åƒåˆ°ä¸€åŠï¼Œç”µè¯æ¥äº†ï¼Œä½ ä¸€ç›´åˆ°åƒå®Œäº†ä»¥åæ‰å»æ¥ï¼Œè¿™å°±è¯´æ˜ä½ ä¸æ”¯æŒå¹¶å‘ä¹Ÿä¸æ”¯æŒå¹¶è¡Œã€‚ä½ åƒé¥­åƒåˆ°ä¸€åŠï¼Œç”µè¯æ¥äº†ï¼Œä½ åœäº†ä¸‹æ¥æ¥äº†ç”µè¯ï¼Œæ¥å®Œåç»§ç»­åƒé¥­ï¼Œè¿™è¯´æ˜ä½ æ”¯æŒå¹¶å‘ã€‚ä½ åƒé¥­åƒåˆ°ä¸€åŠï¼Œç”µè¯æ¥äº†ï¼Œä½ ä¸€è¾¹æ‰“ç”µè¯ä¸€è¾¹åƒé¥­ï¼Œè¿™è¯´æ˜ä½ æ”¯æŒå¹¶è¡Œã€‚å¹¶å‘çš„å…³é”®æ˜¯ä½ æœ‰å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ï¼Œä¸ä¸€å®šè¦åŒæ—¶ã€‚å¹¶è¡Œçš„å…³é”®æ˜¯ä½ æœ‰åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºå®ƒä»¬æœ€å…³é”®çš„ç‚¹å°±æ˜¯ï¼šæ˜¯å¦æ˜¯ã€åŒæ—¶ã€ã€‚<br>â€œå¹¶è¡Œâ€æ¦‚å¿µæ˜¯â€œå¹¶å‘â€æ¦‚å¿µçš„ä¸€ä¸ªå­é›†</p>\n<h2 id=\"çº¿ç¨‹é—´çš„é€šä¿¡\"><a href=\"#çº¿ç¨‹é—´çš„é€šä¿¡\" class=\"headerlink\" title=\"çº¿ç¨‹é—´çš„é€šä¿¡\"></a>çº¿ç¨‹é—´çš„é€šä¿¡</h2><p><code>NSThread</code>å¯ä»¥å…ˆå°†è‡ªå·±çš„å½“å‰çº¿ç¨‹å¯¹è±¡æ³¨å†Œåˆ°æŸä¸ªå…¨å±€çš„å¯¹è±¡ä¸­å»ï¼Œè¿™æ ·ç›¸äº’ä¹‹é—´å°±å¯ä»¥è·å–å¯¹æ–¹çš„çº¿ç¨‹å¯¹è±¡ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œçº¿ç¨‹é—´çš„é€šä¿¡äº†ï¼Œç”±äºä¸»çº¿ç¨‹æ¯”è¾ƒç‰¹æ®Šï¼Œæ‰€ä»¥æ¡†æ¶ç›´æ¥æä¾›äº†åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ–¹æ³•</p>\n<h2 id=\"GCDçš„ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Ÿï¼ˆgroupï¼Œbarrierï¼Œä¿¡å·é‡ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰\"><a href=\"#GCDçš„ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Ÿï¼ˆgroupï¼Œbarrierï¼Œä¿¡å·é‡ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰\" class=\"headerlink\" title=\"GCDçš„ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Ÿï¼ˆgroupï¼Œbarrierï¼Œä¿¡å·é‡ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰\"></a>GCDçš„ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Ÿï¼ˆgroupï¼Œbarrierï¼Œä¿¡å·é‡ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰</h2><ul>\n<li><p>group<br>é˜Ÿåˆ—ç»„é€šçŸ¥ç›‘å¬å‡½æ•°(å¼‚æ­¥å‡½æ•°)dispatch_group_notify<br>é˜Ÿåˆ—ç»„ç­‰å¾…å‡½æ•°(åŒæ­¥å‡½æ•°)dispatch_group_wait<br>åº”ç”¨åœºæ™¯:ä¸‹è½½ä¸¤å¼ å›¾ç‰‡ï¼Œæ‹¼æ¥å›¾ç‰‡ååˆ°ä¸»çº¿ç¨‹ä¸­åˆ·æ–°</p>\n</li>\n<li><p>barrier<br>æ …æ å‡½æ•°æ‰§è¡Œé¡ºåºï¼šæ …æ å‡½æ•°ä¹‹å‰çš„ä»»åŠ¡(æ‰§è¡Œå®Œæ¯•)â€“&gt; æ …æ å‡½æ•°çš„ä»»åŠ¡(æ‰§è¡Œå®Œæ¯•)â€“&gt; æ …æ å‡½æ•°ä¹‹åçš„ä»»åŠ¡<br>æ …æ å‡½æ•°å‰é¢å’Œåé¢è¿½åŠ çš„æ“ä½œæ‰§è¡Œé¡ºåºéƒ½ä¸å›ºå®šï¼Œä½†æ˜¯å‰é¢çš„ä¸‰ä¸ªè¾“å‡ºæ“ä½œå¿…ç„¶å…ˆæ‰§è¡Œï¼Œç„¶åå†æ‰§è¡Œæ …æ å‡½æ•°ä¸­çš„æ“ä½œï¼Œæœ€åæ‰§è¡Œåé¢çš„ä¸‰ä¸ªè¾“å‡ºæ“ä½œã€‚<br><a href=\"http://www.jianshu.com/p/d63c3100dd63\">æ …æ å‡½æ•°</a></p>\n</li>\n<li><p>ä¿¡å·é‡<br>ä¿¡å·é‡å¤§å°æ˜¯ç”¨äºæ§åˆ¶å¹¶å‘æ•°é‡çš„<br>ä¿¡å·é‡å°±æ˜¯ä¸€ä¸ªèµ„æºè®¡æ•°å™¨ï¼Œå¯¹ä¿¡å·é‡æœ‰ä¸¤ä¸ªæ“ä½œæ¥è¾¾åˆ°äº’æ–¥ï¼Œåˆ†åˆ«æ˜¯På’ŒVæ“ä½œã€‚ ä¸€èˆ¬æƒ…å†µæ˜¯è¿™æ ·è¿›è¡Œä¸´ç•Œè®¿é—®æˆ–äº’æ–¥è®¿é—®çš„ï¼š<br>è®¾ä¿¡å·é‡å€¼ä¸º1ï¼Œ å½“ä¸€ä¸ªè¿›ç¨‹1è¿è¡Œæ˜¯ï¼Œä½¿ç”¨èµ„æºï¼Œè¿›è¡ŒPæ“ä½œï¼Œå³å¯¹ä¿¡å·é‡å€¼å‡1ï¼Œä¹Ÿå°±æ˜¯èµ„æºæ•°å°‘äº†1ä¸ªã€‚è¿™æ˜¯ä¿¡å·é‡å€¼ä¸º0ã€‚ç³»ç»Ÿä¸­è§„å®šå½“ä¿¡å·é‡å€¼ä¸º0æ˜¯ï¼Œå¿…é¡»ç­‰å¾…ï¼ŒçŸ¥é“ä¿¡å·é‡å€¼ä¸ä¸ºé›¶æ‰èƒ½ç»§ç»­æ“ä½œã€‚ è¿™æ—¶å¦‚æœè¿›ç¨‹2æƒ³è¦è¿è¡Œï¼Œé‚£ä¹ˆä¹Ÿå¿…é¡»è¿›è¡ŒPæ“ä½œï¼Œä½†æ˜¯æ­¤æ—¶ä¿¡å·é‡ä¸º0ï¼Œæ‰€ä»¥æ— æ³•å‡1ï¼Œå³ä¸èƒ½Pæ“ä½œï¼Œä¹Ÿå°±é˜»å¡ã€‚è¿™æ ·å°±åˆ°åˆ°äº†è¿›ç¨‹1æ’ä»–è®¿é—®ã€‚ å½“è¿›ç¨‹1è¿è¡Œç»“æŸåï¼Œé‡Šæ”¾èµ„æºï¼Œè¿›è¡ŒVæ“ä½œã€‚èµ„æºæ•°é‡æ–°åŠ 1ï¼Œè¿™æ˜¯ä¿¡å·é‡çš„å€¼å˜ä¸º1. è¿™æ—¶è¿›ç¨‹2å‘ç°èµ„æºæ•°ä¸ä¸º0ï¼Œä¿¡å·é‡èƒ½è¿›è¡ŒPæ“ä½œäº†ï¼Œç«‹å³æ‰§è¡ŒPæ“ä½œã€‚ä¿¡å·é‡å€¼åˆå˜ä¸º0.æ¬¡æ•°è¿›ç¨‹2å’±æœ‰èµ„æºï¼Œæ’ä»–è®¿é—®èµ„æºã€‚ è¿™å°±æ˜¯ä¿¡å·é‡æ¥æ§åˆ¶äº’æ–¥çš„åŸç†</p>\n</li>\n<li><p>çº¿ç¨‹åŒæ­¥ï¼š<br>çº¿ç¨‹åŒæ­¥ï¼š@synchronized  NSLock  dispatch_semaphore(ä¿¡å·é‡è®¾ç½®ä¸º1)</p>\n</li>\n</ul>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨é˜Ÿåˆ—æ¥é¿å…èµ„æºæŠ¢å¤ºï¼Ÿ\"><a href=\"#å¦‚ä½•ä½¿ç”¨é˜Ÿåˆ—æ¥é¿å…èµ„æºæŠ¢å¤ºï¼Ÿ\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨é˜Ÿåˆ—æ¥é¿å…èµ„æºæŠ¢å¤ºï¼Ÿ\"></a>å¦‚ä½•ä½¿ç”¨é˜Ÿåˆ—æ¥é¿å…èµ„æºæŠ¢å¤ºï¼Ÿ</h2><p>å½“æˆ‘ä»¬ä½¿ç”¨å¤šçº¿ç¨‹æ¥è®¿é—®åŒä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œå°±æœ‰å¯èƒ½é€ æˆæ•°æ®çš„ä¸å‡†ç¡®æ€§ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä¹ˆå¯ä»¥ä½¿ç”¨çº¿ç¨‹é”çš„æ¥æ¥ç»‘å®šã€‚ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—æ¥å®Œæˆã€‚<br>å¦‚ï¼šfmdbå°±æ˜¯ä½¿ç”¨<code>FMDatabaseQueue</code>ï¼Œæ¥è§£å†³å¤šçº¿ç¨‹æŠ¢å¤ºèµ„æºã€‚</p>\n<h2 id=\"æ•°æ®æŒä¹…åŒ–çš„å‡ ä¸ªæ–¹æ¡ˆï¼ˆfmdbç”¨æ²¡ç”¨è¿‡ï¼‰\"><a href=\"#æ•°æ®æŒä¹…åŒ–çš„å‡ ä¸ªæ–¹æ¡ˆï¼ˆfmdbç”¨æ²¡ç”¨è¿‡ï¼‰\" class=\"headerlink\" title=\"æ•°æ®æŒä¹…åŒ–çš„å‡ ä¸ªæ–¹æ¡ˆï¼ˆfmdbç”¨æ²¡ç”¨è¿‡ï¼‰\"></a>æ•°æ®æŒä¹…åŒ–çš„å‡ ä¸ªæ–¹æ¡ˆï¼ˆfmdbç”¨æ²¡ç”¨è¿‡ï¼‰</h2><ul>\n<li>plist</li>\n<li>CoreData </li>\n<li>FMDB</li>\n</ul>\n<h2 id=\"è¯´ä¸€ä¸‹AppDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼Ÿä»åå°åˆ°å‰å°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿç¬¬ä¸€æ¬¡å¯åŠ¨è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿä»å‰å°åˆ°åå°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿ\"><a href=\"#è¯´ä¸€ä¸‹AppDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼Ÿä»åå°åˆ°å‰å°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿç¬¬ä¸€æ¬¡å¯åŠ¨è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿä»å‰å°åˆ°åå°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"è¯´ä¸€ä¸‹AppDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼Ÿä»åå°åˆ°å‰å°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿç¬¬ä¸€æ¬¡å¯åŠ¨è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿä»å‰å°åˆ°åå°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿ\"></a>è¯´ä¸€ä¸‹AppDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼Ÿä»åå°åˆ°å‰å°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿç¬¬ä¸€æ¬¡å¯åŠ¨è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿä»å‰å°åˆ°åå°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿ</h2><pre><code><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">didFinishLaunchingWithOptions:</span><br><span class=\"line\">applicationDidBecomeActive:</span><br><span class=\"line\">&#x2F;&#x2F;å‰å°åˆ°åå°ï¼š</span><br><span class=\"line\">applicationWillResignActive:</span><br><span class=\"line\">applicationDidEnterBackground:</span><br><span class=\"line\">&#x2F;&#x2F;åå°åˆ°å‰å°ï¼š</span><br><span class=\"line\">applicationWillEnterForeground:</span><br><span class=\"line\">applicationDidBecomeActive:</span><br></pre></td></tr></table></figure></code></pre><h2 id=\"NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼Ÿ\"><a href=\"#NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼Ÿ\" class=\"headerlink\" title=\"NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼Ÿ\"></a>NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼Ÿ</h2><ul>\n<li>å½“ç³»ç»Ÿèµ„æºå°†è¦è€—å°½æ—¶ï¼ŒNSCacheå…·å¤‡è‡ªåŠ¨åˆ å‡ç¼“å†²çš„åŠŸèƒ½ã€‚å¹¶ä¸”è¿˜ä¼šå…ˆåˆ å‡â€œæœ€ä¹…æœªä½¿ç”¨â€çš„å¯¹è±¡ã€‚</li>\n<li>NSCacheä¸æ‹·è´é”®ï¼Œè€Œæ˜¯ä¿ç•™é”®ã€‚å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„é”®éƒ½éµä»æ‹·è´åè®®ï¼ˆå­—å…¸çš„é”®æ˜¯å¿…é¡»è¦æ”¯æŒæ‹·è´åè®®çš„ï¼Œæœ‰å±€é™æ€§ï¼‰ã€‚</li>\n<li>NSCacheæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼šä¸ç¼–å†™åŠ é”ä»£ç çš„å‰æä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®NSCacheã€‚</li>\n</ul>\n<h2 id=\"çŸ¥ä¸çŸ¥é“Designated-Initializerï¼Ÿä½¿ç”¨å®ƒçš„æ—¶å€™æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ\"><a href=\"#çŸ¥ä¸çŸ¥é“Designated-Initializerï¼Ÿä½¿ç”¨å®ƒçš„æ—¶å€™æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ\" class=\"headerlink\" title=\"çŸ¥ä¸çŸ¥é“Designated Initializerï¼Ÿä½¿ç”¨å®ƒçš„æ—¶å€™æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ\"></a>çŸ¥ä¸çŸ¥é“Designated Initializerï¼Ÿä½¿ç”¨å®ƒçš„æ—¶å€™æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ</h2><p>ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°åªèƒ½è°ƒç”¨è‡ªå·±ç±»ä¸­çš„å…¶ä»–åˆå§‹åŒ–æ–¹æ³•<br>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°æ‰æœ‰èµ„æ ¼è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å‡½æ•°<br><a href=\"http://www.cnblogs.com/smileEvday/p/designated_initializer.html\">æ„é€ ä¾¿åˆ©å‡½æ•°</a></p>\n<h2 id=\"å®ç°descriptionæ–¹æ³•èƒ½å–åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ\"><a href=\"#å®ç°descriptionæ–¹æ³•èƒ½å–åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ\" class=\"headerlink\" title=\"å®ç°descriptionæ–¹æ³•èƒ½å–åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ\"></a>å®ç°descriptionæ–¹æ³•èƒ½å–åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ</h2><p><code>description</code>æ–¹æ³•é»˜è®¤è¿”å›å¯¹è±¡çš„æè¿°ä¿¡æ¯(é»˜è®¤å®ç°æ˜¯è¿”å›ç±»åå’Œå¯¹è±¡çš„å†…å­˜åœ°å€)ï¼Œå¯å®šä¹‰è¾“å‡ºè‡ªå·±æƒ³è¦çš„å†…å®¹ã€‚</p>\n<h2 id=\"objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ\"><a href=\"#objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ\" class=\"headerlink\" title=\"objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ\"></a>objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ</h2><p>1.Objective-Cä¸­æ‰€æœ‰å¯¹è±¡éƒ½åœ¨å †åŒºå»ºç«‹ï¼Œç”±ç¨‹åºå‘˜è´Ÿè´£é‡Šæ”¾å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚å†…å­˜ç®¡ç†æœºåˆ¶ç”±3ç§ï¼šåƒåœ¾å›æ”¶ã€å¼•ç”¨è®¡æ•°ã€Cè¯­è¨€æ–¹å¼ã€‚</p>\n<p>2.åƒåœ¾å›æ”¶æ˜¯Mac OS10.5æä¾›çš„æ–°æ–¹æ¡ˆï¼Œåœ¨ç³»ç»Ÿå­˜åœ¨ä¸€ä¸ªåƒåœ¾æ”¶é›†å™¨ã€‚å¦‚æœå‘ç°æŸä¸ªå¯¹è±¡æ²¡æœ‰è¢«ä»»ä½•å¯¹è±¡ä½¿ç”¨ï¼Œè¯¥å¯¹è±¡è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</p>\n<p>3.Cè¯­è¨€æ–¹å¼ï¼ŒåŸå§‹å†…å­˜ç®¡ç†æ–¹å¼ã€‚ç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨mallocã€callocå‡½æ•°åˆ†é…å†…å­˜ï¼Œfreeå›æ”¶å†…å­˜ã€‚</p>\n<p>4.å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼šå¯¹è±¡åˆ›å»ºåï¼Œè¿è¡Œæ—¶ç³»ç»Ÿé€šè¿‡å¯¹è±¡ç»´æŠ¤çš„ä¸€ä¸ªè®¡æ•°å™¨æ¥æè¿°æœ‰å¤šå°‘ä¸ªå…¶ä»–å¯¹è±¡åœ¨ä½¿ç”¨è‡ªå·±ï¼Œå½“è®¡æ•°å™¨ä¸º0æ—¶ï¼Œé‡Šæ”¾è¯¥å¯¹è±¡å ç”¨çš„å†…å­˜ç©ºé—´ï¼ˆè¯¥å¯¹è±¡è°ƒç”¨deallocæ–¹æ³•ï¼‰ã€‚</p>\n<p>5,å†…å­˜ç®¡ç†è§„åˆ™ï¼šå½“ä½¿ç”¨allocï¼Œnewæˆ–copyåˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°è¢«è®¾ç½®ä¸º1.ï¼›å‘å¯¹è±¡å‘é€retainæ¶ˆæ¯ï¼Œå¯¹è±¡å¼•ç”¨è®¡æ•°åŠ 1ï¼›å‘å¯¹è±¡å‘é€releaseæ¶ˆæ¯æ—¶ï¼Œå¯¹è±¡å¼•ç”¨è®¡æ•°å‡1ï¼›å½“å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œè¿è¡Œæ—¶ç³»ç»Ÿå‘å¯¹è±¡å‘é€deallocæ¶ˆæ¯å¹¶å›æ”¶å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚</p>\n<h1 id=\"ä¸­çº§\"><a href=\"#ä¸­çº§\" class=\"headerlink\" title=\"ä¸­çº§\"></a>ä¸­çº§</h1><h2 id=\"Block\"><a href=\"#Block\" class=\"headerlink\" title=\"Block\"></a>Block</h2><h3 id=\"blockçš„å®è´¨æ˜¯ä»€ä¹ˆï¼Ÿä¸€å…±æœ‰å‡ ç§blockï¼Ÿéƒ½æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæˆçš„ï¼Ÿ\"><a href=\"#blockçš„å®è´¨æ˜¯ä»€ä¹ˆï¼Ÿä¸€å…±æœ‰å‡ ç§blockï¼Ÿéƒ½æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæˆçš„ï¼Ÿ\" class=\"headerlink\" title=\"blockçš„å®è´¨æ˜¯ä»€ä¹ˆï¼Ÿä¸€å…±æœ‰å‡ ç§blockï¼Ÿéƒ½æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæˆçš„ï¼Ÿ\"></a>blockçš„å®è´¨æ˜¯ä»€ä¹ˆï¼Ÿä¸€å…±æœ‰å‡ ç§blockï¼Ÿéƒ½æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæˆçš„ï¼Ÿ</h3><p>Blockæ˜¯iOSå¼€å‘ä¸­ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥ä¿å­˜ä¸€æ®µä»£ç ï¼Œåœ¨åˆé€‚çš„åœ°æ–¹å†è°ƒç”¨ï¼Œå…·æœ‰è¯­æ³•ç®€ä»‹ã€å›è°ƒæ–¹ä¾¿ã€ç¼–ç¨‹æ€è·¯æ¸…æ™°ã€æ‰§è¡Œæ•ˆç‡é«˜ç­‰ä¼˜ç‚¹ï¼Œå—åˆ°ä¼—å¤šçŒ¿çŒ¿çš„å–œçˆ±ã€‚</p>\n<ul>\n<li>_NSConcreteGlobalBlock: å­˜å‚¨åœ¨å…¨å±€æ•°æ®åŒº</li>\n<li>_NSConcreteStackBlock: å­˜å‚¨åœ¨æ ˆåŒº</li>\n<li>_NSConcreteMallocBlock: å­˜å‚¨åœ¨å †åŒº<br>å…¶ä¸­ï¼Œ<code>_NSConcreteGlobalBlock</code> å’Œ <code>_NSConcreteStackBlock</code> å¯ä»¥ç”±ç¨‹åºåˆ›å»ºï¼Œè€Œ <code>_NSConcreteMallocBlock</code> åˆ™æ— æ³•ç”±ç¨‹åºåˆ›å»ºï¼Œåªèƒ½ç”± <code>_NSConcreteStackBlock</code> é€šè¿‡æ‹·è´ç”Ÿæˆã€‚</li>\n</ul>\n<h3 id=\"ä¸ºä»€ä¹ˆåœ¨é»˜è®¤æƒ…å†µä¸‹æ— æ³•ä¿®æ”¹è¢«blockæ•è·çš„å˜é‡ï¼Ÿ-blockéƒ½åšäº†ä»€ä¹ˆï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆåœ¨é»˜è®¤æƒ…å†µä¸‹æ— æ³•ä¿®æ”¹è¢«blockæ•è·çš„å˜é‡ï¼Ÿ-blockéƒ½åšäº†ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆåœ¨é»˜è®¤æƒ…å†µä¸‹æ— æ³•ä¿®æ”¹è¢«blockæ•è·çš„å˜é‡ï¼Ÿ __blockéƒ½åšäº†ä»€ä¹ˆï¼Ÿ\"></a>ä¸ºä»€ä¹ˆåœ¨é»˜è®¤æƒ…å†µä¸‹æ— æ³•ä¿®æ”¹è¢«blockæ•è·çš„å˜é‡ï¼Ÿ __blockéƒ½åšäº†ä»€ä¹ˆï¼Ÿ</h3><p>Blockä¸å…è®¸ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼ã€‚Appleè¿™æ ·è®¾è®¡ï¼Œåº”è¯¥æ˜¯è€ƒè™‘åˆ°äº†blockçš„ç‰¹æ®Šæ€§ï¼Œblockä¹Ÿå±äºâ€œå‡½æ•°â€çš„èŒƒç•´ï¼Œå˜é‡è¿›å…¥blockï¼Œå®é™…å°±æ˜¯å·²ç»æ”¹å˜äº†ä½œç”¨åŸŸã€‚åœ¨å‡ ä¸ªä½œç”¨åŸŸä¹‹é—´è¿›è¡Œåˆ‡æ¢æ—¶ï¼Œå¦‚æœä¸åŠ ä¸Šè¿™æ ·çš„é™åˆ¶ï¼Œå˜é‡çš„å¯ç»´æŠ¤æ€§å°†å¤§å¤§é™ä½ã€‚<br>åˆæ¯”å¦‚æˆ‘æƒ³åœ¨blockå†…å£°æ˜äº†ä¸€ä¸ªä¸å¤–éƒ¨åŒåçš„å˜é‡ï¼Œæ­¤æ—¶æ˜¯å…è®¸å‘¢è¿˜æ˜¯ä¸å…è®¸å‘¢ï¼Ÿåªæœ‰åŠ ä¸Šäº†è¿™æ ·çš„é™åˆ¶ï¼Œè¿™æ ·çš„æƒ…æ™¯æ‰èƒ½å®ç°ã€‚äºæ˜¯æ ˆåŒºå˜æˆäº†çº¢ç¯åŒºï¼Œå †åŒºå˜æˆäº†ç»¿ç¯åŒºã€‚<br>å°†å˜é‡ç”±æ ˆåŒºç§»åˆ°å †åŒºã€‚</p>\n<h3 id=\"æ¨¡æ‹Ÿä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„ä¸€ä¸ªæƒ…å†µï¼Ÿblockå®ç°ç•Œé¢åå‘ä¼ å€¼å¦‚ä½•å®ç°ï¼Ÿ\"><a href=\"#æ¨¡æ‹Ÿä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„ä¸€ä¸ªæƒ…å†µï¼Ÿblockå®ç°ç•Œé¢åå‘ä¼ å€¼å¦‚ä½•å®ç°ï¼Ÿ\" class=\"headerlink\" title=\"æ¨¡æ‹Ÿä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„ä¸€ä¸ªæƒ…å†µï¼Ÿblockå®ç°ç•Œé¢åå‘ä¼ å€¼å¦‚ä½•å®ç°ï¼Ÿ\"></a>æ¨¡æ‹Ÿä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„ä¸€ä¸ªæƒ…å†µï¼Ÿblockå®ç°ç•Œé¢åå‘ä¼ å€¼å¦‚ä½•å®ç°ï¼Ÿ</h3><p>ä¸€ä¸ªå¯¹è±¡ä¸­å¼ºå¼•ç”¨äº†blockï¼Œåœ¨blockä¸­åˆå¼ºå¼•ç”¨äº†è¯¥å¯¹è±¡ï¼Œå°±ä¼šå‘å°„å¾ªç¯å¼•ç”¨ã€‚<br>è§£å†³æ–¹æ³•æ˜¯å°†è¯¥å¯¹è±¡ä½¿ç”¨<code>__weak</code>æˆ–è€…<code>__block</code>ä¿®é¥°ç¬¦ä¿®é¥°ä¹‹åå†åœ¨blockä¸­ä½¿ç”¨.<br><code>id weak weakSelf = self;</code> æˆ–è€… <code>weak __typeof(&amp;*self)weakSelf = self</code>è¯¥æ–¹æ³•å¯ä»¥è®¾ç½®å®<br><code>id __block weakSelf = self;</code><br>æˆ–è€…å°†å…¶ä¸­ä¸€æ–¹å¼ºåˆ¶åˆ¶ç©º <code>xxx = nil</code>ã€‚</p>\n<h2 id=\"Runtime\"><a href=\"#Runtime\" class=\"headerlink\" title=\"Runtime\"></a>Runtime</h2><h3 id=\"objcåœ¨å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\"><a href=\"#objcåœ¨å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"objcåœ¨å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\"></a>objcåœ¨å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3><ol>\n<li>é€šè¿‡å¯¹è±¡çš„isaæŒ‡é’ˆè·å–ç±»çš„ç»“æ„ä½“ã€‚</li>\n<li>åœ¨ç»“æ„ä½“çš„æ–¹æ³•è¡¨é‡ŒæŸ¥æ‰¾æ–¹æ³•çš„selectorã€‚</li>\n<li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°selectorï¼Œåˆ™é€šè¿‡objc_msgSendç»“æ„ä½“ä¸­æŒ‡å‘çˆ¶ç±»çš„æŒ‡é’ˆæ‰¾åˆ°çˆ¶ç±»ï¼Œå¹¶åœ¨çˆ¶ç±»çš„æ–¹æ³•è¡¨é‡ŒæŸ¥æ‰¾æ–¹æ³•çš„selectorã€‚</li>\n<li>ä¾æ¬¡ä¼šä¸€ç›´æ‰¾åˆ°NSObjectã€‚</li>\n<li>ä¸€æ—¦æ‰¾åˆ°selectorï¼Œå°±ä¼šè·å–åˆ°æ–¹æ³•å®ç°IMPã€‚</li>\n<li>ä¼ å…¥ç›¸åº”çš„å‚æ•°æ¥æ‰§è¡Œæ–¹æ³•çš„å…·ä½“å®ç°ã€‚</li>\n<li>å¦‚æœæœ€ç»ˆæ²¡æœ‰å®šä½åˆ°selectorï¼Œå°±ä¼šèµ°æ¶ˆæ¯è½¬å‘æµç¨‹ã€‚</li>\n</ol>\n<h3 id=\"ä»€ä¹ˆæ—¶å€™ä¼šæŠ¥unrecognized-selectoré”™è¯¯ï¼ŸiOSæœ‰å“ªäº›æœºåˆ¶æ¥é¿å…èµ°åˆ°è¿™ä¸€æ­¥ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ—¶å€™ä¼šæŠ¥unrecognized-selectoré”™è¯¯ï¼ŸiOSæœ‰å“ªäº›æœºåˆ¶æ¥é¿å…èµ°åˆ°è¿™ä¸€æ­¥ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ—¶å€™ä¼šæŠ¥unrecognized selectoré”™è¯¯ï¼ŸiOSæœ‰å“ªäº›æœºåˆ¶æ¥é¿å…èµ°åˆ°è¿™ä¸€æ­¥ï¼Ÿ\"></a>ä»€ä¹ˆæ—¶å€™ä¼šæŠ¥unrecognized selectoré”™è¯¯ï¼ŸiOSæœ‰å“ªäº›æœºåˆ¶æ¥é¿å…èµ°åˆ°è¿™ä¸€æ­¥ï¼Ÿ</h3><p>æ‰¾ä¸åˆ°æ‰§è¡Œæ–¹æ³•ã€‚</p>\n<ul>\n<li>åŠ¨æ€æ–¹æ³•è§£æ<br>å¯¹è±¡æ¥æ”¶åˆ°æœªçŸ¥çš„æ¶ˆæ¯æ—¶ï¼Œé¦–å…ˆä¼šè°ƒç”¨æ‰€å±ç±»çš„ç±»æ–¹æ³•<code>+resolveInstanceMethod:</code>(å®ä¾‹æ–¹æ³•)æˆ– è€…<code>+resolveClassMethod:</code>(ç±»æ–¹æ³•)ã€‚</li>\n<li>å¤‡ç”¨æ¥æ”¶è€…<br>å¦‚æœè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¼šä½œä¸ºæ¶ˆæ¯çš„æ–°æ¥æ”¶è€…ã€‚æ³¨æ„è¿™ä¸ªå¯¹è±¡ä¸èƒ½æ˜¯selfè‡ªèº«ï¼Œå¦åˆ™å°±æ˜¯å‡ºç°æ— é™å¾ªç¯ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šå¯¹è±¡æ¥å¤„ç†<code>aSelector</code>ï¼Œåˆ™åº”è¯¥ <code>return [super forwardingTargetForSelector:aSelector]</code>ã€‚</li>\n<li>å®Œæ•´æ¶ˆæ¯è½¬å‘<br>è¿™æ˜¯æœ€åä¸€æ¬¡æœºä¼šå°†æ¶ˆæ¯è½¬å‘ç»™å…¶å®ƒå¯¹è±¡ã€‚åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºæ¶ˆæ¯çš„<code>NSInvocation</code>å¯¹è±¡ï¼ŒæŠŠä¸æ¶ˆæ¯çš„æœ‰å…³å…¨éƒ¨ç»†èŠ‚å°è£…åœ¨<code>anInvocation</code>ä¸­ï¼ŒåŒ…æ‹¬<code>selector</code>ï¼Œç›®æ ‡(target)å’Œå‚æ•°ã€‚åœ¨<code>forwardInvocation</code> æ–¹æ³•ä¸­å°†æ¶ˆæ¯è½¬å‘ç»™å…¶å®ƒå¯¹è±¡ã€‚</li>\n</ul>\n<h3 id=\"èƒ½å¦å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼Ÿèƒ½å¦å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\"><a href=\"#èƒ½å¦å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼Ÿèƒ½å¦å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"èƒ½å¦å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼Ÿèƒ½å¦å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\"></a>èƒ½å¦å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼Ÿèƒ½å¦å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3><p>ä¸èƒ½å‘ç¼–è¯‘åå¾—åˆ°çš„ç±»ä¸­å¢åŠ å®ä¾‹å˜é‡ï¼›<br>èƒ½å‘è¿è¡Œæ—¶åˆ›å»ºçš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼›<br>è§£é‡Šä¸‹ï¼š<br>å› ä¸ºç¼–è¯‘åçš„ç±»å·²ç»æ³¨å†Œåœ¨ runtime ä¸­ï¼Œç±»ç»“æ„ä½“ä¸­çš„ <code>objc_ivar_list</code> å®ä¾‹å˜é‡çš„é“¾è¡¨ å’Œ <code>instance_size</code> å®ä¾‹å˜é‡çš„å†…å­˜å¤§å°å·²ç»ç¡®å®šï¼ŒåŒæ—¶runtime ä¼šè°ƒç”¨ <code>class_setIvarLayout</code> æˆ– <code>class_setWeakIvarLayout</code> æ¥å¤„ç† strong weak å¼•ç”¨ã€‚æ‰€ä»¥ä¸èƒ½å‘å­˜åœ¨çš„ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡ï¼›</p>\n<p>è¿è¡Œæ—¶åˆ›å»ºçš„ç±»æ˜¯å¯ä»¥æ·»åŠ å®ä¾‹å˜é‡ï¼Œè°ƒç”¨ <code>class_addIvar</code> å‡½æ•°ã€‚ä½†æ˜¯å¾—åœ¨è°ƒç”¨ <code>objc_allocateClassPair</code> ä¹‹åï¼Œ<code>objc_registerClassPair</code>ä¹‹å‰ï¼ŒåŸå› åŒä¸Šã€‚</p>\n<h3 id=\"runtimeå¦‚ä½•å®ç°weakå˜é‡çš„è‡ªåŠ¨ç½®nilï¼Ÿ\"><a href=\"#runtimeå¦‚ä½•å®ç°weakå˜é‡çš„è‡ªåŠ¨ç½®nilï¼Ÿ\" class=\"headerlink\" title=\"runtimeå¦‚ä½•å®ç°weakå˜é‡çš„è‡ªåŠ¨ç½®nilï¼Ÿ\"></a>runtimeå¦‚ä½•å®ç°weakå˜é‡çš„è‡ªåŠ¨ç½®nilï¼Ÿ</h3><p>runtime å¯¹æ³¨å†Œçš„ç±»ï¼Œ ä¼šè¿›è¡Œå¸ƒå±€ï¼Œå¯¹äº weak å¯¹è±¡ä¼šæ”¾å…¥ä¸€ä¸ª hash è¡¨ä¸­ã€‚ ç”¨ weak æŒ‡å‘çš„å¯¹è±¡å†…å­˜åœ°å€ä½œä¸º keyï¼Œå½“æ­¤å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0çš„æ—¶å€™ä¼š deallocï¼Œå‡å¦‚ weak æŒ‡å‘çš„å¯¹è±¡å†…å­˜åœ°å€æ˜¯aï¼Œé‚£ä¹ˆå°±ä¼šä»¥aä¸ºé”®ï¼Œ åœ¨è¿™ä¸ª weak è¡¨ä¸­æœç´¢ï¼Œæ‰¾åˆ°æ‰€æœ‰ä»¥aä¸ºé”®çš„ weak å¯¹è±¡ï¼Œä»è€Œè®¾ç½®ä¸º nilã€‚</p>\n<h3 id=\"ç»™ç±»æ·»åŠ ä¸€ä¸ªå±æ€§åï¼Œåœ¨ç±»ç»“æ„ä½“é‡Œå“ªäº›å…ƒç´ ä¼šå‘ç”Ÿå˜åŒ–ï¼Ÿ\"><a href=\"#ç»™ç±»æ·»åŠ ä¸€ä¸ªå±æ€§åï¼Œåœ¨ç±»ç»“æ„ä½“é‡Œå“ªäº›å…ƒç´ ä¼šå‘ç”Ÿå˜åŒ–ï¼Ÿ\" class=\"headerlink\" title=\"ç»™ç±»æ·»åŠ ä¸€ä¸ªå±æ€§åï¼Œåœ¨ç±»ç»“æ„ä½“é‡Œå“ªäº›å…ƒç´ ä¼šå‘ç”Ÿå˜åŒ–ï¼Ÿ\"></a>ç»™ç±»æ·»åŠ ä¸€ä¸ªå±æ€§åï¼Œåœ¨ç±»ç»“æ„ä½“é‡Œå“ªäº›å…ƒç´ ä¼šå‘ç”Ÿå˜åŒ–ï¼Ÿ</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-47afdfd1950a72c6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Class ç»“æ„.jpg\"></p>\n<p><code>instance_size</code> ï¼šå®ä¾‹çš„å†…å­˜å¤§å°<br><code>objc_ivar_list *ivars</code>:å±æ€§åˆ—è¡¨</p>\n<h2 id=\"RunLoop\"><a href=\"#RunLoop\" class=\"headerlink\" title=\"RunLoop\"></a>RunLoop</h2><h3 id=\"runloopæ˜¯æ¥åšä»€ä¹ˆçš„ï¼Ÿrunloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸»çº¿ç¨‹é»˜è®¤å¼€å¯äº†runloopä¹ˆï¼Ÿå­çº¿ç¨‹å‘¢ï¼Ÿ\"><a href=\"#runloopæ˜¯æ¥åšä»€ä¹ˆçš„ï¼Ÿrunloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸»çº¿ç¨‹é»˜è®¤å¼€å¯äº†runloopä¹ˆï¼Ÿå­çº¿ç¨‹å‘¢ï¼Ÿ\" class=\"headerlink\" title=\"runloopæ˜¯æ¥åšä»€ä¹ˆçš„ï¼Ÿrunloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸»çº¿ç¨‹é»˜è®¤å¼€å¯äº†runloopä¹ˆï¼Ÿå­çº¿ç¨‹å‘¢ï¼Ÿ\"></a>runloopæ˜¯æ¥åšä»€ä¹ˆçš„ï¼Ÿrunloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸»çº¿ç¨‹é»˜è®¤å¼€å¯äº†runloopä¹ˆï¼Ÿå­çº¿ç¨‹å‘¢ï¼Ÿ</h3><p>å¾ªç¯æ£€æµ‹çº¿ç¨‹ä»»åŠ¡ã€‚ä¸ºäº†åœ¨æˆ‘ä»¬çš„åº”ç”¨å¯ä»¥åœ¨æ— äººæ“ä½œçš„æ—¶å€™ä¼‘æ¯ï¼Œéœ€è¦è®©å®ƒå¹²æ´»çš„æ—¶å€™åˆèƒ½ç«‹é©¬å“åº”ã€‚</p>\n<ol>\n<li><p>ä¸»çº¿ç¨‹çš„run loopé»˜è®¤æ˜¯å¯åŠ¨çš„ã€‚</p>\n</li>\n<li><p>å¯¹å…¶å®ƒçº¿ç¨‹æ¥è¯´ï¼Œrun loopé»˜è®¤æ˜¯æ²¡æœ‰å¯åŠ¨çš„ï¼Œå¦‚æœä½ éœ€è¦æ›´å¤šçš„çº¿ç¨‹äº¤äº’åˆ™å¯ä»¥æ‰‹åŠ¨é…ç½®å’Œå¯åŠ¨ï¼Œå¦‚æœçº¿ç¨‹åªæ˜¯å»æ‰§è¡Œä¸€ä¸ªé•¿æ—¶é—´çš„å·²ç¡®å®šçš„ä»»åŠ¡åˆ™ä¸éœ€è¦ã€‚</p>\n</li>\n<li><p>åœ¨ä»»ä½•ä¸€ä¸ª Cocoa ç¨‹åºçš„çº¿ç¨‹ä¸­ï¼Œéƒ½å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è·å–åˆ°å½“å‰çº¿ç¨‹çš„ run loop ã€‚</p>\n<p> NSRunLoop *runloop = [NSRunLoop currentRunLoop];</p>\n</li>\n</ol>\n<h3 id=\"runloopçš„modeæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿæœ‰å‡ ç§modeï¼Ÿ\"><a href=\"#runloopçš„modeæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿæœ‰å‡ ç§modeï¼Ÿ\" class=\"headerlink\" title=\"runloopçš„modeæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿæœ‰å‡ ç§modeï¼Ÿ\"></a>runloopçš„modeæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿæœ‰å‡ ç§modeï¼Ÿ</h3><p>model ä¸»è¦æ˜¯ç”¨æ¥æŒ‡å®šäº‹ä»¶åœ¨è¿è¡Œå¾ªç¯ä¸­çš„ä¼˜å…ˆçº§çš„ï¼Œåˆ†ä¸ºï¼š</p>\n<p><code>NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰</code>ï¼šé»˜è®¤ï¼Œç©ºé—²çŠ¶æ€<br><code>UITrackingRunLoopModeï¼šScrollView</code>æ»‘åŠ¨æ—¶<br><code>UIInitializationRunLoopModeï¼š</code>å¯åŠ¨æ—¶<br><code>NSRunLoopCommonModesï¼ˆkCFRunLoopCommonModesï¼‰ï¼š</code>Modeé›†åˆ<br>è‹¹æœå…¬å¼€æä¾›çš„ Mode æœ‰ä¸¤ä¸ªï¼š<br>    NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰<br>    NSRunLoopCommonModesï¼ˆkCFRunLoopCommonModesï¼‰<br>ä¸ºä»€ä¹ˆæŠŠNSTimerå¯¹è±¡ä»¥NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰æ·»åŠ åˆ°ä¸»è¿è¡Œå¾ªç¯ä»¥åï¼Œæ»‘åŠ¨scrollviewçš„æ—¶å€™NSTimerå´ä¸åŠ¨äº†ï¼Ÿ<br>RunLoopåªèƒ½è¿è¡Œåœ¨ä¸€ç§modeä¸‹ï¼Œå¦‚æœè¦æ¢modeï¼Œå½“å‰çš„loopä¹Ÿéœ€è¦åœä¸‹é‡å¯æˆæ–°çš„ã€‚åˆ©ç”¨è¿™ä¸ªæœºåˆ¶ï¼ŒScrollViewæ»šåŠ¨è¿‡ç¨‹ä¸­<code>NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰</code>çš„modeä¼šåˆ‡æ¢åˆ°<code>UITrackingRunLoopMode</code>æ¥ä¿è¯ScrollViewçš„æµç•…æ»‘åŠ¨ï¼šåªèƒ½åœ¨<code>NSDefaultRunLoopMode</code>æ¨¡å¼ä¸‹å¤„ç†çš„äº‹ä»¶ä¼šå½±å“ScrollViewçš„æ»‘åŠ¨ã€‚</p>\n<p>å¦‚æœæˆ‘ä»¬æŠŠä¸€ä¸ªNSTimerå¯¹è±¡ä»¥<code>NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰</code>æ·»åŠ åˆ°ä¸»è¿è¡Œå¾ªç¯ä¸­çš„æ—¶å€™, ScrollViewæ»šåŠ¨è¿‡ç¨‹ä¸­ä¼šå› ä¸ºmodeçš„åˆ‡æ¢ï¼Œè€Œå¯¼è‡´NSTimerå°†ä¸å†è¢«è°ƒåº¦ã€‚</p>\n<p>åŒæ—¶å› ä¸ºmodeè¿˜æ˜¯å¯å®šåˆ¶çš„ï¼Œæ‰€ä»¥ï¼š</p>\n<p>Timerè®¡æ—¶ä¼šè¢«scrollViewçš„æ»‘åŠ¨å½±å“çš„é—®é¢˜å¯ä»¥é€šè¿‡å°†timeræ·»åŠ åˆ°<code>NSRunLoopCommonModesï¼ˆkCFRunLoopCommonModesï¼‰</code>æ¥è§£å†³ã€‚</p>\n<pre><code>//å°†timeræ·»åŠ åˆ°NSDefaultRunLoopModeä¸­\n[NSTimer scheduledTimerWithTimeInterval:1.0\n                                 target:self\n                               selector:@selector(timerTick:)\n                               userInfo:nil\n                                repeats:YES];\n//ç„¶åå†æ·»åŠ åˆ°NSRunLoopCommonModesé‡Œ\nNSTimer *timer = [NSTimer timerWithTimeInterval:1.0\n                                         target:self\n                                       selector:@selector(timerTick:)\n                                       userInfo:nil\n                                        repeats:YES];\n[[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];</code></pre><h3 id=\"è‹¹æœæ˜¯å¦‚ä½•å®ç°Autorelease-Poolçš„ï¼Ÿ\"><a href=\"#è‹¹æœæ˜¯å¦‚ä½•å®ç°Autorelease-Poolçš„ï¼Ÿ\" class=\"headerlink\" title=\"è‹¹æœæ˜¯å¦‚ä½•å®ç°Autorelease Poolçš„ï¼Ÿ\"></a>è‹¹æœæ˜¯å¦‚ä½•å®ç°Autorelease Poolçš„ï¼Ÿ</h3><p>autoreleasepool ä»¥ä¸€ä¸ªé˜Ÿåˆ—æ•°ç»„çš„å½¢å¼å®ç°,ä¸»è¦é€šè¿‡ä¸‹åˆ—ä¸‰ä¸ªå‡½æ•°å®Œæˆ.</p>\n<p><code>objc_autoreleasepoolPush</code><br><code>objc_autoreleasepoolPop</code><br><code>objc_autorelease</code><br>çœ‹å‡½æ•°åå°±å¯ä»¥çŸ¥é“ï¼Œå¯¹ autorelease åˆ†åˆ«æ‰§è¡Œ pushï¼Œå’Œ pop æ“ä½œã€‚é”€æ¯å¯¹è±¡æ—¶æ‰§è¡Œreleaseæ“ä½œã€‚</p>\n<p>ä¸¾ä¾‹è¯´æ˜ï¼šæˆ‘ä»¬éƒ½çŸ¥é“ç”¨ç±»æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯ Autorelease çš„ï¼Œé‚£ä¹ˆä¸€æ—¦ Person å‡ºäº†ä½œç”¨åŸŸï¼Œå½“åœ¨ Person çš„ dealloc æ–¹æ³•ä¸­æ‰“ä¸Šæ–­ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è¿™æ ·çš„è°ƒç”¨å †æ ˆä¿¡æ¯ï¼š<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-b8314aaf33c5dd27.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"autorealease pool.jpg\"><br>å¤‡æ³¨ï¼š<a href=\"http://blog.leichunfeng.com/blog/2015/05/31/objective-c-autorelease-pool-implementation-principle/\">Objective-C Autorelease Pool çš„å®ç°åŸç†</a> å¯èƒ½è‹¹æœåœ¨ARCçš„å¤„ç†ä¸Šåˆä¼˜åŒ–äº†ï¼Œæˆ–è€…å˜æ›´äº†ã€‚æˆ‘è‡ªå·±æµ‹è¯•çš„ç»“æœè·Ÿä»¥ä¸Šåˆ†æä¸ä¸€è‡´ï¼Œä½†åŸç†å¯ä»¥å‚è€ƒã€‚</p>\n<h2 id=\"ç±»ç»“æ„\"><a href=\"#ç±»ç»“æ„\" class=\"headerlink\" title=\"ç±»ç»“æ„\"></a>ç±»ç»“æ„</h2><h3 id=\"isaæŒ‡é’ˆï¼Ÿï¼ˆå¯¹è±¡çš„isaï¼Œç±»å¯¹è±¡çš„isaï¼Œå…ƒç±»çš„isaéƒ½è¦è¯´ï¼‰\"><a href=\"#isaæŒ‡é’ˆï¼Ÿï¼ˆå¯¹è±¡çš„isaï¼Œç±»å¯¹è±¡çš„isaï¼Œå…ƒç±»çš„isaéƒ½è¦è¯´ï¼‰\" class=\"headerlink\" title=\"isaæŒ‡é’ˆï¼Ÿï¼ˆå¯¹è±¡çš„isaï¼Œç±»å¯¹è±¡çš„isaï¼Œå…ƒç±»çš„isaéƒ½è¦è¯´ï¼‰\"></a>isaæŒ‡é’ˆï¼Ÿï¼ˆå¯¹è±¡çš„isaï¼Œç±»å¯¹è±¡çš„isaï¼Œå…ƒç±»çš„isaéƒ½è¦è¯´ï¼‰</h3><p>æ¯ä¸€ä¸ªå¯¹è±¡å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªisaæŒ‡é’ˆ,æŒ‡å‘ä»–çš„ç±»å¯¹è±¡,ç±»å¯¹è±¡ä¸­å­˜æ”¾ç€æœ¬å¯¹è±¡çš„</p>\n<ul>\n<li>å¯¹è±¡æ–¹æ³•åˆ—è¡¨ï¼ˆå¯¹è±¡èƒ½å¤Ÿæ¥æ”¶çš„æ¶ˆæ¯åˆ—è¡¨ï¼Œä¿å­˜åœ¨å®ƒæ‰€å¯¹åº”çš„ç±»å¯¹è±¡ä¸­ï¼‰</li>\n<li>æˆå‘˜å˜é‡çš„åˆ—è¡¨,</li>\n<li>å±æ€§åˆ—è¡¨,<br>å®ƒå†…éƒ¨ä¹Ÿæœ‰ä¸€ä¸ªisaæŒ‡é’ˆæŒ‡å‘å…ƒå¯¹è±¡(meta class),å…ƒå¯¹è±¡å†…éƒ¨å­˜æ”¾çš„æ˜¯ç±»æ–¹æ³•åˆ—è¡¨,ç±»å¯¹è±¡å†…éƒ¨è¿˜æœ‰ä¸€ä¸ªsuperclassçš„æŒ‡é’ˆ,æŒ‡å‘ä»–çš„çˆ¶ç±»å¯¹è±¡ã€‚<br>ç±»å¯¹è±¡æ—¢ç„¶ç§°ä¸ºå¯¹è±¡ï¼Œé‚£å®ƒä¹Ÿæ˜¯ä¸€ä¸ªå®ä¾‹ã€‚ç±»å¯¹è±¡ä¸­ä¹Ÿæœ‰ä¸€ä¸ªisaæŒ‡é’ˆæŒ‡å‘å®ƒçš„å…ƒç±»(meta class)ï¼Œå³ç±»å¯¹è±¡æ˜¯å…ƒç±»çš„å®ä¾‹ã€‚å…ƒç±»å†…éƒ¨å­˜æ”¾çš„æ˜¯ç±»æ–¹æ³•åˆ—è¡¨ï¼Œæ ¹å…ƒç±»çš„isaæŒ‡é’ˆæŒ‡å‘è‡ªå·±ï¼ŒsuperclassæŒ‡é’ˆæŒ‡å‘NSObjectç±»ã€‚</li>\n</ul>\n<h3 id=\"ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\"><a href=\"#ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\"></a>ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><ul>\n<li><p>ç±»æ–¹æ³•ï¼š<br>ç±»æ–¹æ³•æ˜¯å±äºç±»å¯¹è±¡çš„<br>ç±»æ–¹æ³•åªèƒ½é€šè¿‡ç±»å¯¹è±¡è°ƒç”¨<br>ç±»æ–¹æ³•ä¸­çš„selfæ˜¯ç±»å¯¹è±¡<br>ç±»æ–¹æ³•å¯ä»¥è°ƒç”¨å…¶ä»–çš„ç±»æ–¹æ³•<br>ç±»æ–¹æ³•ä¸­ä¸èƒ½è®¿é—®æˆå‘˜å˜é‡<br>ç±»æ–¹æ³•ä¸­ä¸èƒ½ç›´æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•</p>\n</li>\n<li><p>å®ä¾‹æ–¹æ³•ï¼š<br>å®ä¾‹æ–¹æ³•æ˜¯å±äºå®ä¾‹å¯¹è±¡çš„<br>å®ä¾‹æ–¹æ³•åªèƒ½é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨<br>å®ä¾‹æ–¹æ³•ä¸­çš„selfæ˜¯å®ä¾‹å¯¹è±¡<br>å®ä¾‹æ–¹æ³•ä¸­å¯ä»¥è®¿é—®æˆå‘˜å˜é‡<br>å®ä¾‹æ–¹æ³•ä¸­ç›´æ¥è°ƒç”¨å®ä¾‹æ–¹æ³•<br>å®ä¾‹æ–¹æ³•ä¸­ä¹Ÿå¯ä»¥è°ƒç”¨ç±»æ–¹æ³•(é€šè¿‡ç±»å)</p>\n</li>\n</ul>\n<h3 id=\"ä»‹ç»ä¸€ä¸‹åˆ†ç±»ï¼Œèƒ½ç”¨åˆ†ç±»åšä»€ä¹ˆï¼Ÿå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå®ƒä¸ºä»€ä¹ˆä¼šè¦†ç›–æ‰åŸæ¥çš„æ–¹æ³•ï¼Ÿ\"><a href=\"#ä»‹ç»ä¸€ä¸‹åˆ†ç±»ï¼Œèƒ½ç”¨åˆ†ç±»åšä»€ä¹ˆï¼Ÿå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå®ƒä¸ºä»€ä¹ˆä¼šè¦†ç›–æ‰åŸæ¥çš„æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"ä»‹ç»ä¸€ä¸‹åˆ†ç±»ï¼Œèƒ½ç”¨åˆ†ç±»åšä»€ä¹ˆï¼Ÿå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå®ƒä¸ºä»€ä¹ˆä¼šè¦†ç›–æ‰åŸæ¥çš„æ–¹æ³•ï¼Ÿ\"></a>ä»‹ç»ä¸€ä¸‹åˆ†ç±»ï¼Œèƒ½ç”¨åˆ†ç±»åšä»€ä¹ˆï¼Ÿå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå®ƒä¸ºä»€ä¹ˆä¼šè¦†ç›–æ‰åŸæ¥çš„æ–¹æ³•ï¼Ÿ</h3><p>åˆ†ç±»å¯ä»¥åœ¨ä¸çŸ¥é“ç³»ç»Ÿç±»æºä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºè¿™ä¸ªç±»æ·»åŠ æ–°çš„æ–¹æ³•ã€‚åˆ†ç±»åªèƒ½ç”¨æ¥æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ æˆå‘˜å˜é‡ã€‚é€šè¿‡åˆ†ç±»å¢åŠ çš„æ–¹æ³•ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºæ˜¯è¯¥ç±»ç±»å‹çš„ä¸€éƒ¨åˆ†<br><a href=\"http://blog.leichunfeng.com/blog/2015/05/18/objective-c-category-implementation-principle/\">Categoryå®ç°åŸç†</a></p>\n<h3 id=\"è¿è¡Œæ—¶èƒ½å¢åŠ æˆå‘˜å˜é‡ä¹ˆï¼Ÿèƒ½å¢åŠ å±æ€§ä¹ˆï¼Ÿå¦‚æœèƒ½ï¼Œå¦‚ä½•å¢åŠ ï¼Ÿå¦‚æœä¸èƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿ\"><a href=\"#è¿è¡Œæ—¶èƒ½å¢åŠ æˆå‘˜å˜é‡ä¹ˆï¼Ÿèƒ½å¢åŠ å±æ€§ä¹ˆï¼Ÿå¦‚æœèƒ½ï¼Œå¦‚ä½•å¢åŠ ï¼Ÿå¦‚æœä¸èƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"è¿è¡Œæ—¶èƒ½å¢åŠ æˆå‘˜å˜é‡ä¹ˆï¼Ÿèƒ½å¢åŠ å±æ€§ä¹ˆï¼Ÿå¦‚æœèƒ½ï¼Œå¦‚ä½•å¢åŠ ï¼Ÿå¦‚æœä¸èƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿ\"></a>è¿è¡Œæ—¶èƒ½å¢åŠ æˆå‘˜å˜é‡ä¹ˆï¼Ÿèƒ½å¢åŠ å±æ€§ä¹ˆï¼Ÿå¦‚æœèƒ½ï¼Œå¦‚ä½•å¢åŠ ï¼Ÿå¦‚æœä¸èƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</h3><p>å¯ä»¥æ·»åŠ å±æ€§ï¼Œä¸å¯ä»¥æ·»åŠ æˆå‘˜å˜é‡ã€‚<br><a href=\"http://www.cocoachina.com/ios/20150526/11918.html\">OCç±»æˆå‘˜å˜é‡æ·±åº¦å‰–æ</a></p>\n<h3 id=\"objcä¸­å‘ä¸€ä¸ªnilå¯¹è±¡å‘é€æ¶ˆæ¯å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œæ˜¯æ ‡é‡ï¼Œç»“æ„ä½“ï¼‰\"><a href=\"#objcä¸­å‘ä¸€ä¸ªnilå¯¹è±¡å‘é€æ¶ˆæ¯å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œæ˜¯æ ‡é‡ï¼Œç»“æ„ä½“ï¼‰\" class=\"headerlink\" title=\"objcä¸­å‘ä¸€ä¸ªnilå¯¹è±¡å‘é€æ¶ˆæ¯å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œæ˜¯æ ‡é‡ï¼Œç»“æ„ä½“ï¼‰\"></a>objcä¸­å‘ä¸€ä¸ªnilå¯¹è±¡å‘é€æ¶ˆæ¯å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œæ˜¯æ ‡é‡ï¼Œç»“æ„ä½“ï¼‰</h3><p>å¦‚æœä¸€ä¸ªæ–¹æ³•è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå‘é€ç»™nilçš„æ¶ˆæ¯å°†è¿”å›0(nil)ã€‚ä¾‹å¦‚ï¼š</p>\n<pre><code>Person *motherInlaw = [[aPerson spouse] mother];</code></pre><ol>\n<li>å¦‚æœ spouse å¯¹è±¡ä¸º nilï¼Œé‚£ä¹ˆå‘é€ç»™ nil çš„æ¶ˆæ¯ mother ä¹Ÿå°†è¿”å› nilã€‚ </li>\n<li>å¦‚æœæ–¹æ³•è¿”å›å€¼ä¸ºæŒ‡é’ˆç±»å‹ï¼Œå…¶æŒ‡é’ˆå¤§å°ä¸ºå°äºæˆ–è€…ç­‰äº<code>sizeof(void*)ï¼Œfloatï¼Œdoubleï¼Œlong double</code> æˆ–è€… <code>long long</code> çš„æ•´å‹æ ‡é‡ï¼Œå‘é€ç»™ nil çš„æ¶ˆæ¯å°†è¿”å›0ã€‚ </li>\n<li>å¦‚æœæ–¹æ³•è¿”å›å€¼ä¸ºç»“æ„ä½“,å‘é€ç»™ nil çš„æ¶ˆæ¯å°†è¿”å›0ã€‚ç»“æ„ä½“ä¸­å„ä¸ªå­—æ®µçš„å€¼å°†éƒ½æ˜¯0ã€‚ </li>\n<li>å¦‚æœæ–¹æ³•çš„è¿”å›å€¼ä¸æ˜¯ä¸Šè¿°æåˆ°çš„å‡ ç§æƒ…å†µï¼Œé‚£ä¹ˆå‘é€ç»™ nil çš„æ¶ˆæ¯çš„è¿”å›å€¼å°†æ˜¯æœªå®šä¹‰çš„ã€‚</li>\n</ol>\n<h1 id=\"é«˜çº§\"><a href=\"#é«˜çº§\" class=\"headerlink\" title=\"é«˜çº§\"></a>é«˜çº§</h1><h2 id=\"UITableviewçš„ä¼˜åŒ–æ–¹æ³•ï¼ˆç¼“å­˜é«˜åº¦ï¼Œå¼‚æ­¥ç»˜åˆ¶ï¼Œå‡å°‘å±‚çº§ï¼Œhideï¼Œé¿å…ç¦»å±æ¸²æŸ“ï¼‰\"><a href=\"#UITableviewçš„ä¼˜åŒ–æ–¹æ³•ï¼ˆç¼“å­˜é«˜åº¦ï¼Œå¼‚æ­¥ç»˜åˆ¶ï¼Œå‡å°‘å±‚çº§ï¼Œhideï¼Œé¿å…ç¦»å±æ¸²æŸ“ï¼‰\" class=\"headerlink\" title=\"UITableviewçš„ä¼˜åŒ–æ–¹æ³•ï¼ˆç¼“å­˜é«˜åº¦ï¼Œå¼‚æ­¥ç»˜åˆ¶ï¼Œå‡å°‘å±‚çº§ï¼Œhideï¼Œé¿å…ç¦»å±æ¸²æŸ“ï¼‰\"></a>UITableviewçš„ä¼˜åŒ–æ–¹æ³•ï¼ˆç¼“å­˜é«˜åº¦ï¼Œå¼‚æ­¥ç»˜åˆ¶ï¼Œå‡å°‘å±‚çº§ï¼Œhideï¼Œé¿å…ç¦»å±æ¸²æŸ“ï¼‰</h2><p>ä¸€èˆ¬åœ¨ç½‘ç»œè¯·æ±‚ç»“æŸåï¼Œåœ¨æ›´æ–°ç•Œé¢ä¹‹å‰å°±æŠŠæ¯ä¸ª cell çš„é«˜åº¦ç®—å¥½ï¼Œç¼“å­˜åˆ°ç›¸å¯¹åº”çš„ model ä¸­ã€‚</p>\n<p>å¦å¤–ç»˜åˆ¶ cell ä¸å»ºè®®ä½¿ç”¨ UIViewï¼Œå»ºè®®ä½¿ç”¨ CALayerã€‚<br>ç®€å•çš„å½¢å¼å‚è€ƒï¼š</p>\n<pre><code><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class=\"line\">    CGRect rect &#x3D; CGRectMake(0, 0, 100, 100);</span><br><span class=\"line\">    UIGraphicsBeginImageContextWithOptions(rect.size, YES, 0);</span><br><span class=\"line\">    CGContextRef context &#x3D; UIGraphicsGetCurrentContext();</span><br><span class=\"line\">    [[UIColor lightGrayColor] set];</span><br><span class=\"line\">    CGContextFillRect(context, rect);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;å°†ç»˜åˆ¶çš„å†…å®¹ä»¥å›¾ç‰‡çš„å½¢å¼è¿”å›ï¼Œå¹¶è°ƒä¸»çº¿ç¨‹æ˜¾ç¤º</span><br><span class=\"line\">    UIImage *temp &#x3D; UIGraphicsGetImageFromCurrentImageContext();</span><br><span class=\"line\">    UIGraphicsEndImageContext();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; å›åˆ°ä¸»çº¿ç¨‹</span><br><span class=\"line\">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">        &#x2F;&#x2F;code</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></code></pre><p>CALayer çš„ borderã€åœ†è§’ã€é˜´å½±ã€é®ç½©ï¼ˆmaskï¼‰ï¼Œ<code>CASharpLayer</code> çš„çŸ¢é‡å›¾å½¢æ˜¾ç¤ºï¼Œé€šå¸¸ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼ˆoffscreen renderingï¼‰ï¼Œè€Œç¦»å±æ¸²æŸ“é€šå¸¸å‘ç”Ÿåœ¨ GPU ä¸­ã€‚å½“ä¸€ä¸ªåˆ—è¡¨è§†å›¾ä¸­å‡ºç°å¤§é‡åœ†è§’çš„ <code>CALayer</code>ï¼Œå¹¶ä¸”å¿«é€Ÿæ»‘åŠ¨æ—¶ï¼Œå¯ä»¥è§‚å¯Ÿåˆ° GPU èµ„æºå·²ç»å æ»¡ï¼Œè€Œ CPU èµ„æºæ¶ˆè€—å¾ˆå°‘ã€‚è¿™æ—¶ç•Œé¢ä»ç„¶èƒ½æ­£å¸¸æ»‘åŠ¨ï¼Œä½†å¹³å‡å¸§æ•°ä¼šé™åˆ°å¾ˆä½ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥å°è¯•å¼€å¯ <code>CALayer.shouldRasterize</code> å±æ€§ï¼Œä½†è¿™ä¼šæŠŠåŸæœ¬ç¦»å±æ¸²æŸ“çš„æ“ä½œè½¬å«åˆ° CPU ä¸Šå»ã€‚å¯¹äºåªéœ€è¦åœ†è§’çš„æŸäº›åœºåˆï¼Œä¹Ÿå¯ä»¥ç”¨ä¸€å¼ å·²ç»ç»˜åˆ¶å¥½çš„åœ†è§’å›¾ç‰‡è¦†ç›–åˆ°åŸæœ¬è§†å›¾ä¸Šé¢æ¥æ¨¡æ‹Ÿç›¸åŒçš„è§†è§‰æ•ˆæœã€‚æœ€å½»åº•çš„è§£å†³åŠæ³•ï¼Œå°±æ˜¯æŠŠéœ€è¦æ˜¾ç¤ºçš„å›¾å½¢åœ¨åå°çº¿ç¨‹ç»˜åˆ¶ä¸ºå›¾ç‰‡ï¼Œé¿å…ä½¿ç”¨åœ†è§’ã€é˜´å½±ã€é®ç½©ç­‰å±æ€§ã€‚</p>\n","categories":["iOS"],"tags":["é¢è¯•"]},{"title":"iOSè“ç‰™çŸ¥è¯†å¿«é€Ÿå…¥é—¨ï¼ˆè¯¦å°½ç‰ˆï¼‰","url":"http://zhangferry.github.io/2017/01/13/bluetooth-intro/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-d8149efe4c37d452.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"iOS-bluetooth\"><br>ä»¥å‰å†™è¿‡å‡ ç¯‡è“ç‰™ç›¸å…³çš„æ–‡ç« ï¼Œä½†æ˜¯æ²¡æœ‰æ¶‰åŠæ‰«æã€æ”¶å‘æŒ‡ä»¤è¿™äº›åŸºç¡€åŠŸèƒ½çš„å®ç°ã€‚æ‰€ä»¥æ‰“ç®—å†™ä¸€ç¯‡å°½å¯èƒ½è¯¦å°½çš„è“ç‰™çŸ¥è¯†æ±‡æ€»ï¼Œä¸€æ–¹é¢ç»™æœ‰éœ€è¦çš„åŒå­¦çœ‹ï¼Œä¸€æ–¹é¢æ˜¯å¯¹è‡ªå·±å­¦ä¹ è“ç‰™çš„ä¸€ä¸ªæ€»ç»“ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼šæ•™ä½ å®ç°è®¾å¤‡çš„æ‰«æï¼Œè¿æ¥ï¼Œæ•°æ®æ”¶å‘ï¼Œè“ç‰™æ•°æ®è§£æã€‚å¦‚æœåœ¨å®ç°ä¸Šé¢ä»»ä¸€åŠŸèƒ½é‡åˆ°é—®é¢˜æ—¶ï¼Œæ¬¢è¿ç•™ä¸‹ä½ çš„é—®é¢˜ï¼Œæˆ‘å°†è¿›è¡Œè¡¥å……ï¼Œå¯¹äºè¯´æ³•æœ‰è¯¯çš„åœ°æ–¹ä¹Ÿè¯·è€å¸æœºäºˆä»¥æŒ‡æ­£ã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"ç›®å½•\"><a href=\"#ç›®å½•\" class=\"headerlink\" title=\"ç›®å½•\"></a>ç›®å½•</h2><blockquote>\n<p><a href=\"#thought\">0ã€æ€ç»´å¯¼å›¾</a><br><a href=\"#1\">1ã€è‹¹æœå¯¹è“ç‰™è®¾å¤‡æœ‰ä»€ä¹ˆè¦æ±‚</a><br><a href=\"#2\">2ã€æ“ä½œè“ç‰™è®¾å¤‡ä½¿ç”¨ä»€ä¹ˆåº“</a><br><a href=\"#3\">3ã€å¦‚ä½•æ‰«æ</a><br><a href=\"#4\">4ã€å¦‚ä½•è¿æ¥</a><br><a href=\"#5\">5ã€å¦‚ä½•å‘é€æ•°æ®å’Œæ¥æ”¶æ•°æ®</a><br><a href=\"#6\">6ã€å¦‚ä½•è§£ææ•°æ®</a><br><a href=\"#7\">7ã€æ‰©å±•</a></p>\n</blockquote>\n<h2 id=\"æ€ç»´å¯¼å›¾\"><a href=\"#æ€ç»´å¯¼å›¾\" class=\"headerlink\" title=\"æ€ç»´å¯¼å›¾\"></a>æ€ç»´å¯¼å›¾</h2><p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-46a0e68cfd9c4c9d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ€ç»´å¯¼å›¾\"><br>ç¬¬ä¸€æ¬¡åšå›¾ï¼Œå¤§å®¶å‡‘åˆç€çœ‹å“ˆã€‚è¿™å¼ æ˜¯æˆ‘æ€»ç»“çš„è“ç‰™çŸ¥è¯†çš„ç»“æ„å›¾ï¼Œä¸‹é¢çš„å†…å®¹å°†å›´ç»•è¿™äº›ä¸œè¥¿å±•å¼€è¿›è¡Œã€‚<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-18ebcb6eb1790121.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"è¿æ¥è®¾å¤‡æµç¨‹\"><br>è¿™å¼ æ˜¯è“ç‰™è¿æ¥å‘é€æ•°æ®çš„æµç¨‹å›¾ï¼Œä¸‹æ–‡è¿›å…¥codingé˜¶æ®µçš„è®²è§£é¡ºåºï¼Œå¤§å®¶å…ˆæœ‰ä¸ªå¤§æ¦‚å°è±¡ï¼Œç­‰é˜…è¯»å®Œæœ¬æ–‡å†å›æ¥çœ‹è¿™å¼ å›¾å°†ç†è§£çš„æ›´æ·±ä¸€äº›ã€‚</p>\n<h2 id=\"è‹¹æœå¯¹è“ç‰™è®¾å¤‡æœ‰ä»€ä¹ˆè¦æ±‚\"><a href=\"#è‹¹æœå¯¹è“ç‰™è®¾å¤‡æœ‰ä»€ä¹ˆè¦æ±‚\" class=\"headerlink\" title=\"è‹¹æœå¯¹è“ç‰™è®¾å¤‡æœ‰ä»€ä¹ˆè¦æ±‚\"></a>è‹¹æœå¯¹è“ç‰™è®¾å¤‡æœ‰ä»€ä¹ˆè¦æ±‚</h2><p>BLEï¼šbluetouch low energyï¼Œè“ç‰™4.0è®¾å¤‡å› ä¸ºä½åŠŸè€—ï¼Œæ‰€æœ‰ä¹Ÿå«ä½œBLEã€‚è‹¹æœåœ¨iphone4såŠä¹‹åçš„æ‰‹æœºå‹å·å¼€å§‹æ”¯æŒè“ç‰™4.0ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„è“ç‰™è®¾å¤‡ã€‚ä½äºè“ç‰™4.0åè®®çš„è®¾å¤‡éœ€è¦è¿›è¡ŒMFIè®¤è¯ï¼Œå…³äºMFIè®¤è¯çš„ç”³è¯·å·¥ä½œå¯ä»¥çœ‹è¿™é‡Œï¼š<a href=\"http://www.jianshu.com/p/b90b0c45398d\">å…³äºMFIè®¤è¯ä½ æ‰€å¿…é¡»è¦çŸ¥é“çš„äº‹æƒ…</a></p>\n<p>åœ¨è¿›è¡Œæ“ä½œè“ç‰™è®¾å¤‡å‰ï¼Œæˆ‘ä»¬å…ˆä¸‹è½½ä¸€ä¸ªè“ç‰™å·¥å…·<code>LightBlue</code>ï¼Œå®ƒå¯ä»¥è¾…åŠ©æˆ‘ä»¬çš„å¼€å‘ï¼Œåœ¨è¿›è¡Œè“ç‰™å¼€å‘ä¹‹å‰å»ºè®®å…ˆç†Ÿæ‚‰ä¸€ä¸‹<a href=\"https://itunes.apple.com/us/app/lightblue-explorer-bluetooth/id557428110?mt=8\">LightBlue</a>è¿™ä¸ªå·¥å…·ã€‚</p>\n<h2 id=\"æ“ä½œè“ç‰™è®¾å¤‡ä½¿ç”¨ä»€ä¹ˆåº“\"><a href=\"#æ“ä½œè“ç‰™è®¾å¤‡ä½¿ç”¨ä»€ä¹ˆåº“\" class=\"headerlink\" title=\"æ“ä½œè“ç‰™è®¾å¤‡ä½¿ç”¨ä»€ä¹ˆåº“\"></a>æ“ä½œè“ç‰™è®¾å¤‡ä½¿ç”¨ä»€ä¹ˆåº“</h2><p>è‹¹æœè‡ªèº«æœ‰ä¸€ä¸ªæ“ä½œè“ç‰™çš„åº“<code>CoreBluetooth.framework</code>ï¼Œè¿™ä¸ªæ˜¯å¤§å¤šæ•°äººå‘˜è¿›è¡Œè“ç‰™å¼€å‘çš„é¦–é€‰æ¡†æ¶ï¼Œé™¤æ­¤ä¹‹å¤–ç›®å‰githubè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæµè¡Œçš„å¯¹åŸç”Ÿæ¡†æ¶è¿›è¡Œå°è£…çš„ä¸‰æ–¹åº“<a href=\"https://github.com/coolnameismy/BabyBluetooth\">BabyBluetooth</a>ï¼Œå®ƒçš„æœºåˆ¶æ˜¯å°†CoreBluetoothä¸­ä¼—å¤šçš„delegateå†™æˆäº†blockæ–¹æ³•ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥äº†è§£ä¸‹ã€‚ä¸‹é¢ä¸»è¦ä»‹ç»çš„æ˜¯åŸç”Ÿè“ç‰™åº“çš„çŸ¥è¯†ã€‚</p>\n<h3 id=\"ä¸­å¿ƒå’Œå¤–å›´è®¾å¤‡\"><a href=\"#ä¸­å¿ƒå’Œå¤–å›´è®¾å¤‡\" class=\"headerlink\" title=\"ä¸­å¿ƒå’Œå¤–å›´è®¾å¤‡\"></a>ä¸­å¿ƒå’Œå¤–å›´è®¾å¤‡</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-d4c7cabd9f2ca98a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"central-peripheral\"></p>\n<p>å¦‚å›¾æ‰€ç¤ºï¼Œç”µè„‘ã€Padã€æ‰‹æœºä½œä¸ºä¸­å¿ƒï¼Œå¿ƒè·³ç›‘å¬å™¨ä½œä¸ºå¤–è®¾ï¼Œè¿™ç§ä¸­å¿ƒå¤–è®¾æ¨¡å¼æ˜¯æœ€å¸¸è§çš„ã€‚ç®€å•ç†è§£å°±æ˜¯ï¼Œå‘èµ·è¿æ¥çš„æ˜¯ä¸­å¿ƒè®¾å¤‡ï¼ˆCentralï¼‰ï¼Œè¢«è¿æ¥çš„æ˜¯å¤–å›´è®¾å¤‡ï¼ˆPeripheralï¼‰ï¼Œå¯¹åº”ä¼ ç»Ÿçš„å®¢æˆ·æœº-æœåŠ¡å™¨ä½“ç³»ç»“æ„ã€‚Centralèƒ½å¤Ÿæ‰«æä¾¦å¬åˆ°ï¼Œæ­£åœ¨æ’­æ”¾å¹¿å‘ŠåŒ…çš„å¤–è®¾ã€‚</p>\n<h3 id=\"æœåŠ¡ä¸ç‰¹å¾\"><a href=\"#æœåŠ¡ä¸ç‰¹å¾\" class=\"headerlink\" title=\"æœåŠ¡ä¸ç‰¹å¾\"></a>æœåŠ¡ä¸ç‰¹å¾</h3><p>å¤–è®¾å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ï¼ˆCBServiceï¼‰ï¼ŒæœåŠ¡æ˜¯ç”¨äºå®ç°è£…ç½®çš„åŠŸèƒ½æˆ–ç‰¹å¾æ•°æ®ç›¸å…³è”çš„è¡Œä¸ºé›†åˆã€‚<br>è€Œæ¯ä¸ªæœåŠ¡åˆå¯¹åº”å¤šä¸ªç‰¹å¾ï¼ˆCBCharacteristicï¼‰,ç‰¹å¾æä¾›å¤–è®¾æœåŠ¡è¿›ä¸€æ­¥çš„ç»†èŠ‚ï¼Œå¤–è®¾ï¼ŒæœåŠ¡ï¼Œç‰¹å¾å¯¹åº”çš„æ•°æ®ç»“æ„å¦‚ä¸‹æ‰€ç¤º</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-bbcf073456d1f3be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"CBService-CBCharacteristic\"></p>\n<h2 id=\"å¦‚ä½•æ‰«æè“ç‰™\"><a href=\"#å¦‚ä½•æ‰«æè“ç‰™\" class=\"headerlink\" title=\"å¦‚ä½•æ‰«æè“ç‰™\"></a>å¦‚ä½•æ‰«æè“ç‰™</h2><p>åœ¨è¿›è¡Œæ‰«æä¹‹å‰æˆ‘ä»¬éœ€è¦ï¼Œé¦–å…ˆæ–°å»ºä¸€ä¸ªç±»ä½œä¸ºè“ç‰™ç±»ï¼Œä¾‹å¦‚<code>FYBleManager</code>ï¼Œå†™æˆå•ä¾‹ï¼Œä½œä¸ºå¤„ç†è“ç‰™æ“ä½œçš„ç®¡ç†ç±»ã€‚å¼•å…¥å¤´æ–‡ä»¶<code>#import &lt;CoreBluetooth/CoreBluetooth.h&gt;</code><br><code>CBCentralManager</code>æ˜¯è“ç‰™ä¸­å¿ƒçš„ç®¡ç†ç±»ï¼Œæ§åˆ¶ç€è“ç‰™çš„æ‰«æï¼Œè¿æ¥ï¼Œè“ç‰™çŠ¶æ€çš„æ”¹å˜ã€‚</p>\n<h3 id=\"1ã€åˆå§‹åŒ–\"><a href=\"#1ã€åˆå§‹åŒ–\" class=\"headerlink\" title=\"1ã€åˆå§‹åŒ–\"></a>1ã€åˆå§‹åŒ–</h3><pre><code>dispatch_queue_t centralQueue = dispatch_queue_create(â€œcentralQueue&quot;,DISPATCH_QUEUE_SERIAL);\n    NSDictionary *dic = @{CBCentralManagerOptionShowPowerAlertKey : YES,\n    CBCentralManagerOptionRestoreIdentifierKey : @&quot;unique identifier&quot;\n};\nself.centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:centralQueue options:dic];</code></pre><p><code>CBCentralManagerOptionShowPowerAlertKey</code>å¯¹åº”çš„BOOLå€¼ï¼Œå½“è®¾ä¸ºYESæ—¶ï¼Œè¡¨ç¤ºCentralManageråˆå§‹åŒ–æ—¶ï¼Œå¦‚æœè“ç‰™æ²¡æœ‰æ‰“å¼€ï¼Œå°†å¼¹å‡ºAlertæç¤ºæ¡†<br><code>CBCentralManagerOptionRestoreIdentifierKey</code>å¯¹åº”çš„æ˜¯ä¸€ä¸ªå”¯ä¸€æ ‡è¯†çš„å­—ç¬¦ä¸²ï¼Œç”¨äºè“ç‰™è¿›ç¨‹è¢«æ€æ‰æ¢å¤è¿æ¥æ—¶ç”¨çš„ã€‚</p>\n<h3 id=\"2ã€æ‰«æ\"><a href=\"#2ã€æ‰«æ\" class=\"headerlink\" title=\"2ã€æ‰«æ\"></a>2ã€æ‰«æ</h3><pre><code>//ä¸é‡å¤æ‰«æå·²å‘ç°è®¾å¤‡        \nNSDictionary *option = @{CBCentralManagerScanOptionAllowDuplicatesKey : [NSNumber numberWithBool:NO],CBCentralManagerOptionShowPowerAlertKey:YES};        \n[self.centralManager scanForPeripheralsWithServices:nil options:option];\n- (void)scanForPeripheralsWithServices:(nullable NSArray&lt;CBUUID *&gt; *)serviceUUIDs options:(nullable NSDictionary&lt;NSString *, id&gt; *)options;</code></pre><p>æ‰«é¢æ–¹æ³•ï¼Œ<code>serviceUUIDs</code>ç”¨äºç¬¬ä¸€æ­¥çš„ç­›é€‰ï¼Œæ‰«ææ­¤UUIDçš„è®¾å¤‡<br>optionsæœ‰ä¸¤ä¸ªå¸¸ç”¨å‚æ•°ï¼š<code>CBCentralManagerScanOptionAllowDuplicatesKey</code>è®¾ç½®ä¸ºNOè¡¨ç¤ºä¸é‡å¤æ‰«ç„å·²å‘ç°è®¾å¤‡ï¼Œä¸ºYESå°±æ˜¯å…è®¸ã€‚<code>CBCentralManagerOptionShowPowerAlertKey</code>è®¾ç½®ä¸ºYESå°±æ˜¯åœ¨è“ç‰™æœªæ‰“å¼€çš„æ—¶å€™æ˜¾ç¤ºå¼¹æ¡†</p>\n<h3 id=\"3ã€CBCentralManagerDelegateä»£ç†æ–¹æ³•\"><a href=\"#3ã€CBCentralManagerDelegateä»£ç†æ–¹æ³•\" class=\"headerlink\" title=\"3ã€CBCentralManagerDelegateä»£ç†æ–¹æ³•\"></a>3ã€CBCentralManagerDelegateä»£ç†æ–¹æ³•</h3><p>åœ¨åˆå§‹åŒ–çš„æ—¶å€™æˆ‘ä»¬è°ƒç”¨äº†ä»£ç†ï¼Œåœ¨CoreBluetoothä¸­æœ‰ä¸¤ä¸ªä»£ç†ï¼Œ</p>\n<ul>\n<li>CBCentralManagerDelegate</li>\n<li>CBPeripheralDelegate</li>\n</ul>\n<p>iOSçš„å‘½åå¾ˆå‹å¥½ï¼Œæˆ‘ä»¬é€šè¿‡åå­—å°±èƒ½çœ‹å‡ºï¼Œä¸Šé¢é‚£ä¸ªæ˜¯å…³äºä¸­å¿ƒè®¾å¤‡çš„ä»£ç†æ–¹æ³•ï¼Œä¸‹é¢æ˜¯å…³äºå¤–è®¾çš„ä»£ç†æ–¹æ³•ã€‚æˆ‘ä»¬è¿™é‡Œå…ˆç ”ç©¶<code>CBCentralManagerDelegate</code>ä¸­çš„ä»£ç†æ–¹æ³•</p>\n<pre><code>- (void)centralManagerDidUpdateState:(CBCentralManager *)central;</code></pre><p>è¿™ä¸ªæ–¹æ³•æ ‡äº†<code>@required</code>æ˜¯å¿…é¡»æ·»åŠ çš„ï¼Œæˆ‘ä»¬åœ¨self.centralManageråˆå§‹æ¢ä¹‹åä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå›è°ƒè“ç‰™çš„çŠ¶æ€ã€‚çŠ¶æ€æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>\n<pre><code>typedef NS_ENUM(NSInteger, CBCentralManagerState{\n    CBCentralManagerStateUnknown = CBManagerStateUnknown,//æœªçŸ¥çŠ¶æ€\n    CBCentralManagerStateResetting = CBManagerStateResetting,//é‡å¯çŠ¶æ€\n    CBCentralManagerStateUnsupported = CBManagerStateUnsupported,//ä¸æ”¯æŒ\n    CBCentralManagerStateUnauthorized = CBManagerStateUnauthorized,//æœªæˆæƒ\n    CBCentralManagerStatePoweredOff = CBManagerStatePoweredOff,//è“ç‰™æœªå¼€å¯\n    CBCentralManagerStatePoweredOn = CBManagerStatePoweredOn,//è“ç‰™å¯\n} NS_DEPRECATED(NA, NA, 5_0, 10_0, &quot;Use CBManagerState insteadâ€);</code></pre><p>è¯¥æšä¸¾åœ¨iOS10ä¹‹åå·²ç»åºŸé™¤äº†ï¼Œç³»ç»Ÿæ¨èä½¿ç”¨<code>CBManagerState</code>ï¼Œç±»å‹éƒ½æ˜¯å¯¹åº”çš„</p>\n<pre><code>typedef NS_ENUM(NSInteger, CBManagerState{\n    CBManagerStateUnknown = 0,\n    CBManagerStateResetting,\n    CBManagerStateUnsupported,\n    CBManagerStateUnauthorized,\n    CBManagerStatePoweredOff,\n    CBManagerStatePoweredOn,\n} NS_ENUM_AVAILABLE(NA, 10_0);\n\n- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary&lt;NSString *, id&gt; *)advertisementData RSSI:(NSNumber *)RSSI;</code></pre><p>peripheralæ˜¯å¤–è®¾ç±»<br><code>advertisementData</code>æ˜¯å¹¿æ’­çš„å€¼ï¼Œä¸€èˆ¬æºå¸¦è®¾å¤‡åï¼Œ<code>serviceUUIDs</code>ç­‰ä¿¡æ¯<br>RSSIç»å¯¹å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºä¿¡å·è¶Šå·®ï¼Œè®¾å¤‡ç¦»çš„è¶Šè¿œã€‚å¦‚æœæƒ³è£…æ¢æˆç™¾åˆ†æ¯”å¼ºåº¦ï¼Œï¼ˆRSSI+100ï¼‰/100ï¼Œï¼ˆè¿™æ˜¯ä¸€ä¸ªçº¦æ•°ï¼Œè“ç‰™ä¿¡å·å€¼å¹¶ä¸ä¸€å®šæ˜¯-100 - 0çš„å€¼ï¼Œä½†è¿‘ä¼¼å¯ä»¥å¦‚æ­¤è¡¨ç¤ºï¼‰</p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central willRestoreState:(NSDictionary&lt;NSString *, id&gt; *)dict;</code></pre><p>åœ¨è“ç‰™äºåå°è¢«æ€æ‰æ—¶ï¼Œé‡è¿ä¹‹åä¼šé¦–å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¯ä»¥è·å–è“ç‰™æ¢å¤æ—¶çš„å„ç§çŠ¶æ€</p>\n<h2 id=\"å¦‚ä½•è¿æ¥\"><a href=\"#å¦‚ä½•è¿æ¥\" class=\"headerlink\" title=\"å¦‚ä½•è¿æ¥\"></a>å¦‚ä½•è¿æ¥</h2><p>åœ¨æ‰«é¢çš„ä»£ç†æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è¿æ¥å¤–è®¾åæ˜¯MIçš„è“ç‰™è®¾å¤‡</p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI{    \n    NSLog(@&quot;advertisementData:%@ï¼ŒRSSI:%@&quot;,advertisementData,RSSI);      \n    if([peripheral.name isEqualToString:@&quot;MI&quot;]){        \n    [self.centralManager connectPeripheral:peripheral options:nil];//å‘èµ·è¿æ¥çš„å‘½ä»¤       \n          self.peripheral = peripheral;     \n    }\n}</code></pre><p><strong>è¿æ¥çš„çŠ¶æ€</strong><br>å¯¹åº”å¦å¤–çš„<code>CBCentralManagerDelegate</code>ä»£ç†æ–¹æ³•<br>è¿æ¥æˆåŠŸçš„å›è°ƒ</p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral;</code></pre><p>è¿æ¥å¤±è´¥çš„å›è°ƒ</p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central didFailToConnectPeripheral:(CBPeripheral *)peripheral error:(nullable NSError *)error;</code></pre><p>è¿æ¥æ–­å¼€çš„å›è°ƒ</p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central didDisconnectPeripheral:(CBPeripheral *)peripheral error:(nullable NSError *)error;</code></pre><p>è¿æ¥æˆåŠŸä¹‹åå¹¶æ²¡æœ‰ç»“æŸï¼Œè¿˜è®°å¾—<code>CBPeripheral</code>ä¸­çš„<code>CBService</code>å’Œ<code>CBService</code>ä¸­çš„<code>CBCharacteristic</code>å—ï¼Œå¯¹æ•°æ®çš„è¯»å†™æ˜¯ç”±<code>CBCharacteristic</code>æ§åˆ¶çš„ã€‚æˆ‘ä»¬å…ˆç”¨lightblueè¿æ¥å°ç±³æ‰‹ç¯ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹ï¼Œæ‰‹ç¯å†…éƒ¨çš„æ•°æ®æ˜¯ä¸æ˜¯æˆ‘ä»¬è¯´çš„é‚£æ ·ã€‚</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-1ab902ebe252094e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"lightblue\"></p>\n<p>å…¶ä¸­<code>ADVERTISEMENT DATA</code>æ˜¾ç¤ºçš„å°±æ˜¯å¹¿æ’­ä¿¡æ¯ã€‚</p>\n<blockquote>\n<p><strong>iOSè“ç‰™æ— æ³•ç›´æ¥è·å–è®¾å¤‡è“ç‰™MACåœ°å€ï¼Œå¯ä»¥å°†MACåœ°å€æ”¾åˆ°è¿™é‡Œå¹¿æ’­å‡ºæ¥</strong></p>\n</blockquote>\n<p><code>FEEO</code>æ˜¯<code>ServiceUUIDs</code>,é‡Œé¢çš„<code>FF01</code>ã€<code>FF02</code>æ˜¯<code>CBCharacteristicçš„UUID</code></p>\n<p><code>Properties</code>æ˜¯ç‰¹å¾çš„å±æ€§ï¼Œå¯ä»¥çœ‹å‡º<code>FF01</code>å…·æœ‰è¯»çš„æƒé™ï¼Œ<code>FF02</code>å…·æœ‰è¯»å†™çš„æƒé™ã€‚ç‰¹å¾æ‹¥æœ‰çš„æƒé™ç±»åˆ«æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>\n<pre><code>typedef NS_OPTIONS(NSUInteger, CBCharacteristicProperties{\n    CBCharacteristicPropertyBroadcast = 0x01,\n    CBCharacteristicPropertyRead = 0x02,\n    CBCharacteristicPropertyWriteWithoutResponse = 0x04,\n    CBCharacteristicPropertyWrite = 0x08,\n    CBCharacteristicPropertyNotify = 0x10,\n    CBCharacteristicPropertyIndicate = 0x20,\n    CBCharacteristicPropertyAuthenticatedSignedWrites = 0x40,\n    CBCharacteristicPropertyExtendedProperties = 0x80,\n    CBCharacteristicPropertyNotifyEncryptionRequired NS_ENUM_AVAILABLE(NA, 6_0) = 0x100,\n    CBCharacteristicPropertyIndicateEncryptionRequired NS_ENUM_AVAILABLE(NA, 6_0) = 0x200};</code></pre><h2 id=\"å¦‚ä½•å‘é€å¹¶æ¥æ”¶æ•°æ®\"><a href=\"#å¦‚ä½•å‘é€å¹¶æ¥æ”¶æ•°æ®\" class=\"headerlink\" title=\"å¦‚ä½•å‘é€å¹¶æ¥æ”¶æ•°æ®\"></a>å¦‚ä½•å‘é€å¹¶æ¥æ”¶æ•°æ®</h2><p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬å‘ç°<code>CBCentralManagerDelegate</code>æä¾›äº†è“ç‰™çŠ¶æ€ç›‘æµ‹ã€æ‰«æã€è¿æ¥çš„ä»£ç†æ–¹æ³•ï¼Œä½†æ˜¯<code>CBPeripheralDelegate</code>çš„ä»£ç†æ–¹æ³•å´è¿˜æ²¡ä½¿ç”¨ã€‚åˆ«æ€¥ï¼Œé©¬ä¸Šå°±è¦ç”¨åˆ°äº†ï¼Œé€šè¿‡åç§°åˆ¤æ–­è¿™ä¸ªä»£ç†çš„ä½œç”¨ï¼Œè‚¯å®šæ˜¯è·Ÿ<code>Peripheral</code>æœ‰å…³ï¼Œæˆ‘ä»¬è¿›å…¥ç³»ç»ŸAPIï¼Œçœ‹å®ƒçš„ä»£ç†æ–¹æ³•éƒ½æœ‰ä»€ä¹ˆï¼Œå› ä¸ºè¿™é‡Œçš„ä»£ç†æ–¹æ³•è¾ƒå¤šï¼Œæˆ‘å°±æŒ‘é€‰å‡ ä¸ªå¸¸ç”¨çš„æ‹¿å‡ºæ¥è¯´æ˜ä¸€ä¸‹ã€‚</p>\n<h3 id=\"1ã€ä»£ç†æ–¹æ³•\"><a href=\"#1ã€ä»£ç†æ–¹æ³•\" class=\"headerlink\" title=\"1ã€ä»£ç†æ–¹æ³•\"></a>1ã€<strong>ä»£ç†æ–¹æ³•</strong></h3><pre><code>//å‘ç°æœåŠ¡çš„å›è°ƒ\n- (void)peripheral:(CBPeripheral *)peripheral didDiscoverServices:(nullable NSError *)error;\n//å‘ç°ç‰¹å¾çš„å›è°ƒ\n- (void)peripheral:(CBPeripheral *)peripheral didDiscoverCharacteristicsForService:(CBService *)service error:(nullable NSError *)error;\n//è¯»æ•°æ®çš„å›è°ƒ\n- (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic:(CBCharacteristic *)characteristic error:(nullable NSError *)error;\n//æ˜¯å¦å†™å…¥æˆåŠŸçš„å›è°ƒ\n - (void)peripheral:(CBPeripheral *)peripheral didWriteValueForCharacteristic:(CBCharacteristic *)characteristic error:(nullable NSError *)error;</code></pre><h3 id=\"2ã€æ­¥éª¤\"><a href=\"#2ã€æ­¥éª¤\" class=\"headerlink\" title=\"2ã€æ­¥éª¤\"></a>2ã€<strong>æ­¥éª¤</strong></h3><p>é€šè¿‡è¿™å‡ ä¸ªæ–¹æ³•æˆ‘ä»¬æ„å»ºä¸€ä¸ªæµç¨‹ï¼šè¿æ¥æˆåŠŸ-&gt;è·å–æŒ‡å®šçš„æœåŠ¡-&gt;è·å–æŒ‡å®šçš„ç‰¹å¾-&gt;è®¢é˜…æŒ‡å®šç‰¹å¾å€¼-&gt;é€šè¿‡å…·æœ‰å†™æƒé™çš„ç‰¹å¾å€¼å†™æ•°æ®-&gt;åœ¨<code>didUpdateValueForCharacteristic</code>å›è°ƒä¸­è¯»å–è“ç‰™åé¦ˆå€¼</p>\n<p>è§£é‡Šä¸€ä¸‹è®¢é˜…ç‰¹å¾å€¼ï¼šç‰¹å¾å€¼å…·æœ‰Notifyæƒé™æ‰å¯ä»¥è¿›è¡Œè®¢é˜…ï¼Œè®¢é˜…ä¹‹åè¯¥ç‰¹å¾å€¼çš„valueå‘ç”Ÿå˜åŒ–æ‰ä¼šå›è°ƒ<code>didUpdateValueForCharacteristic</code></p>\n<h3 id=\"3ã€å®ç°ä¸Šé¢æµç¨‹çš„å®ä¾‹ä»£ç \"><a href=\"#3ã€å®ç°ä¸Šé¢æµç¨‹çš„å®ä¾‹ä»£ç \" class=\"headerlink\" title=\"3ã€å®ç°ä¸Šé¢æµç¨‹çš„å®ä¾‹ä»£ç \"></a>3ã€<strong>å®ç°ä¸Šé¢æµç¨‹çš„å®ä¾‹ä»£ç </strong></h3><pre><code>//è¿æ¥æˆåŠŸ\n- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral{\n        //è¿æ¥æˆåŠŸä¹‹åå¯»æ‰¾æœåŠ¡ï¼Œä¼ nilä¼šå¯»æ‰¾æ‰€æœ‰æœåŠ¡\n        [peripheral discoverServices:nil];\n}\n\n//å‘ç°æœåŠ¡çš„å›è°ƒ\n- (void)peripheral:(CBPeripheral *)peripheral didDiscoverServices:(NSError *)error{   \n    if (!error) {        \n        for (CBService *service in peripheral.services) {                \n            NSLog(@&quot;serviceUUID:%@&quot;, service.UUID.UUIDString);            \n            if ([service.UUID.UUIDString isEqualToString:ST_SERVICE_UUID]) {\n                        //å‘ç°ç‰¹å®šæœåŠ¡çš„ç‰¹å¾å€¼               \n                [service.peripheral discoverCharacteristics:nil forService:service];            \n            }        \n        }    \n    }\n}\n\n//å‘ç°characteristicsï¼Œç”±å‘ç°æœåŠ¡è°ƒç”¨ï¼ˆä¸Šä¸€æ­¥ï¼‰ï¼Œè·å–è¯»å’Œå†™çš„characteristics\n- (void)peripheral:(CBPeripheral *)peripheral didDiscoverCharacteristicsForService:(CBService *)service error:(NSError *)error {    \n    for (CBCharacteristic *characteristic in service.characteristics) {        \n    //æœ‰æ—¶è¯»å†™çš„æ“ä½œæ˜¯ç”±ä¸€ä¸ªcharacteristicå®Œæˆ        \n        if ([characteristic.UUID.UUIDString isEqualToString:ST_CHARACTERISTIC_UUID_READ]) {   \n            self.read = characteristic;           \n            [self.peripheral setNotifyValue:YES forCharacteristic:self.read];        \n        } else if ([characteristic.UUID.UUIDString isEqualToString:ST_CHARACTERISTIC_UUID_WRITE]) {  \n             self.write = characteristic;        \n        }    \n    }\n}\n\n//æ˜¯å¦å†™å…¥æˆåŠŸçš„ä»£ç†\n- (void)peripheral:(CBPeripheral *)peripheral didWriteValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error{   \n    if (error) {        \n        NSLog(@&quot;===å†™å…¥é”™è¯¯ï¼š%@&quot;,error);    \n    }else{        \n        NSLog(@&quot;===å†™å…¥æˆåŠŸ&quot;);    \n    }\n}\n\n//æ•°æ®æ¥æ”¶\n- (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error {    \n        if([characteristic.UUID.UUIDString isEqualToString:ST_CHARACTERISTIC_UUID_READ]){\n        //è·å–è®¢é˜…ç‰¹å¾å›å¤çš„æ•°æ®\n        NSData *value = characteristic.value;        \n        NSLog(@&quot;è“ç‰™å›å¤ï¼š%@&quot;,value);\n        }\n}</code></pre><p>æ¯”å¦‚æˆ‘ä»¬è¦è·å–è“ç‰™ç”µé‡ï¼Œç”±ç¡¬ä»¶æ–‡æ¡£æŸ¥è¯¢å¾—çŸ¥è¯¥æŒ‡ä»¤æ˜¯<code>**0x1B9901**</code>,é‚£ä¹ˆè·å–ç”µé‡çš„æ–¹æ³•å°±å¯ä»¥å†™æˆ</p>\n<pre><code>- (void)getBattery{\n    Byte value[3]={0};\n    value[0]=x1B;\n    value[1]=x99;\n    value[2]=x01;\n    NSData * data = [NSData dataWithBytes:&amp;value length:sizeof(value)];\n    //å‘é€æ•°æ®\n    [self.peripheral writeValue:data forCharacteristic:self.write type:CBCharacteristicWriteWithoutResponse];\n}</code></pre><p>å¦‚æœå†™å…¥æˆåŠŸï¼Œæˆ‘ä»¬å°†ä¼šåœ¨<code>didUpdateValueForCharacteristic</code>æ–¹æ³•ä¸­è·å–è“ç‰™å›å¤çš„ä¿¡æ¯ã€‚</p>\n<h2 id=\"å¦‚ä½•è§£æè“ç‰™æ•°æ®\"><a href=\"#å¦‚ä½•è§£æè“ç‰™æ•°æ®\" class=\"headerlink\" title=\"å¦‚ä½•è§£æè“ç‰™æ•°æ®\"></a>å¦‚ä½•è§£æè“ç‰™æ•°æ®</h2><p>å¦‚æœä½ é¡ºåˆ©å®Œæˆäº†ä¸Šä¸€æ­¥çš„æ“ä½œï¼Œå¹¶ä¸”çœ‹åˆ°äº†è“ç‰™è¿”å›çš„æ•°æ®ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œè“ç‰™çš„å¸¸ç”¨æ“ä½œä½ å·²ç»äº†è§£å¤§åŠäº†ã€‚å› ä¸ºè“ç‰™çš„ä»»åŠ¡å¤§éƒ¨åˆ†å°±æ˜¯å›´ç»•å‘é€æŒ‡ä»¤ï¼Œè·å–æŒ‡ä»¤ï¼Œå°†è“ç‰™æ•°æ®å‘ˆç°ç»™ç”¨æˆ·ã€‚ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»è·å–äº†è“ç‰™æŒ‡ä»¤ï¼Œä½†æ˜¯è·å–çš„å´æ˜¯<code>0x567b0629</code>è¿™æ ·çš„æ•°æ®ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚è¿™æ—¶æˆ‘ä»¬å‚è€ƒç¡¬ä»¶æ–‡æ¡£ï¼Œçœ‹åˆ°è¿™æ ·ä¸€æ®µ:</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-141b274b7ed8e976.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"device-document\"><br>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºè®¾å¤‡ç”µé‡æ˜¯ 60%ã€‚</p>\n<p>å¯¹æ•°æ®è§£æçš„æµç¨‹å°±æ˜¯ï¼šåˆ¤æ–­æ ¡éªŒå’Œæ˜¯å¦æ­£ç¡®ï¼Œæ˜¯ä¸æ˜¯ä¸€æ¡æ­£ç¡®çš„æ•°æ®-&gt;è¯¥æ¡æ•°æ®æ˜¯ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ç”µé‡æ•°æ®ï¼Œå³é¦–å­—èŠ‚ä¸º<code>0x567b</code>-&gt;æ ¹æ®å®šä¹‰è§„åˆ™è§£æç”µé‡ï¼Œä¼ ç»™viewæ˜¾ç¤ºã€‚å…¶ä¸­ç¬¬ä¸€æ­¥æ ¡éªŒæ•°æ®ï¼Œè§†æƒ…å†µè€Œå®šï¼Œä¹Ÿæœ‰ä¸éœ€è¦çš„æƒ…å†µã€‚</p>\n<h2 id=\"æ‰©å±•\"><a href=\"#æ‰©å±•\" class=\"headerlink\" title=\"æ‰©å±•\"></a>æ‰©å±•</h2><p><a href=\"http://www.jianshu.com/p/a5e25206df39\">iOSè“ç‰™ä¸­çš„è¿›åˆ¶è½¬æ¢</a><br><a href=\"http://www.jianshu.com/p/0d956862ffa1\">è“ç‰™å›ºä»¶å‡çº§</a><br><a href=\"http://www.jianshu.com/p/eb5b1e26adf7\">nRFèŠ¯ç‰‡è®¾å¤‡DFUå‡çº§</a></p>\n","categories":["è“ç‰™æ€»ç»“"],"tags":["è“ç‰™"]},{"title":"ä¸ºåšå®¢è®¾ä¸€ä¸ªè‡ªå®šä¹‰åŸŸå","url":"http://zhangferry.github.io/2017/01/05/custom-domain-blog/","content":"<p>ç°åœ¨è¶Šæ¥è¶Šå¤šçš„äººæ‚¬ç€ä½¿ç”¨githubpageæ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ï¼Œä½†æ˜¯githubæä¾›çš„é»˜è®¤çš„åŸŸåæ˜¯è¿™ç§å½¢å¼ï¼š<code>username.github.io</code>ï¼Œæ˜¯ä¸ªäºŒçº§åŸŸåï¼Œè¿™å¯¹äºå¾ˆå¤šäººæ¥è¯´å¯èƒ½æ„Ÿè§‰ä¸æ˜¯å¾ˆé…·ã€‚é‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©å°±æ¥åšä¸€ä»¶æ¯”è¾ƒé…·çš„äº‹æƒ…ï¼Œä¸ºç«™ç‚¹è‡ªå®šä¹‰ä¸€ä¸ªåŸŸåã€‚</p>\n<a id=\"more\"></a>\n<h2 id=\"ç›®å½•\"><a href=\"#ç›®å½•\" class=\"headerlink\" title=\"ç›®å½•\"></a>ç›®å½•</h2><blockquote>\n<p>0ã€å‡†å¤‡å·¥ä½œ<br>1ã€åŸŸåç”³è¯·<br>2ã€ä¸ºç«™ç‚¹æ·»åŠ CNAME<br>3ã€åœ¨DNSPODé…ç½®åŸŸåè§£æ<br>4ã€ä¿®æ”¹DNS<br>5ã€éªŒè¯ç»“æœ</p>\n</blockquote>\n<h2 id=\"å‡†å¤‡å·¥ä½œ\"><a href=\"#å‡†å¤‡å·¥ä½œ\" class=\"headerlink\" title=\"å‡†å¤‡å·¥ä½œ\"></a>å‡†å¤‡å·¥ä½œ</h2><ul>\n<li>ä¸€ä¸ªå®Œæ•´çš„github pageåšå®¢é¡¹ç›®ã€‚</li>\n<li>åè¯è§£é‡Šï¼š<br>DNSï¼šç½‘åŸŸåç§°ç³»ç»Ÿã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€å¼ åŸŸåå’ŒIPåœ°å€æ˜ å°„çš„æ•°æ®è¡¨ã€‚<br>DNSè§£æï¼šå°±æ˜¯é€šè¿‡æˆ‘ä»¬è¾“å…¥çš„ç½‘å€ï¼ˆåŸŸåï¼‰æŸ¥æ‰¾åˆ°å¯¹åº”çš„ä¸»æœºï¼ˆIPåœ°å€ï¼‰<br>CNAMEé‡å®šå‘ï¼šusername.github.ioå’Œusername.tkæ˜¯ä¸¤ä¸ªåŸŸåï¼Œæ·»åŠ CNAMEæ–‡ä»¶é€‰æ‹©é¦–é€‰åŸŸï¼Œä½¿å…¶æŒ‡å‘åŒä¸€ä¸»æœºã€‚<br><a href=\"http://www.ruanyifeng.com/blog/2016/06/dns.html\">DNSåŸç†&gt;&gt;</a></li>\n</ul>\n<h2 id=\"ç”³è¯·åŸŸå\"><a href=\"#ç”³è¯·åŸŸå\" class=\"headerlink\" title=\"ç”³è¯·åŸŸå\"></a>ç”³è¯·åŸŸå</h2><p>æœ‰å¾ˆå¤šç½‘ç«™éƒ½æœ‰åŸŸåè´­ä¹°æœåŠ¡ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯<a href=\"https://my.freenom.com/domains.php\">Freenom</a>ã€‚å¸¸è§çš„åŸŸåæ³¨å†Œç½‘ç«™è¿˜æœ‰<a href=\"https://wanwang.aliyun.com\">ä¸‡ç½‘</a>ã€<a href=\"https://www.qcloud.com/product/dm?utm_source=pcsem&utm_medium=kwd-328922380&utm_campaign=google&gclid=CLTEuaHvpNECFUYKKgodhYQAFw\">è…¾è®¯äº‘</a>ã€<a href=\"https://sg.godaddy.com/zh/\">GoDaady</a>ï¼ˆç‹—çˆ¹ï¼‰ã€‚<br>æˆ‘é€‰æ‹©Freenomçš„æœ€ä¸»è¦åŸå› å°±æ˜¯ï¼šå…è´¹+é¡¶çº§åŸŸåã€‚å¯¹ï¼Œä½ æ²¡æœ‰å¬é”™å°±æ˜¯å…è´¹çš„é¡¶çº§åŸŸåï¼Œä¸€å¼€å§‹å°±è®¤ä¸ºæ³¨å†ŒåŸŸåè‚¯å®šè¦èŠ±è´¹ä¸å°‘moneydçš„äººæ˜¯ä¸æ˜¯æ„Ÿè§‰èµšåˆ°äº†ğŸ˜‰ã€‚è¿›å…¥è¯¥ç½‘ç«™æ³¨å†ŒæˆåŠŸä¹‹åï¼Œé€‰æ‹©Register a New Domainè¿›è¡ŒåŸŸåç”³è¯·æ£€éªŒã€‚å®ƒå¯ä»¥æä¾›å…è´¹çš„é¡¶çº§åŸŸåæœ‰ï¼štkï¼Œmlï¼Œgaï¼Œcfï¼Œgq</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-fbce92549a18f65a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"01.png\"></p>\n<p>é€‰æ‹©ä½ å–œæ¬¢çš„åŸŸåï¼Œè¿›å…¥é€‰è´­ç•Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-7e7cb240f4d62f4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"02.png\"></p>\n<p>åœ¨Periodé‡Œé¢å¯ä»¥é€‰æ‹©ä½¿ç”¨æ—¶é—´ï¼Œæœ€å¤šæ˜¯ä¸€å¹´çš„å…è´¹ä½¿ç”¨ï¼Œé¡¶çº§åŸŸåè€¶ï¼Œå·²ç»å¾ˆå¤§çš„ä¼˜æƒ äº†ã€‚å½“ç„¶å¦‚æœä½ æ˜¯åœŸè±ªè¿™éƒ½æ— æ‰€è°“äº†ã€‚</p>\n<h2 id=\"ä¸ºç«™ç‚¹æ·»åŠ CNAMEæ–‡ä»¶\"><a href=\"#ä¸ºç«™ç‚¹æ·»åŠ CNAMEæ–‡ä»¶\" class=\"headerlink\" title=\"ä¸ºç«™ç‚¹æ·»åŠ CNAMEæ–‡ä»¶\"></a>ä¸ºç«™ç‚¹æ·»åŠ CNAMEæ–‡ä»¶</h2><p>åœ¨Hexoçš„æœ¬åœ°ç«™ç‚¹é‡Œï¼Œè¿›å…¥sourceæ–‡ä»¶ï¼Œæ–°å»ºæ–‡ä»¶<code>CNAME</code>ï¼Œæ³¨æ„æ²¡æœ‰åç¼€ï¼Œæ‰“å¼€æ–‡ä»¶å¡«å…¥åˆšç”³è¯·çš„åŸŸå</p>\n<blockquote>\n<p>zhangferry.tk</p>\n</blockquote>\n<p>ä¿å­˜ã€‚ç„¶åå‘å¸ƒç«™ç‚¹ï¼Œè¿™æ—¶<code>CNAME</code>æ–‡ä»¶å°±è¢«å‘å¸ƒåˆ°äº†githubä¸Šå¯¹åº”çš„ç«™ç‚¹ä»“åº“ä¸­</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-c8c19312012904eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"03.png\"></p>\n<p>CNAMEæ–‡ä»¶çš„ä½œç”¨ï¼š<br>CNAMEæ˜¯ä¸€ä¸ªåˆ«åè®°å½•ï¼Œå®ƒå…è®¸ä½ å°†å¤šä¸ªåå­—æ˜ å°„åˆ°åŒä¸€å°è®¡ç®—æœºã€‚æ¯”å¦‚åˆšæ‰æ·»åŠ çš„CNAMEæ–‡ä»¶ï¼Œä¼šè¢«githubè‡ªåŠ¨è¯†åˆ«ï¼Œå½“æˆ‘ä»¬è¾“å…¥<code>zhangferry.github.io</code>å’Œè¾“å…¥<code>zhangferry.tk</code>æ—¶ï¼Œå®ƒå°†æŒ‡å‘åŒä¸€ä¸ªipåœ°å€ï¼Œå±•ç¤ºåŒæ ·çš„å†…å®¹ã€‚</p>\n<h2 id=\"åœ¨DNSPODä¸­é…ç½®åŸŸåè§£æ\"><a href=\"#åœ¨DNSPODä¸­é…ç½®åŸŸåè§£æ\" class=\"headerlink\" title=\"åœ¨DNSPODä¸­é…ç½®åŸŸåè§£æ\"></a>åœ¨DNSPODä¸­é…ç½®åŸŸåè§£æ</h2><p>æ³¨å†Œ<a href=\"https://www.dnspod.cn/\">DNSPOS</a>è´¦å·ï¼Œè¿›å…¥ç®¡ç†æ§åˆ¶å°</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-fb90966d0b49e5db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"04.png\"></p>\n<p>ç‚¹å‡»æ·»åŠ åŸŸåï¼Œè¾“å…¥æˆ‘ä»¬åˆšåˆšç”³è¯·çš„åŸŸåã€‚ç¡®å®šä¹‹åå°±æ˜¯è¿›è¡Œæ·»åŠ è®°å½•</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-6ad9908219780e11.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"05.png\"></p>\n<p>æ·»åŠ è®°å½•çš„æ¯ä¸€é¡¹ï¼Œç³»ç»Ÿéƒ½ä¼šæç¤ºä»£è¡¨æ„æ€ï¼Œè¿™é‡Œä¸»è¦è§£é‡Šè®°å½•ç±»å‹</p>\n<ul>\n<li>Aè®°å½•ï¼šåœ°å€è®°å½•ï¼Œç”¨æ¥æŒ‡å®šåŸŸåçš„IPåœ°å€</li>\n<li>CNAMEè®°å½•ï¼šå¦‚æœéœ€è¦å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå†ç”±å¦ä¸€ä¸ªåŸŸåæä¾›IPåœ°å€ï¼Œå°±éœ€è¦æ·»åŠ CNAMEè®°å½•</li>\n<li>NSè®°å½•ï¼šåŸŸåæœåŠ¡å™¨è®°å½•ï¼Œå¦‚æœéœ€è¦æŠŠå­åŸŸåäº¤ç»™å…¶ä»–DNSæœåŠ¡å•†è§£æï¼Œå°±éœ€è¦æ·»åŠ NSè®°å½•</li>\n</ul>\n<p>ä¸Šé¢çš„NSè®°å½•æ˜¯ç³»ç»Ÿé»˜è®¤æ·»åŠ çš„ã€‚</p>\n<p>Aè®°å½•å°±æ˜¯æŒ‡å‘å¯¹åº”IPåœ°å€ï¼Œè¿™é‡Œçš„<code>192.30.252.153</code>å’Œ<code>192.30.252.154</code>æ˜¯githubçš„æœåŠ¡å™¨IPåœ°å€ã€‚<br>CNAMEè®°å½•è¿™é‡Œå¯å¡«å¯ä¸å¡«ï¼Œå› ä¸ºAè®°å½•å·²ç»å°†zhangferry.tkå’Œ<code>zhangferry.github.io</code>çš„åŸŸåç»Ÿä¸€ä¸ºä¸€ä¸ªIPåœ°å€äº†ã€‚æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯ä¸ºäº†æé«˜è®¿é—®é€Ÿåº¦ï¼Œè¦åŒºåˆ†å›½å†…å›½å¤–ä¸åŒç”¨æˆ·ä½¿ç”¨ä¸åŒçš„ç½‘ç«™è¿›è¡Œé‡å®šå‘éœ€è¦æ·»åŠ å¯¹åº”çš„CNAMEè®°å½•ã€‚</p>\n<h2 id=\"ä¿®æ”¹åŸŸåDNS\"><a href=\"#ä¿®æ”¹åŸŸåDNS\" class=\"headerlink\" title=\"ä¿®æ”¹åŸŸåDNS\"></a>ä¿®æ”¹åŸŸåDNS</h2><p>å†å›åˆ°åˆšæ‰çš„åŸŸåç”³è¯·ç½‘ç«™ï¼Œç‚¹Services-&gt;My Domains-&gt;Manage Domain-&gt;Management Tools-&gt;Nameservers</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-d709c85c43e6b271.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"06.png\"></p>\n<p>å°†<code>f1g1ns1.dnspod.net</code>å’Œ<code>f1g1ns2.dnspod.net</code>å¡«å…¥åˆ°Nameserver1å’ŒNameserverä¸­ï¼Œç‚¹å‡»Change Nameserversä¿å­˜æ“ä½œã€‚æ³¨æ„åˆ°åˆšå¡«çš„åŸŸåæœåŠ¡å°±æ˜¯å¯¹åº”NSè®°å½•çš„è®°å½•å€¼ã€‚å®Œæˆä¹‹åç¨ç­‰ç‰‡åˆ»ï¼ŒDNSPodä¼šæœ‰å¦‚ä¸‹æç¤ºï¼Œå¦åˆ™å°±æŒ‰ç…§æç¤ºè¿›è¡Œæ£€éªŒå“ªä¸€æ­¥å‡ºäº†é—®é¢˜ã€‚</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-0cbbb7a554af3145.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"07.png\"></p>\n<h2 id=\"éªŒè¯ç»“æœ\"><a href=\"#éªŒè¯ç»“æœ\" class=\"headerlink\" title=\"éªŒè¯ç»“æœ\"></a>éªŒè¯ç»“æœ</h2><p>ä¹‹åéœ€è¦ç­‰å¾…å…¨çƒé€’å½’DNSæœåŠ¡å™¨åˆ·æ–°ï¼ˆæœ€å¤š72å°æ—¶ï¼‰<br>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š<code>$ dig zhangferry.tk</code>ï¼Œå‡ºç°ä»¥ä¸‹ç»“æœè¯´æ˜é…ç½®æˆåŠŸï¼Œä¸»è¦IPåœ°å€çš„å¯¹åº”ã€‚</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-de44f6a9d62989c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"08.png\"></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><p><a href=\"http://www.isetsuna.com/hexo/domain-dns/\">Hexoåšå®¢ç³»åˆ—ï¼šåŸŸåå’ŒDNS</a><br><a href=\"http://itcoding.tk/2016/06/26/set-up-custom-domain-for-github-pages/\">ä¸ºä½ çš„Github Pagesåšå®¢ç»‘å®šä¸€ä¸ªå…è´¹é¡¶çº§åŸŸåå§\n </a></p>\n","categories":["Hexo"],"tags":["Hexo","åšå®¢"]},{"title":"nRFèŠ¯ç‰‡è®¾å¤‡DFUå‡çº§ï¼ˆé€‚é…Xcode10.2.1ï¼‰","url":"http://zhangferry.github.io/2016/12/28/nRF-DFU-upgrade/","content":"<p><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972de5721a39?w=712&h=262&f=png&s=18797\" alt=\"Nordic.png\"></p>\n<blockquote>\n<p>è¿™é‡Œä¸»è¦å‚è€ƒè¿™ä¸ªé¡¹ç›®ï¼š<a href=\"https://github.com/NordicSemiconductor/IOS-nRF-Toolbox\">iOS-nRF-Toolbox</a>ï¼Œå®ƒæ˜¯Nordicå…¬å¸å¼€å‘çš„æµ‹è¯•å·¥ç¨‹ï¼ŒåŒ…å«ä¸€æ•´å¥—nRFè®¾å¤‡çš„æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<p>é¡¹ç›®æ˜¯ç”¨Swiftå†™çš„ï¼Œä¸è¿‡ä¹‹å‰è¿˜æ˜¯æœ‰OCç‰ˆæœ¬çš„ï¼Œä½†æ˜¯åæ¥ç”±äºä¸€äº›**ï¼ˆä¸å¯æè¿°çš„é—®é¢˜ï¼‰ï¼Œæ‰å˜æˆäº†ç°åœ¨çš„çº¯Swiftç‰ˆæœ¬ã€‚å¯¹äºä½¿ç”¨Swiftå¼€å‘çš„äººå‘˜ï¼Œç›´æ¥ä»¿ç…§Demoæ“ä½œå³å¯ã€‚å¦‚æœä½ æ˜¯ç”¨Swiftå¼€å‘çš„ï¼Œé‚£ä¸‹é¢çš„å†…å®¹ä½ å¯ä»¥ä¸ç”¨çœ‹äº†ã€‚æ¥ä¸‹æ¥æˆ‘å°±è®²ä¸€ä¸‹é’ˆå¯¹OCå¼•ç”¨DFUå‡çº§çš„æ“ä½œæ­¥éª¤å’Œæˆ‘é‡åˆ°çš„é—®é¢˜ã€‚</p>\n<h2 id=\"ä»£ç ç ”ç©¶\"><a href=\"#ä»£ç ç ”ç©¶\" class=\"headerlink\" title=\"ä»£ç ç ”ç©¶\"></a>ä»£ç ç ”ç©¶</h2><p>nRF-Toolboxé¡¹ç›®åŒ…å«BGMï¼ŒHRMï¼ŒHTMï¼ŒDFUç­‰å¤šä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬ä»Šå¤©åªå…³æ³¨å…¶ä¸­çš„DFUå‡çº§æ¨¡å—ã€‚æ‰“å¼€é¡¹ç›®ï¼Œåœ¨å¯¹åº”çš„<code>NORDFUViewController.swift</code>ä¸­æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°æœ‰ä¸‰ä¸ªå¼•ç”¨åº“<br><code>import UIKit</code>,<code>import CoreBluetooth</code>,<code>import iOSDFULibrary</code>ï¼Œè¿™é‡Œçš„<a href=\"https://github.com/NordicSemiconductor/IOS-Pods-DFU-Library\">iOSDFULibrary</a>å°±æ˜¯DFUå‡çº§çš„åº“ï¼Œä¹Ÿæ˜¯è§£å†³DFUå‡çº§æœ€é‡è¦çš„ç»„ä»¶ã€‚æˆ‘ä»¬åªè¦æŠŠè¿™ä¸ªåº“é›†æˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå°±èƒ½å¤Ÿå®ŒæˆnRFè®¾å¤‡çš„DFUå‡çº§äº†ã€‚</p>\n<h2 id=\"é›†æˆæ­¥éª¤\"><a href=\"#é›†æˆæ­¥éª¤\" class=\"headerlink\" title=\"é›†æˆæ­¥éª¤\"></a>é›†æˆæ­¥éª¤</h2><p>æœ‰ä¸¤ç§æ–¹æ¡ˆé›†æˆï¼š</p>\n<ul>\n<li>é€šè¿‡cocoapodsé›†æˆ</li>\n<li>ç¼–è¯‘å‡ºframeworkç„¶åæŠŠåº“å¯¼å…¥é¡¹ç›®</li>\n</ul>\n<p>ç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯ä½œè€…æ¨èçš„ï¼Œä½†æ˜¯æˆ‘è¯•äº†å¾ˆä¹…ï¼Œå¼•å…¥DFULibraryä¼šå‡ºç°å¤´æ–‡ä»¶æ‰¾ä¸åˆ°ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ— å¥ˆåªèƒ½æ”¾å¼ƒï¼Œå¦‚æœæœ‰äººé€šè¿‡è¿™ç§æ–¹å¼æˆåŠŸï¼Œè¿˜æœ›å‘ŠçŸ¥ã€‚ä¸‹é¢è®²çš„æ˜¯é€šè¿‡ç¬¬äºŒç§æ–¹æ¡ˆçš„é›†æˆã€‚</p>\n<p><strong>ç¬¬ä¸€æ­¥ï¼šå¯¼å‡ºiOSDFULibrary</strong></p>\n<p>è¿™ä¸€æ­¥æ˜¯æœ€å…³é”®ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„ï¼Œè¿™ä¸ªåº“ä¹Ÿæ˜¯ç”±Swiftå†™æˆçš„ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªåº“cloneåˆ°æœ¬åœ°ï¼Œç„¶åé€‰æ‹©iOSDFULibraryè¿›è¡Œç¼–è¯‘</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972c0da5d4ef?w=410&h=175&f=png&s=40355\" alt=\"01.png\"></p>\n<p>æœ€åç”Ÿæˆä¸¤ä¸ªframework:</p>\n<ul>\n<li>iOSDFULibrary.framework</li>\n<li>Zip.framework</li>\n</ul>\n<p>è¿™æ—¶åº“å†…çš„ä»£ç å·²ç»å˜æˆäº†æˆ‘ä»¬ç†Ÿæ‚‰çš„OCè¯­è¨€ã€‚ç†è®ºä¸Šè¿™ä¸ªåº“åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„äº†ï¼Œä½†æ˜¯äº‹å®è¿˜æ˜¯æœ‰é—®é¢˜çš„ï¼Œè§<a href=\"https://github.com/NordicSemiconductor/IOS-Pods-DFU-Library/issues/39\">issues#39</a>ã€‚ä½œè€…ç»™å‡ºçš„è§£å†³æ–¹æ³•æ˜¯ï¼š</p>\n<blockquote>\n<p>1ã€On your mac please install carthage (<a href=\"https://github.com/Carthage/Carthage#installing-carthage\">instructions</a>)<br>   2ã€Create a file named cartfile anywhere on your computer<br>   3ã€add the following content to the file:</p>\n</blockquote>\n<blockquote>\n<pre><code>github &quot;NordicSemiconductor/IOS-Pods-DFU-Library&quot; ~&gt; 2.1.2\ngithub &quot;marmelroy/Zip&quot; ~&gt; 0.6</code></pre><p> 1ã€Open a new terminal and cd to the directory where the file is<br> 2ã€Enter the command carthage update â€“platform iOS<br> 3ã€Carthage will now take care of building your frameworks, the produced .framework files will be found in a newly created directory called Carthage/Build/iOS,copy over iOSDFULibrary.framework and Zip.framework to your project and you are good to go.</p>\n</blockquote>\n<p><a href=\"https://github.com/Carthage/Carthage#installing-carthage\">carthage</a>æ˜¯ä¸€ç§å’Œcocoapodsç›¸ä¼¼çš„çš„ç±»åº“ç®¡ç†å·¥å…·ï¼Œå¦‚æœä¸ä¼šä½¿ç”¨çš„è¯å¯ä»¥å‚ç…§Demoï¼Œå°†frameworkæ–‡ä»¶å¯¼å…¥åˆ°è‡ªå·±çš„é¡¹ç›®ã€‚</p>\n<p><strong>ç¬¬äºŒæ­¥ã€å¯¼å…¥framework</strong><br>Target-&gt;General<br><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972c0c8a0efa?w=718&h=283&f=jpeg&s=15809\" alt=\"128F494E-C863-49E7-AC44-A7B53B3EB463.png\"></p>\n<p>ç›´æ¥æ‹–å…¥é¡¹ç›®é»˜è®¤åªä¼šå¯¼å…¥åˆ°<code>Linked Frameworks and Libraries</code>ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨Embeded Binariesä¸­å¼•å…¥ã€‚</p>\n<p><strong>ç¬¬ä¸‰æ­¥ã€ä½¿ç”¨iOSDFULibrary</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;create a DFUFirmware object using a NSURL to a Distribution Packer(ZIP)</span><br><span class=\"line\">DFUFirmware *selectedFirmware &#x3D; [[DFUFirmware alloc] initWithUrlToZipFile:url];&#x2F;&#x2F; or</span><br><span class=\"line\">&#x2F;&#x2F;Use the DFUServiceInitializer to initialize the DFU process.</span><br><span class=\"line\">DFUServiceInitiator *initiator &#x3D; [[DFUServiceInitiator alloc] initWithCentralManager: centralManager target:selectedPeripheral];</span><br><span class=\"line\">[initiator withFirmware:selectedFirmware];</span><br><span class=\"line\">&#x2F;&#x2F; Optional:</span><br><span class=\"line\">&#x2F;&#x2F; initiator.forceDfu &#x3D; YES&#x2F;NO; &#x2F;&#x2F; default NO</span><br><span class=\"line\">&#x2F;&#x2F; initiator.packetReceiptNotificationParameter &#x3D; N; &#x2F;&#x2F; default is 12</span><br><span class=\"line\">initiator.logger &#x3D; self; &#x2F;&#x2F; - to get log info</span><br><span class=\"line\">initiator.delegate &#x3D; self; &#x2F;&#x2F; - to be informed about current state and errors </span><br><span class=\"line\">initiator.progressDelegate &#x3D; self; &#x2F;&#x2F; - to show progress bar</span><br><span class=\"line\">&#x2F;&#x2F; initiator.peripheralSelector &#x3D; ... &#x2F;&#x2F; the default selector is used</span><br><span class=\"line\"></span><br><span class=\"line\">DFUServiceController *controller &#x3D; [initiator start];</span><br></pre></td></tr></table></figure>\n<p>åº“ä¸­æœ‰ä¸‰ä¸ªä»£ç†æ–¹æ³•<code>DFUProgressDelegate</code>ï¼Œ<code>DFUServiceDelegate</code>ï¼Œ<code>LoggerDelegate</code>ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«ä¸ºç›‘è§†DFUå‡çº§è¿›åº¦ï¼ŒDFUå‡çº§åŠè“ç‰™è¿æ¥çŠ¶æ€ï¼Œæ‰“å°çŠ¶æ€æ—¥å¿—ã€‚</p>\n<h2 id=\"å¸¸è§é—®é¢˜\"><a href=\"#å¸¸è§é—®é¢˜\" class=\"headerlink\" title=\"å¸¸è§é—®é¢˜\"></a>å¸¸è§é—®é¢˜</h2><p>1ã€<strong>selectedFirmwareè¿”å›nil</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DFUFirmware *selectedFirmware &#x3D; [[DFUFirmware alloc] initWithUrlToZipFile:url];</span><br></pre></td></tr></table></figure>\n<p>éœ€è¦åœ¨<code>General</code>çš„<code>Embeded Binaries</code>é€‰é¡¹å¡é‡Œå¯¼å…¥é‚£<code>Zip.framework</code>å’Œ<code>iOSDFULibrary.framework</code><br>2ã€<strong>å´©æºƒæŠ¥é”™</strong></p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">dyld:</span> Library <span class=\"keyword\">not</span> <span class=\"symbol\">loaded:</span> @rpath/libswiftCore.dylibReferenced <span class=\"symbol\">from:</span> /private/var/containers/Bundle/Application/<span class=\"number\">02516</span>D79-BB3<span class=\"number\">0</span>-<span class=\"number\">4278</span>-<span class=\"number\">81</span>B8-<span class=\"number\">3</span>F86BF2AE2A7/XingtelBLE.app/Frameworks/iOSDFULibrary.framework/<span class=\"symbol\">iOSDFULibraryReason:</span> image <span class=\"keyword\">not</span> found</span><br></pre></td></tr></table></figure>\n<p>éœ€è¦æ”¹ä¸¤ä¸ªåœ°æ–¹<br><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972c0dc16473?w=1068&h=324&f=png&s=45942\" alt=\"error1.png\"></p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972c0deed50a?w=1148&h=308&f=png&s=46299\" alt=\"erro2.png\"><br>å¦‚æœä¸èµ·ä½œç”¨ï¼Œå°†Runpath Search Pathsçš„é€‰é¡¹å†…å®¹åˆ æ‰å†é‡æ–°æ·»åŠ ä¸€éå³å¯<br>3ã€<strong>æ‰“åŒ…ä¸Šæ¶æ—¶æŠ¥ERROR IT MS-90087ç­‰é—®é¢˜</strong><br>é—®é¢˜æè¿°ï¼š</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR ITMS-<span class=\"number\">90087</span>: <span class=\"string\">\"Unsupported Architectures. The executable for ***.app/Frameworks/SDK.framework contains unsupported architectures '[x86_64, i386]'.\"</span></span><br><span class=\"line\">ERROR ITMS-<span class=\"number\">90362</span>: <span class=\"string\">\"Invalid Info.plist value. The value for the key 'MinimumOSVersion' in bundle ***.app/Frameworks/SDK.framework is invalid. The minimum value is 8.0\"</span></span><br><span class=\"line\">ERROR ITMS-<span class=\"number\">90209</span>: <span class=\"string\">\"Invalid Segment Alignment. The app binary at '***.app/Frameworks/SDK.framework/SDK' does not have proper segment alignment. Try rebuilding the app with the latest Xcode version.\"</span></span><br><span class=\"line\">ERROR ITMS-<span class=\"number\">90125</span>: <span class=\"string\">\"The binary is invalid. The encryption info in the LC_ENCRYPTION_INFO load command is either missing or invalid, or the binary is already encrypted. This binary does not seem to have been built with Apple's linker.\"</span></span><br></pre></td></tr></table></figure>\n<p>è§£å†³æ–¹æ³•ï¼Œæ·»åŠ Run Script Phase</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2019/4/17/16a2972c0dc15f54?w=1220&h=390&f=png&s=70833\" alt=\"error3.png\"><br>Shellè„šæœ¬å†…å®¹å¡«å†™å¦‚ä¸‹å†…å®¹ï¼Œå†æ¬¡ç¼–è¯‘å³å¯</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APP_PATH=\"$&#123;TARGET_BUILD_DIR&#125;/$&#123;WRAPPER_NAME&#125;\"</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> This script loops through the frameworks embedded <span class=\"keyword\">in</span> the application and</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> removes unused architectures.</span></span><br><span class=\"line\">find \"$APP_PATH\" -name '*.framework' -type d | while read -r FRAMEWORK</span><br><span class=\"line\">do</span><br><span class=\"line\">FRAMEWORK_EXECUTABLE_NAME=$(defaults read \"$FRAMEWORK/Info.plist\" CFBundleExecutable)</span><br><span class=\"line\">FRAMEWORK_EXECUTABLE_PATH=\"$FRAMEWORK/$FRAMEWORK_EXECUTABLE_NAME\"</span><br><span class=\"line\">echo \"Executable is $FRAMEWORK_EXECUTABLE_PATH\"</span><br><span class=\"line\"></span><br><span class=\"line\">EXTRACTED_ARCHS=()</span><br><span class=\"line\"></span><br><span class=\"line\">for ARCH in $ARCHS</span><br><span class=\"line\">do</span><br><span class=\"line\">echo \"Extracting $ARCH from $FRAMEWORK_EXECUTABLE_NAME\"</span><br><span class=\"line\">lipo -extract \"$ARCH\" \"$FRAMEWORK_EXECUTABLE_PATH\" -o \"$FRAMEWORK_EXECUTABLE_PATH-$ARCH\"</span><br><span class=\"line\">EXTRACTED_ARCHS+=(\"$FRAMEWORK_EXECUTABLE_PATH-$ARCH\")</span><br><span class=\"line\">done</span><br><span class=\"line\"></span><br><span class=\"line\">echo \"Merging extracted architectures: $&#123;ARCHS&#125;\"</span><br><span class=\"line\">lipo -o \"$FRAMEWORK_EXECUTABLE_PATH-merged\" -create \"$&#123;EXTRACTED_ARCHS[@]&#125;\"</span><br><span class=\"line\">rm \"$&#123;EXTRACTED_ARCHS[@]&#125;\"</span><br><span class=\"line\"></span><br><span class=\"line\">echo \"Replacing original executable with thinned version\"</span><br><span class=\"line\">rm \"$FRAMEWORK_EXECUTABLE_PATH\"</span><br><span class=\"line\">mv \"$FRAMEWORK_EXECUTABLE_PATH-merged\" \"$FRAMEWORK_EXECUTABLE_PATH\"</span><br><span class=\"line\"></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h2 id=\"å®Œæ•´OCé¡¹ç›®\"><a href=\"#å®Œæ•´OCé¡¹ç›®\" class=\"headerlink\" title=\"å®Œæ•´OCé¡¹ç›®\"></a>å®Œæ•´OCé¡¹ç›®</h2><p>è¿™ä¸ªæ˜¯å¯¹åº”Swiftç‰ˆæœ¬ç”¨OCå†™çš„å®Œæ•´é¡¹ç›®ï¼Œåº”è¯¥æ˜¯OCåœæ­¢ç»´æŠ¤ä¹‹å‰çš„ç‰ˆæœ¬ã€‚ä¼šæœ‰ä¸€äº›bugã€‚åœ¨å°†DFUFrameworkæ›´æ–°ä¹‹åï¼Œæˆ‘æŠŠå®ƒæ¬åˆ°äº†æˆ‘çš„githubä¸Šï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥ä¸‹è½½ç ”ç©¶ï¼š<a href=\"https://github.com/zhangferry/nRF-Toolbox\">OC-nRFTool-box</a>ã€‚</p>\n<hr>\n<p>ä»¥ä¸‹ä¸ºæ›´æ–°å†…å®¹ï¼Œæ—¶é—´ï¼š2017.12.26<br>æ”¶åˆ°å¾ˆå¤šå…³äºæ— æ³•é€‚é…Xcode9.2çš„åé¦ˆï¼Œå› ä¸ºæœ€è¿‘æ¯”è¾ƒå¿™æ²¡æ—¶é—´å¤„ç†ï¼Œä¸å¥½æ„æ€å•¦ï¼Œä»Šå¤©æŠ½å‡ºæ—¶é—´æ¥æŠŠä»£ç æ›´æ–°äº†ä¸€ä¸‹ã€‚</p>\n<h2 id=\"Xcode9-2-å‡ºç°çš„é—®é¢˜\"><a href=\"#Xcode9-2-å‡ºç°çš„é—®é¢˜\" class=\"headerlink\" title=\"Xcode9.2 å‡ºç°çš„é—®é¢˜\"></a>Xcode9.2 å‡ºç°çš„é—®é¢˜</h2><blockquote>\n<p>1ã€dyld: Library not loaded: @rpath/libswiftCore.dylib<br>Referenced from: /private/var/containers/Bundle/Application/02516D79-BB30-4278-81B8-3F86BF2AE2A7/XingtelBLE.app/Frameworks/iOSDFULibrary.framework/iOSDFULibrary<br>Reason: image not found<br>2ã€DFUFirmware *selectedFirmware = [[DFUFirmware alloc] initWithUrlToZipFile:url]; è¿”å›ä¸ºç©ºæˆ–è€…å´©æºƒé—®é¢˜</p>\n</blockquote>\n<p>æˆ‘çš„æµ‹è¯•ç»“æœæ˜¯æ›´æ–°iOSDFULibrary. frameworkå’ŒZip.frameworkå¯ä»¥è§£å†³ä»¥ä¸Šé—®é¢˜ã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ-Carthage\"><a href=\"#è§£å†³æ–¹æ¡ˆ-Carthage\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ Carthage\"></a>è§£å†³æ–¹æ¡ˆ Carthage</h2><p>å› ä¸ºè¿™ä¸¤ä¸ªåº“éƒ½æ˜¯é€šè¿‡Swiftç»´æŠ¤çš„ï¼Œæ‰€ä»¥æ›´æ–°frameworkæœ€å¥½è¿˜æ˜¯è¦ç”¨é€‚ç”¨Swiftçš„æ–¹å¼ï¼ŒåŒ…æ‹¬ä»¥åçš„æ›´æ–°ä¹Ÿä¸€æ ·ã€‚æ‰€ä»¥æˆ‘æ¨èç”¨Carthageæ›´æ–°è¿™ä¿©åº“ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨Carthageçš„ç®€å•ä»‹ç»ï¼Œè¯¦ç»†çš„å¯ä»¥çœ‹è¿™é‡Œ<a href=\"https://www.jianshu.com/p/a734be794019\">Carthageçš„å®‰è£…å’Œä½¿ç”¨</a>ã€‚<br>å¦å¤–<a href=\"https://github.com/zhangferry/nRF-Toolbox\">OC-nRFTool-box</a>ä¹Ÿå·²ç»æ›´æ–°ï¼Œé‡Œé¢çš„Frameworkå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ã€‚</p>\n<p>1ã€å®‰è£…brew</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"</span><br></pre></td></tr></table></figure>\n<p>2ã€brewæ›´æ–°</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> brew update</span></span><br></pre></td></tr></table></figure>\n<p>3ã€å®‰è£…Carthage</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> brew install carthage</span></span><br></pre></td></tr></table></figure>\n<p>4ã€ä½¿ç”¨Carthage</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> <span class=\"built_in\">cd</span> ~/è·¯å¾„/é¡¹ç›®æ–‡ä»¶å¤¹ /**è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹*/</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> touch Cartfile /**åˆ›å»ºcarthageæ–‡ä»¶*/</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> open Cartfile /**æ‰“å¼€carthageæ–‡ä»¶*/</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> /**è¾“å…¥ä»¥ä¸‹å†…å®¹*/</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> github <span class=\"string\">\"NordicSemiconductor/IOS-Pods-DFU-Library\"</span> ~&gt; 4.1</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> github <span class=\"string\">\"marmelroy/Zip\"</span> ~&gt; 1.1</span></span><br></pre></td></tr></table></figure>\n<p>5ã€è¿è¡ŒCarthage</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> carthage update --platform iOS /**ç¼–è¯‘å‡ºiOSç‰ˆæœ¬*/</span></span><br></pre></td></tr></table></figure>\n<p>6ã€æ›´æ–°framework</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> <span class=\"built_in\">cd</span> Carthage/Build/iOS  /**frameworkè¾“å‡ºä½ç½®ï¼Œå°†è€çš„frameworkæ›¿æ¢æ‰*/</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„</strong><br>nRF Toolboxé¡¹ç›®æ–¹æ³•å˜æ›´</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[initiator withFirmwareFile:selectedFirmware];<span class=\"comment\">/** æ—§ç‰ˆæœ¬æ–¹æ³• */</span></span><br><span class=\"line\">initiator = [initiator withFirmware:selectedFirmware];<span class=\"comment\">/** æ–°ç‰ˆæœ¬æ–¹æ³• */</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ›´æ–°ï¼š2019-7-14\"><a href=\"#æ›´æ–°ï¼š2019-7-14\" class=\"headerlink\" title=\"æ›´æ–°ï¼š2019-7-14\"></a>æ›´æ–°ï¼š2019-7-14</h2><p>é’ˆå¯¹ä¹‹å‰å¸¸å‡ºçš„è¿™ç§é—®é¢˜ï¼š</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">dyld:</span> Library <span class=\"keyword\">not</span> <span class=\"symbol\">loaded:</span> @rpath/libswiftCore.dylib</span><br><span class=\"line\">Referenced <span class=\"symbol\">from:</span> /private/var/containers/Bundle/Application/CDB2F4ED-C49C-<span class=\"number\">4303</span>-BE1F-<span class=\"number\">5</span>D9D990380F3/nRF Toolbox.app/Frameworks/Zip.framework/Zip</span><br><span class=\"line\"><span class=\"symbol\">Reason:</span> image <span class=\"keyword\">not</span> found</span><br></pre></td></tr></table></figure>\n<p>å‡æ˜¯ç”±Swiftåº“ç‰ˆæœ¬ä¸ä¸€è‡´å¼•èµ·çš„ï¼Œ<code>iOSDFULibrary</code>ç›®å‰å·²ç»æ”¯æŒåˆ°<code>Swift 5</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å‡çº§ä¸€ä¸‹ç‰ˆæœ¬ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘å°†<code>Carthage</code>é›†æˆåˆ°äº†é¡¹ç›®é‡Œï¼Œå¦‚æœä»¥åéœ€è¦å†å‡çº§ï¼Œæ›´æ–°Cartfileæ–‡ä»¶é‡Œçš„ç‰ˆæœ¬å·ï¼Œæ‰§è¡Œæ›´æ–°å‘½ä»¤ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ carthage update --platform iOS</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ æƒ³è¦å°†DFUçš„frameworké›†æˆåˆ°ä½ è‡ªå·±çš„é¡¹ç›®é‡Œï¼Œå¯ä»¥åœ¨<code>Carthage/Build/iOS/</code>ä¸­æ‰¾åˆ°<code>iOSDFULibrary.framework</code>, <code>ZIPFoundation.framework</code> å°†å…¶æ‹–åˆ°é¡¹ç›®ä¸­å³å¯ã€‚</p>\n<h3 id=\"ä¸Šçº¿æ³¨æ„äº‹é¡¹ï¼ˆç”±-jianxiong1997æä¾›ï¼‰\"><a href=\"#ä¸Šçº¿æ³¨æ„äº‹é¡¹ï¼ˆç”±-jianxiong1997æä¾›ï¼‰\" class=\"headerlink\" title=\"ä¸Šçº¿æ³¨æ„äº‹é¡¹ï¼ˆç”±@jianxiong1997æä¾›ï¼‰\"></a>ä¸Šçº¿æ³¨æ„äº‹é¡¹ï¼ˆç”±@jianxiong1997æä¾›ï¼‰</h3><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/9fd65f10e4416cff5fe61ea9cf1ca4f0.jpg\" alt=\"\"><br>éœ€è¦åˆ é™¤<code>ZIPFoundation.framework</code>ä¸­çš„</p>\n<ul>\n<li>libswiftRemoteMirror.dylib</li>\n<li>Frameworks</li>\n</ul>\n<p><a href=\"https://github.com/zhangferry/nRF-Toolbox\">github</a>é¡¹ç›®åŒæ­¥æ›´æ–°ã€‚</p>\n","categories":["è“ç‰™æ€»ç»“"],"tags":["è“ç‰™","DFU"]},{"title":"åŸºäºHexoæ­å»ºè‡ªå·±çš„åšå®¢å°å±‹","url":"http://zhangferry.github.io/2016/12/20/build-blog-by-hexo/","content":"<blockquote>\n<p>ä½œä¸ºä¸€åæŠ€æœ¯äººå‘˜æ²¡æœ‰å±äºè‡ªå·±çš„åšå®¢ï¼Œå°±åƒæ˜¯å–œæ¬¢LOLçš„ç©å®¶å´æ²¡æœ‰ä¸€æ¬¾ç‚«é…·çš„çš®è‚¤ä¸€æ ·ï¼Œè¿™ä¸å«çœŸçˆ±ã€‚è™½ç„¶ç°åœ¨æ˜¯å¾®åšçš„æ—¶ä»£ï¼Œè®²ç©¶æ–¹ä¾¿é˜…è¯»ï¼Œæ˜“ä¼ æ’­ï¼Œä½†æ˜¯å¯¹äºåšå®¢æ¥è¯´ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯åšå®¢ï¼Œä¸“ä¸šæ€§æ°¸è¿œéƒ½æ˜¯ç¬¬ä¸€ä½çš„ã€‚æˆ‘ä»¬éœ€è¦ç”¨å¤§å¤§çš„ç¯‡å¹…å»é˜è¿°è‡ªå·±å¯¹æŠ€æœ¯çš„ç†è§£å¹¶å°†å…¶åˆ†äº«ç»™å…¶ä»–äººï¼Œæ‰€ä»¥æ— è®ºç¤¾äº¤è½¯ä»¶å¦‚ä½•å‘å±•ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åšå®¢ã€‚ä¸‹é¢å°±è·Ÿç€æˆ‘ä¸€å—æ­å»ºå±äºè‡ªå·±çš„åšå®¢å°å±‹å§ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"æ­å»ºç¯å¢ƒ\"><a href=\"#æ­å»ºç¯å¢ƒ\" class=\"headerlink\" title=\"æ­å»ºç¯å¢ƒ\"></a>æ­å»ºç¯å¢ƒ</h2><p>å·²ç»å®‰è£…Gitçš„Macç”µè„‘ï¼Œè¿™ä¸ªé»˜è®¤éƒ½èƒ½æ»¡è¶³ï¼Œæ‰€ä»¥å°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚</p>\n<h2 id=\"åˆ›å»ºgithub-page\"><a href=\"#åˆ›å»ºgithub-page\" class=\"headerlink\" title=\"åˆ›å»ºgithub page\"></a>åˆ›å»ºgithub page</h2><p>é¦–å…ˆæ³¨å†Œ<a href=\"https://github.com\">github</a>è´¦å·ï¼Œç„¶ååœ¨repositoryé€‰é¡¹å¡é‡ŒNewä¸€ä¸ªæ–°çš„ä»“åº“æ¥å­˜å‚¨æˆ‘ä»¬çš„ç½‘ç«™</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-7ea5a5bdf68d6170.png\" alt=\"01.png\"></p>\n<p>ç„¶åå‘½åä¸ºusername.github.ioã€‚</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-6fe4e7bfeaeecca3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"02.png\"></p>\n<h2 id=\"å®‰è£…Hexo\"><a href=\"#å®‰è£…Hexo\" class=\"headerlink\" title=\"å®‰è£…Hexo\"></a>å®‰è£…Hexo</h2><p>åœ¨å®‰è£…Hexoä¹‹å‰æˆ‘ä»¬éœ€è¦å®‰è£…nvmå’ŒNode.jsã€‚</p>\n<ul>\n<li>Hexoæ˜¯ç›®å‰å¾ˆæµè¡Œçš„åšå®¢ç®¡ç†æ¡†æ¶ï¼ŒåŸºäºNode.js</li>\n<li>nvmæ˜¯Node.jsçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·</li>\n<li>è€ŒNode.jsæ˜¯ä¸€ä¸ªåŸºäº <a href=\"https://developers.google.com/v8/\">Chrome V8</a> å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆã€‚</li>\n</ul>\n<p>ä¸å¤ªç†è§£å’Œæƒ³è¦æ·±å…¥äº†è§£å„è½¯ä»¶ä½œç”¨çš„åŒå­¦å¯ä»¥è‡ªè¡Œgoogleï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å®‰è£…è¿™äº›ä¸œè¥¿ï¼ˆç¡®å®æŒºå¤šçš„ï¼‰ã€‚</p>\n<p>1ã€<strong>é€šè¿‡curlæ–¹å¼å®‰è£…nodeç‰ˆæœ¬ç®¡ç†å·¥å…·nvm</strong></p>\n<pre><code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.30.2/install.sh | bash</code></pre><p>å…¶ä»–æ–¹å¼çš„å®‰è£…å¯ä»¥è‡ªè¡Œgoogleã€‚</p>\n<p>2ã€<strong>é…ç½®ç¯å¢ƒå˜é‡</strong><br>å®Œæˆä¹‹ånvmå°±è¢«å®‰è£…åœ¨äº†<code>~/.nvm</code>ä¸‹ï¼Œæ¥ä¸‹æ¥é…ç½®ç¯å¢ƒå˜é‡<br>åœ¨<code>~/</code>ç›®å½•ä¸‹çœ‹æ˜¯å¦æœ‰<code>.zshrc</code>,<code>.bash_profile</code>,æˆ–è€…<code>.profile</code>,å¦‚æœæ²¡æœ‰å°±æ–°å»ºä¸€ä¸ª<code>.profile</code>æ–‡ä»¶ã€‚<br>æ³¨æ„ï¼š<code>.</code>å¼€å¤´çš„æ–‡ä»¶æ˜¯éšè—æ–‡ä»¶ï¼Œåœ¨ç»ˆç«¯æŸ¥çœ‹çš„æ—¶å€™ä½¿ç”¨å‘½ä»¤<code>ls -a</code>,ç„¶åæ‰“å¼€å¯¹åº”çš„é…ç½®æ–‡ä»¶åœ¨æœ€åä¸€è¡ŒåŠ ä¸Šï¼š</p>\n<pre><code>export NVM_DIR=&quot;$HOME/.nvm&quot;\n[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot; # This loads nvm</code></pre><p>è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯æ¯æ¬¡æ–°æ‰“å¼€ä¸€ä¸ªbashï¼Œnvméƒ½ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚<br>3ã€<strong>éªŒè¯nvmå®‰è£…</strong><br>åœ¨å‘½ä»¤è¡Œè¾“å…¥<code>nvm</code>çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>\n<pre><code>Node Version Manager\n\nNote: &lt;version&gt; refers to any version-like string nvm understands. This includes:\n- full or partial version numbers, starting with an optional &quot;v&quot; (0.10, v0.1.2, v1)\n- default (built-in) aliases: node, stable, unstable, iojs, system\n- custom aliases you define with `nvm alias foo`\n\nUsage:\nnvm help                                  Show this message\nnvm --version                             Print out the latest released version of nvm\nnvm install [-s] &lt;version&gt;                Download and install a &lt;version&gt;, [-s] from source. Uses .nvmrc if available\n--reinstall-packages-from=&lt;version&gt;     When installing, reinstall packages installed in &lt;node|iojs|node version number&gt;\nnvm uninstall &lt;version&gt;                   Uninstall a version\nnvm use [--silent] &lt;version&gt;              Modify PATH to use &lt;version&gt;. Uses .nvmrc if available\nnvm exec [--silent] &lt;version&gt; [&lt;command&gt;] Run &lt;command&gt; on &lt;version&gt;. Uses .nvmrc if available\nnvm run [--silent] &lt;version&gt; [&lt;args&gt;]     Run `node` on &lt;version&gt; with &lt;args&gt; as arguments. Uses .nvmrc if available\nnvm current                               Display currently activated version\nnvm ls                                    List installed versions\nnvm ls &lt;version&gt;                          List versions matching a given description\n(usually `~/.nvm`)</code></pre><p>é‚£ä¹ˆæ­å–œä½ ï¼nvmå®‰è£…æˆåŠŸäº†ã€‚è¿™ä¸€æ­¥åœ¨æˆ‘çœ‹æ¥æ˜¯æœ€å®¹æ˜“å‡ºé”™çš„ã€‚</p>\n<p>4ã€<strong>å®‰è£…node.js</strong><br>å¦‚æœä¸Šé¢çš„æ­¥éª¤å®Œæˆäº†ï¼Œnode.jsçš„å®‰è£…å°±ç®€å•å¤šäº†ï¼Œç›´æ¥ï¼š</p>\n<pre><code>nvm install node</code></pre><p>è¿™ä¸ªæŒ‡ä»¤æ˜¯å®‰è£…æœ€æ–°ç‰ˆnode<br>å®‰è£…æˆåŠŸåå¯ä»¥ä½¿ç”¨nvm lsæŸ¥çœ‹å½“å‰nodeç‰ˆæœ¬å·</p>\n<p>5ã€<strong>å®‰è£…Hexo</strong><br>å®‰è£…Hexoä¹Ÿæ¯”è¾ƒç®€å•</p>\n<pre><code>sudo npm install hexo-cli -g</code></pre><h2 id=\"é…ç½®Hexoç«™ç‚¹\"><a href=\"#é…ç½®Hexoç«™ç‚¹\" class=\"headerlink\" title=\"é…ç½®Hexoç«™ç‚¹\"></a>é…ç½®Hexoç«™ç‚¹</h2><p>å®Œæˆæ‰€éœ€ç»„å»ºçš„å®‰è£…ï¼Œæ¥ä¸‹æ¥å°±è¦å»ºç«‹æœ¬åœ°ç«™ç‚¹ï¼Œé…ç½®ç«™ç‚¹äº†ã€‚</p>\n<p>1ã€<strong>æœ¬åœ°æ–°å»ºåšå®¢ç›®å½•</strong><br>ç›®å½•å¯ä»¥è‡ªç”±é€‰æ‹©ï¼Œæˆ‘é€‰æ‹©åœ¨ä¸»ç›®å½•ä¸‹ï¼š</p>\n<pre><code>~$ mkdir username.github.io\n~$ cd username.github.io\n~$ hexo init username.github.io</code></pre><p>2ã€<strong>é…ç½®ç«™ç‚¹</strong></p>\n<p>åœ¨ç«™ç‚¹ä¸‹æœ‰ä¸€ä¸ª<code>_config.yml</code>ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›å¯¹åšå®¢çš„é…ç½®</p>\n<pre><code>language: en #è¯­è¨€è®¾ç½®\ntheme: next #ä¸»é¢˜è®¾ç½®ï¼Œå› ä¸ºä¸‹é¢å°†ä½¿ç”¨nextä¸»é¢˜\ndeploy:\ntype: git\nrepo: https://github.com/username/username.github.io.git</code></pre><p>è¿™é‡Œçš„repoå°±æ˜¯æˆ‘ä»¬æ–°å»ºä»“åº“çš„gitåœ°å€ï¼Œä¹‹åå‘å¸ƒçš„æ—¶å€™å°±ä¼šå°†å†…å®¹å‘å¸ƒåˆ°è¿™ä¸ªåœ°å€ä¸‹ã€‚æ›´å¤šè®¾ç½®å¯ä»¥æŸ¥çœ‹<a href=\"https://hexo.io/zh-cn/docs/configuration.html\">æ›´å¤šHexoé…ç½®</a></p>\n<p>3ã€<strong>é…ç½®ä¸»é¢˜</strong></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-14d7e7cf2fecebda.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"03.png\"></p>\n<p>æˆ‘ä½¿ç”¨çš„æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ä¸€æ¬¾Hexoä¸»é¢˜<a href=\"http://theme-next.iissnan.com/\">Next</a>ä½¿ç”¨å®ƒçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŠŠå®ƒcloneåˆ°æœ¬åœ°</p>\n<pre><code>$ cd username.github.io\n$ git clone https://github.com/iissnan/hexo-theme-next themes/next</code></pre><p>åœ¨themeæ–‡ä»¶å¤¹å†…ä¹Ÿæœ‰ä¸€ä¸ª<code>_config.yml</code>æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯ç”¨æ¥é…ç½®ä¸»é¢˜çš„ï¼Œ<a href=\"http://theme-next.iissnan.com/theme-settings.html\">è¯¦ç»†è®¾ç½®</a></p>\n<h2 id=\"æ–°å»ºã€å‘å¸ƒåšå®¢\"><a href=\"#æ–°å»ºã€å‘å¸ƒåšå®¢\" class=\"headerlink\" title=\"æ–°å»ºã€å‘å¸ƒåšå®¢\"></a>æ–°å»ºã€å‘å¸ƒåšå®¢</h2><p>ç»è¿‡ä¸Šé¢çš„åŠªåŠ›ç»ˆäºå¯ä»¥å¼€å¿ƒçš„å†™åšå®¢äº†ï¼ŒHexoåšå®¢æ˜¯åŸºäºMarkdownæ ¼å¼ç¼–è¯‘çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å¸¸ç”¨çš„Markdownè¯­æ³•ï¼Œä¸äº†è§£Markdownçš„å¯ä»¥ç‚¹è¿™é‡Œå‚è€ƒ<a href=\"https://segmentfault.com/markdown#articleHeader15\">Markdown</a>ï¼Œä»¥ä¸‹å‘½ä»¤å‡åœ¨åšå®¢ç«™ç‚¹ç›®å½•æ“ä½œ</p>\n<p>1ã€<strong>æ–°å»º</strong></p>\n<pre><code>hexo new &quot;my blog&quot;</code></pre><p>æ–‡ä»¶ç”Ÿæˆåœ¨<code>username/source/_posts/my-blog.md</code>ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œåˆ©ç”¨markdownè¯­æ³•å°†å†…å®¹å†™åˆ°é‡Œé¢ã€‚</p>\n<p>2ã€<strong>ç¼–è¯‘</strong></p>\n<pre><code>hexo generate //å¯ä»¥ç®€å†™ä¸ºhexo g</code></pre><p>è¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯å°†åˆšæ‰çš„markdownè¯­æ³•çš„åšå®¢å†…å®¹ç¼–è¯‘æˆhtmlè¯­è¨€ã€‚ç¼–è¯‘ä¹‹åç”Ÿæˆ<code>public</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾çš„æ˜¯ç”Ÿæˆçš„htmlæ–‡ä»¶ã€‚ä¹‹ååŒæ­¥åˆ°githubä¸Šçš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹ã€‚</p>\n<p>3ã€** å¼€å¯æœ¬åœ°æœåŠ¡**</p>\n<pre><code>hexo server //å¯ä»¥ç®€å†™hexo s</code></pre><p>è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯å¼€å¯æœ¬åœ°æœåŠ¡ã€‚ä¹‹åä¼šæœ‰ä¸‹é¢ä¸¤æ¡è¯­å¥ç”Ÿæˆ</p>\n<pre><code>INFO  Start processing\nINFO  Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.</code></pre><p>æˆ‘ä»¬å°±å¯ä»¥è®¿é—® <a href=\"http://localhos:4000/\">http://localhos:4000/</a>é¢„è§ˆåšå®¢å†…å®¹äº†ã€‚</p>\n<p>4ã€<strong>éƒ¨ç½²</strong></p>\n<pre><code>hexo deploy //å¯ä»¥ç®€å†™ä¸º hexo d</code></pre><p>éƒ¨ç½²çš„ä½œç”¨å°±æ˜¯å°†åšå®¢å†…å®¹å‘å¸ƒåˆ°ç½‘ç»œã€‚æ‰§è¡Œå®Œæˆä¹‹åæˆ‘ä»¬å°±å¯ä»¥è®¿é—®<a href=\"http://username.github.io\">http://username.github.io</a>äº†ï¼Œå½“ä½ èƒ½å¤Ÿçœ‹åˆ°è‡ªå·±å†™çš„å†…å®¹å‘ˆç°åœ¨è‡ªå·±çœ¼å‰çš„æ—¶å€™æœ‰æ²¡æœ‰å¾ˆæ¿€åŠ¨å‘¢ã€‚å“ˆå“ˆ</p>\n<p>5ã€<strong>æ¸…æ¥špublicå†…å®¹</strong></p>\n<pre><code>hexo clean </code></pre><p>è¿™ä¸ªå‘½ä»¤ç”¨åœ¨å½“æˆ‘ä»¬æ›´æ”¹sourceå†…éƒ¨çš„èµ„æºè·¯å¾„ä¹‹åï¼Œæ‰§è¡Œæ­¤å‘½ä»¤å¯ä»¥é‡æ–°ç¼–è¯‘ç”Ÿæˆpublicæ–‡ä»¶å¤¹ã€‚</p>\n<hr>\n<p>å¥½äº†ï¼Œè®²è§£åˆ°æ­¤ç»“æŸï¼Œä¸‹ä¸€ç¯‡è®²è§£å¦‚ä½•å‘å¸ƒåšå®¢åˆ°æŒ‡å®šåŸŸåã€‚è¿™ä¸ªæ˜¯æˆ‘çš„åšå®¢<a href=\"http://zhangferry.tk\">http://zhangferry.tk</a>ï¼Œæ¬¢è¿è®¿é—®</p>\n","categories":["Hexo"],"tags":["Hexo","åšå®¢"]},{"title":"iOSè“ç‰™ä¸­çš„è¿›åˆ¶è½¬æ¢","url":"http://zhangferry.github.io/2016/12/12/bluetooth-number-transform/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-e8b76e6d8dcb9416.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Bluetooth4.0.jpg\"><br>æœ€è¿‘åœ¨å¿™ä¸€ä¸ªè“ç‰™é¡¹ç›®ï¼Œåœ¨å¤„ç†è“ç‰™æ•°æ®çš„æ—¶å€™ï¼Œç»å¸¸é‡åˆ°è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼Œè“ç‰™å¤„ç†çš„æ˜¯16è¿›åˆ¶ï¼ˆNSDataï¼‰ï¼Œè€Œæˆ‘ä»¬ä¹ æƒ¯çš„è®¡æ•°æ–¹å¼æ˜¯10è¿›åˆ¶ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œè“ç‰™ä¹Ÿä¼šæŠŠ16è¿›åˆ¶ï¼ˆNSDataï¼‰æ‹†æˆ2è¿›åˆ¶è®°å½•ã€‚è¿™é‡Œæˆ‘ä»¬ç ”ç©¶ä¸‹å¦‚ä½•åœ¨ä»–ä»¬ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚</p>\n<a id=\"more\"></a>\n<p><strong>å‡è®¾æˆ‘ä»¬è¦å‘è“ç‰™å‘é€0x1B9901è¿™æ¡æ•°æ®</strong></p>\n<h2 id=\"Byteè½¬NSData\"><a href=\"#Byteè½¬NSData\" class=\"headerlink\" title=\"Byteè½¬NSData\"></a>Byteè½¬NSData</h2><pre><code>Byte value[3]={0};\nvalue[0]=0x1B;\nvalue[1]=0x99;\nvalue[2]=0x01;\nNSData * data = [NSData dataWithBytes:&amp;value length:sizeof(value)];\n//å‘é€æ•°æ®\n[self.peripheral writeValue:data forCharacteristic:self.write type:CBCharacteristicWriteWithoutResponse];</code></pre><ul>\n<li><p>ä¼˜ç‚¹ï¼šè¿™ç§æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰è¿›è¡Œè½¬æ¢ï¼Œç›´æ¥ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„æ‹¼è£…å¥½å‘é€å‡ºå»ã€‚</p>\n</li>\n<li><p>ç¼ºç‚¹ï¼šå½“å‘é€æ•°æ®æ¯”è¾ƒé•¿æ—¶ä¼šå¾ˆéº»çƒ¦ï¼Œè€Œä¸”ä¸æ˜“æ›´æ”¹ã€‚</p>\n</li>\n</ul>\n<h2 id=\"NSStringè½¬NSData\"><a href=\"#NSStringè½¬NSData\" class=\"headerlink\" title=\"NSStringè½¬NSData\"></a>NSStringè½¬NSData</h2><pre><code>- (NSData *)hexToBytes:(NSString *)str\n{\n    NSMutableData* data = [NSMutableData data];\n    int idx;\n    for (idx = 0; idx+2 &lt;= str.length; idx+=2) {\n        NSRange range = NSMakeRange(idx, 2);\n        NSString* hexStr = [str substringWithRange:range];\n        NSScanner* scanner = [NSScanner scannerWithString:hexStr];\n        unsigned int intValue;\n        [scanner scanHexInt:&amp;intValue];\n        [data appendBytes:&amp;intValue length:1];\n    }\n    return data;\n}\n//å‘é€æ•°æ®\n[self.peripheral writeValue:[self hexToBytes:@&quot;1B9901&quot;] forCharacteristic:self.write type:CBCharacteristicWriteWithoutResponse];</code></pre><ul>\n<li>ä¼˜ç‚¹ï¼šæ¯”è¾ƒç›´è§‚ï¼Œå¯ä»¥ä¸€æ¬¡è½¬æ¢ä¸€é•¿æ¡æ•°æ®ï¼Œå¯¹äºä¸€äº›åŠŸèƒ½ç®€å•çš„è“ç‰™ç¨‹åºï¼Œè¿™ç§è½¬æ¢èƒ½å¤„ç†å¤§éƒ¨åˆ†æƒ…å†µã€‚</li>\n<li>ç¼ºç‚¹ï¼šåªèƒ½å‘é€ä¸€äº›å›ºå®šçš„æŒ‡ä»¤ï¼Œä¸èƒ½å‚ä¸è®¡ç®—ã€‚</li>\n</ul>\n<hr>\n<h2 id=\"æ±‚æ ¡éªŒå’Œ\"><a href=\"#æ±‚æ ¡éªŒå’Œ\" class=\"headerlink\" title=\"æ±‚æ ¡éªŒå’Œ\"></a>æ±‚æ ¡éªŒå’Œ</h2><p>æ¥ä¸‹æ¥æ¢è®¨ä¸‹å‘é€çš„æ•°æ®éœ€è¦è®¡ç®—çš„æƒ…å†µã€‚<br>æœ€å¸¸ç”¨çš„å‘é€æ•°æ®éœ€è¦è®¡ç®—çš„åœºæ™¯æ˜¯æ±‚<strong>æ ¡éªŒå’Œï¼ˆCHECKSUMï¼‰</strong>ã€‚è¿™ä¸ªæ ¹æ®ç¡¬ä»¶å‚å•†æ¥å®šï¼Œå¸¸è§çš„æ±‚æ ¡éªŒå’Œçš„è§„åˆ™æœ‰ï¼š</p>\n<ul>\n<li>å¦‚æœå‘é€æ•°æ®é•¿åº¦ä¸ºnå­—èŠ‚ï¼Œåˆ™CHECKSUMä¸ºå‰n-1å­—èŠ‚ä¹‹å’Œçš„ä½å­—èŠ‚</li>\n<li>CHECKSUM=0x100-CHECKSUMï¼ˆä¸Šä¸€æ­¥çš„æ ¡éªŒå’Œï¼‰</li>\n</ul>\n<p>å¦‚æœæˆ‘è¦å‘é€å¸¦ä¸Šæ ¡éªŒå’Œçš„0x1B9901ï¼Œæ–¹æ³•å°±æ˜¯ï¼š<br>    - (NSData *)getCheckSum:(NSString *)byteStr{<br>        int length = (int)byteStr.length/2;<br>        NSData *data = [self hexToBytes:byteStr];<br>        Byte *bytes = (unsigned char *)[data bytes];<br>        Byte sum = 0;<br>        for (int i = 0; i&lt;length; i++) {<br>            sum += bytes[i];<br>        }<br>        int sumT = sum;<br>        int at = 256 -  sumT;</p>\n<pre><code>    printf(&quot;æ ¡éªŒå’Œï¼š%d\\n&quot;,at);\n    if (at == 256) {\n        at = 0;\n    }\n    NSString *str = [NSString stringWithFormat:@&quot;%@%@&quot;,byteStr,[self ToHex:at]];\n    return [self hexToBytes:str];\n}\n\n//å°†åè¿›åˆ¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶\n- (NSString *)ToHex:(int)tmpid\n{\n    NSString *nLetterValue;\n    NSString *str =@&quot;&quot;;\n    int ttmpig;\n    for (int i = 0; i&lt;9; i++) {\n        ttmpig=tmpid%16;\n        tmpid=tmpid/16;\n        switch (ttmpig)\n        {\n            case 10:\n                nLetterValue =@&quot;A&quot;;break;\n            case 11:\n                nLetterValue =@&quot;B&quot;;break;\n            case 12:\n                nLetterValue =@&quot;C&quot;;break;\n            case 13:\n                nLetterValue =@&quot;D&quot;;break;\n            case 14:\n                nLetterValue =@&quot;E&quot;;break;\n            case 15:\n                nLetterValue =@&quot;F&quot;;break;\n            default:\n                nLetterValue = [NSString stringWithFormat:@&quot;%u&quot;,ttmpig];\n\n        }\n        str = [nLetterValue stringByAppendingString:str];\n        if (tmpid == 0) {\n            break;\n        }\n    }\n//ä¸å¤Ÿä¸€ä¸ªå­—èŠ‚å‡‘0\n    if(str.length == 1){\n        return [NSString stringWithFormat:@&quot;0%@&quot;,str];\n    }else{\n        return str;\n    }\n}\n//å‘é€æ•°æ®\nNSData *data = [self getCheckSum:@&quot;1B9901&quot;];//data=&lt;1b99014b&gt;\n[self.peripheral writeValue:data forCharacteristic:self.write type:CBCharacteristicWriteWithoutResponse];</code></pre><h2 id=\"æ‹†åˆ†æ•°æ®\"><a href=\"#æ‹†åˆ†æ•°æ®\" class=\"headerlink\" title=\"æ‹†åˆ†æ•°æ®\"></a>æ‹†åˆ†æ•°æ®</h2><p>è¿™ç§æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä¸¾ä¸ªæ —å­ï¼šåœ¨ä¼ è¾“æŸæ¡ä¿¡æ¯æ—¶ï¼Œæˆ‘æƒ³æŠŠæ—¶é—´æ”¾è¿›å»ï¼Œä¸èƒ½ç”¨æ—¶é—´æˆ³ï¼Œè¿˜è¦èŠ‚çœç©ºé—´ï¼Œè¿™æ ·å°±å‡ºç°äº†ä¸€ç§æ–°çš„æ–¹å¼å­˜å‚¨æ—¶é—´ã€‚<br>è¿™é‡Œå†è¡¥å……ä¸€äº›Cè¯­è¨€çŸ¥è¯†ï¼š</p>\n<ul>\n<li>ä¸€ä¸ªå­—èŠ‚8ä½ï¼ˆbitï¼‰</li>\n<li>char 1å­—èŠ‚ int 4å­—èŠ‚ unsigned 2å­—èŠ‚ float 4å­—èŠ‚</li>\n</ul>\n<p>å­˜å‚¨æ—¶é—´çš„æ¡ä»¶æ˜¯ï¼š</p>\n<ul>\n<li>åªç”¨å››ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰</li>\n<li>å‰5ä½è¡¨ç¤ºå¹´ï¼ˆä»2000å¹´ç®—èµ·ï¼‰ï¼Œæ¥ç€4ä½è¡¨ç¤ºæœˆï¼Œæ¥ç€5ä½è¡¨ç¤ºæ—¥ï¼Œæ¥ç€5ä½è¡¨ç¤ºæ—¶ï¼Œæ¥ç€6ä½è¡¨ç¤ºåˆ†ï¼Œæ¥ç€3ä½è¡¨ç¤ºæ˜ŸæœŸï¼Œå‰©ä½™4ä½ä¿ç•™ã€‚</li>\n</ul>\n<p>è¿™æ ·ç›´è§‚çš„è§£å†³åŠæ³•å°±æ˜¯åˆ†åˆ«å–å‡ºç°åœ¨æ—¶é—´çš„å¹´æœˆæ—¥æ—¶åˆ†æ˜ŸæœŸï¼Œå…ˆè½¬æˆ2è¿›åˆ¶ï¼Œå†è½¬æˆ16è¿›åˆ¶å‘å‡ºå»ã€‚å½“ç„¶ä½ è¿™ä¹ˆå†™è¿›å»ï¼Œè¯»çš„æ—¶å€™å°±è¦æŠŠ16è¿›åˆ¶æ•°æ®å…ˆè½¬æˆ2è¿›åˆ¶å†è½¬æˆ10è¿›åˆ¶æ˜¾ç¤ºã€‚æˆ‘ä»¬å°±æŒ‰è¿™ä¸ªç®€å•ç²—æš´çš„æ€è·¯æ¥ï¼Œå‡†å¤‡å·¥ä½œå¦‚ä¸‹ï¼š</p>\n<h3 id=\"10è¿›åˆ¶è½¬2è¿›åˆ¶\"><a href=\"#10è¿›åˆ¶è½¬2è¿›åˆ¶\" class=\"headerlink\" title=\"10è¿›åˆ¶è½¬2è¿›åˆ¶\"></a>10è¿›åˆ¶è½¬2è¿›åˆ¶</h3><pre><code>//  åè¿›åˆ¶è½¬äºŒè¿›åˆ¶\n- (NSString *)toBinarySystemWithDecimalSystem:(int)num length:(int)length\n{\n    int remainder = 0;      //ä½™æ•°\n    int divisor = 0;        //é™¤æ•°\n\n    NSString * prepare = @&quot;&quot;;\n\n    while (true)\n    {\n        remainder = num%2;\n        divisor = num/2;\n        num = divisor;\n        prepare = [prepare stringByAppendingFormat:@&quot;%d&quot;,remainder];\n\n        if (divisor == 0)\n        {\n            break;\n        }\n    }\n    //å€’åºè¾“å‡º\n    NSString * result = @&quot;&quot;;\n    for (int i = length -1; i &gt;= 0; i --)\n    {\n        if (i &lt;= prepare.length - 1) {\n            result = [result stringByAppendingFormat:@&quot;%@&quot;,\n                      [prepare substringWithRange:NSMakeRange(i , 1)]];\n\n        }else{\n            result = [result stringByAppendingString:@&quot;0&quot;];\n\n        }\n    }\n    return result;\n}\n### 2è¿›åˆ¶è½¬10è¿›åˆ¶\n//  äºŒè¿›åˆ¶è½¬åè¿›åˆ¶\n- (NSString *)toDecimalWithBinary:(NSString *)binary\n{\n    int ll = 0 ;\n    int  temp = 0 ;\n    for (int i = 0; i &lt; binary.length; i ++)\n    {\n        temp = [[binary substringWithRange:NSMakeRange(i, 1)] intValue];\n        temp = temp * powf(2, binary.length - i - 1);\n        ll += temp;\n    }\n\n    NSString * result = [NSString stringWithFormat:@&quot;%d&quot;,ll];\n\n    return result;\n}\n### 16è¿›åˆ¶å’Œ2è¿›åˆ¶äº’è½¬\n- (NSString *)getBinaryByhex:(NSString *)hex binary:(NSString *)binary\n{\n    NSMutableDictionary  *hexDic = [[NSMutableDictionary alloc] init];\n    hexDic = [[NSMutableDictionary alloc] initWithCapacity:16];\n    [hexDic setObject:@&quot;0000&quot; forKey:@&quot;0&quot;];\n    [hexDic setObject:@&quot;0001&quot; forKey:@&quot;1&quot;];\n    [hexDic setObject:@&quot;0010&quot; forKey:@&quot;2&quot;];\n    [hexDic setObject:@&quot;0011&quot; forKey:@&quot;3&quot;];\n    [hexDic setObject:@&quot;0100&quot; forKey:@&quot;4&quot;];\n    [hexDic setObject:@&quot;0101&quot; forKey:@&quot;5&quot;];\n    [hexDic setObject:@&quot;0110&quot; forKey:@&quot;6&quot;];\n    [hexDic setObject:@&quot;0111&quot; forKey:@&quot;7&quot;];\n    [hexDic setObject:@&quot;1000&quot; forKey:@&quot;8&quot;];\n    [hexDic setObject:@&quot;1001&quot; forKey:@&quot;9&quot;];\n    [hexDic setObject:@&quot;1010&quot; forKey:@&quot;a&quot;];\n    [hexDic setObject:@&quot;1011&quot; forKey:@&quot;b&quot;];\n    [hexDic setObject:@&quot;1100&quot; forKey:@&quot;c&quot;];\n    [hexDic setObject:@&quot;1101&quot; forKey:@&quot;d&quot;];\n    [hexDic setObject:@&quot;1110&quot; forKey:@&quot;e&quot;];\n    [hexDic setObject:@&quot;1111&quot; forKey:@&quot;f&quot;];\n\n    NSMutableString *binaryString=[[NSMutableString alloc] init];\n    if (hex.length) {\n        for (int i=0; i&lt;[hex length]; i++) {\n            NSRange rage;\n            rage.length = 1;\n            rage.location = i;\n            NSString *key = [hex substringWithRange:rage];\n            [binaryString appendString:hexDic[key]];\n        }\n\n    }else{\n        for (int i=0; i&lt;binary.length; i+=4) {\n            NSString *subStr = [binary substringWithRange:NSMakeRange(i, 4)];\n            int index = 0;\n            for (NSString *str in hexDic.allValues) {\n                index ++;\n                if ([subStr isEqualToString:str]) {\n                    [binaryString appendString:hexDic.allKeys[index-1]];\n                    break;\n                }\n            }\n        }\n    }\n    return binaryString;\n}</code></pre><p>æœ‰äº†è¿™å‡ ç§è½¬æ¢å‡½æ•°ï¼Œå®Œæˆä¸Šé¢çš„åŠŸèƒ½å°±å®¹æ˜“å¤šäº†ï¼Œå…·ä½“æ€ä¹ˆæ“ä½œè¿™é‡Œå°±ä¸å†™ä¸€ä¸€å‡ºæ¥äº†ã€‚ä½†æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œè¿™ä¹ˆä¸€ä¸ªå°åŠŸèƒ½æ€ä¹ˆè¦å†™è¿™ä¹ˆä¸€å¤§å †ä»£ç ï¼Œå½“ç„¶è¿˜å¯ä»¥ç”¨Cè¯­è¨€çš„æ–¹æ³•å»è§£å†³ã€‚è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†å±•ç¤ºiOSä¸­æ•°æ®å¦‚ä½•è½¬æ¢ï¼ŒCè¯­è¨€çš„å®ç°æ–¹æ³•è¿™é‡Œå°±ä¸å†™äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ç ”ç©¶ä¸‹ã€‚</p>\n<h2 id=\"é™„å¸¦ä¸¤ä¸ªå‡½æ•°\"><a href=\"#é™„å¸¦ä¸¤ä¸ªå‡½æ•°\" class=\"headerlink\" title=\"é™„å¸¦ä¸¤ä¸ªå‡½æ•°\"></a>é™„å¸¦ä¸¤ä¸ªå‡½æ•°</h2><p><strong>intè½¬NSData</strong><br>    - (NSData *) setId:(int)Id {<br>    //ç”¨4ä¸ªå­—èŠ‚æ¥æ”¶<br>        Byte bytes[4];<br>        bytes[0] = (Byte)(Id&gt;&gt;24);<br>        bytes[1] = (Byte)(Id&gt;&gt;16);<br>        bytes[2] = (Byte)(Id&gt;&gt;8);<br>        bytes[3] = (Byte)(Id);<br>        NSData *data = [NSData dataWithBytes:bytes length:4];<br>    }<br><strong>NSDataè½¬int</strong><br>æ¥å—åˆ°çš„æ•°æ®<code>0x00000a0122</code></p>\n<pre><code>//4å­—èŠ‚è¡¨ç¤ºçš„int\nNSData *intData = [data subdataWithRange:NSMakeRange(2, 4)];\n    int value = CFSwapInt32BigToHost(*(int*)([intData bytes]));//655650\n//2å­—èŠ‚è¡¨ç¤ºçš„int\nNSData *intData = [data subdataWithRange:NSMakeRange(4, 2)];\n    int value = CFSwapInt16BigToHost(*(int*)([intData bytes]));//290\n//1å­—èŠ‚è¡¨ç¤ºçš„int\nchar *bs = (unsigned char *)[[data subdataWithRange:NSMakeRange(5, 1) ] bytes];\n    int value = *bs;//34\n------------------------\n//è¡¥å……å†…å®¹ï¼Œå› ä¸ºæ²¡æœ‰ä¸‰ä¸ªå­—èŠ‚è½¬intçš„æ–¹æ³•ï¼Œè¿™é‡Œè¡¥å……ä¸€ä¸ªé€šç”¨æ–¹æ³•\n- (unsigned)parseIntFromData:(NSData *)data{\n\n       NSString *dataDescription = [data description];\n       NSString *dataAsString = [dataDescription substringWithRange:NSMakeRange(1, [dataDescription length]-2)];\n\n       unsigned intData = 0;\n       NSScanner *scanner = [NSScanner scannerWithString:dataAsString];\n       [scanner scanHexInt:&amp;intData];\n    return intData;\n}</code></pre><p>è¿™ä¸¤ä¸ªè½¬æ¢åœ¨æŸäº›åœºæ™¯ä¸‹ä½¿ç”¨é¢‘ç‡ä¹Ÿæ˜¯æŒºé«˜çš„ï¼Œè“ç‰™é‡Œé¢çš„æ•°æ®è½¬æ¢åŸºæœ¬ä¹Ÿå°±è¿™ä¹ˆå¤šäº†ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶ã€‚<br>æ›´å¤šå…³äºå­—èŠ‚ç¼–ç çš„é—®é¢˜ï¼Œå¤§å®¶å¯ä»¥ç‚¹è¿™é‡Œï¼š<a href=\"http://www.doc88.com/p-2905571595364.html>\">ä¼ é€é—¨</a></p>\n<h2 id=\"æ‰©å±•\"><a href=\"#æ‰©å±•\" class=\"headerlink\" title=\"æ‰©å±•\"></a>æ‰©å±•</h2><p>åŸºäºCoreBluetooth4.0æ¡†æ¶çš„è¿æ¥BLE4.0çš„Demoï¼š<a href=\"https://github.com/zhangferry/FYBluetooth\">ä½ ä¸ç‚¹ä¸€ä¸‹å—</a></p>\n","categories":["è“ç‰™æ€»ç»“"],"tags":["è“ç‰™"]},{"title":"iOSè·å–æ¥ç”µå’ŒçŸ­ä¿¡å‘é€çŠ¶æ€","url":"http://zhangferry.github.io/2016/12/12/calling-and-sms-state/","content":"<h2 id=\"è·å–ç”µè¯çŠ¶æ€\"><a href=\"#è·å–ç”µè¯çŠ¶æ€\" class=\"headerlink\" title=\"è·å–ç”µè¯çŠ¶æ€\"></a>è·å–ç”µè¯çŠ¶æ€</h2><p>åœ¨æˆ‘æƒ³è¦äº†è§£iOSè·å–æ¥ç”µçŠ¶æ€æ—¶ï¼Œç»å¸¸è¢«è¿™æ˜¯ä¸æ˜¯å…è®¸çš„ï¼Œæ˜¯ä¸æ˜¯è¦è°ƒç”¨ç§æœ‰åº“ç­‰é—®é¢˜å›°æ‰°ã€‚è´¹äº†å¥½å¤§åŠ²ç»ˆäºè§£å†³äº†ä¸Šé¢é—®é¢˜ï¼Œä½ å¯ä»¥è·å–ç³»ç»Ÿæä¾›çš„ç”µè¯ç›¸å…³çŠ¶æ€ï¼Œè€Œä¸”å®ƒä¸å±äºç§æœ‰åº“ã€‚ä¸ºäº†éœ€è¦è¿™æ–¹é¢èµ„æ–™çš„äººæŸ¥é˜…æ—¶å°‘èµ°å¼¯è·¯ï¼Œæˆ‘æŠŠè¿™äº›ä¸œè¥¿å†™ä¸‹æ¥ï¼ŒåºŸè¯å°‘è¯´ï¼Œä¸Šä»£ç ã€‚</p>\n<a id=\"more\"></a>\n<h3 id=\"å¦‚ä½•è·å–ç”µè¯çŠ¶æ€\"><a href=\"#å¦‚ä½•è·å–ç”µè¯çŠ¶æ€\" class=\"headerlink\" title=\"å¦‚ä½•è·å–ç”µè¯çŠ¶æ€\"></a>å¦‚ä½•è·å–ç”µè¯çŠ¶æ€</h3><p>é¦–å…ˆè¦å¯¼å…¥CoreTelephonyæ¡†æ¶ï¼š<br><code>@import CoreTelephony;</code></p>\n<p>ç„¶åå£°æ˜ä¸€ä¸ªCTCallCenterå˜é‡ï¼š</p>\n<pre><code>@interface ViewController () {  \nCTCallCenter *center_;   //ä¸ºäº†é¿å…å½¢æˆretain cycleè€Œå£°æ˜çš„ä¸€ä¸ªå˜é‡ï¼ŒæŒ‡å‘æ¥æ”¶é€šè¯ä¸­å¿ƒå¯¹è±¡\n}  </code></pre><p>@end<br>ç„¶åç›‘å¬ç”µè¯çŠ¶æ€ï¼š</p>\n<pre><code>- (void) aboutCall{   \n//è·å–ç”µè¯æ¥å…¥ä¿¡æ¯\ncallCenter.callEventHandler = ^(CTCall *call){\nif ([call.callState isEqualToString:CTCallStateDisconnected]){\nNSLog(@&quot;Call has been disconnected&quot;);\n\n}else if ([call.callState isEqualToString:CTCallStateConnected]){\nNSLog(@&quot;Call has just been connected&quot;);\n\n}else if([call.callState isEqualToString:CTCallStateIncoming]){\nNSLog(@&quot;Call is incoming&quot;);\n\n}else if ([call.callState isEqualToString:CTCallStateDialing]){\nNSLog(@&quot;call is dialing&quot;);\n\n}else{\nNSLog(@&quot;Nothing is done&quot;);\n}\n};\n}</code></pre><p>è¿˜å¯ä»¥è·å–è¿è¥å•†ä¿¡æ¯ï¼š</p>\n<pre><code>- (void)getCarrierInfo{\n// è·å–è¿è¥å•†ä¿¡æ¯\nCTTelephonyNetworkInfo *info = [[CTTelephonyNetworkInfo alloc] init];\nCTCarrier *carrier = info.subscriberCellularProvider;\nNSLog(@&quot;carrier:%@&quot;, [carrier description]);\n\n// å¦‚æœè¿è¥å•†å˜åŒ–å°†æ›´æ–°è¿è¥å•†è¾“å‡º\ninfo.subscriberCellularProviderDidUpdateNotifier = ^(CTCarrier *carrier) {\nNSLog(@&quot;carrier:%@&quot;, [carrier description]);\n};\n\n// è¾“å‡ºæ‰‹æœºçš„æ•°æ®ä¸šåŠ¡ä¿¡æ¯\nNSLog(@&quot;Radio Access Technology:%@&quot;, info.currentRadioAccessTechnology);\n}    </code></pre><p>å½“ç„¶è¿™æ ·åœ¨çœŸæœºè¿›è¡Œæµ‹è¯•ï¼Œä»¥ä¸‹ä¸ºè¾“å‡ºä¿¡æ¯ï¼š</p>\n<pre><code>2015-12-29 16:34:14.525 RWBLEManagerDemo[1489:543655] carrier:CTCarrier (0x134e065c0) {\nCarrier name: [ä¸­å›½ç§»åŠ¨]\nMobile Country Code: [460]\nMobile Network Code:[07]\nISO Country Code:[cn]\nAllows VOIP? [YES]\n}\n2015-12-29 16:34:14.526 RWBLEManagerDemo[1489:543655] Radio Access Technology:CTRadioAccessTechnologyHSDPA    </code></pre><h3 id=\"CoreTelephonyæ¡†æ¶æ˜¯ä¸æ˜¯ç§æœ‰åº“\"><a href=\"#CoreTelephonyæ¡†æ¶æ˜¯ä¸æ˜¯ç§æœ‰åº“\" class=\"headerlink\" title=\"CoreTelephonyæ¡†æ¶æ˜¯ä¸æ˜¯ç§æœ‰åº“\"></a>CoreTelephonyæ¡†æ¶æ˜¯ä¸æ˜¯ç§æœ‰åº“</h3><p>ç§æœ‰æ¡†æ¶çš„ç›®å½•ä¸ºï¼š<br><code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/System/Library/PrivateFrameworks/</code></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-3d7bb9f8ff9ce3d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"FDC2B801-0F1C-41FD-A9A4-399592DF4BEF.png\"></p>\n<p>å¯ä»¥çœ‹å‡ºCoreTelephonyæ¡†æ¶æ˜¯åœ¨frameworkså†…è€Œä¸æ˜¯PrivateFrameworksï¼Œæ‰€ä»¥å®ƒæ˜¯å¯ä»¥æ”¾å¿ƒä½¿ç”¨çš„ã€‚ç½‘ä¸Šä¹‹æ‰€ä»¥æœ‰è¯´CoreTelephonyæ˜¯ç§æœ‰åº“ï¼Œæ˜¯å› ä¸ºåœ¨iOS6çš„æ—¶å€™æ˜¯ç§æœ‰æ¡†æ¶ï¼Œåæ¥è‹¹æœåˆç»™å…¬å¼€äº†ã€‚</p>\n<h2 id=\"è·å–çŸ­ä¿¡çŠ¶æ€\"><a href=\"#è·å–çŸ­ä¿¡çŠ¶æ€\" class=\"headerlink\" title=\"è·å–çŸ­ä¿¡çŠ¶æ€\"></a>è·å–çŸ­ä¿¡çŠ¶æ€</h2><p>å…³äºçŸ­ä¿¡çš„çŠ¶æ€è·å–ï¼Œæˆ‘ç›´æ¥çœ‹äº†<br><code>#import &lt;MessageUI/MessageUI.h&gt;</code><br>é‡Œé¢å°±ä¸¤ä¸ªå¤´æ–‡ä»¶ï¼š</p>\n<p><code>#import &lt;MessageUI/MFMailComposeViewController.h&gt;</code><br><code>#import &lt;MessageUI/MFMessageComposeViewController.h&gt;</code><br>ä¸€ä¸ªæ˜¯é‚®ä»¶ç›¸å…³çš„æ–¹æ³•ï¼Œä¸€ä¸ªçŸ­ä¿¡ç›¸å…³çš„æ–¹æ³•ã€‚è¿›åˆ°MFMessageComposeViewController.hæœ‰ä¸€ä¸ªæšä¸¾å€¼ï¼š</p>\n<pre><code>enum MessageComposeResult {\nMessageComposeResultCancelled,\nMessageComposeResultSent,\nMessageComposeResultFailed\n};</code></pre><p>typedef enum MessageComposeResult MessageComposeResult;   // available in iPhone 4.0<br>è¿™æ˜¯è¡¨ç¤ºçŸ­ä¿¡å‘é€çŠ¶æ€çš„å€¼ã€‚è¦ä½¿ç”¨è¿™ä¸ªæ¡†æ¶å‘é€è‡ªå·±ç¼–è¾‘çš„å†…å®¹è¿˜éœ€è¦æ·»åŠ ä»£ç†ï¼š<code>MFMessageComposeViewControllerDelegate</code></p>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code>- (void)showMessageView\n{\nif( [MFMessageComposeViewController canSendText] )// åˆ¤æ–­è®¾å¤‡èƒ½ä¸èƒ½å‘é€çŸ­ä¿¡\n    {\n    MFMessageComposeViewController*picker = [[MFMessageComposeViewControlleralloc] init];\n    // è®¾ç½®å§”æ‰˜\n    picker.messageComposeDelegate= self;\n    // é»˜è®¤ä¿¡æ¯å†…å®¹\n    picker.body = @&quot;nihao&quot;;\n    // é»˜è®¤æ”¶ä»¶äºº(å¯å¤šä¸ª)\n    picker.recipients = [NSArray arrayWithObject:@&quot;12345678901&quot;, nil];\n    [self presentModalViewController:picker animated:YES];\n    [picker release];\n    }\n    else\n    {\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;æç¤ºä¿¡æ¯&quot;\n    message:@&quot;è¯¥è®¾å¤‡ä¸æ”¯æŒçŸ­ä¿¡åŠŸèƒ½&quot;\n    delegate:self\n    cancelButtonTitle:nil\n    otherButtonTitles:@&quot;ç¡®å®š&quot;, nil];\n    [alert show];\n    [alert release];\n    }\n}\n\n- (void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result\n{\n    switch (result){\n    case MessageComposeResultCancelled:\n    NSLog(@&quot;å–æ¶ˆå‘é€&quot;);\n    break;\n    case MessageComposeResultFailed:\n    NSLog(@&quot;å‘é€å¤±è´¥&quot;);\n    break;\n    case MessageComposeResultSent:\n    NSLog(@&quot;å‘é€æˆåŠŸ&quot;);\n    break;\n\n    default:\n    break;\n    }\n}</code></pre><p>å¯¹äºæ¥çŸ­ä¿¡çš„é€šçŸ¥æ²¡æœ‰æ‰¾åˆ°ï¼Œåº”è¯¥æ˜¯ä¸èƒ½è·å–çš„ã€‚</p>\n<h3 id=\"å‚è€ƒèµ„æ–™\"><a href=\"#å‚è€ƒèµ„æ–™\" class=\"headerlink\" title=\"å‚è€ƒèµ„æ–™\"></a>å‚è€ƒèµ„æ–™</h3><ul>\n<li>private frameworkä½¿ç”¨<br><a href=\"http://chenjohney.blog.51cto.com/4132124/1288551\">http://chenjohney.blog.51cto.com/4132124/1288551</a> </li>\n<li>CoreTelephonyæ¡†æ¶çš„ç®€å•ä½¿ç”¨<br><a href=\"http://blog.csdn.net/jymn_chen/article/details/19240903\">http://blog.csdn.net/jymn_chen/article/details/19240903</a>  </li>\n<li>iOSå…³äºç³»ç»ŸçŸ­ä¿¡å’Œç”µè¯çš„è°ƒç”¨<br><a href=\"http://blog.csdn.net/frank_jb/article/details/49815883\">http://blog.csdn.net/frank_jb/article/details/49815883</a></li>\n</ul>\n","categories":["iOSçŸ¥è¯†ç‚¹"],"tags":["iOS"]},{"title":"å¤„ç†ANCSè®¾å¤‡è¿æ¥ç»‘å®šé—®é¢˜","url":"http://zhangferry.github.io/2016/10/14/ancs-bind/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-f45041c3c8cf024b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ANCS.jpg\"></p>\n<p><a href=\"https://developer.apple.com/library/content/documentation/CoreBluetooth/Reference/AppleNotificationCenterServiceSpecification/Introduction/Introduction.html\">ANCS</a>ï¼ˆApple Notification Center Serviceï¼Œè‹¹æœé€šçŸ¥ä¸­å¿ƒï¼‰çš„ç›®çš„æ˜¯æä¾›ç»™è“ç‰™å¤–è®¾ä¸€ç§ç®€å•ã€æ–¹ä¾¿çš„è·å–iOSè®¾å¤‡é€šçŸ¥ä¿¡æ¯çš„æ–¹å¼ã€‚ä½¿å¾—è“ç‰™æ‰‹ç¯ï¼Œæ‰‹è¡¨å¯ä»¥æ¥æ”¶åˆ°æ¥è‡ªiPhoneçš„æ¥ç”µã€çŸ­ä¿¡åŠQQã€å¾®ä¿¡ç­‰åº”ç”¨çš„é€šçŸ¥æ¶ˆæ¯ã€‚</p>\n<a id=\"more\"></a>\n<p>å¦‚æœä½ å·²ç»èƒ½å¤Ÿè¿æ¥æ™®é€šè“ç‰™ï¼Œåˆæ¬¡é¢å¯¹ANCSè®¾å¤‡å¯èƒ½ä¼šæœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>\n<blockquote>\n<p>é—®é¢˜ä¸€ï¼šéµå¾ªANCSåè®®çš„çš„è®¾å¤‡ä¼šç›´æ¥å’Œç³»ç»Ÿç›¸è¿ï¼Œå³ä½¿æ€æ‰åº”ç”¨ï¼Œè¿æ¥è¿˜æ˜¯å­˜åœ¨çš„ã€‚è€Œå¦‚æœè“ç‰™è®¾å¤‡å¤„äºè¿æ¥çŠ¶æ€ï¼Œå®ƒä¸ä¼šè¢«æ‰«æåˆ°ï¼Œæ€ä¹ˆå†æ¬¡è¿æ¥å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>åœ¨Core Bluetooth frameworké‡Œæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨äºè·å–å·²è¿æ¥çš„è®¾å¤‡</p>\n<pre><code>//é€šè¿‡ä¼ å…¥çš„peripherals.identifierè¿”å›ä¸ç³»ç»Ÿè¿æ¥çš„å·²çŸ¥è®¾å¤‡æ•°ç»„\n- (NSArray&lt;CBPeripheral *&gt; *)retrievePeripheralsWithIdentifiers:(NSArray&lt;NSUUID *&gt; *)identifiers;\n//é€šè¿‡ä¼ å…¥è®¾å¤‡çš„serviceIDè¿”å›å·²è¿æ¥çš„è®¾å¤‡æ•°ç»„\n- (NSArray&lt;CBPeripheral *&gt; *)retrieveConnectedPeripheralsWithServices:(NSArray&lt;CBUUID *&gt; *)serviceUUIDs;</code></pre><p>æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè·å–å·²è¿æ¥è®¾å¤‡ï¼Œå¹¶å»ºç«‹é‡è¿ã€‚å‚è€ƒä»£ç ï¼š</p>\n<pre><code>NSArray *peripherals = [central retrieveConnectedPeripheralsWithServices:@[serviceUUID]];\nif (peripherals.count &gt; 0) {\n    CBPeripheral *peripheral = [peripherals firstObject];\n    peripheral.delegate = self;\n    self.peripheral = peripheral;//**å…³é”®**éœ€è¦è½¬å­˜å¤–è®¾å€¼ï¼Œæ‰èƒ½å‘èµ·è¿æ¥\n    [central connectPeripheral:self.peripheral options:nil];\n} else {\n    [central scanForPeripheralsWithServices:@[serviceUUID] options:nil];\n}</code></pre><p>æ ¹æ®ä¸åŒçš„ä½¿ç”¨æƒ…å†µï¼Œå¯èƒ½ä¼šæœ‰ä¸åŒçš„æ‰«æï¼Œè¿æ¥çš„é€»è¾‘ï¼Œè‹¹æœæä¾›äº†ä¸€ä¸ªæµç¨‹å›¾ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-ee5970ce54abaaed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"workflow.png\"></p>\n<blockquote>\n<p>é—®é¢˜äºŒï¼šæœ‰ç»‘å®šå’Œè§£é™¤åŠŸèƒ½ï¼Œå¦‚ä½•å¤„ç†ä¸¤è€…çš„å…³ç³»</p>\n</blockquote>\n<p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œä¸èƒ½é€šè¿‡ä»£ç ï¼Œæ–­å¼€ANCSè®¾å¤‡ä¸ç³»ç»Ÿä¹‹é—´çš„è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è§£é™¤è®¾å¤‡çš„ç»‘å®šï¼Œåªèƒ½æ§åˆ¶è®¾å¤‡ä¸APPä¹‹é—´çš„æ–­å¼€ã€‚</p>\n<p>###ç»‘å®š<br>å†å›çœ‹ä¸Šé¢æåˆ°çš„è‹¹æœæä¾›çš„ä¸¤ä¸ªè·å–å·²è¿æ¥è®¾å¤‡çš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡<code>serviceUUID</code>ï¼Œå®ƒå¯ä»¥è¿”å›åŒä¸€ç±»å‹çš„è®¾å¤‡åˆ—è¡¨ï¼›ä¸€ä¸ªæ˜¯é€šè¿‡è®¾å¤‡UUIDï¼Œå®ƒåœ¨ä¸€å®šæƒ…å†µä¸‹å°±æ˜¯å”¯ä¸€çš„ï¼ˆå¦‚æœè®¾å¤‡åå”¯ä¸€ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨è®¾å¤‡åï¼‰ï¼Œè¿”å›çš„æ˜¯å”¯ä¸€è®¾å¤‡ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨UUIDçš„å”¯ä¸€æ€§ï¼Œä½œä¸ºç»‘å®šçš„æ ‡ç¤ºï¼Œå­˜åˆ°<code>NSUserDefault</code>é‡Œé¢ï¼Œå¯¹äºæœªç»‘å®šçš„è®¾å¤‡é€šè¿‡<code>serviceUUID</code>å»è·å–è®¾å¤‡åˆ—è¡¨ã€‚å‚è€ƒä»£ç ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSUserDefaults</span> *userDefault = [<span class=\"built_in\">NSUserDefaults</span> standardUserDefaults];</span><br><span class=\"line\"><span class=\"built_in\">NSString</span> *uuidString = [userDefault objectForKey:RWBLE_BANDIDENTIFI_ID];</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\"><span class=\"built_in\">NSArray</span> *peripherals;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (uuidString) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"comment\">//é€šè¿‡uuidè·å–è¿æ¥è®¾å¤‡</span></span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSUUID</span> *uuid = [[<span class=\"built_in\">NSUUID</span> alloc] initWithUUIDString:uuidString];</span><br><span class=\"line\">Â  Â  Â  Â  peripherals = [<span class=\"keyword\">self</span>.centralManager retrievePeripheralsWithIdentifiers:@[uuid]];</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"comment\">//é€šè¿‡serviceUUIDè·å–è¿æ¥è®¾å¤‡</span></span><br><span class=\"line\">Â  Â  Â  Â  peripherals = [<span class=\"keyword\">self</span>.centralManager retrieveConnectedPeripheralsWithServices:@[[CBUUID UUIDWithString:ST_SERVICE_UUID]]];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* peripherals connect code */</span></span><br></pre></td></tr></table></figure>\n<p>###è§£ç»‘<br>ä¸èƒ½ä½¿ANCSè®¾å¤‡ä¸ç³»ç»Ÿè¿æ¥æ–­å¼€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åœ¨ç¨‹åºé‡Œé”€æ¯è¿™ä¸ªå¤–è®¾å¯¹è±¡ï¼Œè¿™æ ·APPä¸è“ç‰™è®¾å¤‡çš„è¿æ¥é€šè®¯å°±ä¸å­˜åœ¨äº†ï¼Œé€ æˆäº†ä¸€ç§æ–­å¼€çš„æ„Ÿè§‰ã€‚å‚è€ƒä»£ç ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è§£ç»‘è®¾å¤‡</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)unbindDevice&#123;</span><br><span class=\"line\">Â  Â  [<span class=\"keyword\">self</span> disconnect];<span class=\"comment\">//é€šçŸ¥appï¼Œè®¾å¤‡å·²ç»æ–­å¼€</span></span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSUserDefaults</span> *userDefault = [<span class=\"built_in\">NSUserDefaults</span> standardUserDefaults];</span><br><span class=\"line\">Â  Â  [userDefault removeObjectForKey:RWBLE_BANDIDENTIFI_ID];<span class=\"comment\">//é”€æ¯uuid</span></span><br><span class=\"line\">Â  Â  <span class=\"keyword\">self</span>.peripheral = <span class=\"literal\">nil</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¹ˆå†™çœ‹ä¼¼å·²ç»è§£å†³é—®é¢˜äº†ï¼Œä½†æ˜¯ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼šè§£ç»‘äº†è®¾å¤‡ï¼Œæ€æ‰åº”ç”¨ï¼Œå†æ¬¡è¿›å…¥è®¾å¤‡è¿˜æ˜¯èƒ½è¿ä¸Šã€‚why?å› ä¸ºè™½ç„¶æ²¡æœ‰äº†UUIDï¼Œä½†è¿›å…¥ç¨‹åºä¼šé€šè¿‡<code>serviceUUID</code>å†æ¬¡è·å–è¿æ¥ã€‚</p>\n<p>è¿™æ—¶å¯ä»¥åœ¨æ‰«é¢åšä¸€ä¸ªåˆ¤æ–­ï¼Œæ˜¯å¦åˆšè§£ç»‘è¿‡è®¾å¤‡ã€‚å¯ä»¥æ˜¯ä¸ªBOOLå€¼ï¼Œç»‘å®šå’Œåˆå§‹ç»‘å®šä¸ºNOï¼Œè§£ç»‘æ“ä½œæ”¹ä¸ºYESã€‚å¦‚æœåˆšè§£ç»‘è¿‡è®¾å¤‡ï¼Œå°±ç›´æ¥è¿”å›ä¸åšåé¢çš„æ‰«ææ“ä½œï¼Œè¿™æ ·å°±è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ã€‚è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå°±ä¸åˆ—å…·ä½“ä»£ç äº†ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://developer.apple.com/library/content/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/BestPracticesForInteractingWithARemotePeripheralDevice/BestPracticesForInteractingWithARemotePeripheralDevice.html#//apple_ref/doc/uid/TP40013257-CH6-SW11\">Best Practices for Interacting with a Remote Peripheral Device</a></p>\n","categories":["è“ç‰™æ€»ç»“"],"tags":["è“ç‰™","ANCS"]},{"title":"iOS10æœ¬åœ°é€šçŸ¥UserNotificationså¿«é€Ÿå…¥é—¨","url":"http://zhangferry.github.io/2016/09/30/usernotifications-introduction/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-24a743794b38b19c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification.png\"></p>\n<p>iOS10æ›´æ–°å˜åŠ¨æœ€å¤§çš„å°±æ˜¯é€šçŸ¥è¿™éƒ¨åˆ†äº†ï¼Œæ–°ç‰ˆé€šçŸ¥å˜å¾—æ›´åŠ ç»Ÿä¸€ï¼Œä½¿ç”¨æ›´åŠ æ–¹ä¾¿ï¼Œè®¾è®¡æ›´åŠ è‡ªç”±ã€‚ä»¥å‰æœ¬åœ°é€šçŸ¥å’Œè¿œç¨‹æ¨é€æ˜¯åˆ†å¼€çš„ï¼Œè™½ç„¶è¿™äº›åˆ°äº†iOS10éƒ½åˆåœ¨ä¸€èµ·äº†ï¼Œä½†æ˜¯ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬è¿˜æ˜¯æŠŠä»–ä¿©åˆ†å¼€æ¥è¿›è¡Œå­¦ä¹ ã€‚è¿™èŠ‚æˆ‘ä»¬å­¦ä¹ çš„æ˜¯æœ¬åœ°é€šçŸ¥ã€‚</p>\n<a id=\"more\"></a>\n<p>ä»¥ä¸‹çš„ç”¨è¯­ï¼Œå¦‚æ— ç‰¹åˆ«è¡¨è¿°ï¼Œ<code>é€šçŸ¥</code>å°±ä»£è¡¨æœ¬åœ°é€šçŸ¥ï¼Œ<code>æ¨é€</code>å°±ä»£è¡¨è¿œç¨‹æœåŠ¡å™¨çš„æ¨é€ã€‚</p>\n<p>##å¿«é€Ÿæ·»åŠ ä¸€ä¸ªé€šçŸ¥<br>æˆ‘ä»¬å…ˆä¸¾ä¸ªå®Œæ•´çš„ä»£ç ä¾‹å­ï¼Œå¤§å®¶äº†è§£ä¸‹è¿™ä¸ªæµç¨‹ï¼Œç„¶ååˆ†æ­¥ä»‹ç»è¿™å‡ é¡¹ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œé€šçŸ¥</span></span><br><span class=\"line\">- (<span class=\"built_in\">BOOL</span>)application:(<span class=\"built_in\">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class=\"built_in\">NSDictionary</span> *)launchOptions &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Override point for customization after application launch.</span></span><br><span class=\"line\">Â  Â  UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</span><br><span class=\"line\">    <span class=\"comment\">//è¯·æ±‚è·å–é€šçŸ¥æƒé™ï¼ˆè§’æ ‡ï¼Œå£°éŸ³ï¼Œå¼¹æ¡†ï¼‰</span></span><br><span class=\"line\">Â  Â  [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(<span class=\"built_in\">BOOL</span> granted, <span class=\"built_in\">NSError</span> * _Nullable error) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"keyword\">if</span> (granted) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//è·å–ç”¨æˆ·æ˜¯å¦åŒæ„å¼€å¯é€šçŸ¥</span></span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"request authorization successed!\"</span>);</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">Â  Â  <span class=\"comment\">//ç¬¬äºŒæ­¥ï¼šæ–°å»ºé€šçŸ¥å†…å®¹å¯¹è±¡</span></span><br><span class=\"line\">Â  Â Â UNMutableNotificationContentÂ *contentÂ = [[UNMutableNotificationContentÂ alloc]Â init]</span><br><span class=\"line\">Â  Â  content.titleÂ =Â <span class=\"string\">@\"iOS10é€šçŸ¥\"</span>;</span><br><span class=\"line\">Â  Â  content.subtitleÂ =Â <span class=\"string\">@\"æ–°é€šçŸ¥å­¦ä¹ ç¬”è®°\"</span>;</span><br><span class=\"line\">Â  Â  content.bodyÂ =Â <span class=\"string\">@\"æ–°é€šçŸ¥å˜åŒ–å¾ˆå¤§ï¼Œä¹‹å‰æœ¬åœ°é€šçŸ¥å’Œè¿œç¨‹æ¨é€æ˜¯ä¸¤ä¸ªç±»ï¼Œç°åœ¨åˆæˆä¸€ä¸ªäº†ã€‚è¿™æ˜¯ä¸€æ¡æµ‹è¯•é€šçŸ¥ï¼Œ\"</span>;</span><br><span class=\"line\">Â  Â  content.badgeÂ =Â @<span class=\"number\">1</span>;</span><br><span class=\"line\">Â  Â Â UNNotificationSoundÂ *sound = [UNNotificationSoundÂ soundNamed:<span class=\"string\">@\"caodi.m4a\"</span>];</span><br><span class=\"line\">Â  Â  content.soundÂ = sound;</span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â Â <span class=\"comment\">//ç¬¬ä¸‰æ­¥ï¼šé€šçŸ¥è§¦å‘æœºåˆ¶ã€‚ï¼ˆé‡å¤æé†’ï¼Œæ—¶é—´é—´éš”è¦å¤§äº60sï¼‰</span></span><br><span class=\"line\">Â  Â Â UNTimeIntervalNotificationTriggerÂ *trigger1 = [UNTimeIntervalNotificationTriggerÂ triggerWithTimeInterval:<span class=\"number\">5</span>Â repeats:<span class=\"literal\">NO</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â  <span class=\"comment\">//ç¬¬å››æ­¥ï¼šåˆ›å»ºUNNotificationRequesté€šçŸ¥è¯·æ±‚å¯¹è±¡</span></span><br><span class=\"line\">Â  Â Â <span class=\"built_in\">NSString</span>Â *requertIdentifier =Â <span class=\"string\">@\"RequestIdentifier\"</span>;</span><br><span class=\"line\">Â  Â Â UNNotificationRequestÂ *request = [UNNotificationRequestÂ requestWithIdentifier:requertIdentifierÂ content:contentÂ trigger:trigger1];</span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â  <span class=\"comment\">//ç¬¬äº”æ­¥ï¼šå°†é€šçŸ¥åŠ åˆ°é€šçŸ¥ä¸­å¿ƒ</span></span><br><span class=\"line\">Â  Â  [[UNUserNotificationCenterÂ currentNotificationCenter]Â addNotificationRequest:requestÂ withCompletionHandler:^(<span class=\"built_in\">NSError</span>Â *Â _NullableÂ error) &#123;</span><br><span class=\"line\">Â  Â  Â  Â Â <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"Error:%@\"</span>,error);</span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â Â &#125;];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-6d61819c9bfd09dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification01.png\"></p>\n<blockquote>\n<p>é€šçŸ¥å†…å®¹UNMutableNotificationContent</p>\n</blockquote>\n<p>é€šçŸ¥å†…å®¹å°±æ˜¯è®¾å®šé€šçŸ¥çš„ä¸€äº›å±•ç¤ºä¿¡æ¯ï¼ŒiOS10ä¹‹åå¯ä»¥è®¾ç½®subtitleã€‚<br>å£°éŸ³çš„è®¾ç½®éœ€è¦å€ŸåŠ©ä¸€ä¸ªæ–°ç±»<code>UNNotificationSound</code>ï¼Œé€šçŸ¥æ–‡ä»¶è¦æ”¾åˆ°bundleé‡Œé¢ã€‚å¦å¤–åœ¨å®é™…çš„æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°ï¼Œæ·»åŠ é€šçŸ¥çš„å£°éŸ³æœ‰æ—¶å€™ä¼šæ— æ•ˆã€‚è¿™åº”è¯¥æ˜¯iOS10å­˜åœ¨çš„ä¸€ä¸ªbugï¼Œåˆ é™¤æ‰ç¨‹åºï¼Œå†å®‰è£…è¿è¡Œå°±å¥½äº†ã€‚</p>\n<blockquote>\n<p>è§¦å‘æœºåˆ¶UNNotificationTrigger</p>\n</blockquote>\n<p>Triggeræ˜¯æ–°åŠ å…¥çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œé€šè¿‡æ­¤ç±»å¯è®¾ç½®æœ¬åœ°é€šçŸ¥è§¦å‘æ¡ä»¶ã€‚å®ƒä¸€å…±æœ‰ä¸€ä¸‹å‡ ç§ç±»å‹ï¼š<br>1ã€UNPushNotificaitonTrigger<br>æ¨é€æœåŠ¡çš„Triggerï¼Œç”±ç³»ç»Ÿåˆ›å»º<br>2ã€UNTimeIntervalNotificaitonTrigger<br>æ—¶é—´è§¦å‘å™¨ï¼Œå¯ä»¥è®¾ç½®å¤šé•¿æ—¶é—´ä»¥åè§¦å‘ï¼Œæ˜¯å¦é‡å¤ã€‚å¦‚æœè®¾ç½®é‡å¤ï¼Œé‡å¤æ—¶é•¿è¦å¤§äº60s<br>3ã€UNCalendarNotificaitonTrigger<br>æ—¥æœŸè§¦å‘å™¨ï¼Œå¯ä»¥è®¾ç½®æŸä¸€æ—¥æœŸè§¦å‘ã€‚ä¾‹å¦‚ï¼Œæé†’æˆ‘æ¯å¤©æ—©ä¸Šä¸ƒç‚¹èµ·åºŠï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSDateComponents</span> *components = [[<span class=\"built_in\">NSDateComponents</span> alloc] init];</span><br><span class=\"line\">components.hour = <span class=\"number\">7</span>;</span><br><span class=\"line\">components.minute = <span class=\"number\">0</span>; <span class=\"comment\">// components æ—¥æœŸ         UNCalendarNotificationTrigger *calendarTrigger = [UNCalendarNotificationTrigger triggerWithDateMatchingComponents:components repeats:YES];</span></span><br></pre></td></tr></table></figure>\n<p> 4ã€UNLocationNotificaitonTrigger<br>ä½ç½®è§¦å‘å™¨ï¼Œç”¨äºåˆ°æŸä¸€èŒƒå›´ä¹‹åï¼Œè§¦å‘é€šçŸ¥ã€‚é€šè¿‡CLRegionè®¾å®šå…·ä½“èŒƒå›´ã€‚</p>\n<blockquote>\n<p>é€šçŸ¥è¯·æ±‚UNNotificationRequest</p>\n</blockquote>\n<p>é€šçŸ¥è¯·æ±‚çš„æ„é€ <br><code>+ (instancetype)requestWithIdentifier:(NSString *)identifier \ncontent:(UNNotificationContent *)content \ntrigger:(nullable UNNotificationTrigger *)trigger;</code><br>å°±æ˜¯æŠŠä¸Šé¢ä¸‰é¡¹è¿æ¥èµ·æ¥ã€‚å®ƒæœ‰ä¸€ä¸ªå‚æ•°identifierï¼Œè¿™ç›¸å½“äºé€šçŸ¥çš„ä¸€ä¸ªèº«ä»½ã€‚iOS10é€šçŸ¥æ”¯æŒæ›´æ–°ï¼Œå°±æ˜¯åŸºäºæ­¤identifierå†å‘ä¸€æ¡é€šçŸ¥ã€‚</p>\n<blockquote>\n<p>é€šçŸ¥ä¸­å¿ƒUNUserNotificationCenter</p>\n</blockquote>\n<p>è·å–é€šçŸ¥<code>[UNUserNotificationCenter currentNotificationCenter]</code>ç„¶åé€šè¿‡<code>addNotificaitonRequest:</code>å°±å®Œæˆäº†ä¸€ä¸ªé€šçŸ¥çš„æ·»åŠ ã€‚</p>\n<p>##æ‰©å±•é€šçŸ¥çš„å†…å®¹<br>é€šçŸ¥æˆ‘ä»¬å·²ç»æ·»åŠ ä¸Šäº†ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦æ‰©å±•ä¸€ä¸‹é€šçŸ¥çš„å†…å®¹ï¼Œç»™å®ƒåŠ ä¸€äº›å†…å®¹ã€‚æ‰©å±•çš„å†…å®¹éœ€è¦æ”¯æŒ3D-touchçš„æ‰‹æœºï¼ˆ6sä»¥ä¸Šï¼‰ï¼Œé‡å‹ä¹‹åå…¨é¢æ˜¾ç¤º</p>\n<blockquote>\n<p>æ·»åŠ é™„ä»¶</p>\n</blockquote>\n<p>iOS10ä¹‹å‰é€šçŸ¥çš„æ ·å¼ä¸èƒ½æ›´æ”¹ï¼Œåœ¨iOS10ä¹‹åå¼•å…¥äº†UNNotificationationAttachmentï¼Œå¯ä»¥åœ¨é€šçŸ¥ä¸­æ·»åŠ å›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘ã€‚è‹¹æœå¯¹è¿™äº›é™„ä»¶çš„å¤§å°å’Œç±»å‹æœ‰ä¸€ä¸ªé™åˆ¶ï¼š<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-f41c6386d613fbd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"attachment_type.png\"><br>å¦‚æœæˆ‘æƒ³åœ¨é€šçŸ¥é‡ŒåŠ ä¸€ä¸ªå›¾ç‰‡ï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSString</span>Â *imageFile = [[<span class=\"built_in\">NSBundle</span>Â mainBundle]Â pathForResource:<span class=\"string\">@\"sport\"</span>Â ofType:<span class=\"string\">@\"png\"</span>];</span><br><span class=\"line\">UNNotificationAttachmentÂ *imageAttachment = [UNNotificationAttachmentÂ attachmentWithIdentifier:<span class=\"string\">@\"iamgeAttachment\"</span>Â URL:[<span class=\"built_in\">NSURL</span>Â fileURLWithPath:imageFile]Â options:<span class=\"literal\">nil</span>Â error:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">content.attachments = @[imageAttachment];<span class=\"comment\">//è™½ç„¶æ˜¯æ•°ç»„ï¼Œä½†æ˜¯æ·»åŠ å¤šä¸ªåªèƒ½æ˜¾ç¤ºç¬¬ä¸€ä¸ª</span></span><br><span class=\"line\"><span class=\"comment\">/* add request and notificaiton code ... */</span></span><br></pre></td></tr></table></figure>\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-a459ae47a216b686.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification02.png\"><br>é‡å‹ä¹‹åï¼š<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-6572c5180d447cbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notificaiton03.png\"></p>\n<blockquote>\n<p>æ·»åŠ äº¤äº’</p>\n</blockquote>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç‚¹å‡»å¯ä»¥æ˜¾ç¤ºæ–‡æœ¬è¾“å…¥æ¡†</span></span><br><span class=\"line\">UNTextInputNotificationActionÂ *action1 = [UNTextInputNotificationActionÂ actionWithIdentifier:<span class=\"string\">@\"replyAction\"</span>Â title:<span class=\"string\">@\"æ–‡å­—å›å¤\"</span>Â options:UNNotificationActionOptionNone];</span><br><span class=\"line\">Â  Â  <span class=\"comment\">//ç‚¹å‡»è¿›å…¥åº”ç”¨</span></span><br><span class=\"line\">UNNotificationActionÂ *action2 = [UNNotificationActionÂ actionWithIdentifier:<span class=\"string\">@\"enterAction\"</span>Â title:<span class=\"string\">@\"è¿›å…¥åº”ç”¨\"</span>Â options:UNNotificationActionOptionForeground];</span><br><span class=\"line\">Â  Â  <span class=\"comment\">//ç‚¹å‡»å–æ¶ˆï¼Œæ²¡æœ‰ä»»ä½•æ“ä½œ</span></span><br><span class=\"line\">UNNotificationActionÂ *action3 = [UNNotificationActionÂ actionWithIdentifier:<span class=\"string\">@\"cancelAction\"</span>Â title:<span class=\"string\">@\"å–æ¶ˆ\"</span>Â options:UNNotificationActionOptionDestructive];</span><br><span class=\"line\">Â  Â  <span class=\"comment\">//é€šè¿‡UNNotificationCategoryå¯¹è±¡å°†è¿™å‡ ä¸ªactionè¡Œä¸ºæ·»åŠ åˆ°é€šçŸ¥é‡Œå»</span></span><br><span class=\"line\">UNNotificationCategoryÂ *categroy = [UNNotificationCategoryÂ categoryWithIdentifier:<span class=\"string\">@\"Categroy\"</span>Â actions:@[action1,action2,action3]Â intentIdentifiers:@[]Â options:UNNotificationCategoryOptionCustomDismissAction];</span><br><span class=\"line\">    <span class=\"comment\">//å°†categroyèµ‹å€¼åˆ°é€šçŸ¥å†…å®¹ä¸Š</span></span><br><span class=\"line\">    content.categoryIdentifier = <span class=\"string\">@\"Categroy\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">//è®¾ç½®é€šçŸ¥ä»£ç†ï¼Œç”¨äºæ£€æµ‹ç‚¹å‡»æ–¹æ³•</span></span><br><span class=\"line\">[[UNUserNotificationCenter currentNotificationCenter] setDelegate:<span class=\"keyword\">self</span>];</span><br><span class=\"line\"><span class=\"comment\">/* add request and notificaiton code ... */</span></span><br></pre></td></tr></table></figure>\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-b7497931a422eb7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notificaiotn04.png\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-98dad809d88ab0e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification05.png\"></p>\n<p>è·å–é€šçŸ¥äº¤äº’å†…å®¹ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¯†åˆ«é€šçŸ¥äº¤äº’å¤„ç†çš„ä»£ç†æ–¹æ³•</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(<span class=\"keyword\">void</span> (^)())completionHandler&#123;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSString</span> *categoryIdentifier = response.notification.request.content.categoryIdentifier;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  <span class=\"keyword\">if</span> ([categoryIdentifier isEqualToString:<span class=\"string\">@\"Categroy\"</span>]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"comment\">//è¯†åˆ«éœ€è¦è¢«å¤„ç†çš„æ‹“å±•</span></span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"keyword\">if</span> ([response.actionIdentifier isEqualToString:<span class=\"string\">@\"replyAction\"</span>])&#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"comment\">//è¯†åˆ«ç”¨æˆ·ç‚¹å‡»çš„æ˜¯å“ªä¸ª action</span></span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  UNTextInputNotificationResponse *textResponse = (UNTextInputNotificationResponse*)response;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"comment\">//è·å–è¾“å…¥å†…å®¹</span></span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"built_in\">NSString</span> *userText = textResponse.userText;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"comment\">//å‘é€ userText ç»™éœ€è¦æ¥æ”¶çš„æ–¹æ³•</span></span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"è¦å‘é€çš„å†…å®¹æ˜¯ï¼š%@\"</span>,userText);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"comment\">//[ClassName handleUserText: userText];</span></span><br><span class=\"line\">Â  Â  Â  Â  &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>([response.actionIdentifier isEqualToString:<span class=\"string\">@\"enterAction\"</span>])&#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"ç‚¹å‡»äº†è¿›å…¥åº”ç”¨æŒ‰é’®\"</span>);</span><br><span class=\"line\">Â  Â  Â  Â  &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"ç‚¹å‡»äº†å–æ¶ˆ\"</span>);</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  completionHandler();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“actionï¼Œcategroyï¼Œrequestè¿™äº›ä¸œè¥¿éƒ½æ˜¯é€šè¿‡å„è‡ªçš„identifierè·å–çš„ã€‚è¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®šä½åˆ°æŸä¸€ä¸ªé€šçŸ¥æˆ–è€…actionä¸Šï¼Œä¸ºäº¤äº’çš„å¤„ç†æä¾›äº†å¾ˆå¤§çš„ä¾¿åˆ©ã€‚<br>##è‡ªå®šä¹‰é€šçŸ¥æ ·å¼<br>åœ¨Xcodeä¸­File-&gt;New-&gt;Targeä¼šå‡ºç°ä¸‹é¢çš„è§†å›¾</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-ea496e4072fdc52f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification06.png\"><br>Notification Contentå¯¹åº”çš„æ˜¯é€šçŸ¥ï¼ŒNotification Service Extensionå¯¹åº”çš„æ˜¯æ¨é€ã€‚æˆ‘ä»¬è¿™é‡Œè¦å®ç°é€šçŸ¥çš„è‡ªå®šä¹‰ï¼Œé€‰æ‹©å·¦è¾¹é‚£ä¸ªã€‚åˆ›å»ºæˆåŠŸä¹‹åä¼šåœ¨å·¥ç¨‹é‡Œå¤šä¸€ä¸ªæ–‡ä»¶ä»¶<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-5881abd4c65e5d73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification07.png\"><br>NotificationViewControlleræ–‡ä»¶æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª<br><code>- (void)didReceiveNotification:(UNNotification *)notification</code><br>å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰ä¸€äº›é€šçŸ¥çš„æ˜¾ç¤ºã€‚</p>\n<p>MainInterface.storyboardæ–‡ä»¶æ˜¯æ§åˆ¶é€šçŸ¥çš„storyboardæ–‡ä»¶ï¼Œå¯ä»¥ç¼–è¾‘éœ€è¦çš„é€šçŸ¥æ ·å¼ã€‚æˆ‘ä»¬è®¾è®¡ä¸€ä¸‹æ–‡å­—çš„é¢œè‰²å’Œæ˜¾ç¤ºä½ç½®</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-296bf320ce219e06.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notificaiton08.png\"></p>\n<p>æ¥ä¸‹æ¥ä½ å¯èƒ½ä¼šé—®ï¼Œæ€ä¹ˆæŠŠè¿™ä¸ªè‡ªå®šä¹‰çš„é€šçŸ¥æ ·å¼åº”ç”¨åˆ°å½“å‰é€šçŸ¥é‡Œå‘¢ï¼Ÿå…ˆåˆ«æ€¥ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¸€ä¸ªæ–‡ä»¶Info.flisté‡Œé¢çš„å†…å®¹</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-46dfa08e664a7a3b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification09.png\"></p>\n<p>ç¬¬ä¸€é¡¹<code>UNNotificationExtensionCategory</code>å°±æ˜¯UNNotificationCategoryçš„æ ‡ç¤ºï¼Œæˆ‘ä»¬æŠŠä»–æ¢æˆæˆ‘ä»¬é€šçŸ¥é‡Œä½¿ç”¨çš„æ ‡ç¤º<code>&quot;Category&quot;</code>ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨åŒ¹é…é€šçŸ¥æ˜¾ç¤ºçš„æ ·å¼ã€‚<br>ç¬¬äºŒé¡¹<code>UNNotificationExtensionIntialContentSizeRation</code>åˆå§‹å†…å®¹ Size çš„æ¯”ä¾‹ã€‚ä¹Ÿå¯ä»¥åœ¨ viewDidLoad ä¸­ä½¿ç”¨ self.preferredContentSize ç›´æ¥è®¾ç½® Sizeã€‚<br>ç¬¬ä¸‰é¡¹<code>UNNotificationExtensionDefaultContentHidden</code>æ˜¯å¦éšè—é»˜è®¤å†…å®¹ï¼Œå¦‚æœè®¾ä¸ºYESï¼Œé»˜è®¤å†…å®¹ä¼šè¢«éšè—ã€‚<br>æ˜¾ç¤ºçš„æ•ˆæœï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-b1dd1a73d6c21873.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"notification10.png\"></p>\n<p>##æ€»ç»“<br>è‡³æ­¤ï¼ŒiOSé€šçŸ¥éƒ¨åˆ†çš„å†…å®¹å°±å­¦å®Œäº†ï¼Œå‚è€ƒä»£ç ï¼š<a href=\"https://github.com/zhangferry/UserNotificaitonDemo\">Demo</a>ã€‚<br>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"http://maquannene.github.io/2016/06/27/iOS10%20UserNotifications%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/\">iOS10 User Notificaitonså­¦ä¹ ç¬”è®°</a><br><a href=\"https://onevcat.com/2016/08/notification/\">æ´»ä¹…è§çš„é‡æ„-iOS10 UserNotificaiotnsæ¡†æ¶è§£æ</a></p>\n","categories":[],"tags":["iOS","Notification"]},{"title":"iOSä¸­å®ç°JSå’ŒOCçš„äº¤äº’(Hybrid App)","url":"http://zhangferry.github.io/2016/08/18/ios-hybrid-app/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-475ece93e7990cbe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Hybrid.png\"></p>\n<p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸€ä¸ªåŠŸèƒ½æ€§ç•Œé¢éœ€è¦åˆ†äº«åˆ°å…¶ä»–å¹³å°ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè¾ƒå¤æ‚ï¼ŒåŸç”Ÿæ¡†æ¶ä¸æ˜“å®ç°ï¼Œéœ€è¦ç»å¸¸å˜åŠ¨çš„ç•Œé¢ï¼Œå¤„ç†è¿™ç§åŠŸèƒ½ï¼Œæœ€ä¼˜çš„å¤„ç†åŠæ³•å°±æ˜¯äº¤ç»™H5æ¥å®Œæˆäº†ã€‚åƒè¿™ç§ä»‹äºweb-appã€native-appè¿™ä¸¤è€…ä¹‹é—´çš„appï¼Œå…¼å…·â€œNative Appè‰¯å¥½ç”¨æˆ·äº¤äº’ä½“éªŒçš„ä¼˜åŠ¿â€å’Œâ€œWeb Appè·¨å¹³å°å¼€å‘çš„ä¼˜åŠ¿â€çš„åº”ç”¨å°±è¢«æˆä¸º<code>Hybrid App</code>ã€‚</p>\n<a id=\"more\"></a>\n<p>åœ¨iOSç«¯æ¶‰åŠçš„çŸ¥è¯†å°±æ˜¯JSå’ŒOCä¹‹é—´çš„äº¤äº’ï¼Œä¸‹é¢æˆ‘ä»¬é€æ­¥å­¦ä¹ å¦‚ä½•å¤„ç†è¿™ä¸¤è€…äº¤äº’çš„é—®é¢˜ã€‚<br>##ç›®å½•</p>\n<blockquote>\n<ul>\n<li>ä½¿ç”¨JavaScriptCoreä¸JSäº¤äº’</li>\n</ul>\n</blockquote>\n<ul>\n<li>JavaScriptCoreäº†è§£</li>\n<li>è·å–JSç‚¹å‡»äº‹ä»¶ï¼ˆJSè°ƒç”¨OCï¼‰</li>\n<li>OCè°ƒç”¨JSæ–¹æ³•  <ul>\n<li>ä½¿ç”¨WebViewJavascriptBridgeä¸JSäº¤äº’</li>\n</ul>\n</li>\n<li>å¼•å…¥WebViewJavascriptBridge</li>\n<li>JSè°ƒç”¨OC</li>\n<li>OCè°ƒç”¨JS</li>\n</ul>\n<p>##ä½¿ç”¨JavaScriptCoreä¸JSäº¤äº’<br>###JavaScriptCoreäº†è§£<br>JavaScriptå’ŒOCäº¤äº’å¸¸ç”¨çš„æ¡†æ¶å°±æ˜¯è¿™ä¸ªäº†ï¼Œé¦–å…ˆæˆ‘ä»¬äº†è§£å‡ ä¸ªæ¦‚å¿µï¼š</p>\n<ul>\n<li>JSValue: ä»£è¡¨ä¸€ä¸ªJavaScriptå®ä½“ï¼Œä¸€ä¸ªJSValueå¯ä»¥è¡¨ç¤ºå¾ˆå¤šJavaScriptåŸå§‹ç±»å‹ä¾‹å¦‚boolean, integers, doublesï¼Œç”šè‡³åŒ…æ‹¬å¯¹è±¡å’Œå‡½æ•°ã€‚</li>\n<li>JSContext: ä»£è¡¨JavaScriptçš„è¿è¡Œç¯å¢ƒï¼Œä½ éœ€è¦ç”¨JSContextæ¥æ‰§è¡ŒJavaScriptä»£ç ã€‚æ‰€æœ‰çš„JSValueéƒ½æ˜¯æ†ç»‘åœ¨ä¸€ä¸ªJSContextä¸Šçš„ã€‚</li>\n<li>JSExport: è¿™æ˜¯ä¸€ä¸ªåè®®ï¼Œå¯ä»¥ç”¨è¿™ä¸ªåè®®æ¥å°†åŸç”Ÿå¯¹è±¡å¯¼å‡ºç»™JavaScriptï¼Œè¿™æ ·åŸç”Ÿå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•å°±æˆä¸ºäº†JavaScriptçš„å±æ€§æˆ–æ–¹æ³•ï¼Œéå¸¸ç¥å¥‡ã€‚<br><a href=\"http://nshipster.cn/javascriptcore\">JavaScriptCoreäº†è§£</a></li>\n</ul>\n<p>###ç½‘é¡µå†…å®¹</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"margin-top: 20px\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>JavaSriptä¸OCäº¤äº’<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"Nativeä¼ å€¼\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"Native.call('Nativeè°ƒç”¨')\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"ä¼ å€¼æµ‹è¯•\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"passValue('test')\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"keyword\">var</span> alertShow = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(str)</span></span></span></span><br><span class=\"line\"><span class=\"undefined\">        &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">        alert(str);</span></span><br><span class=\"line\"><span class=\"undefined\">        &#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>HTMLè¿è¡Œç»“æœï¼š<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-cc53a2d8dd514f16.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"screen shot.png\"></p>\n<p>###è·å–JSç‚¹å‡»äº‹ä»¶</p>\n<p>æˆ‘ä»¬ç›®çš„æ˜¯è·å–ç‚¹å‡»æ–¹æ³•</p>\n<p><strong>ç¬¬ä¸€æ­¥</strong><br>å¯¼å…¥JavaScriptCore</p>\n<pre><code>#import &lt;JavaScriptCore/JavaScriptCore.h&gt;</code></pre><p><strong>ç¬¬äºŒæ­¥</strong><br>åŠ è½½HTMLæ–‡ä»¶</p>\n<pre><code>NSString* path = [[NSBundle mainBundle] pathForResource:@&quot;index&quot; ofType:@&quot;html&quot;];\nNSURL* url = [NSURL fileURLWithPath:path];\nNSURLRequest* request = [NSURLRequest requestWithURL:url] ;\n[self.webView loadRequest:request];</code></pre><p><strong>ç¬¬ä¸‰æ­¥</strong><br>è·å–å½“å‰é¡µé¢JSContxtå¯¹è±¡   </p>\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)webView {\nself.jsContext = [webView valueForKeyPath:@&quot;documentView.webView.mainFrame.javaScriptContext&quot;];\n//æ•æ‰å¼‚å¸¸å›è°ƒ\nself.jsContext.exceptionHandler = ^(JSContext *context, JSValue *exceptionValue) {\n    context.exception = exceptionValue;\n    NSLog(@&quot;å¼‚å¸¸ä¿¡æ¯ï¼š%@&quot;, exceptionValue);\n};\n}</code></pre><p><strong>ç¬¬å››æ­¥</strong><br>è·å–ç‚¹å‡»äº‹ä»¶<br> æœ‰ä¸¤ç§æ·»åŠ ç‚¹å‡»äº‹ä»¶çš„æ–¹å¼</p>\n<ul>\n<li>ç›´æ¥è°ƒç”¨çš„å‡½æ•°</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"ä¼ å€¼æµ‹è¯•\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"passValue('test')\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæ˜¯ç¬¬ä¸€ç§æƒ…å†µï¼Œæ¯”è¾ƒç®€å•ã€‚åœ¨ä»£ç†<code>- (void)webViewDidFinishLoad:(UIWebView *)webView</code> ä¸­åŠ ä¸Š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">self</span>.context[<span class=\"string\">@\"passValue\"</span>] = ^(<span class=\"built_in\">NSString</span> *str)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"%@\"</span>,str);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœç‚¹å‡»ä¼ å€¼æŒ‰é’®ï¼Œå°±ä¼šè°ƒç”¨æ­¤blockï¼Œè¾“å‡º<code>test</code></p>\n<ul>\n<li>ç¬¬äºŒç§ï¼šé€šè¿‡nativeè°ƒç”¨çš„æ–¹å¼</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"Nativeä¼ å€¼\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"Native.call('Nativeè°ƒç”¨')\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>  è¿™ç§æ–¹å¼éœ€è¦å£°æ˜ä¸€ä¸ªJSExportçš„åè®®ï¼Œåè®®ä¸­å£°æ˜ä¾›JSä½¿ç”¨çš„æ–¹æ³•ï¼š</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#import <span class=\"meta-string\">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#import <span class=\"meta-string\">&lt;JavaScriptCore/JavaScriptCore.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">@protocol</span> <span class=\"title\">JSObjcDelegate</span> &lt;<span class=\"title\">JSExport</span>&gt;</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)call:(<span class=\"built_in\">NSString</span> *)str;</span><br><span class=\"line\"><span class=\"keyword\">@end</span></span><br></pre></td></tr></table></figure>\n<p>ç„¶åè¿˜è¦ä»¥JSExportåè®®å…³è”Nativeæ–¹æ³•ï¼Œ</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">self</span>.content[<span class=\"string\">@\"Native\"</span>] = <span class=\"keyword\">self</span>;</span><br></pre></td></tr></table></figure>\n<p>åœ¨å®ç°æ–‡ä»¶ä¸­å®ç°è¿™ä¸ªæ–¹æ³•</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)call:(<span class=\"built_in\">NSString</span> *)str&#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"call\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ­¤æ—¶ç‚¹å‡»ä¸€ä¸‹Nativeä¼ å€¼ï¼Œå°±ä¼šè¾“å‡º<code>Nativeè°ƒç”¨</code><br>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œåœ¨JSè°ƒç”¨çš„æ–¹æ³•é‡Œå®ç°é¡µé¢è·³è½¬æ—¶ï¼Œè¦å›åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œã€‚å¯ä»¥ä½¿ç”¨GCDæ–¹æ³•</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">Â  Â  [<span class=\"keyword\">self</span>.navigationController pushViewController:vc animated:<span class=\"literal\">YES</span>];</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>è‡³æ­¤ï¼Œè·å–JSç‚¹å‡»äº‹ä»¶çš„åŠŸèƒ½å°±å®Œæˆäº†ã€‚</p>\n<p>###OCè°ƒç”¨JSæ–¹æ³•<br>åœ¨ä¸Šé¢é‚£æ®µHTMLé‡Œæœ‰ä¸€ä¸ªå‡½æ•°<code>alertShow()</code>ï¼Œæ˜¯è°ƒç”¨å¼¹æ¡†å¹¶å°†<code>str</code>å€¼æ˜¾ç¤ºå‡ºæ¥ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è°ƒç”¨è¿™ä¸ªæ–¹æ³•å‘¢ï¼Ÿ<br>ç¬¬ä¸€æ­¥ã€è·å–è¿™ä¸ªå‡½æ•°ï¼Œæœ‰ä¸¤ç§æ–¹æ³•</p>\n<pre><code>JSValue *Callback = self.context[@&quot;alertShow&quot;];//ç¬¬ä¸€ç§æ–¹å¼\nJSValue *Callback = [self.context objectForKeyedSubscript:@&quot;alertShow&quot;];//ç¬¬äºŒç§æ–¹å¼</code></pre><p>ç¬¬äºŒæ­¥ã€å‘JSä¼ å‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Callback callWithArguments:@[<span class=\"string\">@\"OCè°ƒç”¨JSæ–¹æ³•\"</span>]];<span class=\"comment\">//å‡ºç°ä¸€ä¸ªå¼¹æ¡†ï¼Œ`OCè°ƒç”¨JSæ–¹æ³•`</span></span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨JSçš„æ–¹æ³•å¯ä»¥</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">NSString</span> *str = <span class=\"string\">@\"alert('OCæ·»åŠ JSæç¤ºæˆåŠŸ')\"</span>;</span><br><span class=\"line\">[<span class=\"keyword\">self</span>.context evaluateScript:str];</span><br></pre></td></tr></table></figure>\n\n<p>###åŠ è½½æ–°çš„URL<br>WebViewæœ‰ä¸€ä¸ªä»£ç†æ–¹æ³•ï¼Œæ¯å½“éœ€è¦å»åŠ è½½ä¸€ä¸ªrequestï¼Œå°±ä¼šå›è°ƒè¿™ä¸ªæ–¹æ³•ï¼Œè®©ä¸Šå±‚å†³å®šæ˜¯å¦åŠ è½½ã€‚å¸¸å¸¸ä¸€ä¸ªH5é¡µé¢ä¼šè¿›è¡Œä¸åŒurlä¹‹é—´çš„è·³è½¬ï¼Œè¿™é‡Œæˆªè·ï¼Œè¿›è¡Œæœ¬åœ°å¤„ç†ã€‚</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"built_in\">BOOL</span>)webView:(<span class=\"built_in\">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class=\"built_in\">NSURLRequest</span> *)request navigationType:(<span class=\"built_in\">UIWebViewNavigationType</span>)navigationType&#123;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSString</span> *url = request.URL.absoluteString;</span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"____%@\"</span>,url);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(![<span class=\"keyword\">self</span> isNetwork])&#123;</span><br><span class=\"line\">     <span class=\"comment\">//æ— ç½‘æƒ…å†µçš„ä¸€ä¸ªå¤„ç†</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>([url hasSuffix:<span class=\"string\">@\"ios/test\"</span>])&#123;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  <span class=\"comment\">//do something you want return NO;</span></span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  <span class=\"keyword\">return</span> <span class=\"literal\">YES</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>##ä½¿ç”¨WebViewJavascriptBridgeä¸JSäº¤äº’<br><a href=\"https://github.com/marcuswestin/WebViewJavascriptBridge\">WebViewJavascriptBridge</a>æ˜¯ä¸€ä¸ªè½»é‡çš„ç”¨äºOCä¸JSäº¤äº’çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä½¿ç”¨å®ƒå¯ä»¥ç”¨CocoaPodså¯¼å…¥ï¼š<br><code>pod &#39;WebViewJavascriptBridge&#39;, &#39;~&gt; 5.0&#39;</code><br>ä¹Ÿå¯ä»¥åœ¨Githubä¸Šä¸‹è½½ç¤ºä¾‹å·¥ç¨‹ï¼Œå°†å·¥ç¨‹æ–‡ä»¶<code>WebViewJavascriptBridge</code>æ‹–å…¥è‡ªå·±é¡¹ç›®ä¸­ã€‚æœ¬èŠ‚ä¸»è¦ä»‹ç»ä½¿ç”¨æ–¹æ³•ï¼Œå…³äºå®ç°åŸç†ç½‘ä¸Šä»‹ç»ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p>\n<p><strong>å¼•å…¥WebViewJavascriptBridge</strong></p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è®¾ç½®èƒ½å¤Ÿè¿›è¡Œæ¡¥æ¥</span></span><br><span class=\"line\">[WebViewJavascriptBridge enableLogging];</span><br><span class=\"line\"><span class=\"comment\">//æ³¨å†Œhandleråœ¨Object-Cï¼Œå¦‚æœæœ‰self.webView.delegate = selfã€‚åº”æ³¨é‡Šæ‰ï¼Œå¦åˆ™æ³¨å†Œæ–¹æ³•ä¸æ‰§è¡Œ</span></span><br><span class=\"line\"><span class=\"keyword\">self</span>.bridge = [WebViewJavascriptBridge bridgeForWebView:<span class=\"keyword\">self</span>.webView];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœæƒ³æ‰§è¡ŒUIWebViewçš„ä»£ç†æ–¹æ³•ï¼Œéœ€è®¾ç½®</span></span><br><span class=\"line\">[<span class=\"keyword\">self</span>.bridge setWebViewDelegate:<span class=\"keyword\">self</span>];</span><br></pre></td></tr></table></figure>\n<p><strong>JSè°ƒç”¨OC</strong><br>JSè°ƒç”¨åŸç”Ÿæ–¹æ³•<code>getUsername</code>ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ³¨å†Œã€‚JSéœ€è¦è¿”å›å€¼çš„å¯ä»¥ç”¨responseCallbackå°†è¿”å›å€¼ä¼ è¿‡å»</p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"keyword\">self</span>.bridge registerHandler:<span class=\"string\">@\"getUsername\"</span> handler:^(<span class=\"keyword\">id</span> data, WVJBResponseCallback responseCallback) &#123;</span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"%@\"</span>,data);</span><br><span class=\"line\">Â  Â  responseCallback([<span class=\"keyword\">self</span> getUsername]);</span><br><span class=\"line\">&#125;];</span><br></pre></td></tr></table></figure>\n<p><strong>OCè°ƒç”¨JS</strong><br>OCè°ƒç”¨JSå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•å®ç°ï¼Œå¦‚æœéœ€è¦ä¼ å‚ï¼Œå¯ä»¥å†™åˆ°å‚æ•°<code>data:</code>é‡Œï¼Œå¦‚æœæ²¡æœ‰å‚æ•°å°±ä¼ <code>nil</code></p>\n<figure class=\"highlight objectivec\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//OCè°ƒJSçš„æ–¹æ³•</span></span><br><span class=\"line\">[<span class=\"keyword\">self</span>.bridge callHandler:<span class=\"string\">@\"testJavascriptHandler\"</span> data:<span class=\"literal\">nil</span> responseCallback:^(<span class=\"keyword\">id</span> responseData) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">Â  Â  <span class=\"built_in\">NSLog</span>(<span class=\"string\">@\"ObjC received response: %@\"</span>, responseData);</span><br><span class=\"line\">&#125;];</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>å¸¸è§çš„å¤„ç†JSä¸OCä¹‹é—´äº¤äº’çš„é—®é¢˜ï¼ŒåŸºæœ¬å°±è¿™äº›äº†ã€‚å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼ŒDemoåœ¨è¿™é‡Œ<a href=\"https://github.com/zhangferry/JavaScript-OC\">ä¼ é€é—¨</a></p>\n","categories":[],"tags":["iOS","Hybrid"]},{"title":"è“ç‰™å›ºä»¶å‡çº§","url":"http://zhangferry.github.io/2016/03/10/bluetooth-ota-upgrade/","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1059465-3f9893059e8e70ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Bluetooth.png\"><br>###å‡çº§ä»‹ç»</p>\n<blockquote>\n<p>è“ç‰™å›ºä»¶å‡çº§æ˜¯ä½¿ç”¨æ‰‹æœºç»™å›ºä»¶è¿›è¡Œæ›´æ–°ï¼Œä»¥è¾¾åˆ°ä¿®å¤bugï¼Œå®Œå–„åŠŸèƒ½çš„ä½œç”¨ã€‚å‡çº§çš„å¤§æ¦‚æµç¨‹æ˜¯ï¼šé¦–å…ˆï¼Œå½“æ‰‹ç¯çš„å›ºä»¶éœ€è¦å‡çº§æ—¶ï¼Œç”±åµŒå…¥å¼å¼€å‘äººå‘˜æä¾›æ–°çš„å›ºä»¶ï¼Œç”±æœåŠ¡å™¨ç®¡ç†äººå‘˜å°†å›ºä»¶æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œæ­¤æ—¶ï¼Œç”¨æˆ·æ‰“å¼€æ‰‹æœºAPPçš„æ—¶å€™ä¼šæ£€æµ‹åˆ°æœåŠ¡å™¨æœ‰æ›´æ–°ï¼Œè¯·æ±‚æ›´æ–°æ‰‹ç¯å›ºä»¶ï¼Œç¡®è®¤æ›´æ–°åï¼Œæ‰‹æœºä¼šä»æœåŠ¡å™¨ä¸‹è½½å›ºä»¶ã€‚ä¸‹è½½å®Œæ¯•åï¼ŒAPPä¼šè¯»å–å›ºä»¶å†…å®¹ï¼Œå¹¶æ ¹æ®å‡çº§åè®®å°†å†…å®¹ä¼ åˆ°æ‰‹ç¯é‡Œï¼Œå®Œæˆå‡çº§ã€‚  </p>\n</blockquote>\n<ul>\n<li>DFU =  Device Firmware Update ï¼ˆè®¾å¤‡å›ºä»¶æ›´æ–°ï¼‰</li>\n<li>OTA = Over The Air ï¼ˆç©ºä¸­å‡çº§ï¼‰<a id=\"more\"></a>\n###å‡çº§æµç¨‹<br>å„ä¸ªè“ç‰™è®¾å¤‡ä¸å°½ç›¸åŒï¼Œä»¥ä¸‹æ˜¯æˆ‘æµ‹è¯•è®¾å¤‡çš„å‡çº§æµç¨‹ï¼š<br>######OTAä¸‹è½½å›ºä»¶<br>ä»äº‘ç«¯ä¸‹è½½çš„å›ºä»¶ä¸º.binåç¼€çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åä¼šæœ‰ä¸€å®šçš„æ ¼å¼ï¼Œå«æœ‰å›ºä»¶ç‰ˆæœ¬å·å’Œæ–‡ä»¶CRC32æ ¡éªŒå€¼ã€‚<br>######æ•°æ®åˆ†å—<br>è§„å®šä¸€ä¸ªæ•°æ®å—å¤§å°æ¯”å¦‚2048å­—èŠ‚ï¼Œç„¶åæŠŠå‡çº§æ•°æ®è¿›è¡Œåˆ†å—ï¼Œä¸å¤Ÿçš„å°±å‰©ä½™å¤šå°‘ä½œä¸ºä¸€å—ã€‚è“ç‰™ä¸€æ¬¡å‘é€çš„æ•°æ®é‡æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥æ¯æ¬¡å‘é€20å­—èŠ‚çš„æ•°æ®ã€‚è¿™ä¸ªæ•°æ®è¦éµå¾ªå‡çº§æ•°æ®æ ¼å¼ï¼Œå¸¦æŒ‡ä»¤å¤´å’Œæ ¡éªŒå’Œï¼Œä¸‹è½½åŒ…çš„æ•°æ®åªæ˜¯è¿™20å­—èŠ‚ä¸­çš„ä¸€éƒ¨åˆ†ã€‚æ‰€æœ‰åŒ…å†…æ•°æ®éƒ½æºå¸¦åœ¨æ¯æ¡å‡çº§æ•°æ®æŒ‡ä»¤ä¸­ã€‚<br>######å‡çº§è¿‡ç¨‹<ul>\n<li>è¿æ¥è®¾å¤‡ï¼Œå‘é€å‡çº§è¯·æ±‚ã€‚</li>\n<li>å¾…è“ç‰™ç¡®è®¤ä¹‹åï¼Œå¼€å§‹å‘é€æ•°æ®å¤´å‘ŠçŸ¥è“ç‰™æ­¤æ¬¡å‘é€çš„æ•°æ®é‡å’ŒCRCæ ¡éªŒã€‚</li>\n<li>å¼€å§‹å‘é€å‡çº§æ•°æ®ã€‚ï¼ˆæ¯æ¡æ•°æ®ä¹‹é—´é—´éš”20msä¸ºäº†è“ç‰™èƒ½å¤Ÿæ–¹ä¾¿å¤„ç†ï¼‰</li>\n<li>å¾…ä¸€ä¸ªå—å‘é€å®Œå°±å‘é€å—ç»“æŸå‘½ä»¤</li>\n<li>è“ç‰™ç¡®è®¤å‘é€ä¸‹ä¸€ä¸ªå—ï¼Œè¿”å›é”™è¯¯åˆ™ç»ˆæ­¢æ­¤æ¬¡å‡çº§</li>\n<li>å‘å®Œæ‰€æœ‰æ•°æ®ä¹‹åå‘é€å‡çº§å®Œæˆ</li>\n<li>è“ç‰™ç¡®è®¤åˆ™å‡çº§å®Œæˆï¼Œè¿”å›é”™è¯¯åˆ™å‡çº§å¤±è´¥</li>\n</ul>\n</li>\n</ul>\n<p>######æµç¨‹å›¾<br><img src=\"http://upload-images.jianshu.io/upload_images/1059465-fe149f35edab6e56.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"upgrade.png\"><br>###æ€»ç»“<br>è“ç‰™å‡çº§æœ€å¤æ‚çš„å°±åœ¨å‡çº§è¿‡ç¨‹ï¼Œå¤§é‡çš„æ•°æ®ä¸è“ç‰™äº¤äº’ï¼Œè¿™æ—¶æœ€å¥½è®°å½•å‘é€åˆ°å‡çº§æ•°æ®çš„é‚£ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç»™ç”¨æˆ·å±•ç¤ºå‡çº§çš„è¿›ç¨‹ã€‚</p>\n","categories":["è“ç‰™æ€»ç»“"],"tags":["è“ç‰™"]},{"title":"","url":"http://zhangferry.github.io/README.html","content":"<h1 id=\"zhangferry-github-io\"><a href=\"#zhangferry-github-io\" class=\"headerlink\" title=\"zhangferry.github.io\"></a>zhangferry.github.io</h1><p>ä¸ªäººæŠ€æœ¯ç«™ç‚¹</p>\n","categories":[],"tags":[]},{"title":"All categories","url":"http://zhangferry.github.io/categories/index.html","content":"","categories":[],"tags":[]},{"title":"About Me","url":"http://zhangferry.github.io/about/index.html","content":"<h2 id=\"åŸºæœ¬ä¿¡æ¯\"><a href=\"#åŸºæœ¬ä¿¡æ¯\" class=\"headerlink\" title=\"åŸºæœ¬ä¿¡æ¯\"></a>åŸºæœ¬ä¿¡æ¯</h2><p>å§“åï¼šå¼ é£  å‡ºç”Ÿï¼š1993å¹´</p>\n<p>æ•™è‚²ï¼šæ²³å—ç§‘æŠ€å¤§å­¦ è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯</p>\n<p>é‚®ç®±ï¼š<a href=\"mailto:zhangferry11@gmail.com\">zhangferry11@gmail.com</a></p>\n<p>å¾®ä¿¡ï¼šzoogfly</p>\n<h2 id=\"å…¬ä¼—å·ï¼šiOSæˆé•¿ä¹‹è·¯\"><a href=\"#å…¬ä¼—å·ï¼šiOSæˆé•¿ä¹‹è·¯\" class=\"headerlink\" title=\"å…¬ä¼—å·ï¼šiOSæˆé•¿ä¹‹è·¯\"></a>å…¬ä¼—å·ï¼šiOSæˆé•¿ä¹‹è·¯</h2><p><img src=\"https://raw.githubusercontent.com/zhangferry/Images/master/blog/qrcode_for_gh_fa77b2df3538_430.jpg\" alt=\"\"></p>\n<p>æˆé•¿ï¼Œçªç ´ï¼Œè¿›é˜¶ï¼Œè¿™æ˜¯æˆ‘ä»¬æ¯ä¸ªiOSå¼€å‘è€…ï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½éœ€è¦ç»å†çš„é˜¶æ®µã€‚ç›®å‰æˆ‘æ­£èµ°åœ¨çªç ´å’Œè¿›é˜¶çš„è·¯ä¸Šï¼Œå…¬ä¼—å·ä¸»è¦åˆ†äº«è‡ªå·±å¯¹ç¼–ç¨‹çŸ¥è¯†çš„ç†è§£å’Œåœ¨å·¥ä½œä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿï¼Œå¸Œæœ›æœ‰ä½ é™ªä¼´çš„æˆé•¿ä¹‹è·¯ä¸Šæˆ‘ä»¬å…±åŒæˆé•¿ã€‚</p>\n<h2 id=\"å·¥ä½œç»å†\"><a href=\"#å·¥ä½œç»å†\" class=\"headerlink\" title=\"å·¥ä½œç»å†\"></a>å·¥ä½œç»å†</h2><h3 id=\"2018å¹´3æœˆ-è‡³ä»Š\"><a href=\"#2018å¹´3æœˆ-è‡³ä»Š\" class=\"headerlink\" title=\"2018å¹´3æœˆ~è‡³ä»Š\"></a>2018å¹´3æœˆ~è‡³ä»Š</h3><p>åŒ—äº¬ä¹ä¿¡åœ£æ–‡æœ‰é™å…¬å¸</p>\n<ul>\n<li>Peaceï¼ŒKJV Bibleï¼ŒBitColorç­‰äº§å“ä¸»ç¨‹</li>\n<li>Swift + RxSwift</li>\n</ul>\n<h3 id=\"2017å¹´1æœˆ-2018å¹´3æœˆ\"><a href=\"#2017å¹´1æœˆ-2018å¹´3æœˆ\" class=\"headerlink\" title=\"2017å¹´1æœˆ~2018å¹´3æœˆ\"></a>2017å¹´1æœˆ~2018å¹´3æœˆ</h3><p>åŒ—äº¬å¥‡æ€æ–‡åŒ–ä¼ åª’æœ‰é™å…¬å¸</p>\n<ul>\n<li>å¼€å‘é«˜æ¸…å½±è§†ï¼Œå¯è§VRäº§å“</li>\n<li>AVPlayer + IJKPlayer</li>\n</ul>\n<h3 id=\"2015å¹´7æœˆ-2017å¹´1æœˆ\"><a href=\"#2015å¹´7æœˆ-2017å¹´1æœˆ\" class=\"headerlink\" title=\"2015å¹´7æœˆ~2017å¹´1æœˆ\"></a>2015å¹´7æœˆ~2017å¹´1æœˆ</h3><p>åŒ—äº¬ç–ä¸ºç§‘æŠ€æœ‰é™å…¬å¸</p>\n<ul>\n<li>å…³çˆ±æ‰‹ç¯å®¢æˆ·ç«¯ï¼ŒKT03ç©ºæ°”æ¢æµ‹å™¨å®¢æˆ·ç«¯ä¸»ç¨‹</li>\n<li>OC + Bluetooth</li>\n</ul>\n","categories":[],"tags":[]},{"title":"link","url":"http://zhangferry.github.io/link/index.html","content":"<p>link:</p>\n<ul>\n<li>name: ibireme<br>info: ä¼½è“ä¹‹å ‚â€”â€” ä¸€åªé­”æ³•å¸ˆçš„å·¥åŠ<br>url: <a href=\"https://blog.ibireme.com/\">https://blog.ibireme.com/</a><br>avatar: </li>\n<li>name: Colin<br>info: å—¨ï¼Œæˆ‘æ˜¯ä½™é¾™æ³½ï¼Œä¸€å iOS å¼€å‘è€…ï¼Œå°±èŒäºç¾å›¾ã€‚<br>url: <a href=\"http://colin1994.github.io/\">http://colin1994.github.io/</a><br>avatar: </li>\n</ul>\n","categories":[],"tags":[]},{"title":"project","url":"http://zhangferry.github.io/project/index.html","content":"","categories":[],"tags":[]},{"title":"All tags","url":"http://zhangferry.github.io/tags/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://zhangferry.github.io/search/index.html","content":"","categories":[],"tags":[]}]