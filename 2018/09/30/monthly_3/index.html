<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="iOSå¼€å‘æœˆæŠ¥#3|201809"><meta name="keywords" content="æœˆæŠ¥"><meta name="author" content="zhangferry"><meta name="copyright" content="zhangferry"><title>iOSå¼€å‘æœˆæŠ¥#3|201809 | zhangferry</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#iOS-Tips"><span class="toc-number">1.</span> <span class="toc-text">iOS Tips</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#åœ¨labelä¸­æ’å…¥å›¾ç‰‡"><span class="toc-number">1.1.</span> <span class="toc-text">åœ¨labelä¸­æ’å…¥å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CollectionCellé˜´å½±-åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼"><span class="toc-number">1.2.</span> <span class="toc-text">CollectionCellé˜´å½±+åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜"><span class="toc-number">1.3.</span> <span class="toc-text">å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·"><span class="toc-number">1.4.</span> <span class="toc-text">è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#swift-æµ®ç‚¹æ•°å–æ•´"><span class="toc-number">1.5.</span> <span class="toc-text">swift æµ®ç‚¹æ•°å–æ•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥"><span class="toc-number">1.6.</span> <span class="toc-text">è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨"><span class="toc-number">1.7.</span> <span class="toc-text">åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ–°ç‰ˆiphoneå°ºå¯¸"><span class="toc-number">1.8.</span> <span class="toc-text">æ–°ç‰ˆiphoneå°ºå¯¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¸¦é€æ˜åº¦çš„æ¸å˜"><span class="toc-number">1.9.</span> <span class="toc-text">å¸¦é€æ˜åº¦çš„æ¸å˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0"><span class="toc-number">1.10.</span> <span class="toc-text">æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¿æŒå±å¹•å¸¸äº®"><span class="toc-number">1.11.</span> <span class="toc-text">ä¿æŒå±å¹•å¸¸äº®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Github"><span class="toc-number">2.</span> <span class="toc-text">Github</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MMKV"><span class="toc-number">2.1.</span> <span class="toc-text">MMKV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lottie"><span class="toc-number">2.2.</span> <span class="toc-text">Lottie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RSSHud"><span class="toc-number">2.3.</span> <span class="toc-text">RSSHud</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">zhangferry</div><div class="author-info__description text-center">åªæœ‰é¢‘ç‡ç›¸åŒçš„äººï¼Œæ‰èƒ½çœ‹è§å½¼æ­¤å†…å¿ƒæ·±å¤„ä¸ä¸ºäººçŸ¥çš„ä¼˜é›…ã€‚</div><div class="follow-button"><a href="https://github.com/zhangferry">Follow me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">56</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">27</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">åˆ†ç±»</span><span class="pull-right">4</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="http://colin1994.github.io/">Colin</a><a class="author-info-links__name text-center" href="http://www.evenvi.com/">Evenvi</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://raw.githubusercontent.com/zhangferry/Images/master/blog/tent-2339491_1920.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">zhangferry</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">ä¸»é¡µ</a><a class="site-page" href="/archives">å½’æ¡£</a><a class="site-page" href="/tags">æ ‡ç­¾</a><a class="site-page" href="/about">å…³äº</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> æœç´¢</span></a></span></div><div id="post-info"><div id="post-title">iOSå¼€å‘æœˆæŠ¥#3|201809</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-30</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p><img src="https://upload-images.jianshu.io/upload_images/1059465-2711b521a2b371fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iPhoneX R"><br>æ–°æœºå‘å¸ƒï¼Œä½ ä¸­æ„XS Maxè¿˜æ˜¯XRï¼Ÿ<br><a id="more"></a></p>
<h2 id="iOS-Tips"><a href="#iOS-Tips" class="headerlink" title="iOS Tips"></a>iOS Tips</h2><h3 id="åœ¨labelä¸­æ’å…¥å›¾ç‰‡"><a href="#åœ¨labelä¸­æ’å…¥å›¾ç‰‡" class="headerlink" title="åœ¨labelä¸­æ’å…¥å›¾ç‰‡"></a>åœ¨labelä¸­æ’å…¥å›¾ç‰‡</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> label = <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> attribute = <span class="type">NSMutableAttributedString</span>(string: <span class="string">"Title"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> imgAttch = <span class="type">NSTextAttachment</span>()</span><br><span class="line">imgAttch.image = image</span><br><span class="line"><span class="comment">//è®¾ç½®å›¾ç‰‡å¤§å°</span></span><br><span class="line">imgAttch.bounds = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">18</span>, height: <span class="number">15</span>)</span><br><span class="line"><span class="keyword">let</span> imageAttribute = <span class="type">NSAttributedString</span>(attachment: imgAttch)</span><br><span class="line"><span class="comment">//å›¾ç‰‡æ’å…¥ä½ç½®</span></span><br><span class="line">attribute.insert(imageAttribute, at: <span class="number">0</span>)</span><br><span class="line">label.attributedText = attribute</span><br></pre></td></tr></table></figure>
<h3 id="CollectionCellé˜´å½±-åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼"><a href="#CollectionCellé˜´å½±-åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼" class="headerlink" title="CollectionCellé˜´å½±+åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼"></a>CollectionCellé˜´å½±+åœ†è§’çš„ä¼˜é›…å¤„ç†æ–¹å¼</h3><p>åªé’ˆå¯¹ç±»ä¼¼App Storeçš„æ•´ä½“åœ†è§’é˜´å½±çš„æ•ˆæœã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®çˆ¶è§†å›¾é˜´å½±æ•ˆæœ</span></span><br><span class="line"><span class="comment">//CollectionView.swift</span></span><br><span class="line"><span class="keyword">self</span>.layer.shadowOffset = offset</span><br><span class="line"><span class="keyword">self</span>.layer.shadowColor = color.cgColor</span><br><span class="line"><span class="keyword">self</span>.layer.shadowRadius = radius</span><br><span class="line"><span class="keyword">self</span>.layer.shadowOpacity = opacity</span><br><span class="line">contentView.layer.cornerRadius = radius</span><br><span class="line"><span class="comment">//å¦‚æœåˆ‡å‰²åœ†è§’å¸¦imageViewæ‰éœ€è¦æ·»åŠ ä¸‹é¢</span></span><br><span class="line">contentView.layer.masksToBounds = <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜"><a href="#å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜" class="headerlink" title="å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜"></a>å¤„ç†tableViewç‚¹å‡»æ—¶labelèƒŒæ™¯è‰²æ¶ˆå¤±é—®é¢˜</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ–¹å¼ï¼ŒUITableViewCell.swift</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setHighlighted</span><span class="params">(<span class="number">_</span> highlighted: Bool, animated: Bool)</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> color = <span class="keyword">self</span>.indexLabel.backgroundColor</span><br><span class="line"><span class="keyword">super</span>.setHighlighted(highlighted, animated: animated)</span><br><span class="line"><span class="keyword">self</span>.indexLabel.backgroundColor = color</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¬¬äºŒç§æ–¹å¼</span></span><br><span class="line">cell.textLabel.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">cell.textLabel.layer.backgroundColor = <span class="type">UIColor</span>.red</span><br></pre></td></tr></table></figure>
<h3 id="è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·"><a href="#è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·" class="headerlink" title="è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·"></a>è°ƒæ•´UILabelæ–‡å­—çš„å†…è¾¹è·</h3><p>è‡ªå®šä¹‰<code>UILabel</code>ï¼Œç„¶åé‡å†™<code>drawText:</code>æ–¹æ³•<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">drawText</span><span class="params">(<span class="keyword">in</span> rect: CGRect)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> insets = <span class="type">UIEdgeInsets</span>.<span class="keyword">init</span>(top: <span class="number">20</span>, <span class="keyword">left</span>: <span class="number">20</span>, bottom: <span class="number">20</span>, <span class="keyword">right</span>: <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">super</span>.drawText(<span class="keyword">in</span>: <span class="type">UIEdgeInsetsInsetRect</span>(rect, insets))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="swift-æµ®ç‚¹æ•°å–æ•´"><a href="#swift-æµ®ç‚¹æ•°å–æ•´" class="headerlink" title="swift æµ®ç‚¹æ•°å–æ•´"></a>swift æµ®ç‚¹æ•°å–æ•´</h3><p>ceil(x)è¿”å›ä¸å°äºxçš„æœ€å°æ•´æ•°å€¼ã€‚<br>floor(x)è¿”å›ä¸å¤§äºxçš„æœ€å¤§æ•´æ•°å€¼ã€‚<br>round(x)è¿”å›xçš„å››èˆäº”å…¥æ•´æ•°å€¼ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number1 = <span class="number">12.456</span></span><br><span class="line"><span class="comment">// ceil(number1) = 13.0, floor(number1) = 12.0, round(number1) = 12.0</span></span><br><span class="line"><span class="keyword">let</span> number2 = <span class="number">12.756</span></span><br><span class="line"><span class="comment">// ceil(number2) = 13.0, floor(number2) = 12.0, round(number2) = 13.0</span></span><br></pre></td></tr></table></figure></p>
<h3 id="è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥"><a href="#è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥" class="headerlink" title="è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥"></a>è·³è¿‡éstoreä¸‹è½½çš„åº”ç”¨æ£€æŸ¥</h3><p>xattr -d com.apple.quarantine appæ‰€åœ¨è·¯å¾„</p>
<h3 id="åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨"><a href="#åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨" class="headerlink" title="åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨"></a>åŠ è½½å¤§å›¾å¯¼è‡´å†…å­˜æš´æ¶¨</h3><p><code>large_leaves_70mp.jpg</code>å›¾ç‰‡æ˜¯7033x10110(å ç”¨ç£ç›˜å¤§å°8.3MB)ï¼Œåˆ†è¾¨ç‡ = 7033 x 10110 x 4ï¼ˆARGBï¼‰,å¯¹åº”ä½å›¾å ç”¨å¤§å° = åˆ†è¾¨ç‡ x 1024 x 1024 ( = 271MB)ï¼Œè§£å‹ä¼šæŠŠå›¾ç‰‡è½¬æˆä½å›¾ï¼Œä¹Ÿå°±æ„å‘³ç€ä¼šå ç”¨271MBå†…å­˜ï¼Œæ‰€ä»¥è§£å‹è¿‡ç¨‹å†…å­˜ä¼šç¬é—´æ¶ˆè€—å¾ˆå¤§,ç­‰è½¬æˆNSDataåä½å›¾çš„å†…å­˜å°±ä¼šè¢«å›æ”¶æ‰ï¼Œå†…å­˜å°±é™ä¸‹æ¥ï¼Œè¿™æ—¶å€™NSDataå ç”¨çš„å¤§å°å³æ˜¯å›¾ç‰‡çš„å®é™…å¤§å°ï¼Œè¯¥è¿‡ç¨‹ä¸­ç”±äºä¼šè½¬æˆä½å›¾ï¼Œè€Œä½å›¾çš„å¤§å°æ˜¯æ¯”å›¾ç‰‡çš„å®é™…çš„å¤§å°å¤§å¾ˆå¤šçš„ï¼Œå†…å­˜æš´å¢çš„ç‚¹å°±åœ¨ä½å›¾ã€‚ä½å›¾çš„å†…å­˜å¤§å°è®¡ç®—æ˜¯æ ¹æ®å›¾ç‰‡çš„åˆ†è¾¨ç‡è€Œæ¥ï¼ˆåˆ†è¾¨ç‡(width x heigth) x 1024 x 1024  x 4 (ARGB)ï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´å›¾ç‰‡åˆ†è¾¨ç‡è¶Šé«˜è½¬æˆçš„ä½å›¾å ç”¨çš„å†…å­˜ç©ºé—´è¶Šå¤§ã€‚</p>
<h3 id="æ–°ç‰ˆiphoneå°ºå¯¸"><a href="#æ–°ç‰ˆiphoneå°ºå¯¸" class="headerlink" title="æ–°ç‰ˆiphoneå°ºå¯¸"></a>æ–°ç‰ˆiphoneå°ºå¯¸</h3><table>
<thead>
<tr>
<th>è®¾å¤‡</th>
<th>é€»è¾‘åˆ†è¾¨ç‡</th>
<th style="text-align:center">æ¯”ä¾‹å› å­</th>
<th>å¯¹è§’çº¿</th>
<th style="text-align:center">åˆ†è¾¨ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>iPhone XS Max</td>
<td>414Ã—896</td>
<td style="text-align:center">@3x</td>
<td>6.5inch</td>
<td style="text-align:center">1242px Ã— 2688px</td>
</tr>
<tr>
<td>iPhone XS</td>
<td>375Ã—812</td>
<td style="text-align:center">@3x</td>
<td>5.8inch</td>
<td style="text-align:center">1125px Ã— 2436px</td>
</tr>
<tr>
<td>iPhone XR</td>
<td>414Ã—896</td>
<td style="text-align:center">@2x</td>
<td>6.1inch</td>
<td style="text-align:center">828px Ã— 1792px</td>
</tr>
<tr>
<td>iPhone X</td>
<td>375Ã—812</td>
<td style="text-align:center">@3x</td>
<td>5.8inch</td>
<td style="text-align:center">1125px Ã— 2436px</td>
</tr>
<tr>
<td>iPhone 8 Plus</td>
<td>414Ã—736</td>
<td style="text-align:center">@3x</td>
<td>5.5inch</td>
<td style="text-align:center">1242px Ã— 2208px</td>
</tr>
<tr>
<td>iPhone 8</td>
<td>375Ã—667</td>
<td style="text-align:center">@3x</td>
<td>4.7inch</td>
<td style="text-align:center">750px Ã— 1334px</td>
</tr>
<tr>
<td>iPhone SE</td>
<td>320Ã—568</td>
<td style="text-align:center">@2x</td>
<td>4inch</td>
<td style="text-align:center">640px Ã— 1136px</td>
</tr>
<tr>
<td>iPhone 4</td>
<td>320Ã—480</td>
<td style="text-align:center">@2x</td>
<td>3.5inch</td>
<td style="text-align:center">640px Ã— 960px</td>
</tr>
</tbody>
</table>
<h3 id="å¸¦é€æ˜åº¦çš„æ¸å˜"><a href="#å¸¦é€æ˜åº¦çš„æ¸å˜" class="headerlink" title="å¸¦é€æ˜åº¦çš„æ¸å˜"></a>å¸¦é€æ˜åº¦çš„æ¸å˜</h3><p>ä½¿ç”¨CAGradientLayerè¿›è¡Œæ¸å˜çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”±ä¸€ä¸ªé¢œè‰²æ¸å˜è‡³é€æ˜ï¼Œå½“æˆ‘ä»¬å°†é€æ˜è‰²å†™æˆ<code>UIColor.clear</code>æˆ–è€…å…¶ä»–é€šè¿‡<code>RGBA</code>è®¾ç½®çš„é¢œè‰²ï¼Œæ”¹å˜é€æ˜åº¦ä¸º0æ—¶ï¼Œä¼šå‘ç°å®é™…æ•ˆæœè·Ÿé¢„æœŸæœ‰å‡ºå…¥ï¼Œä¼šå¸¦ç‚¹é»‘è‰²ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1059465-5bf477719013367f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Transparent gradient.png"></p>
<p>è¿™æ˜¯å› ä¸ºclearColorä¼šæœ‰ä¸€ä¸ªé€æ˜åº¦ä¸º0çš„é»‘è‰²é€šé“ã€‚æ‰€ä»¥åº”è¯¥è¿™æ ·è®¾ç½®é€æ˜è‰²ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIColor(white: 1, alpha: 0).cgColor</span><br></pre></td></tr></table></figure></p>
<h3 id="æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0"><a href="#æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0" class="headerlink" title="æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0"></a>æŒ‡å®štableViewï¼ŒcollectionViewçš„headeré«˜åº¦0</h3><p>å¦‚æœæˆ‘ä»¬æƒ³éšè—<code>headerView</code>å¯èƒ½ä¼šç›´æ¥åœ¨å…¶é«˜åº¦çš„ä»£ç†æ–¹æ³•ï¼Œåšå¦‚ä¸‹è®¾ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123;</span><br><span class="line">return 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å½“å®é™…ä¸Šè¿™å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œä¼šè¿”å›ä¸€ä¸ªé»˜è®¤é«˜åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé«˜åº¦åªæœ‰è®¾ç½®æˆä¸€ä¸ªé0çš„æ­£æ•°æ‰æ˜¯æœ‰æ•ˆçš„ã€‚<br>æœ‰äº›äººä¼šå†™æˆ0.01ï¼Œè¡¨é¢ä¸Šçœ‹æ˜¯è§£å†³é—®é¢˜äº†ï¼Œä½†0.01çš„åç§»ä¼šé€ æˆåƒç´ ä¸å¯¹é½ï¼ˆColor Misaligned Imagesï¼‰ï¼ŒåŠ é‡CPUè®¡ç®—è´Ÿè·ã€‚å®Œç¾çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123;</span><br><span class="line">return CGFloat.leastNonzeroMagnitude</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>CGFloat.leastNonzeroMagnitude</code>è¡¨ç¤ºCGFloatæ”¯æŒçš„æœ€å°æ­£æ•°å€¼ï¼Œä¸ä¼šå¼•èµ·åƒç´ åç§»ã€‚</p>
<h3 id="ä¿æŒå±å¹•å¸¸äº®"><a href="#ä¿æŒå±å¹•å¸¸äº®" class="headerlink" title="ä¿æŒå±å¹•å¸¸äº®"></a>ä¿æŒå±å¹•å¸¸äº®</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¿æŒå±å¹•å¸¸äº®</span></span><br><span class="line"><span class="type">UIApplication</span>.shared.isIdleTimerDisabled = <span class="literal">true</span></span><br><span class="line"><span class="comment">//å…³é—­å±å¹•å¸¸äº®</span></span><br><span class="line"><span class="type">UIApplication</span>.shared.isIdleTimerDisabled = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸è¦æ»¥ç”¨å±å¹•å¸¸äº®å±æ€§ï¼ˆè‹¹æœä¼šå› ä¸ºè¿™æ‰“å›ä½ çš„appï¼‰ï¼Œå¦‚æœåªåœ¨æŸäº›ç‰¹æ®Šåœºåˆéœ€è¦å±å¹•å¸¸äº®ï¼Œåº”è¯¥åœ¨ä¹‹åå°†è¯¥å€¼æ¢å¤æˆé»˜è®¤å€¼<code>false</code>ã€‚</p>
<h2 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h2><h3 id="MMKV"><a href="#MMKV" class="headerlink" title="MMKV"></a><a href="https://github.com/Tencent/MMKV" target="_blank" rel="noopener">MMKV</a></h3><p>MMKV æ˜¯åŸºäº mmap å†…å­˜æ˜ å°„çš„ key-value ç»„ä»¶ï¼Œåº•å±‚åºåˆ—åŒ–/ååºåˆ—åŒ–ä½¿ç”¨ protobuf å®ç°ï¼Œæ€§èƒ½é«˜ï¼Œç¨³å®šæ€§å¼ºã€‚ä» 2015 å¹´ä¸­è‡³ä»Šï¼Œåœ¨ iOS å¾®ä¿¡ä¸Šä½¿ç”¨å·²æœ‰è¿‘ 3 å¹´ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§ç»è¿‡äº†æ—¶é—´çš„éªŒè¯ã€‚è¿‘æœŸä¹Ÿå·²ç§»æ¤åˆ° Android å¹³å°ï¼Œä¸€å¹¶å¼€æºã€‚<br>æ›¿ä»£<code>UserDefaults</code>çš„ç»ä½³æ–¹æ¡ˆã€‚</p>
<h3 id="Lottie"><a href="#Lottie" class="headerlink" title="Lottie"></a><a href="https://github.com/airbnb/lottie-ios" target="_blank" rel="noopener">Lottie</a></h3><p>Lottieæ˜¯ä¸€ä¸ªé¢å‘Androidå’ŒiOSçš„ç§»åŠ¨åº“ï¼Œå®ƒèƒ½å¤Ÿè§£æç”±AEåœ¨bodymovinå¯¼å‡ºä¸ºjsonçš„æ•ˆæœåŠ¨ç”»ï¼Œå¹¶åœ¨ç§»åŠ¨ç«¯æ¸²æŸ“çŸ¢é‡åŠ¨ç”»!<br>ä¸€äº›å¤æ‚çš„UIå¯ä»¥å®Œå…¨äº¤ç»™è®¾è®¡å¸ˆäº†ï¼Œå“ˆå“ˆå“ˆã€‚</p>
<h3 id="RSSHud"><a href="#RSSHud" class="headerlink" title="RSSHud"></a><a href="https://github.com/DIYgod/RSSHub" target="_blank" rel="noopener">RSSHud</a></h3><p>RSSHub æ˜¯ä¸€ä¸ªè½»é‡ã€æ˜“äºæ‰©å±•çš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚<br>ç»“åˆ<a href="https://itunes.apple.com/us/app/reeder-3/id697846300?mt=8" target="_blank" rel="noopener">Reeder</a>ä¸è¦å¤ªçˆ½å“¦ã€‚ğŸ˜†</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">zhangferry</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://zhangferry.github.io/2018/09/30/monthly_3/">http://zhangferry.github.io/2018/09/30/monthly_3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://zhangferry.github.io">zhangferry</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/æœˆæŠ¥/">æœˆæŠ¥</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/10/31/monthly_4/"><i class="fa fa-chevron-left">  </i><span>iOSå¼€å‘æœˆæŠ¥#4|201810</span></a></div><div class="next-post pull-right"><a href="/2018/09/19/git_command/"><span>GitåŸºæœ¬æ“ä½œå›é¡¾</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '012999c912503aff4cac',
  clientSecret: '3e709c446fce8b40979b9840c9975e7ced285f35',
  repo: 'zhangferry.github.io',
  owner: 'zhangferry',
  admin: 'zhangferry',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://raw.githubusercontent.com/zhangferry/Images/master/blog/tent-2339491_1920.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2016 - 2020 By zhangferry</div><div class="framework-info"><span>é©±åŠ¨ - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>